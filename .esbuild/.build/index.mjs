var GK=Object.create;var cE=Object.defineProperty;var HK=Object.getOwnPropertyDescriptor;var jK=Object.getOwnPropertyNames;var VK=Object.getPrototypeOf,zK=Object.prototype.hasOwnProperty;var p=(t,e)=>()=>(t&&(e=t(t=0)),e);var dd=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),_n=(t,e)=>{for(var r in e)cE(t,r,{get:e[r],enumerable:!0})},KK=(t,e,r,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of jK(e))!zK.call(t,n)&&n!==r&&cE(t,n,{get:()=>e[n],enumerable:!(o=HK(e,n))||o.enumerable});return t};var WK=(t,e,r)=>(r=t!=null?GK(VK(t)):{},KK(e||!t||!t.__esModule?cE(r,"default",{value:t,enumerable:!0}):r,t));var ww=p(()=>{});var Aw,Dw=p(()=>{(function(t){t.HEADER="header",t.QUERY="query"})(Aw||(Aw={}))});var Pw,Ow=p(()=>{(function(t){t.HEADER="header",t.QUERY="query"})(Pw||(Pw={}))});var kw=p(()=>{});var Nw=p(()=>{});var $w=p(()=>{});var Lw=p(()=>{});var Mw=p(()=>{Dw();Ow();kw();Nw();$w();Lw()});var Bw=p(()=>{});var Uw=p(()=>{});var Fw=p(()=>{});var Gw=p(()=>{});var Hw=p(()=>{});var jw=p(()=>{});var Vw=p(()=>{});var zw=p(()=>{Hw();jw();Vw()});var Kw=p(()=>{});var Ww=p(()=>{});var Su,qw=p(()=>{(function(t){t.HTTP="http",t.HTTPS="https"})(Su||(Su={}))});var Jw=p(()=>{});var Qw=p(()=>{});var Yw=p(()=>{});var Xw=p(()=>{});var Zw=p(()=>{});var eA=p(()=>{Jw();Qw();Yw();Xw();Zw()});var tA=p(()=>{});var Eu,rA=p(()=>{(function(t){t.MD5="md5",t.CRC32="crc32",t.CRC32C="crc32c",t.SHA1="sha1",t.SHA256="sha256"})(Eu||(Eu={}))});var oA=p(()=>{});var nA=p(()=>{});var sA=p(()=>{oA();nA();rA()});var iA=p(()=>{});var aA,cA=p(()=>{(function(t){t[t.HEADER=0]="HEADER",t[t.TRAILER=1]="TRAILER"})(aA||(aA={}))});var uA=p(()=>{});var pA=p(()=>{});var dA=p(()=>{});var lA=p(()=>{});var mA=p(()=>{});var fA=p(()=>{pA();dA();lA();mA()});var hA=p(()=>{});var Id,gA=p(()=>{Id="__smithy_context"});var xA=p(()=>{});var $i,yA=p(()=>{(function(t){t.PROFILE="profile",t.SSO_SESSION="sso-session",t.SERVICES="services"})($i||($i={}))});var SA=p(()=>{});var EA=p(()=>{});var _A=p(()=>{});var RA=p(()=>{});var bA=p(()=>{});var vA=p(()=>{});var CA=p(()=>{});var IA=p(()=>{});var TA=p(()=>{});var wA=p(()=>{});var AA=p(()=>{});var DA=p(()=>{});var PA=p(()=>{});var OA=p(()=>{});var kA,NA=p(()=>{(function(t){t.HTTP_0_9="http/0.9",t.HTTP_1_0="http/1.0",t.TDS_8_0="tds/8.0"})(kA||(kA={}))});var $A=p(()=>{});var LA=p(()=>{});var MA=p(()=>{});var BA=p(()=>{});var UA=p(()=>{});var FA=p(()=>{});var GA=p(()=>{});var fa=p(()=>{ww();Mw();Bw();Uw();Fw();Gw();zw();Kw();Ww();qw();eA();tA();sA();iA();cA();uA();fA();hA();gA();xA();yA();SA();EA();_A();RA();bA();vA();CA();IA();TA();wA();AA();DA();PA();OA();NA();$A();LA();MA();BA();UA();FA();GA()});var nt,HA=p(()=>{fa();nt=t=>t[Id]||(t[Id]={})});var ge,jA=p(()=>{ge=t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e}});var Zt=p(()=>{HA();jA()});var Ar,Dr,YA=p(()=>{Ar=t=>({setHttpHandler(e){t.httpHandler=e},httpHandler(){return t.httpHandler},updateHttpClientConfig(e,r){t.httpHandler?.updateHttpClientConfig(e,r)},httpHandlerConfigs(){return t.httpHandler.httpHandlerConfigs()}}),Dr=t=>({httpHandler:t.httpHandler()})});var XA=p(()=>{YA()});var ZA=p(()=>{});var eD=p(()=>{});var tD=p(()=>{});function Xq(t){return Object.keys(t).reduce((e,r)=>{let o=t[r];return{...e,[r]:Array.isArray(o)?[...o]:o}},{})}var me,rD=p(()=>{me=class t{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){let r=new t({...e,headers:{...e.headers}});return r.query&&(r.query=Xq(r.query)),r}static isInstance(e){if(!e)return!1;let r=e;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return t.clone(this)}}});var To,oD=p(()=>{To=class{statusCode;reason;headers;body;constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let r=e;return typeof r.statusCode=="number"&&typeof r.headers=="object"}}});var nD=p(()=>{});var sD=p(()=>{});var Oe=p(()=>{XA();ZA();eD();tD();rD();oD();nD();sD()});var aD=dd((M1e,iD)=>{function Li(t){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:t}),this.done=!1}Li.prototype.next=function(){if(this.done)return{done:!0};var t=this._next();return t.done&&(this.done=!0),t};typeof Symbol<"u"&&(Li.prototype[Symbol.iterator]=function(){return this});Li.of=function(){var t=arguments,e=t.length,r=0;return new Li(function(){return r>=e?{done:!0}:{done:!1,value:t[r++]}})};Li.empty=function(){var t=new Li(null);return t.done=!0,t};Li.is=function(t){return t instanceof Li?!0:typeof t=="object"&&t!==null&&typeof t.next=="function"};iD.exports=Li});var PE=dd((B1e,dD)=>{var cD=typeof ArrayBuffer<"u",uD=typeof Symbol<"u";function pD(t,e){var r,o,n,s,i;if(!t)throw new Error("obliterator/forEach: invalid iterable.");if(typeof e!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(t)||cD&&ArrayBuffer.isView(t)||typeof t=="string"||t.toString()==="[object Arguments]"){for(n=0,s=t.length;n<s;n++)e(t[n],n);return}if(typeof t.forEach=="function"){t.forEach(e);return}if(uD&&Symbol.iterator in t&&typeof t.next!="function"&&(t=t[Symbol.iterator]()),typeof t.next=="function"){for(r=t,n=0;i=r.next(),i.done!==!0;)e(i.value,n),n++;return}for(o in t)t.hasOwnProperty(o)&&e(t[o],o)}pD.forEachWithNullKeys=function(t,e){var r,o,n,s,i;if(!t)throw new Error("obliterator/forEachWithNullKeys: invalid iterable.");if(typeof e!="function")throw new Error("obliterator/forEachWithNullKeys: expecting a callback.");if(Array.isArray(t)||cD&&ArrayBuffer.isView(t)||typeof t=="string"||t.toString()==="[object Arguments]"){for(n=0,s=t.length;n<s;n++)e(t[n],null);return}if(t instanceof Set){t.forEach(function(a){e(a,null)});return}if(typeof t.forEach=="function"){t.forEach(e);return}if(uD&&Symbol.iterator in t&&typeof t.next!="function"&&(t=t[Symbol.iterator]()),typeof t.next=="function"){for(r=t,n=0;i=r.next(),i.done!==!0;)e(i.value,null),n++;return}for(o in t)t.hasOwnProperty(o)&&e(t[o],o)};dD.exports=pD});var OE=dd(qs=>{var Zq=Math.pow(2,8)-1,eJ=Math.pow(2,16)-1,tJ=Math.pow(2,32)-1,rJ=Math.pow(2,7)-1,oJ=Math.pow(2,15)-1,nJ=Math.pow(2,31)-1;qs.getPointerArray=function(t){var e=t-1;return e<=Zq?Uint8Array:e<=eJ?Uint16Array:e<=tJ?Uint32Array:Float64Array};qs.getSignedPointerArray=function(t){var e=t-1;return e<=rJ?Int8Array:e<=oJ?Int16Array:e<=nJ?Int32Array:Float64Array};qs.getNumberType=function(t){return t===(t|0)?Math.sign(t)===-1?t<=127&&t>=-128?Int8Array:t<=32767&&t>=-32768?Int16Array:Int32Array:t<=255?Uint8Array:t<=65535?Uint16Array:Uint32Array:Float64Array};var sJ={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};qs.getMinimalRepresentation=function(t,e){var r=null,o=0,n,s,i,a,c;for(a=0,c=t.length;a<c;a++)i=e?e(t[a]):t[a],s=qs.getNumberType(i),n=sJ[s.name],n>o&&(o=n,r=s);return r};qs.isTypedArray=function(t){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(t)};qs.concat=function(){var t=0,e,r,o;for(e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=new arguments[0].constructor(t);for(e=0,r=0;e<o;e++)n.set(arguments[e],r),r+=arguments[e].length;return n};qs.indices=function(t){for(var e=qs.getPointerArray(t),r=new e(t),o=0;o<t;o++)r[o]=o;return r}});var fD=dd(wd=>{var lD=PE(),mD=OE();function iJ(t){return Array.isArray(t)||mD.isTypedArray(t)}function kE(t){if(typeof t.length=="number")return t.length;if(typeof t.size=="number")return t.size}function aJ(t){var e=kE(t),r=typeof e=="number"?new Array(e):[],o=0;return lD(t,function(n){r[o++]=n}),r}function cJ(t){var e=kE(t),r=typeof e=="number"?mD.getPointerArray(e):Array,o=typeof e=="number"?new Array(e):[],n=typeof e=="number"?new r(e):[],s=0;return lD(t,function(i){o[s]=i,n[s]=s++}),[o,n]}wd.isArrayLike=iJ;wd.guessLength=kE;wd.toArray=aJ;wd.toArrayWithIndices=cJ});var gD=dd((G1e,hD)=>{var NE=aD(),uJ=PE(),pJ=OE(),dJ=fD();function cr(t,e,r){if(arguments.length<2&&(r=t,t=null,e=null),this.capacity=r,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-cache: capacity should be positive number.");var o=pJ.getPointerArray(r);this.forward=new o(r),this.backward=new o(r),this.K=typeof t=="function"?new t(r):new Array(r),this.V=typeof e=="function"?new e(r):new Array(r),this.size=0,this.head=0,this.tail=0,this.items={}}cr.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}};cr.prototype.splayOnTop=function(t){var e=this.head;if(this.head===t)return this;var r=this.backward[t],o=this.forward[t];return this.tail===t?this.tail=r:this.backward[o]=r,this.forward[r]=o,this.backward[e]=t,this.head=t,this.forward[t]=e,this};cr.prototype.set=function(t,e){var r=this.items[t];if(typeof r<"u"){this.splayOnTop(r),this.V[r]=e;return}this.size<this.capacity?r=this.size++:(r=this.tail,this.tail=this.backward[r],delete this.items[this.K[r]]),this.items[t]=r,this.K[r]=t,this.V[r]=e,this.forward[r]=this.head,this.backward[this.head]=r,this.head=r};cr.prototype.setpop=function(t,e){var r=null,o=null,n=this.items[t];return typeof n<"u"?(this.splayOnTop(n),r=this.V[n],this.V[n]=e,{evicted:!1,key:t,value:r}):(this.size<this.capacity?n=this.size++:(n=this.tail,this.tail=this.backward[n],r=this.V[n],o=this.K[n],delete this.items[this.K[n]]),this.items[t]=n,this.K[n]=t,this.V[n]=e,this.forward[n]=this.head,this.backward[this.head]=n,this.head=n,o?{evicted:!0,key:o,value:r}:null)};cr.prototype.has=function(t){return t in this.items};cr.prototype.get=function(t){var e=this.items[t];if(!(typeof e>"u"))return this.splayOnTop(e),this.V[e]};cr.prototype.peek=function(t){var e=this.items[t];if(!(typeof e>"u"))return this.V[e]};cr.prototype.forEach=function(t,e){e=arguments.length>1?e:this;for(var r=0,o=this.size,n=this.head,s=this.K,i=this.V,a=this.forward;r<o;)t.call(e,i[n],s[n],this),n=a[n],r++};cr.prototype.keys=function(){var t=0,e=this.size,r=this.head,o=this.K,n=this.forward;return new NE(function(){if(t>=e)return{done:!0};var s=o[r];return t++,t<e&&(r=n[r]),{done:!1,value:s}})};cr.prototype.values=function(){var t=0,e=this.size,r=this.head,o=this.V,n=this.forward;return new NE(function(){if(t>=e)return{done:!0};var s=o[r];return t++,t<e&&(r=n[r]),{done:!1,value:s}})};cr.prototype.entries=function(){var t=0,e=this.size,r=this.head,o=this.K,n=this.V,s=this.forward;return new NE(function(){if(t>=e)return{done:!0};var i=o[r],a=n[r];return t++,t<e&&(r=s[r]),{done:!1,value:[i,a]}})};typeof Symbol<"u"&&(cr.prototype[Symbol.iterator]=cr.prototype.entries);cr.prototype.inspect=function(){for(var t=new Map,e=this.entries(),r;r=e.next(),!r.done;)t.set(r.value[0],r.value[1]);return Object.defineProperty(t,"constructor",{value:cr,enumerable:!1}),t};typeof Symbol<"u"&&(cr.prototype[Symbol.for("nodejs.util.inspect.custom")]=cr.prototype.inspect);cr.from=function(t,e,r,o){if(arguments.length<2){if(o=dJ.guessLength(t),typeof o!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(o=e,e=null,r=null);var n=new cr(e,r,o);return uJ(t,function(s,i){n.set(i,s)}),n};hD.exports=cr});var lJ,mJ,Pr,Js=p(()=>{Oe();lJ=t=>e=>async r=>{if(!me.isInstance(r.request))return e(r);let{request:o}=r,{handlerProtocol:n=""}=t.requestHandler.metadata||{};if(n.indexOf("h2")>=0&&!o.headers[":authority"])delete o.headers.host,o.headers[":authority"]=o.hostname+(o.port?":"+o.port:"");else if(!o.headers.host){let s=o.hostname;o.port!=null&&(s+=`:${o.port}`),o.headers.host=s}return e(r)},mJ={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Pr=t=>({applyToStack:e=>{e.add(lJ(t),mJ)}})});var fJ,hJ,Or,SD=p(()=>{fJ=()=>(t,e)=>async r=>{try{let o=await t(r),{clientName:n,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=e,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:u}=a,m=c??e.inputFilterSensitiveLog,f=u??e.outputFilterSensitiveLog,{$metadata:h,...g}=o.output;return i?.info?.({clientName:n,commandName:s,input:m(r.input),output:f(g),metadata:h}),o}catch(o){let{clientName:n,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=e,{overrideInputFilterSensitiveLog:c}=a,u=c??e.inputFilterSensitiveLog;throw i?.error?.({clientName:n,commandName:s,input:u(r.input),error:o,metadata:o.$metadata}),o}},hJ={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Or=t=>({applyToStack:e=>{e.add(fJ(),hJ)}})});var Qs=p(()=>{SD()});var ED,_D=p(()=>{ED={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"}});var Ad,$E,Af,LE,ME,Df,RD=p(()=>{Ad={REQUEST_ID:Symbol.for("_AWS_LAMBDA_REQUEST_ID"),X_RAY_TRACE_ID:Symbol.for("_AWS_LAMBDA_X_RAY_TRACE_ID"),TENANT_ID:Symbol.for("_AWS_LAMBDA_TENANT_ID")},$E=["true","1"].includes(process.env?.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA??"");$E||(globalThis.awslambda=globalThis.awslambda||{});Af=class{static PROTECTED_KEYS=Ad;isProtectedKey(e){return Object.values(Ad).includes(e)}getRequestId(){return this.get(Ad.REQUEST_ID)??"-"}getXRayTraceId(){return this.get(Ad.X_RAY_TRACE_ID)}getTenantId(){return this.get(Ad.TENANT_ID)}},LE=class extends Af{currentContext;getContext(){return this.currentContext}hasContext(){return this.currentContext!==void 0}get(e){return this.currentContext?.[e]}set(e,r){if(this.isProtectedKey(e))throw new Error(`Cannot modify protected Lambda context field: ${String(e)}`);this.currentContext=this.currentContext||{},this.currentContext[e]=r}run(e,r){return this.currentContext=e,r()}},ME=class t extends Af{als;static async create(){let e=new t,r=await import("node:async_hooks");return e.als=new r.AsyncLocalStorage,e}getContext(){return this.als.getStore()}hasContext(){return this.als.getStore()!==void 0}get(e){return this.als.getStore()?.[e]}set(e,r){if(this.isProtectedKey(e))throw new Error(`Cannot modify protected Lambda context field: ${String(e)}`);let o=this.als.getStore();if(!o)throw new Error("No context available");o[e]=r}run(e,r){return this.als.run(e,r)}};(function(t){let e=null;async function r(){return e||(e=(async()=>{let n="AWS_LAMBDA_MAX_CONCURRENCY"in process.env?await ME.create():new LE;return!$E&&globalThis.awslambda?.InvokeStore?globalThis.awslambda.InvokeStore:(!$E&&globalThis.awslambda&&(globalThis.awslambda.InvokeStore=n),n)})()),e}t.getInstanceAsync=r,t._testing=process.env.AWS_LAMBDA_BENCHMARK_MODE==="1"?{reset:()=>{e=null,globalThis.awslambda?.InvokeStore&&delete globalThis.awslambda.InvokeStore,globalThis.awslambda={}}}:void 0})(Df||(Df={}))});var BE,gJ,xJ,bD,UE=p(()=>{RD();Oe();BE="X-Amzn-Trace-Id",gJ="AWS_LAMBDA_FUNCTION_NAME",xJ="_X_AMZN_TRACE_ID",bD=()=>t=>async e=>{let{request:r}=e;if(!me.isInstance(r))return t(e);let o=Object.keys(r.headers??{}).find(m=>m.toLowerCase()===BE.toLowerCase())??BE;if(r.headers.hasOwnProperty(o))return t(e);let n=process.env[gJ],s=process.env[xJ],c=(await Df.getInstanceAsync())?.getXRayTraceId()??s,u=m=>typeof m=="string"&&m.length>0;return u(n)&&u(c)&&(r.headers[BE]=c),t({...e,request:r})}});var kr,vD=p(()=>{_D();UE();kr=t=>({applyToStack:e=>{e.add(bD(),ED)}})});var Ys=p(()=>{vD();UE()});var CD=p(()=>{});var ID,TD=p(()=>{ID=(t,e)=>{if(!e||e.length===0)return t;let r=[];for(let o of e)for(let n of t)n.schemeId.split("#")[1]===o&&r.push(n);for(let o of t)r.find(({schemeId:n})=>n===o.schemeId)||r.push(o);return r}});function yJ(t){let e=new Map;for(let r of t)e.set(r.schemeId,r);return e}var wD,FE=p(()=>{Zt();TD();wD=(t,e)=>(r,o)=>async n=>{let s=t.httpAuthSchemeProvider(await e.httpAuthSchemeParametersProvider(t,o,n.input)),i=t.authSchemePreference?await t.authSchemePreference():[],a=ID(s,i),c=yJ(t.httpAuthSchemes),u=nt(o),m=[];for(let f of a){let h=c.get(f.schemeId);if(!h){m.push(`HttpAuthScheme \`${f.schemeId}\` was not enabled for this service.`);continue}let g=h.identityProvider(await e.identityProviderConfigProvider(t));if(!g){m.push(`HttpAuthScheme \`${f.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:_={},signingProperties:R={}}=f.propertiesExtractor?.(t,o)||{};f.identityProperties=Object.assign(f.identityProperties||{},_),f.signingProperties=Object.assign(f.signingProperties||{},R),u.selectedHttpAuthScheme={httpAuthOption:f,identity:await g(f.identityProperties),signer:h.signer};break}if(!u.selectedHttpAuthScheme)throw new Error(m.join(`
`));return r(n)}});var SJ,Nr,AD=p(()=>{FE();SJ={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},Nr=(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r})=>({applyToStack:o=>{o.addRelativeTo(wD(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r}),SJ)}})});var DD=p(()=>{});var PD=p(()=>{});var Pf,OD=p(()=>{Pf={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var GE=p(()=>{DD();OD();PD()});var R$e,kD=p(()=>{GE();R$e={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:Pf.name}});var ND=p(()=>{FE();AD();kD()});var EJ,_J,$D,HE=p(()=>{Oe();Zt();EJ=t=>e=>{throw e},_J=(t,e)=>{},$D=t=>(e,r)=>async o=>{if(!me.isInstance(o.request))return e(o);let s=nt(r).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:a,signer:c}=s,u=await e({...o,request:await c.sign(o.request,a,i)}).catch((c.errorHandler||EJ)(i));return(c.successHandler||_J)(u.response,i),u}});var jE,$r,LD=p(()=>{HE();jE={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},$r=t=>({applyToStack:e=>{e.addRelativeTo($D(t),jE)}})});var MD=p(()=>{HE();LD()});var Mi,BD=p(()=>{Mi=t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e}});function Bi(t,e,r,o,n){return async function*(i,a,...c){let u=a,m=i.startingToken??u[r],f=!0,h;for(;f;){if(u[r]=m,n&&(u[n]=u[n]??i.pageSize),i.client instanceof t)h=await RJ(e,i.client,a,i.withCommand,...c);else throw new Error(`Invalid client, expected instance of ${t.name}`);yield h;let g=m;m=bJ(h,o),f=!!(m&&(!i.stopOnSameToken||m!==g))}return void 0}}var RJ,bJ,UD=p(()=>{RJ=async(t,e,r,o=s=>s,...n)=>{let s=new t(r);return s=o(s)??s,await e.send(s,...n)};bJ=(t,e)=>{let r=t,o=e.split(".");for(let n of o){if(!r||typeof r!="object")return;r=r[n]}return r}});var _u,Of=p(()=>{_u=t=>typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]"});import{Buffer as VE}from"buffer";var Ui,Ru,fc=p(()=>{Of();Ui=(t,e=0,r=t.byteLength-e)=>{if(!_u(t))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof t} (${t})`);return VE.from(t,e,r)},Ru=(t,e)=>{if(typeof t!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof t} (${t})`);return e?VE.from(t,e):VE.from(t)}});var vJ,st,FD=p(()=>{fc();vJ=/^[A-Za-z0-9+/]*={0,2}$/,st=t=>{if(t.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!vJ.exec(t))throw new TypeError("Invalid base64 string.");let e=Ru(t,"base64");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}});var it,zE=p(()=>{fc();it=t=>{let e=Ru(t,"utf8");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT)}});var Fo,GD=p(()=>{zE();Fo=t=>typeof t=="string"?it(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)});var Xe,HD=p(()=>{fc();Xe=t=>{if(typeof t=="string")return t;if(typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return Ui(t.buffer,t.byteOffset,t.byteLength).toString("utf8")}});var wt=p(()=>{zE();GD();HD()});var we,jD=p(()=>{fc();wt();we=t=>{let e;if(typeof t=="string"?e=it(t):e=t,typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return Ui(e.buffer,e.byteOffset,e.byteLength).toString("base64")}});var Kt=p(()=>{FD();jD()});var bu,VD=p(()=>{Kt();wt();bu=class t extends Uint8Array{static fromString(e,r="utf-8"){if(typeof e=="string")return r==="base64"?t.mutate(st(e)):t.mutate(it(e));throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}static mutate(e){return Object.setPrototypeOf(e,t.prototype),e}transformToString(e="utf-8"){return e==="base64"?we(this):Xe(this)}}});import{Duplex as CJ}from"stream";var kf,KE=p(()=>{Kt();kf=class extends CJ{expectedChecksum;checksumSourceLocation;checksum;source;base64Encoder;constructor({expectedChecksum:e,checksum:r,source:o,checksumSourceLocation:n,base64Encoder:s}){if(super(),typeof o.pipe=="function")this.source=o;else throw new Error(`@smithy/util-stream: unsupported source type ${o?.constructor?.name??o} in ChecksumStream.`);this.base64Encoder=s??we,this.expectedChecksum=e,this.checksum=r,this.checksumSourceLocation=n,this.source.pipe(this)}_read(e){}_write(e,r,o){try{this.checksum.update(e),this.push(e)}catch(n){return o(n)}return o()}async _final(e){try{let r=await this.checksum.digest(),o=this.base64Encoder(r);if(this.expectedChecksum!==o)return e(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${o}" in response header "${this.checksumSourceLocation}".`))}catch(r){return e(r)}return this.push(null),e()}}});var Cn,zD,ha=p(()=>{Cn=t=>typeof ReadableStream=="function"&&(t?.constructor?.name===ReadableStream.name||t instanceof ReadableStream),zD=t=>typeof Blob=="function"&&(t?.constructor?.name===Blob.name||t instanceof Blob)});var IJ,Nf,KD=p(()=>{IJ=typeof ReadableStream=="function"?ReadableStream:function(){},Nf=class extends IJ{}});var WD,qD=p(()=>{Kt();ha();KD();WD=({expectedChecksum:t,checksum:e,source:r,checksumSourceLocation:o,base64Encoder:n})=>{if(!Cn(r))throw new Error(`@smithy/util-stream: unsupported source type ${r?.constructor?.name??r} in ChecksumStream.`);let s=n??we;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let i=new TransformStream({start(){},async transform(c,u){e.update(c),u.enqueue(c)},async flush(c){let u=await e.digest(),m=s(u);if(t!==m){let f=new Error(`Checksum mismatch: expected "${t}" but received "${m}" in response header "${o}".`);c.error(f)}else c.terminate()}});r.pipeThrough(i);let a=i.readable;return Object.setPrototypeOf(a,Nf.prototype),a}});function JD(t){return typeof ReadableStream=="function"&&Cn(t.source)?WD(t):new kf(t)}var QD=p(()=>{ha();KE();qD()});var hc,WE=p(()=>{hc=class{allocByteArray;byteLength=0;byteArrays=[];constructor(e){this.allocByteArray=e}push(e){this.byteArrays.push(e),this.byteLength+=e.byteLength}flush(){if(this.byteArrays.length===1){let o=this.byteArrays[0];return this.reset(),o}let e=this.allocByteArray(this.byteLength),r=0;for(let o=0;o<this.byteArrays.length;++o){let n=this.byteArrays[o];e.set(n,r),r+=n.byteLength}return this.reset(),e}reset(){this.byteArrays=[],this.byteLength=0}}});function YD(t,e,r){let o=t.getReader(),n=!1,s=0,i=["",new hc(u=>new Uint8Array(u))],a=-1,c=async u=>{let{value:m,done:f}=await o.read(),h=m;if(f){if(a!==-1){let g=gc(i,a);Fi(g)>0&&u.enqueue(g)}u.close()}else{let g=JE(h,!1);if(a!==g&&(a>=0&&u.enqueue(gc(i,a)),a=g),a===-1){u.enqueue(h);return}let _=Fi(h);s+=_;let R=Fi(i[a]);if(_>=e&&R===0)u.enqueue(h);else{let T=qE(i,a,h);!n&&s>e*2&&(n=!0,r?.warn(`@smithy/util-stream - stream chunk size ${_} is below threshold of ${e}, automatically buffering.`)),T>=e?u.enqueue(gc(i,a)):await c(u)}}};return new ReadableStream({pull:c})}function qE(t,e,r){switch(e){case 0:return t[0]+=r,Fi(t[0]);case 1:case 2:return t[e].push(r),Fi(t[e])}}function gc(t,e){switch(e){case 0:let r=t[0];return t[0]="",r;case 1:case 2:return t[e].flush()}throw new Error(`@smithy/util-stream - invalid index ${e} given to flush()`)}function Fi(t){return t?.byteLength??t?.length??0}function JE(t,e=!0){return e&&typeof Buffer<"u"&&t instanceof Buffer?2:t instanceof Uint8Array?1:typeof t=="string"?0:-1}var XD=p(()=>{WE()});import{Readable as TJ}from"node:stream";function ZD(t,e,r){if(Cn(t))return YD(t,e,r);let o=new TJ({read(){}}),n=!1,s=0,i=["",new hc(c=>new Uint8Array(c)),new hc(c=>Buffer.from(new Uint8Array(c)))],a=-1;return t.on("data",c=>{let u=JE(c,!0);if(a!==u&&(a>=0&&o.push(gc(i,a)),a=u),a===-1){o.push(c);return}let m=Fi(c);s+=m;let f=Fi(i[a]);if(m>=e&&f===0)o.push(c);else{let h=qE(i,a,c);!n&&s>e*2&&(n=!0,r?.warn(`@smithy/util-stream - stream chunk size ${m} is below threshold of ${e}, automatically buffering.`)),h>=e&&o.push(gc(i,a))}}),t.on("end",()=>{if(a!==-1){let c=gc(i,a);Fi(c)>0&&o.push(c)}o.push(null)}),o}var eP=p(()=>{WE();XD();ha()});import{Readable as wJ}from"stream";var tP,rP=p(()=>{tP=(t,e)=>{let{base64Encoder:r,bodyLengthChecker:o,checksumAlgorithmFn:n,checksumLocationName:s,streamHasher:i}=e,a=r!==void 0&&n!==void 0&&s!==void 0&&i!==void 0,c=a?i(n,t):void 0,u=new wJ({read:()=>{}});return t.on("data",m=>{let f=o(m)||0;u.push(`${f.toString(16)}\r
`),u.push(m),u.push(`\r
`)}),t.on("end",async()=>{if(u.push(`0\r
`),a){let m=r(await c);u.push(`${s}:${m}\r
`),u.push(`\r
`)}u.push(null)}),u}});async function oP(t,e){let r=0,o=[],n=t.getReader(),s=!1;for(;!s;){let{done:c,value:u}=await n.read();if(u&&(o.push(u),r+=u?.byteLength??0),r>=e)break;s=c}n.releaseLock();let i=new Uint8Array(Math.min(e,r)),a=0;for(let c of o){if(c.byteLength>i.byteLength-a){i.set(c.subarray(0,i.byteLength-a),a);break}else i.set(c,a);a+=c.length}return i}var nP=p(()=>{});import{Writable as AJ}from"stream";var sP,QE,iP=p(()=>{nP();ha();sP=(t,e)=>Cn(t)?oP(t,e):new Promise((r,o)=>{let n=new QE;n.limit=e,t.pipe(n),t.on("error",s=>{n.end(),o(s)}),n.on("error",o),n.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.buffers));r(s)})}),QE=class extends AJ{buffers=[];limit=1/0;bytesBuffered=0;_write(e,r,o){if(this.buffers.push(e),this.bytesBuffered+=e.byteLength??0,this.bytesBuffered>=this.limit){let n=this.bytesBuffered-this.limit,s=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=s.subarray(0,s.byteLength-n),this.emit("finish")}o()}}});var Xs,DJ,aP=p(()=>{Xs=t=>encodeURIComponent(t).replace(/[!'()*]/g,DJ),DJ=t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`});var cP=p(()=>{});var $f=p(()=>{aP();cP()});function uP(t){let e=[];for(let r of Object.keys(t).sort()){let o=t[r];if(r=Xs(r),Array.isArray(o))for(let n=0,s=o.length;n<s;n++)e.push(`${r}=${Xs(o[n])}`);else{let n=r;(o||typeof o=="string")&&(n+=`=${Xs(o)}`),e.push(n)}}return e.join("&")}var pP=p(()=>{$f()});var dP,lP=p(()=>{dP=["ECONNRESET","EPIPE","ETIMEDOUT"]});var mP,fP=p(()=>{mP=t=>{let e={};for(let r of Object.keys(t)){let o=t[r];e[r]=Array.isArray(o)?o.join(","):o}return e}});var er,xc=p(()=>{er={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t)}});var hP,gP,xP=p(()=>{xc();hP=1e3,gP=(t,e,r=0)=>{if(!r)return-1;let o=n=>{let s=er.setTimeout(()=>{t.destroy(),e(Object.assign(new Error(`@smithy/node-http-handler - the request socket did not establish a connection with the server within the configured timeout of ${r} ms.`),{name:"TimeoutError"}))},r-n),i=a=>{a?.connecting?a.on("connect",()=>{er.clearTimeout(s)}):er.clearTimeout(s)};t.socket?i(t.socket):t.on("socket",i)};return r<2e3?(o(0),0):er.setTimeout(o.bind(null,hP),hP)}});var yP,SP=p(()=>{xc();yP=(t,e,r=0,o,n)=>r?er.setTimeout(()=>{let s=`@smithy/node-http-handler - [${o?"ERROR":"WARN"}] a request has exceeded the configured ${r} ms requestTimeout.`;if(o){let i=Object.assign(new Error(s),{name:"TimeoutError",code:"ETIMEDOUT"});t.destroy(i),e(i)}else s+=" Init client requestHandler with throwOnRequestTimeout=true to turn this into an error.",n?.warn?.(s)},r):-1});var PJ,EP,_P=p(()=>{xc();PJ=3e3,EP=(t,{keepAlive:e,keepAliveMsecs:r},o=PJ)=>{if(e!==!0)return-1;let n=()=>{t.socket?t.socket.setKeepAlive(e,r||0):t.on("socket",s=>{s.setKeepAlive(e,r||0)})};return o===0?(n(),0):er.setTimeout(n,o)}});var RP,bP,vP=p(()=>{xc();RP=3e3,bP=(t,e,r=0)=>{let o=n=>{let s=r-n,i=()=>{t.destroy(),e(Object.assign(new Error(`@smithy/node-http-handler - the request socket timed out after ${r} ms of inactivity (configured by client requestHandler).`),{name:"TimeoutError"}))};t.socket?(t.socket.setTimeout(s,i),t.on("close",()=>t.socket?.removeListener("timeout",i))):t.setTimeout(s,i)};return 0<r&&r<6e3?(o(0),0):er.setTimeout(o.bind(null,r===0?0:RP),RP)}});import{Readable as OJ}from"stream";async function IP(t,e,r=CP,o=!1){let n=e.headers??{},s=n.Expect||n.expect,i=-1,a=!0;!o&&s==="100-continue"&&(a=await Promise.race([new Promise(c=>{i=Number(er.setTimeout(()=>c(!0),Math.max(CP,r)))}),new Promise(c=>{t.on("continue",()=>{er.clearTimeout(i),c(!0)}),t.on("response",()=>{er.clearTimeout(i),c(!1)}),t.on("error",()=>{er.clearTimeout(i),c(!1)})})])),a&&kJ(t,e.body)}function kJ(t,e){if(e instanceof OJ){e.pipe(t);return}if(e){if(Buffer.isBuffer(e)||typeof e=="string"){t.end(e);return}let r=e;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){t.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}t.end(Buffer.from(e));return}t.end()}var CP,TP=p(()=>{xc();CP=6e3});import{Agent as YE,request as NJ}from"http";import{Agent as XE,request as $J}from"https";var Wt,wP=p(()=>{Oe();pP();lP();fP();xP();SP();_P();vP();xc();TP();Wt=class t{config;configProvider;socketWarningTimestamp=0;externalAgent=!1;metadata={handlerProtocol:"http/1.1"};static create(e){return typeof e?.handle=="function"?e:new t(e)}static checkSocketUsage(e,r,o=console){let{sockets:n,requests:s,maxSockets:i}=e;if(typeof i!="number"||i===1/0||Date.now()-15e3<r)return r;if(n&&s)for(let c in n){let u=n[c]?.length??0,m=s[c]?.length??0;if(u>=i&&m>=2*i)return o?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${u} and ${m} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}constructor(e){this.configProvider=new Promise((r,o)=>{typeof e=="function"?e().then(n=>{r(this.resolveDefaultConfig(n))}).catch(o):r(this.resolveDefaultConfig(e))})}resolveDefaultConfig(e){let{requestTimeout:r,connectionTimeout:o,socketTimeout:n,socketAcquisitionWarningTimeout:s,httpAgent:i,httpsAgent:a,throwOnRequestTimeout:c}=e||{},u=!0,m=50;return{connectionTimeout:o,requestTimeout:r,socketTimeout:n,socketAcquisitionWarningTimeout:s,throwOnRequestTimeout:c,httpAgent:i instanceof YE||typeof i?.destroy=="function"?(this.externalAgent=!0,i):new YE({keepAlive:u,maxSockets:m,...i}),httpsAgent:a instanceof XE||typeof a?.destroy=="function"?(this.externalAgent=!0,a):new XE({keepAlive:u,maxSockets:m,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(e,{abortSignal:r,requestTimeout:o}={}){return this.config||(this.config=await this.configProvider),new Promise((n,s)=>{let i=this.config,a,c=[],u=async Fe=>{await a,c.forEach(er.clearTimeout),n(Fe)},m=async Fe=>{await a,c.forEach(er.clearTimeout),s(Fe)};if(r?.aborted){let Fe=new Error("Request aborted");Fe.name="AbortError",m(Fe);return}let f=e.protocol==="https:",h=e.headers??{},g=(h.Expect??h.expect)==="100-continue",_=f?i.httpsAgent:i.httpAgent;g&&!this.externalAgent&&(_=new(f?XE:YE)({keepAlive:!1,maxSockets:1/0})),c.push(er.setTimeout(()=>{this.socketWarningTimestamp=t.checkSocketUsage(_,this.socketWarningTimestamp,i.logger)},i.socketAcquisitionWarningTimeout??(i.requestTimeout??2e3)+(i.connectionTimeout??1e3)));let R=uP(e.query||{}),T;if(e.username!=null||e.password!=null){let Fe=e.username??"",Bn=e.password??"";T=`${Fe}:${Bn}`}let M=e.path;R&&(M+=`?${R}`),e.fragment&&(M+=`#${e.fragment}`);let G=e.hostname??"";G[0]==="["&&G.endsWith("]")?G=e.hostname.slice(1,-1):G=e.hostname;let te={headers:e.headers,host:G,method:e.method,path:M,port:e.port,agent:_,auth:T},Ye=(f?$J:NJ)(te,Fe=>{let Bn=new To({statusCode:Fe.statusCode||-1,reason:Fe.statusMessage,headers:mP(Fe.headers),body:Fe});u({response:Bn})});if(Ye.on("error",Fe=>{dP.includes(Fe.code)?m(Object.assign(Fe,{name:"TimeoutError"})):m(Fe)}),r){let Fe=()=>{Ye.destroy();let Bn=new Error("Request aborted");Bn.name="AbortError",m(Bn)};if(typeof r.addEventListener=="function"){let Bn=r;Bn.addEventListener("abort",Fe,{once:!0}),Ye.once("close",()=>Bn.removeEventListener("abort",Fe))}else r.onabort=Fe}let Ht=o??i.requestTimeout;c.push(gP(Ye,m,i.connectionTimeout)),c.push(yP(Ye,m,Ht,i.throwOnRequestTimeout,i.logger??console)),c.push(bP(Ye,m,i.socketTimeout));let En=te.agent;typeof En=="object"&&"keepAlive"in En&&c.push(EP(Ye,{keepAlive:En.keepAlive,keepAliveMsecs:En.keepAliveMsecs})),a=IP(Ye,e,Ht,this.externalAgent).catch(Fe=>(c.forEach(er.clearTimeout),s(Fe)))})}updateHttpClientConfig(e,r){this.config=void 0,this.configProvider=this.configProvider.then(o=>({...o,[e]:r}))}httpHandlerConfigs(){return this.config??{}}}});var AP=p(()=>{});import{Writable as LJ}from"stream";var Lf,DP=p(()=>{Lf=class extends LJ{bufferedBytes=[];_write(e,r,o){this.bufferedBytes.push(e),o()}}});async function BJ(t){let e=[],r=t.getReader(),o=!1,n=0;for(;!o;){let{done:a,value:c}=await r.read();c&&(e.push(c),n+=c.length),o=a}let s=new Uint8Array(n),i=0;for(let a of e)s.set(a,i),i+=a.length;return s}var ur,MJ,PP=p(()=>{DP();ur=t=>MJ(t)?BJ(t):new Promise((e,r)=>{let o=new Lf;t.pipe(o),t.on("error",n=>{o.end(),r(n)}),o.on("error",r),o.on("finish",function(){let n=new Uint8Array(Buffer.concat(this.bufferedBytes));e(n)})}),MJ=t=>typeof ReadableStream=="function"&&t instanceof ReadableStream});var Vn=p(()=>{wP();AP();PP()});var OP=p(()=>{});async function UJ(t){let e=await GJ(t),r=st(e);return new Uint8Array(r)}async function FJ(t){let e=[],r=t.getReader(),o=!1,n=0;for(;!o;){let{done:a,value:c}=await r.read();c&&(e.push(c),n+=c.length),o=a}let s=new Uint8Array(n),i=0;for(let a of e)s.set(a,i),i+=a.length;return s}function GJ(t){return new Promise((e,r)=>{let o=new FileReader;o.onloadend=()=>{if(o.readyState!==2)return r(new Error("Reader aborted too early"));let n=o.result??"",s=n.indexOf(","),i=s>-1?s+1:n.length;e(n.substring(i))},o.onabort=()=>r(new Error("Read aborted")),o.onerror=()=>r(o.error),o.readAsDataURL(t)})}var kP,NP=p(()=>{Kt();kP=async t=>typeof Blob=="function"&&t instanceof Blob||t.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await t.arrayBuffer()):UJ(t):FJ(t)});var $P=p(()=>{OP();NP()});function Mf(t){if(t.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let e=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2){let o=t.slice(r,r+2).toLowerCase();if(o in ZE)e[r/2]=ZE[o];else throw new Error(`Cannot decode unrecognized sequence ${o} as hexadecimal`)}return e}function qt(t){let e="";for(let r=0;r<t.byteLength;r++)e+=LP[t[r]];return e}var LP,ZE,Gi=p(()=>{LP={},ZE={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),LP[t]=e,ZE[e]=t}});var MP,UP,BP,FP=p(()=>{$P();Kt();Gi();wt();ha();MP="The stream has already been transformed.",UP=t=>{if(!BP(t)&&!Cn(t)){let n=t?.__proto__?.constructor?.name||t;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${n}`)}let e=!1,r=async()=>{if(e)throw new Error(MP);return e=!0,await kP(t)},o=n=>{if(typeof n.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return n.stream()};return Object.assign(t,{transformToByteArray:r,transformToString:async n=>{let s=await r();if(n==="base64")return we(s);if(n==="hex")return qt(s);if(n===void 0||n==="utf8"||n==="utf-8")return Xe(s);if(typeof TextDecoder=="function")return new TextDecoder(n).decode(s);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(e)throw new Error(MP);if(e=!0,BP(t))return o(t);if(Cn(t))return t;throw new Error(`Cannot transform payload to web stream, got ${t}`)}})},BP=t=>typeof Blob=="function"&&t instanceof Blob});import{Readable as e_}from"stream";var GP,vu,HP=p(()=>{Vn();fc();FP();GP="The stream has already been transformed.",vu=t=>{if(!(t instanceof e_))try{return UP(t)}catch{let n=t?.__proto__?.constructor?.name||t;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${n}`)}let e=!1,r=async()=>{if(e)throw new Error(GP);return e=!0,await ur(t)};return Object.assign(t,{transformToByteArray:r,transformToString:async o=>{let n=await r();return o===void 0||Buffer.isEncoding(o)?Ui(n.buffer,n.byteOffset,n.byteLength).toString(o):new TextDecoder(o).decode(n)},transformToWebStream:()=>{if(e)throw new Error(GP);if(t.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof e_.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return e=!0,e_.toWeb(t)}})}});async function jP(t){return typeof t.stream=="function"&&(t=t.stream()),t.tee()}var VP=p(()=>{});import{PassThrough as zP}from"stream";async function KP(t){if(Cn(t)||zD(t))return jP(t);let e=new zP,r=new zP;return t.pipe(e),t.pipe(r),[e,r]}var WP=p(()=>{VP();ha()});var ga=p(()=>{VD();KE();QD();eP();rP();iP();HP();WP();ha()});var rn,Bf=p(()=>{ga();rn=async(t=new Uint8Array,e)=>{if(t instanceof Uint8Array)return bu.mutate(t);if(!t)return bu.mutate(new Uint8Array);let r=e.streamCollector(t);return bu.mutate(await r)}});function Cu(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}var t_=p(()=>{});var xa,r_=p(()=>{xa=t=>typeof t=="function"?t():t});var Uf,Ff=p(()=>{Uf=(t,e,r,o,n)=>({name:e,namespace:t,traits:r,input:o,output:n})});var qP,o_,JP=p(()=>{Oe();Zt();Ff();qP=t=>(e,r)=>async o=>{let{response:n}=await e(o),{operationSchema:s}=nt(r),[,i,a,c,u,m]=s??[];try{let f=await t.protocol.deserializeResponse(Uf(i,a,c,u,m),{...t,...r},n);return{response:n,output:f}}catch(f){if(Object.defineProperty(f,"$response",{value:n,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in f)){let h="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{f.message+=`
  `+h}catch{!r.logger||r.logger?.constructor?.name==="NoOpLogger"?console.warn(h):r.logger?.warn?.(h)}typeof f.$responseBodyText<"u"&&f.$response&&(f.$response.body=f.$responseBodyText);try{if(To.isInstance(n)){let{headers:g={}}=n,_=Object.entries(g);f.$metadata={httpStatusCode:n.statusCode,requestId:o_(/^x-[\w-]+-request-?id$/,_),extendedRequestId:o_(/^x-[\w-]+-id-2$/,_),cfId:o_(/^x-[\w-]+-cf-id$/,_)}}}catch{}}throw f}},o_=(t,e)=>(e.find(([r])=>r.match(t))||[void 0,void 0])[1]});var QP,YP=p(()=>{Zt();Ff();QP=t=>(e,r)=>async o=>{let{operationSchema:n}=nt(r),[,s,i,a,c,u]=n??[],m=r.endpointV2?.url&&t.urlParser?async()=>t.urlParser(r.endpointV2.url):t.endpoint,f=await t.protocol.serializeRequest(Uf(s,i,a,c,u),o.input,{...t,...r,endpoint:m});return e({...o,request:f})}});function Lr(t){return{applyToStack:e=>{e.add(QP(t),jJ),e.add(qP(t),HJ),t.protocol.setSerdeContext(t)}}}var HJ,jJ,XP=p(()=>{JP();YP();HJ={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},jJ={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var zn,yc=p(()=>{zn=class{name;namespace;traits;static assign(e,r){return Object.assign(e,r)}static[Symbol.hasInstance](e){let r=this.prototype.isPrototypeOf(e);return!r&&typeof e=="object"&&e!==null?e.symbol===this.symbol:r}getName(){return this.namespace+"#"+this.name}}});var ZP,eO=p(()=>{yc();ZP=class t extends zn{static symbol=Symbol.for("@smithy/lis");name;traits;valueSchema;symbol=t.symbol}});var tO,rO=p(()=>{yc();tO=class t extends zn{static symbol=Symbol.for("@smithy/map");name;traits;keySchema;valueSchema;symbol=t.symbol}});var oO,nO=p(()=>{yc();oO=class t extends zn{static symbol=Symbol.for("@smithy/ope");name;traits;input;output;symbol=t.symbol}});var Gf,n_=p(()=>{yc();Gf=class t extends zn{static symbol=Symbol.for("@smithy/str");name;traits;memberNames;memberList;symbol=t.symbol}});var sO,iO=p(()=>{n_();sO=class t extends Gf{static symbol=Symbol.for("@smithy/err");ctor;symbol=t.symbol}});function Hi(t){if(typeof t=="object")return t;t=t|0;let e={},r=0;for(let o of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(t>>r++&1)===1&&(e[o]=1);return e}var s_=p(()=>{});function Dd(t,e){if(t instanceof se)return Object.assign(t,{memberName:e,_isMemberSchema:!0});let r=se;return new r(t,e)}var se,i_,VJ,aO=p(()=>{r_();s_();se=class t{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=t.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(e,r){this.ref=e,this.memberName=r;let o=[],n=e,s=e;for(this._isMemberSchema=!1;i_(n);)o.push(n[1]),n=n[0],s=xa(n),this._isMemberSchema=!0;if(o.length>0){this.memberTraits={};for(let i=o.length-1;i>=0;--i){let a=o[i];Object.assign(this.memberTraits,Hi(a))}}else this.memberTraits=0;if(s instanceof t){let i=this.memberTraits;Object.assign(this,s),this.memberTraits=Object.assign({},i,s.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=r??s.memberName;return}if(this.schema=xa(s),VJ(this.schema)?(this.name=`${this.schema[1]}#${this.schema[2]}`,this.traits=this.schema[3]):(this.name=this.memberName??String(s),this.traits=0),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](e){let r=this.prototype.isPrototypeOf(e);return!r&&typeof e=="object"&&e!==null?e.symbol===this.symbol:r}static of(e){let r=xa(e);if(r instanceof t)return r;if(i_(r)){let[o,n]=r;if(o instanceof t)return Object.assign(o.getMergedTraits(),Hi(n)),o;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(e,null,2)}.`)}return new t(r)}getSchema(){let e=this.schema;return e[0]===0?e[4]:e}getName(e=!1){let{name:r}=this;return!e&&r&&r.includes("#")?r.split("#")[1]:r||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){let e=this.getSchema();return typeof e=="number"?e>=64&&e<128:e[0]===1}isMapSchema(){let e=this.getSchema();return typeof e=="number"?e>=128&&e<=255:e[0]===2}isStructSchema(){let r=this.getSchema()[0];return r===3||r===-3||r===4}isUnionSchema(){return this.getSchema()[0]===4}isBlobSchema(){let e=this.getSchema();return e===21||e===42}isTimestampSchema(){let e=this.getSchema();return typeof e=="number"&&e>=4&&e<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){let{streaming:e}=this.getMergedTraits();return!!e||this.getSchema()===42}isIdempotencyToken(){let e=s=>(s&4)===4||!!s?.idempotencyToken,{normalizedTraits:r,traits:o,memberTraits:n}=this;return e(r)||e(o)||e(n)}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return Hi(this.memberTraits)}getOwnTraits(){return Hi(this.traits)}getKeySchema(){let[e,r]=[this.isDocumentSchema(),this.isMapSchema()];if(!e&&!r)throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let o=this.getSchema(),n=e?15:o[4]??0;return Dd([n,0],"key")}getValueSchema(){let e=this.getSchema(),[r,o,n]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],s=typeof e=="number"?63&e:e&&typeof e=="object"&&(o||n)?e[3+e[0]]:r?15:void 0;if(s!=null)return Dd([s,0],o?"value":"member");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(e){let r=this.getSchema();if(this.isStructSchema()&&r[4].includes(e)){let o=r[4].indexOf(e),n=r[5][o];return Dd(i_(n)?n:[n,0],e)}if(this.isDocumentSchema())return Dd([15,0],e);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${e}.`)}getMemberSchemas(){let e={};try{for(let[r,o]of this.structIterator())e[r]=o}catch{}return e}getEventStreamMember(){if(this.isStructSchema()){for(let[e,r]of this.structIterator())if(r.isStreaming()&&r.isStructSchema())return e}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");let e=this.getSchema();for(let r=0;r<e[4].length;++r)yield[e[4][r],Dd([e[5][r],0],e[4][r])]}};i_=t=>Array.isArray(t)&&t.length===2,VJ=t=>Array.isArray(t)&&t.length>=5});var cO,uO=p(()=>{yc();cO=class t extends zn{static symbol=Symbol.for("@smithy/sim");name;schemaRef;traits;symbol=t.symbol}});var pO=p(()=>{});var b,dO=p(()=>{b=class t{namespace;schemas;exceptions;static registries=new Map;constructor(e,r=new Map,o=new Map){this.namespace=e,this.schemas=r,this.exceptions=o}static for(e){return t.registries.has(e)||t.registries.set(e,new t(e)),t.registries.get(e)}register(e,r){let o=this.normalizeShapeId(e);t.for(o.split("#")[0]).schemas.set(o,r)}getSchema(e){let r=this.normalizeShapeId(e);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}registerError(e,r){let o=e,n=t.for(o[1]);n.schemas.set(o[1]+"#"+o[2],o),n.exceptions.set(o,r)}getErrorCtor(e){let r=e;return t.for(r[1]).exceptions.get(r)}getBaseException(){for(let e of this.exceptions.keys())if(Array.isArray(e)){let[,r,o]=e,n=r+"#"+o;if(n.startsWith("smithy.ts.sdk.synthetic.")&&n.endsWith("ServiceException"))return e}}find(e){return[...this.schemas.values()].find(e)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(e){return e.includes("#")?e:this.namespace+"#"+e}}});var Ce=p(()=>{r_();XP();eO();rO();nO();Ff();iO();aO();yc();uO();n_();pO();s_();dO()});var lO=p(()=>{});var a_,zJ,mO,KJ,fO,hO,gO,WJ,xO,yO,qJ,Hf,Iu,SO,JJ,QJ,c_=p(()=>{a_=t=>{if(t!=null){if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return String(e)!==String(t)&&QJ.warn(JJ(`Expected number but observed string: ${t}`)),e}if(typeof t=="number")return t;throw new TypeError(`Expected number, got ${typeof t}: ${t}`)}},zJ=Math.ceil(34028234663852886e22),mO=t=>{let e=a_(t);if(e!==void 0&&!Number.isNaN(e)&&e!==1/0&&e!==-1/0&&Math.abs(e)>zJ)throw new TypeError(`Expected 32-bit float, got ${t}`);return e},KJ=t=>{if(t!=null){if(Number.isInteger(t)&&!Number.isNaN(t))return t;throw new TypeError(`Expected integer, got ${typeof t}: ${t}`)}},fO=t=>gO(t,16),hO=t=>gO(t,8),gO=(t,e)=>{let r=KJ(t);if(r!==void 0&&WJ(r,e)!==r)throw new TypeError(`Expected ${e}-bit integer, got ${t}`);return r},WJ=(t,e)=>{switch(e){case 32:return Int32Array.of(t)[0];case 16:return Int16Array.of(t)[0];case 8:return Int8Array.of(t)[0]}},xO=t=>a_(typeof t=="string"?Hf(t):t),yO=t=>mO(typeof t=="string"?Hf(t):t),qJ=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Hf=t=>{let e=t.match(qJ);if(e===null||e[0].length!==t.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(t)},Iu=t=>fO(typeof t=="string"?Hf(t):t),SO=t=>hO(typeof t=="string"?Hf(t):t),JJ=t=>String(new TypeError(t).stack||t).split(`
`).slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join(`
`),QJ={warn:console.warn}});function ji(t){let e=t.getUTCFullYear(),r=t.getUTCMonth(),o=t.getUTCDay(),n=t.getUTCDate(),s=t.getUTCHours(),i=t.getUTCMinutes(),a=t.getUTCSeconds(),c=n<10?`0${n}`:`${n}`,u=s<10?`0${s}`:`${s}`,m=i<10?`0${i}`:`${i}`,f=a<10?`0${a}`:`${a}`;return`${YJ[o]}, ${c} ${p_[r]} ${e} ${u}:${m}:${f} GMT`}var YJ,p_,XJ,EO,ZJ,_O,eQ,tQ,rQ,jf,RO,Pd,oQ,nQ,sQ,u_,iQ,aQ,cQ,Zs,uQ,pQ,Tu,bO=p(()=>{c_();YJ=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],p_=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];XJ=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),EO=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let e=XJ.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");let[r,o,n,s,i,a,c,u]=e,m=Iu(Tu(o)),f=Zs(n,"month",1,12),h=Zs(s,"day",1,31);return Pd(m,f,h,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:u})},ZJ=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),_O=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let e=ZJ.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");let[r,o,n,s,i,a,c,u,m]=e,f=Iu(Tu(o)),h=Zs(n,"month",1,12),g=Zs(s,"day",1,31),_=Pd(f,h,g,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:u});return m.toUpperCase()!="Z"&&_.setTime(_.getTime()-pQ(m)),_},eQ=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),tQ=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),rQ=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),jf=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let e=eQ.exec(t);if(e){let[r,o,n,s,i,a,c,u]=e;return Pd(Iu(Tu(s)),u_(n),Zs(o,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:u})}if(e=tQ.exec(t),e){let[r,o,n,s,i,a,c,u]=e;return sQ(Pd(oQ(s),u_(n),Zs(o,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:u}))}if(e=rQ.exec(t),e){let[r,o,n,s,i,a,c,u]=e;return Pd(Iu(Tu(u)),u_(o),Zs(n.trimLeft(),"day",1,31),{hours:s,minutes:i,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},RO=t=>{if(t==null)return;let e;if(typeof t=="number")e=t;else if(typeof t=="string")e=xO(t);else if(typeof t=="object"&&t.tag===1)e=t.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(e)||e===1/0||e===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(e*1e3))},Pd=(t,e,r,o)=>{let n=e-1;return aQ(t,n,r),new Date(Date.UTC(t,n,r,Zs(o.hours,"hour",0,23),Zs(o.minutes,"minute",0,59),Zs(o.seconds,"seconds",0,60),uQ(o.fractionalMilliseconds)))},oQ=t=>{let e=new Date().getUTCFullYear(),r=Math.floor(e/100)*100+Iu(Tu(t));return r<e?r+100:r},nQ=50*365*24*60*60*1e3,sQ=t=>t.getTime()-new Date().getTime()>nQ?new Date(Date.UTC(t.getUTCFullYear()-100,t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds())):t,u_=t=>{let e=p_.indexOf(t);if(e<0)throw new TypeError(`Invalid month: ${t}`);return e+1},iQ=[31,28,31,30,31,30,31,31,30,31,30,31],aQ=(t,e,r)=>{let o=iQ[e];if(e===1&&cQ(t)&&(o=29),r>o)throw new TypeError(`Invalid day for ${p_[e]} in ${t}: ${r}`)},cQ=t=>t%4===0&&(t%100!==0||t%400===0),Zs=(t,e,r,o)=>{let n=SO(Tu(t));if(n<r||n>o)throw new TypeError(`${e} must be between ${r} and ${o}, inclusive`);return n},uQ=t=>t==null?0:yO("0."+t)*1e3,pQ=t=>{let e=t[0],r=1;if(e=="+")r=1;else if(e=="-")r=-1;else throw new TypeError(`Offset direction, ${e}, must be "+" or "-"`);let o=Number(t.substring(1,3)),n=Number(t.substring(4,6));return r*(o*60+n)*60*1e3},Tu=t=>{let e=0;for(;e<t.length-1&&t.charAt(e)==="0";)e++;return e===0?t:t.slice(e)}});import vO from"crypto";var d_,CO=p(()=>{d_=vO.randomUUID.bind(vO)});var wo,bs,IO=p(()=>{CO();wo=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0")),bs=()=>{if(d_)return d_();let t=new Uint8Array(16);return crypto.getRandomValues(t),t[6]=t[6]&15|64,t[8]=t[8]&63|128,wo[t[0]]+wo[t[1]]+wo[t[2]]+wo[t[3]]+"-"+wo[t[4]]+wo[t[5]]+"-"+wo[t[6]]+wo[t[7]]+"-"+wo[t[8]]+wo[t[9]]+"-"+wo[t[10]]+wo[t[11]]+wo[t[12]]+wo[t[13]]+wo[t[14]]+wo[t[15]]}});var l_=p(()=>{IO()});var TO=p(()=>{l_()});var on,wO=p(()=>{on=function(e){return Object.assign(new String(e),{deserializeJSON(){return JSON.parse(String(e))},toString(){return String(e)},toJSON(){return String(e)}})};on.from=t=>t&&typeof t=="object"&&(t instanceof on||"deserializeJSON"in t)?t:typeof t=="string"||Object.getPrototypeOf(t)===String.prototype?on(String(t)):on(JSON.stringify(t));on.fromObject=on.from});function AO(t){return(t.includes(",")||t.includes('"'))&&(t=`"${t.replace(/"/g,'\\"')}"`),t}var DO=p(()=>{});function Vi(t,e,r){let o=Number(t);if(o<e||o>r)throw new Error(`Value ${o} out of range [${e}, ${r}]`)}var m_,f_,h_,PO,OO,dQ,lQ,mQ,fQ,hQ,kO,NO,$O,LO=p(()=>{m_="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",f_="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",h_="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",PO="(\\d?\\d)",OO="(\\d{4})",dQ=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),lQ=new RegExp(`^${m_}, ${PO} ${f_} ${OO} ${h_} GMT$`),mQ=new RegExp(`^${m_}, ${PO}-${f_}-(\\d\\d) ${h_} GMT$`),fQ=new RegExp(`^${m_} ${f_} ( [1-9]|\\d\\d) ${h_} ${OO}$`),hQ=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],kO=t=>{if(t==null)return;let e=NaN;if(typeof t=="number")e=t;else if(typeof t=="string"){if(!/^-?\d*\.?\d+$/.test(t))throw new TypeError("parseEpochTimestamp - numeric string invalid.");e=Number.parseFloat(t)}else typeof t=="object"&&t.tag===1&&(e=t.value);if(isNaN(e)||Math.abs(e)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(e*1e3))},NO=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC3339 timestamps must be strings");let e=dQ.exec(t);if(!e)throw new TypeError(`Invalid RFC3339 timestamp format ${t}`);let[,r,o,n,s,i,a,,c,u]=e;Vi(o,1,12),Vi(n,1,31),Vi(s,0,23),Vi(i,0,59),Vi(a,0,60);let m=new Date(Date.UTC(Number(r),Number(o)-1,Number(n),Number(s),Number(i),Number(a),Number(c)?Math.round(parseFloat(`0.${c}`)*1e3):0));if(m.setUTCFullYear(Number(r)),u.toUpperCase()!="Z"){let[,f,h,g]=/([+-])(\d\d):(\d\d)/.exec(u)||[void 0,"+",0,0],_=f==="-"?1:-1;m.setTime(m.getTime()+_*(Number(h)*60*60*1e3+Number(g)*60*1e3))}return m},$O=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC7231 timestamps must be strings.");let e,r,o,n,s,i,a,c;if((c=lQ.exec(t))?[,e,r,o,n,s,i,a]=c:(c=mQ.exec(t))?([,e,r,o,n,s,i,a]=c,o=(Number(o)+1900).toString()):(c=fQ.exec(t))&&([,r,e,n,s,i,a,o]=c),o&&i){let u=Date.UTC(Number(o),hQ.indexOf(r),Number(e),Number(n),Number(s),Number(i),a?Math.round(parseFloat(`0.${a}`)*1e3):0);Vi(e,1,31),Vi(n,0,23),Vi(s,0,59),Vi(i,0,60);let m=new Date(u);return m.setUTCFullYear(Number(o)),m}throw new TypeError(`Invalid RFC7231 date-time value ${t}.`)}});function MO(t,e,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let o=t.split(e);if(r===1)return o;let n=[],s="";for(let i=0;i<o.length;i++)s===""?s=o[i]:s+=e+o[i],(i+1)%r===0&&(n.push(s),s="");return s!==""&&n.push(s),n}var BO=p(()=>{});var Vf,UO=p(()=>{Vf=t=>{let e=t.length,r=[],o=!1,n,s=0;for(let i=0;i<e;++i){let a=t[i];switch(a){case'"':n!=="\\"&&(o=!o);break;case",":o||(r.push(t.slice(s,i)),s=i+1);break;default:}n=a}return r.push(t.slice(s)),r.map(i=>{i=i.trim();let a=i.length;return a<2?i:(i[0]==='"'&&i[a-1]==='"'&&(i=i.slice(1,a-1)),i.replace(/\\"/g,'"'))})}});var FO,pr,GO=p(()=>{FO=/^-?\d*(\.\d+)?$/,pr=class t{string;type;constructor(e,r){if(this.string=e,this.type=r,!FO.test(e))throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}toString(){return this.string}static[Symbol.hasInstance](e){if(!e||typeof e!="object")return!1;let r=e;return t.prototype.isPrototypeOf(e)||r.type==="bigDecimal"&&FO.test(r.string)}}});var vs=p(()=>{lO();bO();TO();wO();c_();DO();LO();BO();UO();GO()});var ei,wu=p(()=>{ei=class{serdeContext;setSerdeContext(e){this.serdeContext=e}}});var g_,HO=p(()=>{wt();g_=class{marshaller;serializer;deserializer;serdeContext;defaultContentType;constructor({marshaller:e,serializer:r,deserializer:o,serdeContext:n,defaultContentType:s}){this.marshaller=e,this.serializer=r,this.deserializer=o,this.serdeContext=n,this.defaultContentType=s}async serializeEventStream({eventStream:e,requestSchema:r,initialRequest:o}){let n=this.marshaller,s=r.getEventStreamMember(),i=r.getMemberSchema(s),a=this.serializer,c=this.defaultContentType,u=Symbol("initialRequestMarker"),m={async*[Symbol.asyncIterator](){if(o){let f={":event-type":{type:"string",value:"initial-request"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:c}};a.write(r,o);let h=a.flush();yield{[u]:!0,headers:f,body:h}}for await(let f of e)yield f}};return n.serialize(m,f=>{if(f[u])return{headers:f.headers,body:f.body};let h=Object.keys(f).find(G=>G!=="__type")??"",{additionalHeaders:g,body:_,eventType:R,explicitPayloadContentType:T}=this.writeEventBody(h,i,f);return{headers:{":event-type":{type:"string",value:R},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:T??c},...g},body:_}})}async deserializeEventStream({response:e,responseSchema:r,initialResponseContainer:o}){let n=this.marshaller,s=r.getEventStreamMember(),a=r.getMemberSchema(s).getMemberSchemas(),c=Symbol("initialResponseMarker"),u=n.deserialize(e.body,async h=>{let g=Object.keys(h).find(R=>R!=="__type")??"",_=h[g].body;if(g==="initial-response"){let R=await this.deserializer.read(r,_);return delete R[s],{[c]:!0,...R}}else if(g in a){let R=a[g];if(R.isStructSchema()){let T={},M=!1;for(let[G,te]of R.structIterator()){let{eventHeader:le,eventPayload:Ye}=te.getMergedTraits();if(M=M||!!(le||Ye),Ye)te.isBlobSchema()?T[G]=_:te.isStringSchema()?T[G]=(this.serdeContext?.utf8Encoder??Xe)(_):te.isStructSchema()&&(T[G]=await this.deserializer.read(te,_));else if(le){let Ht=h[g].headers[G]?.value;Ht!=null&&(te.isNumericSchema()?Ht&&typeof Ht=="object"&&"bytes"in Ht?T[G]=BigInt(Ht.toString()):T[G]=Number(Ht):T[G]=Ht)}}if(M)return{[g]:T}}return{[g]:await this.deserializer.read(R,_)}}else return{$unknown:h}}),m=u[Symbol.asyncIterator](),f=await m.next();if(f.done)return u;if(f.value?.[c]){if(!r)throw new Error("@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.");for(let[h,g]of Object.entries(f.value))o[h]=g}return{async*[Symbol.asyncIterator](){for(f?.value?.[c]||(yield f.value);;){let{done:h,value:g}=await m.next();if(h)break;yield g}}}}writeEventBody(e,r,o){let n=this.serializer,s=e,i=null,a,c=r.getSchema()[4].includes(e),u={};if(c){let h=r.getMemberSchema(e);if(h.isStructSchema()){for(let[g,_]of h.structIterator()){let{eventHeader:R,eventPayload:T}=_.getMergedTraits();if(T)i=g;else if(R){let M=o[e][g],G="binary";_.isNumericSchema()?(-2)**31<=M&&M<=2**31-1?G="integer":G="long":_.isTimestampSchema()?G="timestamp":_.isStringSchema()?G="string":_.isBooleanSchema()&&(G="boolean"),M!=null&&(u[g]={type:G,value:M},delete o[e][g])}}if(i!==null){let g=h.getMemberSchema(i);g.isBlobSchema()?a="application/octet-stream":g.isStringSchema()&&(a="text/plain"),n.write(g,o[e][i])}else n.write(h,o[e])}else throw new Error("@smithy/core/event-streams - non-struct member not supported in event stream union.")}else{let[h,g]=o[e];s=h,n.write(15,g)}let m=n.flush();return{body:typeof m=="string"?(this.serdeContext?.utf8Decoder??it)(m):m,eventType:s,explicitPayloadContentType:a,additionalHeaders:u}}}});var jO={};_n(jO,{EventStreamSerde:()=>g_});var VO=p(()=>{HO()});var Au,zf=p(()=>{Ce();Oe();wu();Au=class extends ei{options;constructor(e){super(),this.options=e}getRequestType(){return me}getResponseType(){return To}setSerdeContext(e){this.serdeContext=e,this.serializer.setSerdeContext(e),this.deserializer.setSerdeContext(e),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(e)}updateServiceEndpoint(e,r){if("url"in r){e.protocol=r.url.protocol,e.hostname=r.url.hostname,e.port=r.url.port?Number(r.url.port):void 0,e.path=r.url.pathname,e.fragment=r.url.hash||void 0,e.username=r.url.username||void 0,e.password=r.url.password||void 0,e.query||(e.query={});for(let[o,n]of r.url.searchParams.entries())e.query[o]=n;return e}else return e.protocol=r.protocol,e.hostname=r.hostname,e.port=r.port?Number(r.port):void 0,e.path=r.path,e.query={...r.query},e}setHostPrefix(e,r,o){let n=se.of(r.input),s=Hi(r.traits??{});if(s.endpoint){let i=s.endpoint?.[0];if(typeof i=="string"){let a=[...n.structIterator()].filter(([,c])=>c.getMergedTraits().hostLabel);for(let[c]of a){let u=o[c];if(typeof u!="string")throw new Error(`@smithy/core/schema - ${c} in input must be a string as hostLabel.`);i=i.replace(`{${c}}`,u)}e.hostname=i+e.hostname}}}deserializeMetadata(e){return{httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:e,requestSchema:r,initialRequest:o}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:e,requestSchema:r,initialRequest:o})}async deserializeEventStream({response:e,responseSchema:r,initialResponseContainer:o}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:e,responseSchema:r,initialResponseContainer:o})}async loadEventStreamCapability(){let{EventStreamSerde:e}=await Promise.resolve().then(()=>(VO(),jO));return new e({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(e,r,o,n,s){return[]}getEventStreamMarshaller(){let e=this.serdeContext;if(!e.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return e.eventStreamMarshaller}}});var Du,zO=p(()=>{Ce();vs();Oe();ga();Bf();t_();zf();Du=class extends Au{async serializeRequest(e,r,o){let n={...r??{}},s=this.serializer,i={},a={},c=await o.endpoint(),u=se.of(e?.input),m=u.getSchema(),f=!1,h,g=new me({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:i,headers:a,body:void 0});if(c){this.updateServiceEndpoint(g,c),this.setHostPrefix(g,e,n);let _=Hi(e.traits);if(_.http){g.method=_.http[0];let[R,T]=_.http[1].split("?");g.path=="/"?g.path=R:g.path+=R;let M=new URLSearchParams(T??"");Object.assign(i,Object.fromEntries(M))}}for(let[_,R]of u.structIterator()){let T=R.getMergedTraits()??{},M=n[_];if(!(M==null&&!R.isIdempotencyToken()))if(T.httpPayload)R.isStreaming()?R.isStructSchema()?n[_]&&(h=await this.serializeEventStream({eventStream:n[_],requestSchema:u})):h=M:(s.write(R,M),h=s.flush()),delete n[_];else if(T.httpLabel){s.write(R,M);let G=s.flush();g.path.includes(`{${_}+}`)?g.path=g.path.replace(`{${_}+}`,G.split("/").map(Cu).join("/")):g.path.includes(`{${_}}`)&&(g.path=g.path.replace(`{${_}}`,Cu(G))),delete n[_]}else if(T.httpHeader)s.write(R,M),a[T.httpHeader.toLowerCase()]=String(s.flush()),delete n[_];else if(typeof T.httpPrefixHeaders=="string"){for(let[G,te]of Object.entries(M)){let le=T.httpPrefixHeaders+G;s.write([R.getValueSchema(),{httpHeader:le}],te),a[le.toLowerCase()]=s.flush()}delete n[_]}else T.httpQuery||T.httpQueryParams?(this.serializeQuery(R,M,i),delete n[_]):f=!0}return f&&n&&(s.write(m,n),h=s.flush()),g.headers=a,g.query=i,g.body=h,g}serializeQuery(e,r,o){let n=this.serializer,s=e.getMergedTraits();if(s.httpQueryParams){for(let[i,a]of Object.entries(r))if(!(i in o)){let c=e.getValueSchema();Object.assign(c.getMergedTraits(),{...s,httpQuery:i,httpQueryParams:void 0}),this.serializeQuery(c,a,o)}return}if(e.isListSchema()){let i=!!e.getMergedTraits().sparse,a=[];for(let c of r){n.write([e.getValueSchema(),s],c);let u=n.flush();(i||u!==void 0)&&a.push(u)}o[s.httpQuery]=a}else n.write([e,s],r),o[s.httpQuery]=n.flush()}async deserializeResponse(e,r,o){let n=this.deserializer,s=se.of(e.output),i={};if(o.statusCode>=300){let c=await rn(o.body,r);throw c.byteLength>0&&Object.assign(i,await n.read(15,c)),await this.handleError(e,r,o,i,this.deserializeMetadata(o)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let c in o.headers){let u=o.headers[c];delete o.headers[c],o.headers[c.toLowerCase()]=u}let a=await this.deserializeHttpMessage(s,r,o,i);if(a.length){let c=await rn(o.body,r);if(c.byteLength>0){let u=await n.read(s,c);for(let m of a)i[m]=u[m]}}else a.discardResponseBody&&await rn(o.body,r);return i.$metadata=this.deserializeMetadata(o),i}async deserializeHttpMessage(e,r,o,n,s){let i;n instanceof Set?i=s:i=n;let a=!0,c=this.deserializer,u=se.of(e),m=[];for(let[f,h]of u.structIterator()){let g=h.getMemberTraits();if(g.httpPayload){if(a=!1,h.isStreaming())h.isStructSchema()?i[f]=await this.deserializeEventStream({response:o,responseSchema:u}):i[f]=vu(o.body);else if(o.body){let R=await rn(o.body,r);R.byteLength>0&&(i[f]=await c.read(h,R))}}else if(g.httpHeader){let _=String(g.httpHeader).toLowerCase(),R=o.headers[_];if(R!=null)if(h.isListSchema()){let T=h.getValueSchema();T.getMergedTraits().httpHeader=_;let M;T.isTimestampSchema()&&T.getSchema()===4?M=MO(R,",",2):M=Vf(R);let G=[];for(let te of M)G.push(await c.read(T,te.trim()));i[f]=G}else i[f]=await c.read(h,R)}else if(g.httpPrefixHeaders!==void 0){i[f]={};for(let[_,R]of Object.entries(o.headers))if(_.startsWith(g.httpPrefixHeaders)){let T=h.getValueSchema();T.getMergedTraits().httpHeader=_,i[f][_.slice(g.httpPrefixHeaders.length)]=await c.read(T,R)}}else g.httpResponseCode?i[f]=o.statusCode:m.push(f)}return m.discardResponseBody=a,m}}});var Pu,KO=p(()=>{Ce();Oe();Bf();zf();Pu=class extends Au{async serializeRequest(e,r,o){let n=this.serializer,s={},i={},a=await o.endpoint(),c=se.of(e?.input),u=c.getSchema(),m,f=new me({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:s,headers:i,body:void 0});a&&(this.updateServiceEndpoint(f,a),this.setHostPrefix(f,e,r));let h={...r};if(r){let g=c.getEventStreamMember();if(g){if(h[g]){let _={};for(let[R,T]of c.structIterator())R!==g&&h[R]&&(n.write(T,h[R]),_[R]=n.flush());m=await this.serializeEventStream({eventStream:h[g],requestSchema:c,initialRequest:_})}}else n.write(u,h),m=n.flush()}return f.headers=i,f.query=s,f.body=m,f.method="POST",f}async deserializeResponse(e,r,o){let n=this.deserializer,s=se.of(e.output),i={};if(o.statusCode>=300){let c=await rn(o.body,r);throw c.byteLength>0&&Object.assign(i,await n.read(15,c)),await this.handleError(e,r,o,i,this.deserializeMetadata(o)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let c in o.headers){let u=o.headers[c];delete o.headers[c],o.headers[c.toLowerCase()]=u}let a=s.getEventStreamMember();if(a)i[a]=await this.deserializeEventStream({response:o,responseSchema:s,initialResponseContainer:i});else{let c=await rn(o.body,r);c.byteLength>0&&Object.assign(i,await n.read(s,c))}return i.$metadata=this.deserializeMetadata(o),i}}});var WO=p(()=>{});var qO=p(()=>{});function Kn(t,e){if(e.timestampFormat.useTrait&&t.isTimestampSchema()&&(t.getSchema()===5||t.getSchema()===6||t.getSchema()===7))return t.getSchema();let{httpLabel:r,httpPrefixHeaders:o,httpHeader:n,httpQuery:s}=t.getMergedTraits();return(e.httpBindings?typeof o=="string"||n?6:s||r?5:void 0:void 0)??e.timestampFormat.default}var Kf=p(()=>{});var Ou,x_=p(()=>{Ce();vs();Kt();wt();wu();Kf();Ou=class extends ei{settings;constructor(e){super(),this.settings=e}read(e,r){let o=se.of(e);if(o.isListSchema())return Vf(r).map(n=>this.read(o.getValueSchema(),n));if(o.isBlobSchema())return(this.serdeContext?.base64Decoder??st)(r);if(o.isTimestampSchema())switch(Kn(o,this.settings)){case 5:return NO(r);case 6:return $O(r);case 7:return kO(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(o.isStringSchema()){let n=o.getMergedTraits().mediaType,s=r;if(n)return o.getMergedTraits().httpHeader&&(s=this.base64ToUtf8(s)),(n==="application/json"||n.endsWith("+json"))&&(s=on.from(s)),s}return o.isNumericSchema()?Number(r):o.isBigIntegerSchema()?BigInt(r):o.isBigDecimalSchema()?new pr(r,"bigDecimal"):o.isBooleanSchema()?String(r).toLowerCase()==="true":r}base64ToUtf8(e){return(this.serdeContext?.utf8Encoder??Xe)((this.serdeContext?.base64Decoder??st)(e))}}});var ku,JO=p(()=>{Ce();wt();wu();x_();ku=class extends ei{codecDeserializer;stringDeserializer;constructor(e,r){super(),this.codecDeserializer=e,this.stringDeserializer=new Ou(r)}setSerdeContext(e){this.stringDeserializer.setSerdeContext(e),this.codecDeserializer.setSerdeContext(e),this.serdeContext=e}read(e,r){let o=se.of(e),n=o.getMergedTraits(),s=this.serdeContext?.utf8Encoder??Xe;if(n.httpHeader||n.httpResponseCode)return this.stringDeserializer.read(o,s(r));if(n.httpPayload){if(o.isBlobSchema()){let i=this.serdeContext?.utf8Decoder??it;return typeof r=="string"?i(r):r}else if(o.isStringSchema())return"byteLength"in r?s(r):r}return this.codecDeserializer.read(o,r)}}});var Wf,y_=p(()=>{Ce();vs();Kt();wu();Kf();Wf=class extends ei{settings;stringBuffer="";constructor(e){super(),this.settings=e}write(e,r){let o=se.of(e);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(o.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${o.getName(!0)}`);switch(Kn(o,this.settings)){case 5:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case 6:this.stringBuffer=ji(r);break;case 7:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(o.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??we)(r);return}if(o.isListSchema()&&Array.isArray(r)){let i="";for(let a of r){this.write([o.getValueSchema(),o.getMergedTraits()],a);let c=this.flush(),u=o.getValueSchema().isTimestampSchema()?c:AO(c);i!==""&&(i+=", "),i+=u}this.stringBuffer=i;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let n=o.getMergedTraits().mediaType,s=r;if(n&&((n==="application/json"||n.endsWith("+json"))&&(s=on.from(s)),o.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??we)(s.toString());return}this.stringBuffer=r;break;default:o.isIdempotencyToken()?this.stringBuffer=bs():this.stringBuffer=String(r)}}flush(){let e=this.stringBuffer;return this.stringBuffer="",e}}});var Nu,QO=p(()=>{Ce();y_();Nu=class{codecSerializer;stringSerializer;buffer;constructor(e,r,o=new Wf(r)){this.codecSerializer=e,this.stringSerializer=o}setSerdeContext(e){this.codecSerializer.setSerdeContext(e),this.stringSerializer.setSerdeContext(e)}write(e,r){let o=se.of(e),n=o.getMergedTraits();if(n.httpHeader||n.httpLabel||n.httpQuery){this.stringSerializer.write(o,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(o,r)}flush(){if(this.buffer!==void 0){let e=this.buffer;return this.buffer=void 0,e}return this.codecSerializer.flush()}}});var Cs=p(()=>{Bf();t_();zO();zf();KO();qO();WO();x_();JO();QO();y_();Kf();wu()});var YO=p(()=>{});function XO(t,e,r){t.__smithy_context?t.__smithy_context.features||(t.__smithy_context.features={}):t.__smithy_context={features:{}},t.__smithy_context.features[e]=r}var ZO=p(()=>{});var dr,ek=p(()=>{dr=class{authSchemes=new Map;constructor(e){for(let[r,o]of Object.entries(e))o!==void 0&&this.authSchemes.set(r,o)}getIdentityProvider(e){return this.authSchemes.get(e)}}});var tk=p(()=>{});var rk=p(()=>{});var Ao,ok=p(()=>{Ao=class{async sign(e,r,o){return e}}});var nk=p(()=>{tk();rk();ok()});var gQ,sk,S_,ik,ak=p(()=>{gQ=t=>function(r){return S_(r)&&r.expiration.getTime()-Date.now()<t},sk=gQ(3e5),S_=t=>t.expiration!==void 0,ik=(t,e,r)=>{if(t===void 0)return;let o=typeof t!="function"?async()=>Promise.resolve(t):t,n,s,i,a=!1,c=async u=>{s||(s=o(u));try{n=await s,i=!0,a=!1}finally{s=void 0}return n};return e===void 0?async u=>((!i||u?.forceRefresh)&&(n=await c(u)),n):async u=>((!i||u?.forceRefresh)&&(n=await c(u)),a?n:r(n)?(e(n)&&await c(u),n):(a=!0,n))}});var ck=p(()=>{ek();nk();ak()});var At=p(()=>{CD();ND();MD();BD();UD();YO();ZO();ck()});function xQ(t){return t===void 0?!0:typeof t=="string"&&t.length<=50}function Mr(t){let e=Mi(t.userAgentAppId??E_),{customUserAgent:r}=t;return Object.assign(t,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:async()=>{let o=await e();if(!xQ(o)){let n=t.logger?.constructor?.name==="NoOpLogger"||!t.logger?console:t.logger;typeof o!="string"?n?.warn("userAgentAppId must be a string or undefined."):o.length>50&&n?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return o}})}var E_,uk=p(()=>{At();E_=void 0});var lr,pk=p(()=>{lr=class{capacity;data=new Map;parameters=[];constructor({size:e,params:r}){this.capacity=e??50,r&&(this.parameters=r)}get(e,r){let o=this.hash(e);if(o===!1)return r();if(!this.data.has(o)){if(this.data.size>this.capacity+10){let n=this.data.keys(),s=0;for(;;){let{value:i,done:a}=n.next();if(this.data.delete(i),a||++s>10)break}}this.data.set(o,r())}return this.data.get(o)}size(){return this.data.size}hash(e){let r="",{parameters:o}=this;if(o.length===0)return!1;for(let n of o){let s=String(e[n]??"");if(s.includes("|;"))return!1;r+=s+"|;"}return r}}});var yQ,Od,__=p(()=>{yQ=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),Od=t=>yQ.test(t)||t.startsWith("[")&&t.endsWith("]")});var SQ,Sc,R_=p(()=>{SQ=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Sc=(t,e=!1)=>{if(!e)return SQ.test(t);let r=t.split(".");for(let o of r)if(!Sc(o))return!1;return!0}});var jt,qf=p(()=>{jt={}});var zi,dk=p(()=>{zi="endpoints"});function Wn(t){return typeof t!="object"||t==null?t:"ref"in t?`$${Wn(t.ref)}`:"fn"in t?`${t.fn}(${(t.argv||[]).map(Wn).join(", ")})`:JSON.stringify(t,null,2)}var lk=p(()=>{});var kd=p(()=>{dk();lk()});var kt,mk=p(()=>{kt=class extends Error{constructor(e){super(e),this.name="EndpointError"}}});var fk=p(()=>{});var hk=p(()=>{});var gk=p(()=>{});var xk=p(()=>{});var yk=p(()=>{});var Sk=p(()=>{});var qn=p(()=>{mk();fk();hk();gk();xk();yk();Sk()});var Ek,_k=p(()=>{Ek=(t,e)=>t===e});var Rk,bk=p(()=>{qn();Rk=t=>{let e=t.split("."),r=[];for(let o of e){let n=o.indexOf("[");if(n!==-1){if(o.indexOf("]")!==o.length-1)throw new kt(`Path: '${t}' does not end with ']'`);let s=o.slice(n+1,-1);if(Number.isNaN(parseInt(s)))throw new kt(`Invalid array index: '${s}' in path: '${t}'`);n!==0&&r.push(o.slice(0,n)),r.push(s)}else r.push(o)}return r}});var Jf,vk=p(()=>{qn();bk();Jf=(t,e)=>Rk(e).reduce((r,o)=>{if(typeof r!="object")throw new kt(`Index '${o}' in '${e}' not found in '${JSON.stringify(t)}'`);return Array.isArray(r)?r[parseInt(o)]:r[o]},t)});var Ck,Ik=p(()=>{Ck=t=>t!=null});var Tk,wk=p(()=>{Tk=t=>!t});var b_,Ak,Dk=p(()=>{fa();__();b_={[Su.HTTP]:80,[Su.HTTPS]:443},Ak=t=>{let e=(()=>{try{if(t instanceof URL)return t;if(typeof t=="object"&&"hostname"in t){let{hostname:h,port:g,protocol:_="",path:R="",query:T={}}=t,M=new URL(`${_}//${h}${g?`:${g}`:""}${R}`);return M.search=Object.entries(T).map(([G,te])=>`${G}=${te}`).join("&"),M}return new URL(t)}catch{return null}})();if(!e)return console.error(`Unable to parse ${JSON.stringify(t)} as a whatwg URL.`),null;let r=e.href,{host:o,hostname:n,pathname:s,protocol:i,search:a}=e;if(a)return null;let c=i.slice(0,-1);if(!Object.values(Su).includes(c))return null;let u=Od(n),m=r.includes(`${o}:${b_[c]}`)||typeof t=="string"&&t.includes(`${o}:${b_[c]}`),f=`${o}${m?`:${b_[c]}`:""}`;return{scheme:c,authority:f,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:u}}});var Pk,Ok=p(()=>{Pk=(t,e)=>t===e});var kk,Nk=p(()=>{kk=(t,e,r,o)=>e>=r||t.length<r?null:o?t.substring(t.length-r,t.length-e):t.substring(e,r)});var $k,Lk=p(()=>{$k=t=>encodeURIComponent(t).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)});var v_=p(()=>{_k();vk();Ik();R_();wk();Dk();Ok();Nk();Lk()});var Mk,Bk=p(()=>{v_();Mk={booleanEquals:Ek,getAttr:Jf,isSet:Ck,isValidHostLabel:Sc,not:Tk,parseURL:Ak,stringEquals:Pk,substring:kk,uriEncode:$k}});var Qf,C_=p(()=>{v_();Qf=(t,e)=>{let r=[],o={...e.endpointParams,...e.referenceRecord},n=0;for(;n<t.length;){let s=t.indexOf("{",n);if(s===-1){r.push(t.slice(n));break}r.push(t.slice(n,s));let i=t.indexOf("}",s);if(i===-1){r.push(t.slice(s));break}t[s+1]==="{"&&t[i+1]==="}"&&(r.push(t.slice(s+1,i)),n=i+2);let a=t.substring(s+1,i);if(a.includes("#")){let[c,u]=a.split("#");r.push(Jf(o[c],u))}else r.push(o[a]);n=i+1}return r.join("")}});var Uk,Fk=p(()=>{Uk=({ref:t},e)=>({...e.endpointParams,...e.referenceRecord})[t]});var Ec,Yf,Gk,Nd=p(()=>{qn();qf();Bk();C_();Fk();Ec=(t,e,r)=>{if(typeof t=="string")return Qf(t,r);if(t.fn)return Gk.callFunction(t,r);if(t.ref)return Uk(t,r);throw new kt(`'${e}': ${String(t)} is not a string, function or reference.`)},Yf=({fn:t,argv:e},r)=>{let o=e.map(s=>["boolean","number"].includes(typeof s)?s:Gk.evaluateExpression(s,"arg",r)),n=t.split(".");return n[0]in jt&&n[1]!=null?jt[n[0]][n[1]](...o):Mk[t](...o)},Gk={evaluateExpression:Ec,callFunction:Yf}});var Hk=p(()=>{Nd()});var jk,Vk=p(()=>{kd();qn();Hk();jk=({assign:t,...e},r)=>{if(t&&t in r.referenceRecord)throw new kt(`'${t}' is already defined in Reference Record.`);let o=Yf(e,r);return r.logger?.debug?.(`${zi} evaluateCondition: ${Wn(e)} = ${Wn(o)}`),{result:o===""?!0:!!o,...t!=null&&{toAssign:{name:t,value:o}}}}});var $u,Xf=p(()=>{kd();Vk();$u=(t=[],e)=>{let r={};for(let o of t){let{result:n,toAssign:s}=jk(o,{...e,referenceRecord:{...e.referenceRecord,...r}});if(!n)return{result:n};s&&(r[s.name]=s.value,e.logger?.debug?.(`${zi} assign: ${s.name} := ${Wn(s.value)}`))}return{result:!0,referenceRecord:r}}});var zk,Kk=p(()=>{qn();Nd();zk=(t,e)=>Object.entries(t).reduce((r,[o,n])=>({...r,[o]:n.map(s=>{let i=Ec(s,"Header value entry",e);if(typeof i!="string")throw new kt(`Header '${o}' value '${i}' is not a string`);return i})}),{})});var I_,Wk,qk,Jk=p(()=>{qn();C_();I_=(t,e)=>Object.entries(t).reduce((r,[o,n])=>({...r,[o]:qk.getEndpointProperty(n,e)}),{}),Wk=(t,e)=>{if(Array.isArray(t))return t.map(r=>Wk(r,e));switch(typeof t){case"string":return Qf(t,e);case"object":if(t===null)throw new kt(`Unexpected endpoint property: ${t}`);return qk.getEndpointProperties(t,e);case"boolean":return t;default:throw new kt(`Unexpected endpoint property type: ${typeof t}`)}},qk={getEndpointProperty:Wk,getEndpointProperties:I_}});var Qk,Yk=p(()=>{qn();Nd();Qk=(t,e)=>{let r=Ec(t,"Endpoint URL",e);if(typeof r=="string")try{return new URL(r)}catch(o){throw console.error(`Failed to construct URL with ${r}`,o),o}throw new kt(`Endpoint URL must be a string, got ${typeof r}`)}});var Xk,Zk=p(()=>{kd();Xf();Kk();Jk();Yk();Xk=(t,e)=>{let{conditions:r,endpoint:o}=t,{result:n,referenceRecord:s}=$u(r,e);if(!n)return;let i={...e,referenceRecord:{...e.referenceRecord,...s}},{url:a,properties:c,headers:u}=o;return e.logger?.debug?.(`${zi} Resolving endpoint from template: ${Wn(o)}`),{...u!=null&&{headers:zk(u,i)},...c!=null&&{properties:I_(c,i)},url:Qk(a,i)}}});var eN,tN=p(()=>{qn();Xf();Nd();eN=(t,e)=>{let{conditions:r,error:o}=t,{result:n,referenceRecord:s}=$u(r,e);if(n)throw new kt(Ec(o,"Error",{...e,referenceRecord:{...e.referenceRecord,...s}}))}});var T_,EQ,rN,oN=p(()=>{qn();Xf();Zk();tN();T_=(t,e)=>{for(let r of t)if(r.type==="endpoint"){let o=Xk(r,e);if(o)return o}else if(r.type==="error")eN(r,e);else if(r.type==="tree"){let o=rN.evaluateTreeRule(r,e);if(o)return o}else throw new kt(`Unknown endpoint rule: ${r}`);throw new kt("Rules evaluation failed")},EQ=(t,e)=>{let{conditions:r,rules:o}=t,{result:n,referenceRecord:s}=$u(r,e);if(n)return rN.evaluateRules(o,{...e,referenceRecord:{...e.referenceRecord,...s}})},rN={evaluateRules:T_,evaluateTreeRule:EQ}});var nN=p(()=>{qf();oN()});var Br,sN=p(()=>{kd();qn();nN();Br=(t,e)=>{let{endpointParams:r,logger:o}=e,{parameters:n,rules:s}=t;e.logger?.debug?.(`${zi} Initial EndpointParams: ${Wn(r)}`);let i=Object.entries(n).filter(([,u])=>u.default!=null).map(([u,m])=>[u,m.default]);if(i.length>0)for(let[u,m]of i)r[u]=r[u]??m;let a=Object.entries(n).filter(([,u])=>u.required).map(([u])=>u);for(let u of a)if(r[u]==null)throw new kt(`Missing required parameter: '${u}'`);let c=T_(s,{endpointParams:r,logger:o,referenceRecord:{}});return e.logger?.debug?.(`${zi} Resolved endpoint: ${Wn(c)}`),c}});var nn=p(()=>{pk();__();R_();qf();sN();qn()});var w_=p(()=>{nn()});var A_,iN=p(()=>{nn();w_();A_=(t,e=!1)=>{if(e){for(let r of t.split("."))if(!A_(r))return!1;return!0}return!(!Sc(t)||t.length<3||t.length>63||t!==t.toLowerCase()||Od(t))}});var aN,_Q,cN,uN=p(()=>{aN=":",_Q="/",cN=t=>{let e=t.split(aN);if(e.length<6)return null;let[r,o,n,s,i,...a]=e;if(r!=="arn"||o===""||n===""||a.join(aN)==="")return null;let c=a.map(u=>u.split(_Q)).flat();return{partition:o,service:n,region:s,accountId:i,resourceId:c}}});var dN,pN=p(()=>{dN={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"},"us-isob-west-1":{description:"US ISOB West"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],version:"1.1"}});var bQ,vQ,lN,mN,D_=p(()=>{pN();bQ=dN,vQ="",lN=t=>{let{partitions:e}=bQ;for(let o of e){let{regions:n,outputs:s}=o;for(let[i,a]of Object.entries(n))if(i===t)return{...s,...a}}for(let o of e){let{regionRegex:n,outputs:s}=o;if(new RegExp(n).test(t))return{...s}}let r=e.find(o=>o.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},mN=()=>vQ});var _r,fN=p(()=>{nn();iN();uN();D_();_r={isVirtualHostableS3Bucket:A_,parseArn:cN,partition:lN};jt.aws=_r});function hN(t){let e={};if(t=t.replace(/^\?/,""),t)for(let r of t.split("&")){let[o,n=null]=r.split("=");o=decodeURIComponent(o),n&&(n=decodeURIComponent(n)),o in e?Array.isArray(e[o])?e[o].push(n):e[o]=[e[o],n]:e[o]=n}return e}var gN=p(()=>{});var Lt,Jn=p(()=>{gN();Lt=t=>{if(typeof t=="string")return Lt(new URL(t));let{hostname:e,pathname:r,port:o,protocol:n,search:s}=t,i;return s&&(i=hN(s)),{hostname:e,port:o?parseInt(o):void 0,protocol:n,path:r,query:i}}});var xN=p(()=>{});var yN=p(()=>{});var SN=p(()=>{});var EN=p(()=>{});var _N=p(()=>{});var RN=p(()=>{});var bN=p(()=>{});var vN=p(()=>{});var CN=p(()=>{SN();EN();_N();RN();bN();vN()});var Is=p(()=>{fN();D_();w_();xN();yN();CN()});var IN,Ur,TN=p(()=>{IN={warningEmitted:!1},Ur=t=>{t&&!IN.warningEmitted&&parseInt(t.substring(1,t.indexOf(".")))<20&&(IN.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js ${t} in January 2026.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/c895JFp`))}});function $e(t,e,r){return t.$source||(t.$source={}),t.$source[e]=r,t}var wN=p(()=>{});function Dt(t,e,r){t.__aws_sdk_context?t.__aws_sdk_context.features||(t.__aws_sdk_context.features={}):t.__aws_sdk_context={features:{}},t.__aws_sdk_context.features[e]=r}var AN=p(()=>{});var DN=p(()=>{});var yo=p(()=>{TN();wN();AN();DN()});var P_,PN=p(()=>{Oe();P_=t=>To.isInstance(t)?t.headers?.date??t.headers?.Date:void 0});var Lu,O_=p(()=>{Lu=t=>new Date(Date.now()+t)});var ON,kN=p(()=>{O_();ON=(t,e)=>Math.abs(Lu(e).getTime()-t)>=3e5});var k_,NN=p(()=>{kN();k_=(t,e)=>{let r=Date.parse(t);return ON(r,e)?r-Date.now():e}});var N_=p(()=>{PN();O_();NN()});var $d,Zf,vt,$_=p(()=>{Oe();N_();$d=(t,e)=>{if(!e)throw new Error(`Property \`${t}\` is not resolved for AWS SDK SigV4Auth`);return e},Zf=async t=>{let e=$d("context",t.context),r=$d("config",t.config),o=e.endpointV2?.properties?.authSchemes?.[0],s=await $d("signer",r.signer)(o),i=t?.signingRegion,a=t?.signingRegionSet,c=t?.signingName;return{config:r,signer:s,signingRegion:i,signingRegionSet:a,signingName:c}},vt=class{async sign(e,r,o){if(!me.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let n=await Zf(o),{config:s,signer:i}=n,{signingRegion:a,signingName:c}=n,u=o.context;if(u?.authSchemes?.length??0>1){let[f,h]=u.authSchemes;f?.name==="sigv4a"&&h?.name==="sigv4"&&(a=h?.signingRegion??a,c=h?.signingName??c)}return await i.sign(e,{signingDate:Lu(s.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(e){return r=>{let o=r.ServerTime??P_(r.$response);if(o){let n=$d("config",e.config),s=n.systemClockOffset;n.systemClockOffset=k_(o,n.systemClockOffset),n.systemClockOffset!==s&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(e,r){let o=P_(e);if(o){let n=$d("config",r.config);n.systemClockOffset=k_(o,n.systemClockOffset)}}}});var Ld,$N=p(()=>{Oe();N_();$_();Ld=class extends vt{async sign(e,r,o){if(!me.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:n,signer:s,signingRegion:i,signingRegionSet:a,signingName:c}=await Zf(o),m=(await n.sigv4aSigningRegionSet?.()??a??[i]).join(",");return await s.sign(e,{signingDate:Lu(n.systemClockOffset),signingRegion:m,signingService:c})}}});var L_,LN=p(()=>{L_=t=>typeof t=="string"&&t.length>0?t.split(",").map(e=>e.trim()):[]});var MN,M_=p(()=>{MN=t=>`AWS_BEARER_TOKEN_${t.replace(/[\s-]/g,"_").toUpperCase()}`});var BN,UN,Fr,FN=p(()=>{LN();M_();BN="AWS_AUTH_SCHEME_PREFERENCE",UN="auth_scheme_preference",Fr={environmentVariableSelector:(t,e)=>{if(e?.signingName&&MN(e.signingName)in t)return["httpBearerAuth"];if(BN in t)return L_(t[BN])},configFileSelector:t=>{if(UN in t)return L_(t[UN])},default:[]}});var Go,Md=p(()=>{Go=class t extends Error{name="ProviderError";tryNextLink;constructor(e,r=!0){let o,n=!0;typeof r=="boolean"?(o=void 0,n=r):r!=null&&typeof r=="object"&&(o=r.logger,n=r.tryNextLink??!0),super(e),this.tryNextLink=n,Object.setPrototypeOf(this,t.prototype),o?.debug?.(`@smithy/property-provider ${n?"->":"(!)"} ${e}`)}static from(e,r=!0){return Object.assign(new this(e.message,r),e)}}});var Q,GN=p(()=>{Md();Q=class t extends Go{name="CredentialsProviderError";constructor(e,r=!0){super(e,r),Object.setPrototypeOf(this,t.prototype)}}});var Qn,HN=p(()=>{Md();Qn=class t extends Go{name="TokenProviderError";constructor(e,r=!0){super(e,r),Object.setPrototypeOf(this,t.prototype)}}});var Mu,jN=p(()=>{Md();Mu=(...t)=>async()=>{if(t.length===0)throw new Go("No providers in chain");let e;for(let r of t)try{return await r()}catch(o){if(e=o,o?.tryNextLink)continue;throw o}throw e}});var VN,zN=p(()=>{VN=t=>()=>Promise.resolve(t)});var eh,KN=p(()=>{eh=(t,e,r)=>{let o,n,s,i=!1,a=async()=>{n||(n=t());try{o=await n,s=!0,i=!1}finally{n=void 0}return o};return e===void 0?async c=>((!s||c?.forceRefresh)&&(o=await a()),o):async c=>((!s||c?.forceRefresh)&&(o=await a()),i?o:r&&!r(o)?(i=!0,o):(e(o)&&await a(),o))}});var ct=p(()=>{GN();Md();HN();jN();zN();KN()});var WN,qN,JN=p(()=>{At();ct();WN=t=>(t.sigv4aSigningRegionSet=Mi(t.sigv4aSigningRegionSet),t),qN={environmentVariableSelector(t){if(t.AWS_SIGV4A_SIGNING_REGION_SET)return t.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(e=>e.trim());throw new Go("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(t){if(t.sigv4a_signing_region_set)return(t.sigv4a_signing_region_set??"").split(",").map(e=>e.trim());throw new Go("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var QN,YN,B_,XN,ZN,U_,F_,G_,H_,CQ,e3,t3,Bd,r3,o3,n3,s3,th,i3,a3,c3,j_,u3,ya=p(()=>{QN="X-Amz-Algorithm",YN="X-Amz-Credential",B_="X-Amz-Date",XN="X-Amz-SignedHeaders",ZN="X-Amz-Expires",U_="X-Amz-Signature",F_="X-Amz-Security-Token",G_="authorization",H_=B_.toLowerCase(),CQ="date",e3=[G_,H_,CQ],t3=U_.toLowerCase(),Bd="x-amz-content-sha256",r3=F_.toLowerCase(),o3={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},n3=/^proxy-/,s3=/^sec-/,th="AWS4-HMAC-SHA256",i3="AWS4-HMAC-SHA256-PAYLOAD",a3="UNSIGNED-PAYLOAD",c3=50,j_="aws4_request",u3=60*60*24*7});var rh,V_,oh,d3,p3,z_=p(()=>{Gi();wt();ya();rh={},V_=[],oh=(t,e,r)=>`${t}/${e}/${r}/${j_}`,d3=async(t,e,r,o,n)=>{let s=await p3(t,e.secretAccessKey,e.accessKeyId),i=`${r}:${o}:${n}:${qt(s)}:${e.sessionToken}`;if(i in rh)return rh[i];for(V_.push(i);V_.length>c3;)delete rh[V_.shift()];let a=`AWS4${e.secretAccessKey}`;for(let c of[r,o,n,j_])a=await p3(t,a,c);return rh[i]=a},p3=(t,e,r)=>{let o=new t(e);return o.update(Fo(r)),o.digest()}});var K_,l3=p(()=>{ya();K_=({headers:t},e,r)=>{let o={};for(let n of Object.keys(t).sort()){if(t[n]==null)continue;let s=n.toLowerCase();(s in o3||e?.has(s)||n3.test(s)||s3.test(s))&&(!r||r&&!r.has(s))||(o[s]=t[n].trim().replace(/\s+/g," "))}return o}});var nh,m3=p(()=>{Of();Gi();wt();ya();nh=async({headers:t,body:e},r)=>{for(let o of Object.keys(t))if(o.toLowerCase()===Bd)return t[o];if(e==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof e=="string"||ArrayBuffer.isView(e)||_u(e)){let o=new r;return o.update(Fo(e)),qt(await o.digest())}return a3}});function h3(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}var sh,f3,IQ,W_,g3=p(()=>{Gi();wt();sh=class{format(e){let r=[];for(let s of Object.keys(e)){let i=it(s);r.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(e[s]))}let o=new Uint8Array(r.reduce((s,i)=>s+i.byteLength,0)),n=0;for(let s of r)o.set(s,n),n+=s.byteLength;return o}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,e.value,!1),new Uint8Array(r.buffer);case"integer":let o=new DataView(new ArrayBuffer(5));return o.setUint8(0,4),o.setInt32(1,e.value,!1),new Uint8Array(o.buffer);case"long":let n=new Uint8Array(9);return n[0]=5,n.set(e.value.bytes,1),n;case"binary":let s=new DataView(new ArrayBuffer(3+e.value.byteLength));s.setUint8(0,6),s.setUint16(1,e.value.byteLength,!1);let i=new Uint8Array(s.buffer);return i.set(e.value,3),i;case"string":let a=it(e.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let u=new Uint8Array(c.buffer);return u.set(a,3),u;case"timestamp":let m=new Uint8Array(9);return m[0]=8,m.set(W_.fromNumber(e.value.valueOf()).bytes,1),m;case"uuid":if(!IQ.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let f=new Uint8Array(17);return f[0]=9,f.set(Mf(e.value.replace(/\-/g,"")),1),f}}};(function(t){t[t.boolTrue=0]="boolTrue",t[t.boolFalse=1]="boolFalse",t[t.byte=2]="byte",t[t.short=3]="short",t[t.integer=4]="integer",t[t.long=5]="long",t[t.byteArray=6]="byteArray",t[t.string=7]="string",t[t.timestamp=8]="timestamp",t[t.uuid=9]="uuid"})(f3||(f3={}));IQ=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,W_=class t{bytes;constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let o=7,n=Math.abs(Math.round(e));o>-1&&n>0;o--,n/=256)r[o]=n;return e<0&&h3(r),new t(r)}valueOf(){let e=this.bytes.slice(0),r=e[0]&128;return r&&h3(e),parseInt(qt(e),16)*(r?-1:1)}toString(){return String(this.valueOf())}}});var x3,y3=p(()=>{x3=(t,e)=>{t=t.toLowerCase();for(let r of Object.keys(e))if(t===r.toLowerCase())return!0;return!1}});var S3,E3=p(()=>{Oe();S3=(t,e={})=>{let{headers:r,query:o={}}=me.clone(t);for(let n of Object.keys(r)){let s=n.toLowerCase();(s.slice(0,6)==="x-amz-"&&!e.unhoistableHeaders?.has(s)||e.hoistableHeaders?.has(s))&&(o[n]=r[n],delete r[n])}return{...t,headers:r,query:o}}});var q_,_3=p(()=>{Oe();ya();q_=t=>{t=me.clone(t);for(let e of Object.keys(t.headers))e3.indexOf(e.toLowerCase())>-1&&delete t.headers[e];return t}});var R3,b3=p(()=>{$f();ya();R3=({query:t={}})=>{let e=[],r={};for(let o of Object.keys(t)){if(o.toLowerCase()===t3)continue;let n=Xs(o);e.push(n);let s=t[o];typeof s=="string"?r[n]=`${n}=${Xs(s)}`:Array.isArray(s)&&(r[n]=s.slice(0).reduce((i,a)=>i.concat([`${n}=${Xs(a)}`]),[]).sort().join("&"))}return e.sort().map(o=>r[o]).filter(o=>o).join("&")}});var v3,TQ,C3=p(()=>{v3=t=>TQ(t).toISOString().replace(/\.\d{3}Z$/,"Z"),TQ=t=>typeof t=="number"?new Date(t*1e3):typeof t=="string"?Number(t)?new Date(Number(t)*1e3):new Date(t):t});var ih,I3=p(()=>{Gi();Zt();$f();wt();b3();C3();ih=class{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:e,credentials:r,region:o,service:n,sha256:s,uriEscapePath:i=!0}){this.service=n,this.sha256=s,this.uriEscapePath=i,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=ge(o),this.credentialProvider=ge(r)}createCanonicalRequest(e,r,o){let n=Object.keys(r).sort();return`${e.method}
${this.getCanonicalPath(e)}
${R3(e)}
${n.map(s=>`${s}:${r[s]}`).join(`
`)}

${n.join(";")}
${o}`}async createStringToSign(e,r,o,n){let s=new this.sha256;s.update(Fo(o));let i=await s.digest();return`${n}
${e}
${r}
${qt(i)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let r=[];for(let s of e.split("/"))s?.length!==0&&s!=="."&&(s===".."?r.pop():r.push(s));let o=`${e?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&e?.endsWith("/")?"/":""}`;return Xs(o).replace(/%2F/g,"/")}return e}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(e){let r=v3(e).replace(/[\-:]/g,"");return{longDate:r,shortDate:r.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(";")}}});var _c,T3=p(()=>{Gi();wt();ya();z_();l3();m3();g3();y3();E3();_3();I3();_c=class extends ih{headerFormatter=new sh;constructor({applyChecksum:e,credentials:r,region:o,service:n,sha256:s,uriEscapePath:i=!0}){super({applyChecksum:e,credentials:r,region:o,service:n,sha256:s,uriEscapePath:i})}async presign(e,r={}){let{signingDate:o=new Date,expiresIn:n=3600,unsignableHeaders:s,unhoistableHeaders:i,signableHeaders:a,hoistableHeaders:c,signingRegion:u,signingService:m}=r,f=await this.credentialProvider();this.validateResolvedCredentials(f);let h=u??await this.regionProvider(),{longDate:g,shortDate:_}=this.formatDate(o);if(n>u3)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let R=oh(_,h,m??this.service),T=S3(q_(e),{unhoistableHeaders:i,hoistableHeaders:c});f.sessionToken&&(T.query[F_]=f.sessionToken),T.query[QN]=th,T.query[YN]=`${f.accessKeyId}/${R}`,T.query[B_]=g,T.query[ZN]=n.toString(10);let M=K_(T,s,a);return T.query[XN]=this.getCanonicalHeaderList(M),T.query[U_]=await this.getSignature(g,R,this.getSigningKey(f,h,_,m),this.createCanonicalRequest(T,M,await nh(e,this.sha256))),T}async sign(e,r){return typeof e=="string"?this.signString(e,r):e.headers&&e.payload?this.signEvent(e,r):e.message?this.signMessage(e,r):this.signRequest(e,r)}async signEvent({headers:e,payload:r},{signingDate:o=new Date,priorSignature:n,signingRegion:s,signingService:i}){let a=s??await this.regionProvider(),{shortDate:c,longDate:u}=this.formatDate(o),m=oh(c,a,i??this.service),f=await nh({headers:{},body:r},this.sha256),h=new this.sha256;h.update(e);let g=qt(await h.digest()),_=[i3,u,m,n,g,f].join(`
`);return this.signString(_,{signingDate:o,signingRegion:a,signingService:i})}async signMessage(e,{signingDate:r=new Date,signingRegion:o,signingService:n}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:r,signingRegion:o,signingService:n,priorSignature:e.priorSignature}).then(i=>({message:e.message,signature:i}))}async signString(e,{signingDate:r=new Date,signingRegion:o,signingService:n}={}){let s=await this.credentialProvider();this.validateResolvedCredentials(s);let i=o??await this.regionProvider(),{shortDate:a}=this.formatDate(r),c=new this.sha256(await this.getSigningKey(s,i,a,n));return c.update(Fo(e)),qt(await c.digest())}async signRequest(e,{signingDate:r=new Date,signableHeaders:o,unsignableHeaders:n,signingRegion:s,signingService:i}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let c=s??await this.regionProvider(),u=q_(e),{longDate:m,shortDate:f}=this.formatDate(r),h=oh(f,c,i??this.service);u.headers[H_]=m,a.sessionToken&&(u.headers[r3]=a.sessionToken);let g=await nh(u,this.sha256);!x3(Bd,u.headers)&&this.applyChecksum&&(u.headers[Bd]=g);let _=K_(u,n,o),R=await this.getSignature(m,h,this.getSigningKey(a,c,f,i),this.createCanonicalRequest(u,_,g));return u.headers[G_]=`${th} Credential=${a.accessKeyId}/${h}, SignedHeaders=${this.getCanonicalHeaderList(_)}, Signature=${R}`,u}async getSignature(e,r,o,n){let s=await this.createStringToSign(e,r,n,th),i=new this.sha256(await o);return i.update(Fo(s)),qt(await i.digest())}getSigningKey(e,r,o,n){return d3(this.sha256,e,o,r,n||this.service)}}});var J_,w3=p(()=>{J_={SignatureV4a:null}});var ah=p(()=>{T3();ya();z_();w3()});function wQ(t,{credentials:e,credentialDefaultProvider:r}){let o;return e?e?.memoized?o=e:o=ik(e,sk,S_):r?o=Mi(r(Object.assign({},t,{parentClientConfig:t}))):o=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},o.memoized=!0,o}function AQ(t,e){if(e.configBound)return e;let r=async o=>e({...o,callerClientConfig:t});return r.memoized=e.memoized,r.configBound=!0,r}var Gr,A3=p(()=>{yo();At();ah();Gr=t=>{let e=t.credentials,r=!!t.credentials,o;Object.defineProperty(t,"credentials",{set(u){u&&u!==e&&u!==o&&(r=!0),e=u;let m=wQ(t,{credentials:e,credentialDefaultProvider:t.credentialDefaultProvider}),f=AQ(t,m);r&&!f.attributed?(o=async h=>f(h).then(g=>$e(g,"CREDENTIALS_CODE","e")),o.memoized=f.memoized,o.configBound=f.configBound,o.attributed=!0):o=f},get(){return o},enumerable:!0,configurable:!0}),t.credentials=e;let{signingEscapePath:n=!0,systemClockOffset:s=t.systemClockOffset||0,sha256:i}=t,a;return t.signer?a=Mi(t.signer):t.regionInfoProvider?a=()=>Mi(t.region)().then(async u=>[await t.regionInfoProvider(u,{useFipsEndpoint:await t.useFipsEndpoint(),useDualstackEndpoint:await t.useDualstackEndpoint()})||{},u]).then(([u,m])=>{let{signingRegion:f,signingService:h}=u;t.signingRegion=t.signingRegion||f||m,t.signingName=t.signingName||h||t.serviceId;let g={...t,credentials:t.credentials,region:t.signingRegion,service:t.signingName,sha256:i,uriEscapePath:n},_=t.signerConstructor||_c;return new _(g)}):a=async u=>{u=Object.assign({},{name:"sigv4",signingName:t.signingName||t.defaultSigningName,signingRegion:await Mi(t.region)(),properties:{}},u);let m=u.signingRegion,f=u.signingName;t.signingRegion=t.signingRegion||m,t.signingName=t.signingName||f||t.serviceId;let h={...t,credentials:t.credentials,region:t.signingRegion,service:t.signingName,sha256:i,uriEscapePath:n},g=t.signerConstructor||_c;return new g(h)},Object.assign(t,{systemClockOffset:s,signingEscapePath:n,signer:a})}});var D3=p(()=>{$_();$N();FN();JN();A3()});var P3=p(()=>{D3();M_()});var Rc,Sa,Bu,O3,k3,N3=p(()=>{Rc=(t,e)=>{let r=[];if(t&&r.push(t),e)for(let o of e)r.push(o);return r},Sa=(t,e)=>`${t||"anonymous"}${e&&e.length>0?` (a.k.a. ${e.join(",")})`:""}`,Bu=()=>{let t=[],e=[],r=!1,o=new Set,n=f=>f.sort((h,g)=>O3[g.step]-O3[h.step]||k3[g.priority||"normal"]-k3[h.priority||"normal"]),s=f=>{let h=!1,g=_=>{let R=Rc(_.name,_.aliases);if(R.includes(f)){h=!0;for(let T of R)o.delete(T);return!1}return!0};return t=t.filter(g),e=e.filter(g),h},i=f=>{let h=!1,g=_=>{if(_.middleware===f){h=!0;for(let R of Rc(_.name,_.aliases))o.delete(R);return!1}return!0};return t=t.filter(g),e=e.filter(g),h},a=f=>(t.forEach(h=>{f.add(h.middleware,{...h})}),e.forEach(h=>{f.addRelativeTo(h.middleware,{...h})}),f.identifyOnResolve?.(m.identifyOnResolve()),f),c=f=>{let h=[];return f.before.forEach(g=>{g.before.length===0&&g.after.length===0?h.push(g):h.push(...c(g))}),h.push(f),f.after.reverse().forEach(g=>{g.before.length===0&&g.after.length===0?h.push(g):h.push(...c(g))}),h},u=(f=!1)=>{let h=[],g=[],_={};return t.forEach(T=>{let M={...T,before:[],after:[]};for(let G of Rc(M.name,M.aliases))_[G]=M;h.push(M)}),e.forEach(T=>{let M={...T,before:[],after:[]};for(let G of Rc(M.name,M.aliases))_[G]=M;g.push(M)}),g.forEach(T=>{if(T.toMiddleware){let M=_[T.toMiddleware];if(M===void 0){if(f)return;throw new Error(`${T.toMiddleware} is not found when adding ${Sa(T.name,T.aliases)} middleware ${T.relation} ${T.toMiddleware}`)}T.relation==="after"&&M.after.push(T),T.relation==="before"&&M.before.push(T)}}),n(h).map(c).reduce((T,M)=>(T.push(...M),T),[])},m={add:(f,h={})=>{let{name:g,override:_,aliases:R}=h,T={step:"initialize",priority:"normal",middleware:f,...h},M=Rc(g,R);if(M.length>0){if(M.some(G=>o.has(G))){if(!_)throw new Error(`Duplicate middleware name '${Sa(g,R)}'`);for(let G of M){let te=t.findIndex(Ye=>Ye.name===G||Ye.aliases?.some(Ht=>Ht===G));if(te===-1)continue;let le=t[te];if(le.step!==T.step||T.priority!==le.priority)throw new Error(`"${Sa(le.name,le.aliases)}" middleware with ${le.priority} priority in ${le.step} step cannot be overridden by "${Sa(g,R)}" middleware with ${T.priority} priority in ${T.step} step.`);t.splice(te,1)}}for(let G of M)o.add(G)}t.push(T)},addRelativeTo:(f,h)=>{let{name:g,override:_,aliases:R}=h,T={middleware:f,...h},M=Rc(g,R);if(M.length>0){if(M.some(G=>o.has(G))){if(!_)throw new Error(`Duplicate middleware name '${Sa(g,R)}'`);for(let G of M){let te=e.findIndex(Ye=>Ye.name===G||Ye.aliases?.some(Ht=>Ht===G));if(te===-1)continue;let le=e[te];if(le.toMiddleware!==T.toMiddleware||le.relation!==T.relation)throw new Error(`"${Sa(le.name,le.aliases)}" middleware ${le.relation} "${le.toMiddleware}" middleware cannot be overridden by "${Sa(g,R)}" middleware ${T.relation} "${T.toMiddleware}" middleware.`);e.splice(te,1)}}for(let G of M)o.add(G)}e.push(T)},clone:()=>a(Bu()),use:f=>{f.applyToStack(m)},remove:f=>typeof f=="string"?s(f):i(f),removeByTag:f=>{let h=!1,g=_=>{let{tags:R,name:T,aliases:M}=_;if(R&&R.includes(f)){let G=Rc(T,M);for(let te of G)o.delete(te);return h=!0,!1}return!0};return t=t.filter(g),e=e.filter(g),h},concat:f=>{let h=a(Bu());return h.use(f),h.identifyOnResolve(r||h.identifyOnResolve()||(f.identifyOnResolve?.()??!1)),h},applyToStack:a,identify:()=>u(!0).map(f=>{let h=f.step??f.relation+" "+f.toMiddleware;return Sa(f.name,f.aliases)+" - "+h}),identifyOnResolve(f){return typeof f=="boolean"&&(r=f),r},resolve:(f,h)=>{for(let g of u().map(_=>_.middleware).reverse())f=g(f,h);return r&&console.log(m.identify()),f}};return m},O3={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},k3={high:3,normal:2,low:1}});var Q_=p(()=>{N3()});var Nt,$3=p(()=>{Q_();Nt=class{config;middlewareStack=Bu();initConfig;handlers;constructor(e){this.config=e;let{protocol:r,protocolSettings:o}=e;o&&typeof r=="function"&&(e.protocol=new r(o))}send(e,r,o){let n=typeof r!="function"?r:void 0,s=typeof r=="function"?r:o,i=n===void 0&&this.config.cacheMiddleware===!0,a;if(i){this.handlers||(this.handlers=new WeakMap);let c=this.handlers;c.has(e.constructor)?a=c.get(e.constructor):(a=e.resolveMiddleware(this.middlewareStack,this.config,n),c.set(e.constructor,a))}else delete this.handlers,a=e.resolveMiddleware(this.middlewareStack,this.config,n);if(s)a(e).then(c=>s(null,c.output),c=>s(c)).catch(()=>{});else return a(e).then(c=>c.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}}});var L3=p(()=>{Cs()});function ch(t,e){if(e==null)return e;let r=se.of(t);if(r.getMergedTraits().sensitive)return Y_;if(r.isListSchema()){if(!!r.getValueSchema().getMergedTraits().sensitive)return Y_}else if(r.isMapSchema()){if(!!r.getKeySchema().getMergedTraits().sensitive||!!r.getValueSchema().getMergedTraits().sensitive)return Y_}else if(r.isStructSchema()&&typeof e=="object"){let o=e,n={};for(let[s,i]of r.structIterator())o[s]!=null&&(n[s]=ch(i,o[s]));return n}return e}var Y_,M3=p(()=>{Ce();Y_="***SensitiveInformation***"});var Y,X_,B3=p(()=>{Q_();fa();M3();Y=class{middlewareStack=Bu();schema;static classBuilder(){return new X_}resolveMiddlewareWithContext(e,r,o,{middlewareFn:n,clientName:s,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:u,additionalContext:m,CommandCtor:f}){for(let T of n.bind(this)(f,e,r,o))this.middlewareStack.use(T);let h=e.concat(this.middlewareStack),{logger:g}=r,_={logger:g,clientName:s,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[Id]:{commandInstance:this,...u},...m},{requestHandler:R}=r;return h.resolve(T=>R.handle(T.request,o||{}),_)}},X_=class{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,r,o={}){return this._smithyContext={service:e,operation:r,...o},this}c(e={}){return this._additionalContext=e,this}n(e,r){return this._clientName=e,this._commandName=r,this}f(e=o=>o,r=o=>o){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=r,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}sc(e){return this._operationSchema=e,this._smithyContext.operationSchema=e,this}build(){let e=this,r;return r=class extends Y{input;static getEndpointParameterInstructions(){return e._ep}constructor(...[o]){super(),this.input=o??{},e._init(this),this.schema=e._operationSchema}resolveMiddleware(o,n,s){let i=e._operationSchema,a=i?.[4]??i?.input,c=i?.[5]??i?.output;return this.resolveMiddlewareWithContext(o,n,s,{CommandCtor:r,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog??(i?ch.bind(null,a):u=>u),outputFilterSensitiveLog:e._outputFilterSensitiveLog??(i?ch.bind(null,c):u=>u),smithyContext:e._smithyContext,additionalContext:e._additionalContext})}serialize=e._serializer;deserialize=e._deserializer}}}});var U3=p(()=>{});var Ea,F3=p(()=>{Ea=(t,e)=>{for(let r of Object.keys(t)){let o=t[r],n=async function(i,a,c){let u=new o(i);if(typeof a=="function")this.send(u,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(u,a||{},c)}else return this.send(u,a)},s=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");e.prototype[s]=n}}});var mr,Z_,G3=p(()=>{mr=class t extends Error{$fault;$response;$retryable;$metadata;constructor(e){super(e.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}static isInstance(e){if(!e)return!1;let r=e;return t.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](e){if(!e)return!1;let r=e;return this===t?t.isInstance(e):t.isInstance(e)?r.name&&this.name?this.prototype.isPrototypeOf(e)||r.name===this.name:this.prototype.isPrototypeOf(e):!1}},Z_=(t,e={})=>{Object.entries(e).filter(([,o])=>o!==void 0).forEach(([o,n])=>{(t[o]==null||t[o]==="")&&(t[o]=n)});let r=t.message||t.Message||"UnknownError";return t.message=r,delete t.Message,t}});var H3=p(()=>{});var Hr,j3=p(()=>{Hr=t=>{switch(t){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}}});var V3,jr,z3=p(()=>{V3=!1,jr=t=>{t&&!V3&&parseInt(t.substring(1,t.indexOf(".")))<16&&(V3=!0)}});var K3=p(()=>{});var W3,q3,J3=p(()=>{fa();W3=t=>{let e=[];for(let r in Eu){let o=Eu[r];t[o]!==void 0&&e.push({algorithmId:()=>o,checksumConstructor:()=>t[o]})}return{addChecksumAlgorithm(r){e.push(r)},checksumAlgorithms(){return e}}},q3=t=>{let e={};return t.checksumAlgorithms().forEach(r=>{e[r.algorithmId()]=r.checksumConstructor()}),e}});var Q3,Y3,X3=p(()=>{Q3=t=>({setRetryStrategy(e){t.retryStrategy=e},retryStrategy(){return t.retryStrategy}}),Y3=t=>{let e={};return e.retryStrategy=t.retryStrategy(),e}});var Vr,zr,Z3=p(()=>{J3();X3();Vr=t=>Object.assign(W3(t),Q3(t)),zr=t=>Object.assign(q3(t),Y3(t))});var e1=p(()=>{Z3()});var t1=p(()=>{});var eR,r1=p(()=>{eR=t=>{let e="#text";for(let r in t)t.hasOwnProperty(r)&&t[r][e]!==void 0?t[r]=t[r][e]:typeof t[r]=="object"&&t[r]!==null&&(t[r]=eR(t[r]));return t}});var o1=p(()=>{});var Mt,n1=p(()=>{Mt=class{trace(){}debug(){}info(){}warn(){}error(){}}});var s1=p(()=>{});var i1=p(()=>{});var a1=p(()=>{});var Ud,c1=p(()=>{Ud=t=>{if(t==null)return{};if(Array.isArray(t))return t.filter(e=>e!=null).map(Ud);if(typeof t=="object"){let e={};for(let r of Object.keys(t))t[r]!=null&&(e[r]=Ud(t[r]));return e}return t}});var U=p(()=>{$3();L3();B3();U3();F3();H3();j3();z3();G3();K3();e1();t1();r1();o1();n1();s1();i1();a1();c1();vs()});var ti,Fd=p(()=>{Ce();U();ti=class{queryCompat;constructor(e=!1){this.queryCompat=e}resolveRestContentType(e,r){let o=r.getMemberSchemas(),n=Object.values(o).find(s=>!!s.getMergedTraits().httpPayload);if(n){let s=n.getMergedTraits().mediaType;return s||(n.isStringSchema()?"text/plain":n.isBlobSchema()?"application/octet-stream":e)}else if(!r.isUnitSchema()&&Object.values(o).find(i=>{let{httpQuery:a,httpQueryParams:c,httpHeader:u,httpLabel:m,httpPrefixHeaders:f}=i.getMergedTraits();return!a&&!c&&!u&&!m&&f===void 0}))return e}async getErrorSchemaOrThrowBaseException(e,r,o,n,s,i){let a=r,c=e;e.includes("#")&&([a,c]=e.split("#"));let u={$metadata:s,$fault:o.statusCode<500?"client":"server"},m=b.for(a);try{return{errorSchema:i?.(m,c)??m.getSchema(e),errorMetadata:u}}catch{n.message=n.message??n.Message??"UnknownError";let h=b.for("smithy.ts.sdk.synthetic."+a),g=h.getBaseException();if(g){let _=h.getErrorCtor(g)??Error;throw this.decorateServiceException(Object.assign(new _({name:c}),u),n)}throw this.decorateServiceException(Object.assign(new Error(c),u),n)}}decorateServiceException(e,r={}){if(this.queryCompat){let o=e.Message??r.Message,n=Z_(e,r);o&&(n.message=o),n.Error={...n.Error,Type:n.Error.Type,Code:n.Error.Code,Message:n.Error.message??n.Error.Message??o};let s=n.$metadata.requestId;return s&&(n.RequestId=s),n}return Z_(e,r)}setQueryCompatError(e,r){let o=r.headers?.["x-amzn-query-error"];if(e!==void 0&&o!=null){let[n,s]=o.split(";"),i=Object.entries(e),a={Code:n,Type:s};Object.assign(e,a);for(let[c,u]of i)a[c==="message"?"Message":c]=u;delete a.__type,e.Error=a}}queryCompatOutput(e,r){e.Error&&(r.Error=e.Error),e.Type&&(r.Type=e.Type),e.Code&&(r.Code=e.Code)}findQueryCompatibleError(e,r){try{return e.getSchema(r)}catch{return e.find(n=>se.of(n).getMergedTraits().awsQueryError?.[0]===r)}}}});var u1=p(()=>{});var p1=p(()=>{});var Do,_a=p(()=>{Do=class{serdeContext;setSerdeContext(e){this.serdeContext=e}}});function*Uu(t,e){if(t.isUnitSchema())return;let r=t.getSchema();for(let o=0;o<r[4].length;++o){let n=r[4][o],s=r[5][o],i=new se([s,0],n);!(n in e)&&!i.isIdempotencyToken()||(yield[n,i])}}function*d1(t,e,r){if(t.isUnitSchema())return;let o=t.getSchema(),n=Object.keys(e).filter(s=>s!=="__type").length;for(let s=0;s<o[4].length&&n!==0;++s){let i=o[4][s],a=o[5][s],c=new se([a,0],i),u=i;r&&(u=c.getMergedTraits()[r]??i),u in e&&(yield[i,c],n-=1)}}var Gd=p(()=>{Ce()});var Fu,tR=p(()=>{Fu=class{from;to;keys;constructor(e,r){this.from=e,this.to=r,this.keys=new Set(Object.keys(this.from).filter(o=>o!=="__type"))}mark(e){this.keys.delete(e)}hasUnknown(){return this.keys.size===1&&Object.keys(this.to).length===0}writeUnknown(){if(this.hasUnknown()){let e=this.keys.values().next().value,r=this.from[e];this.to.$unknown=[e,r]}}}});function l1(t,e,r){if(r?.source){let o=r.source;if(typeof e=="number"&&(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER||o!==String(e)))return o.includes(".")?new pr(o,"bigDecimal"):BigInt(o)}return e}var m1=p(()=>{vs()});var f1,h1=p(()=>{U();wt();f1=(t,e)=>rn(t,e).then(r=>(e?.utf8Encoder??Xe)(r))});var g1,uh,Hd=p(()=>{h1();g1=(t,e)=>f1(t,e).then(r=>{if(r.length)try{return JSON.parse(r)}catch(o){throw o?.name==="SyntaxError"&&Object.defineProperty(o,"$responseBodyText",{value:r}),o}return{}}),uh=(t,e)=>{let r=(s,i)=>Object.keys(s).find(a=>a.toLowerCase()===i.toLowerCase()),o=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},n=r(t.headers,"x-amzn-errortype");if(n!==void 0)return o(t.headers[n]);if(e&&typeof e=="object"){let s=r(e,"code");if(s&&e[s]!==void 0)return o(e[s]);if(e.__type!==void 0)return o(e.__type)}}});var Gu,rR=p(()=>{Cs();Ce();vs();Kt();_a();Gd();tR();m1();Hd();Gu=class extends Do{settings;constructor(e){super(),this.settings=e}async read(e,r){return this._read(e,typeof r=="string"?JSON.parse(r,l1):await g1(r,this.serdeContext))}readObject(e,r){return this._read(e,r)}_read(e,r){let o=r!==null&&typeof r=="object",n=se.of(e);if(o){if(n.isStructSchema()){let i=n.isUnionSchema(),a={},c;i&&(c=new Fu(r,a));for(let[u,m]of d1(n,r,this.settings.jsonName?"jsonName":!1)){let f=this.settings.jsonName?m.getMergedTraits().jsonName??u:u;i&&c.mark(f),r[f]!=null&&(a[u]=this._read(m,r[f]))}return i&&c.writeUnknown(),a}if(Array.isArray(r)&&n.isListSchema()){let i=n.getValueSchema(),a=[],c=!!n.getMergedTraits().sparse;for(let u of r)(c||u!=null)&&a.push(this._read(i,u));return a}if(n.isMapSchema()){let i=n.getValueSchema(),a={},c=!!n.getMergedTraits().sparse;for(let[u,m]of Object.entries(r))(c||m!=null)&&(a[u]=this._read(i,m));return a}}if(n.isBlobSchema()&&typeof r=="string")return st(r);let s=n.getMergedTraits().mediaType;if(n.isStringSchema()&&typeof r=="string"&&s)return s==="application/json"||s.endsWith("+json")?on.from(r):r;if(n.isTimestampSchema()&&r!=null)switch(Kn(n,this.settings)){case 5:return _O(r);case 6:return jf(r);case 7:return RO(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(n.isBigDecimalSchema()&&r!=null){if(r instanceof pr)return r;let i=r;return i.type==="bigDecimal"&&"string"in i?new pr(i.string,i.type):new pr(String(r),"bigDecimal")}if(n.isNumericSchema()&&typeof r=="string"){switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return r}if(n.isDocumentSchema())if(o){let i=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof pr?i[a]=c:i[a]=this._read(n,c);return i}else return structuredClone(r);return r}}});var x1,ph,y1=p(()=>{vs();x1="\u039D",ph=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(e,r)=>{if(r instanceof pr){let o=`${x1+"nv"+this.counter++}_`+r.string;return this.values.set(`"${o}"`,r.string),o}if(typeof r=="bigint"){let o=r.toString(),n=`${x1+"b"+this.counter++}_`+o;return this.values.set(`"${n}"`,o),n}return r}}replaceInJson(e){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return e;for(let[r,o]of this.values)e=e.replace(r,o);return e}}});var Hu,oR=p(()=>{Cs();Ce();vs();Kt();_a();Gd();y1();Hu=class extends Do{settings;buffer;useReplacer=!1;rootSchema;constructor(e){super(),this.settings=e}write(e,r){this.rootSchema=se.of(e),this.buffer=this._write(this.rootSchema,r)}writeDiscriminatedDocument(e,r){this.write(e,r),typeof this.buffer=="object"&&(this.buffer.__type=se.of(e).getName(!0))}flush(){let{rootSchema:e,useReplacer:r}=this;if(this.rootSchema=void 0,this.useReplacer=!1,e?.isStructSchema()||e?.isDocumentSchema()){if(!r)return JSON.stringify(this.buffer);let o=new ph;return o.replaceInJson(JSON.stringify(this.buffer,o.createReplacer(),0))}return this.buffer}_write(e,r,o){let n=r!==null&&typeof r=="object",s=se.of(e);if(n){if(s.isStructSchema()){let i={};for(let[a,c]of Uu(s,r)){let u=this._write(c,r[a],s);if(u!==void 0){let m=c.getMergedTraits().jsonName,f=this.settings.jsonName?m??a:a;i[f]=u}}if(s.isUnionSchema()&&Object.keys(i).length===0){let{$unknown:a}=r;if(Array.isArray(a)){let[c,u]=a;i[c]=this._write(15,u)}}return i}if(Array.isArray(r)&&s.isListSchema()){let i=s.getValueSchema(),a=[],c=!!s.getMergedTraits().sparse;for(let u of r)(c||u!=null)&&a.push(this._write(i,u));return a}if(s.isMapSchema()){let i=s.getValueSchema(),a={},c=!!s.getMergedTraits().sparse;for(let[u,m]of Object.entries(r))(c||m!=null)&&(a[u]=this._write(i,m));return a}if(r instanceof Uint8Array&&(s.isBlobSchema()||s.isDocumentSchema()))return s===this.rootSchema?r:(this.serdeContext?.base64Encoder??we)(r);if(r instanceof Date&&(s.isTimestampSchema()||s.isDocumentSchema()))switch(Kn(s,this.settings)){case 5:return r.toISOString().replace(".000Z","Z");case 6:return ji(r);case 7:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}r instanceof pr&&(this.useReplacer=!0)}if(!(r===null&&o?.isStructSchema())){if(s.isStringSchema()){if(typeof r>"u"&&s.isIdempotencyToken())return bs();let i=s.getMergedTraits().mediaType;return r!=null&&i&&(i==="application/json"||i.endsWith("+json"))?on.from(r):r}if(typeof r=="number"&&s.isNumericSchema())return Math.abs(r)===1/0||isNaN(r)?String(r):r;if(typeof r=="string"&&s.isBlobSchema())return s===this.rootSchema?r:(this.serdeContext?.base64Encoder??we)(r);if(typeof r=="bigint"&&(this.useReplacer=!0),s.isDocumentSchema())if(n){let i=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof pr?(this.useReplacer=!0,i[a]=c):i[a]=this._write(s,c);return i}else return structuredClone(r);return r}}}});var Ra,dh=p(()=>{_a();rR();oR();Ra=class extends Do{settings;constructor(e){super(),this.settings=e}createSerializer(){let e=new Hu(this.settings);return e.setSerdeContext(this.serdeContext),e}createDeserializer(){let e=new Gu(this.settings);return e.setSerdeContext(this.serdeContext),e}}});var lh,nR=p(()=>{Cs();Ce();Fd();dh();Hd();lh=class extends Pu{serializer;deserializer;serviceTarget;codec;mixin;awsQueryCompatible;constructor({defaultNamespace:e,serviceTarget:r,awsQueryCompatible:o,jsonCodec:n}){super({defaultNamespace:e}),this.serviceTarget=r,this.codec=n??new Ra({timestampFormat:{useTrait:!0,default:7},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!o,this.mixin=new ti(this.awsQueryCompatible)}async serializeRequest(e,r,o){let n=await super.serializeRequest(e,r,o);return n.path.endsWith("/")||(n.path+="/"),Object.assign(n.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${e.name}`}),this.awsQueryCompatible&&(n.headers["x-amzn-query-mode"]="true"),(xa(e.input)==="unit"||!n.body)&&(n.body="{}"),n}getPayloadCodec(){return this.codec}async handleError(e,r,o,n,s){this.awsQueryCompatible&&this.mixin.setQueryCompatError(n,o);let i=uh(o,n)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,o,n,s,this.awsQueryCompatible?this.mixin.findQueryCompatibleError:void 0),u=se.of(a),m=n.message??n.Message??"Unknown",f=b.for(a[1]).getErrorCtor(a)??Error,h=new f(m),g={};for(let[_,R]of u.structIterator())n[_]!=null&&(g[_]=this.codec.createDeserializer().readObject(R,n[_]));throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(n,g),this.mixin.decorateServiceException(Object.assign(h,c,{$fault:u.getMergedTraits().error,message:m},g),n)}}});var mh,S1=p(()=>{nR();mh=class extends lh{constructor({defaultNamespace:e,serviceTarget:r,awsQueryCompatible:o,jsonCodec:n}){super({defaultNamespace:e,serviceTarget:r,awsQueryCompatible:o,jsonCodec:n})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var E1=p(()=>{});var ba,_1=p(()=>{Cs();Ce();Fd();dh();Hd();ba=class extends Du{serializer;deserializer;codec;mixin=new ti;constructor({defaultNamespace:e}){super({defaultNamespace:e});let r={timestampFormat:{useTrait:!0,default:7},httpBindings:!0,jsonName:!0};this.codec=new Ra(r),this.serializer=new Nu(this.codec.createSerializer(),r),this.deserializer=new ku(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(e){this.codec.setSerdeContext(e),super.setSerdeContext(e)}async serializeRequest(e,r,o){let n=await super.serializeRequest(e,r,o),s=se.of(e.input);if(!n.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),s);i&&(n.headers["content-type"]=i)}return n.body==null&&n.headers["content-type"]===this.getDefaultContentType()&&(n.body="{}"),n}async deserializeResponse(e,r,o){let n=await super.deserializeResponse(e,r,o),s=se.of(e.output);for(let[i,a]of s.structIterator())a.getMemberTraits().httpPayload&&!(i in n)&&(n[i]=null);return n}async handleError(e,r,o,n,s){let i=uh(o,n)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,o,n,s),u=se.of(a),m=n.message??n.Message??"Unknown",f=b.for(a[1]).getErrorCtor(a)??Error,h=new f(m);await this.deserializeHttpMessage(a,r,o,n);let g={};for(let[_,R]of u.structIterator()){let T=R.getMergedTraits().jsonName??_;g[_]=this.codec.createDeserializer().readObject(R,n[T])}throw this.mixin.decorateServiceException(Object.assign(h,c,{$fault:u.getMergedTraits().error,message:m},g),n)}getDefaultContentType(){return"application/json"}}});var R1=p(()=>{});function b1(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}var v1=p(()=>{});function C1(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}var I1=p(()=>{});var bc,sR=p(()=>{I1();bc=class{value;constructor(e){this.value=e}toString(){return C1(""+this.value)}}});var sn,T1=p(()=>{v1();sR();sn=class t{name;children;attributes={};static of(e,r,o){let n=new t(e);return r!==void 0&&n.addChildNode(new bc(r)),o!==void 0&&n.withName(o),n}constructor(e,r=[]){this.name=e,this.children=r}withName(e){return this.name=e,this}addAttribute(e,r){return this.attributes[e]=r,this}addChildNode(e){return this.children.push(e),this}removeAttribute(e){return delete this.attributes[e],this}n(e){return this.name=e,this}c(e){return this.children.push(e),this}a(e,r){return r!=null&&(this.attributes[e]=r),this}cc(e,r,o=r){if(e[r]!=null){let n=t.of(r,e[r]).withName(o);this.c(n)}}l(e,r,o,n){e[r]!=null&&n().map(i=>{i.withName(o),this.c(i)})}lc(e,r,o,n){if(e[r]!=null){let s=n(),i=new t(o);s.map(a=>{i.c(a)}),this.c(i)}}toString(){let e=!!this.children.length,r=`<${this.name}`,o=this.attributes;for(let n of Object.keys(o)){let s=o[n];s!=null&&(r+=` ${n}="${b1(""+s)}"`)}return r+=e?`>${this.children.map(n=>n.toString()).join("")}</${this.name}>`:"/>"}}});function fh(t,e){let r=[],o=e.exec(t);for(;o;){let n=[];n.startIndex=e.lastIndex-o[0].length;let s=o.length;for(let i=0;i<s;i++)n.push(o[i]);r.push(n),o=e.exec(t)}return r}function A1(t){return typeof t<"u"}var w1,DQ,PQ,OQ,jd,hh=p(()=>{"use strict";w1=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",DQ=w1+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",PQ="["+w1+"]["+DQ+"]*",OQ=new RegExp("^"+PQ+"$");jd=function(t){let e=OQ.exec(t);return!(e===null||typeof e>"u")}});function N1(t,e){e=Object.assign({},kQ,e);let r=[],o=!1,n=!1;t[0]==="\uFEFF"&&(t=t.substr(1));for(let s=0;s<t.length;s++)if(t[s]==="<"&&t[s+1]==="?"){if(s+=2,s=P1(t,s),s.err)return s}else if(t[s]==="<"){let i=s;if(s++,t[s]==="!"){s=O1(t,s);continue}else{let a=!1;t[s]==="/"&&(a=!0,s++);let c="";for(;s<t.length&&t[s]!==">"&&t[s]!==" "&&t[s]!=="	"&&t[s]!==`
`&&t[s]!=="\r";s++)c+=t[s];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),s--),!GQ(c)){let f;return c.trim().length===0?f="Invalid space after '<'.":f="Tag '"+c+"' is an invalid name.",tr("InvalidTag",f,Ho(t,s))}let u=LQ(t,s);if(u===!1)return tr("InvalidAttr","Attributes for '"+c+"' have open quote.",Ho(t,s));let m=u.value;if(s=u.index,m[m.length-1]==="/"){let f=s-m.length;m=m.substring(0,m.length-1);let h=k1(m,e);if(h===!0)o=!0;else return tr(h.err.code,h.err.msg,Ho(t,f+h.err.line))}else if(a)if(u.tagClosed){if(m.trim().length>0)return tr("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",Ho(t,i));if(r.length===0)return tr("InvalidTag","Closing tag '"+c+"' has not been opened.",Ho(t,i));{let f=r.pop();if(c!==f.tagName){let h=Ho(t,f.tagStartPos);return tr("InvalidTag","Expected closing tag '"+f.tagName+"' (opened in line "+h.line+", col "+h.col+") instead of closing tag '"+c+"'.",Ho(t,i))}r.length==0&&(n=!0)}}else return tr("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",Ho(t,s));else{let f=k1(m,e);if(f!==!0)return tr(f.err.code,f.err.msg,Ho(t,s-m.length+f.err.line));if(n===!0)return tr("InvalidXml","Multiple possible root nodes found.",Ho(t,s));e.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:i}),o=!0}for(s++;s<t.length;s++)if(t[s]==="<")if(t[s+1]==="!"){s++,s=O1(t,s);continue}else if(t[s+1]==="?"){if(s=P1(t,++s),s.err)return s}else break;else if(t[s]==="&"){let f=UQ(t,s);if(f==-1)return tr("InvalidChar","char '&' is not expected.",Ho(t,s));s=f}else if(n===!0&&!D1(t[s]))return tr("InvalidXml","Extra text at the end",Ho(t,s));t[s]==="<"&&s--}}else{if(D1(t[s]))continue;return tr("InvalidChar","char '"+t[s]+"' is not expected.",Ho(t,s))}if(o){if(r.length==1)return tr("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",Ho(t,r[0].tagStartPos));if(r.length>0)return tr("InvalidXml","Invalid '"+JSON.stringify(r.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return tr("InvalidXml","Start tag expected.",1);return!0}function D1(t){return t===" "||t==="	"||t===`
`||t==="\r"}function P1(t,e){let r=e;for(;e<t.length;e++)if(t[e]=="?"||t[e]==" "){let o=t.substr(r,e-r);if(e>5&&o==="xml")return tr("InvalidXml","XML declaration allowed only at the start of the document.",Ho(t,e));if(t[e]=="?"&&t[e+1]==">"){e++;break}else continue}return e}function O1(t,e){if(t.length>e+5&&t[e+1]==="-"&&t[e+2]==="-"){for(e+=3;e<t.length;e++)if(t[e]==="-"&&t[e+1]==="-"&&t[e+2]===">"){e+=2;break}}else if(t.length>e+8&&t[e+1]==="D"&&t[e+2]==="O"&&t[e+3]==="C"&&t[e+4]==="T"&&t[e+5]==="Y"&&t[e+6]==="P"&&t[e+7]==="E"){let r=1;for(e+=8;e<t.length;e++)if(t[e]==="<")r++;else if(t[e]===">"&&(r--,r===0))break}else if(t.length>e+9&&t[e+1]==="["&&t[e+2]==="C"&&t[e+3]==="D"&&t[e+4]==="A"&&t[e+5]==="T"&&t[e+6]==="A"&&t[e+7]==="["){for(e+=8;e<t.length;e++)if(t[e]==="]"&&t[e+1]==="]"&&t[e+2]===">"){e+=2;break}}return e}function LQ(t,e){let r="",o="",n=!1;for(;e<t.length;e++){if(t[e]===NQ||t[e]===$Q)o===""?o=t[e]:o!==t[e]||(o="");else if(t[e]===">"&&o===""){n=!0;break}r+=t[e]}return o!==""?!1:{value:r,index:e,tagClosed:n}}function k1(t,e){let r=fh(t,MQ),o={};for(let n=0;n<r.length;n++){if(r[n][1].length===0)return tr("InvalidAttr","Attribute '"+r[n][2]+"' has no space in starting.",Vd(r[n]));if(r[n][3]!==void 0&&r[n][4]===void 0)return tr("InvalidAttr","Attribute '"+r[n][2]+"' is without value.",Vd(r[n]));if(r[n][3]===void 0&&!e.allowBooleanAttributes)return tr("InvalidAttr","boolean attribute '"+r[n][2]+"' is not allowed.",Vd(r[n]));let s=r[n][2];if(!FQ(s))return tr("InvalidAttr","Attribute '"+s+"' is an invalid name.",Vd(r[n]));if(!o.hasOwnProperty(s))o[s]=1;else return tr("InvalidAttr","Attribute '"+s+"' is repeated.",Vd(r[n]))}return!0}function BQ(t,e){let r=/\d/;for(t[e]==="x"&&(e++,r=/[\da-fA-F]/);e<t.length;e++){if(t[e]===";")return e;if(!t[e].match(r))break}return-1}function UQ(t,e){if(e++,t[e]===";")return-1;if(t[e]==="#")return e++,BQ(t,e);let r=0;for(;e<t.length;e++,r++)if(!(t[e].match(/\w/)&&r<20)){if(t[e]===";")break;return-1}return e}function tr(t,e,r){return{err:{code:t,msg:e,line:r.line||r,col:r.col}}}function FQ(t){return jd(t)}function GQ(t){return jd(t)}function Ho(t,e){let r=t.substring(0,e).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function Vd(t){return t.startIndex+t[1].length}var kQ,NQ,$Q,MQ,$1=p(()=>{"use strict";hh();kQ={allowBooleanAttributes:!1,unpairedTags:[]};NQ='"',$Q="'";MQ=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g")});var HQ,L1,M1=p(()=>{HQ={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,e,r){return t},captureMetaData:!1},L1=function(t){return Object.assign({},HQ,t)}});var gh,In,xh=p(()=>{"use strict";typeof Symbol!="function"?gh="@@xmlMetadata":gh=Symbol("XML Node Metadata");In=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,r){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:r})}addChild(e,r){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child}),r!==void 0&&(this.child[this.child.length-1][gh]={startIndex:r})}static getMetaDataSymbol(){return gh}}});function iR(t,e){let r={};if(t[e+3]==="O"&&t[e+4]==="C"&&t[e+5]==="T"&&t[e+6]==="Y"&&t[e+7]==="P"&&t[e+8]==="E"){e=e+9;let o=1,n=!1,s=!1,i="";for(;e<t.length;e++)if(t[e]==="<"&&!s){if(n&&vc(t,"!ENTITY",e)){e+=7;let a,c;[a,c,e]=jQ(t,e+1),c.indexOf("&")===-1&&(r[a]={regx:RegExp(`&${a};`,"g"),val:c})}else if(n&&vc(t,"!ELEMENT",e)){e+=8;let{index:a}=zQ(t,e+1);e=a}else if(n&&vc(t,"!ATTLIST",e))e+=8;else if(n&&vc(t,"!NOTATION",e)){e+=9;let{index:a}=VQ(t,e+1);e=a}else if(vc(t,"!--",e))s=!0;else throw new Error("Invalid DOCTYPE");o++,i=""}else if(t[e]===">"){if(s?t[e-1]==="-"&&t[e-2]==="-"&&(s=!1,o--):o--,o===0)break}else t[e]==="["?n=!0:i+=t[e];if(o!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:e}}function jQ(t,e){e=va(t,e);let r="";for(;e<t.length&&!/\s/.test(t[e])&&t[e]!=='"'&&t[e]!=="'";)r+=t[e],e++;if(aR(r),e=va(t,e),t.substring(e,e+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(t[e]==="%")throw new Error("Parameter entities are not supported");let o="";return[e,o]=yh(t,e,"entity"),e--,[r,o,e]}function VQ(t,e){e=va(t,e);let r="";for(;e<t.length&&!/\s/.test(t[e]);)r+=t[e],e++;aR(r),e=va(t,e);let o=t.substring(e,e+6).toUpperCase();if(o!=="SYSTEM"&&o!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${o}"`);e+=o.length,e=va(t,e);let n=null,s=null;if(o==="PUBLIC")[e,n]=yh(t,e,"publicIdentifier"),e=va(t,e),(t[e]==='"'||t[e]==="'")&&([e,s]=yh(t,e,"systemIdentifier"));else if(o==="SYSTEM"&&([e,s]=yh(t,e,"systemIdentifier"),!s))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:r,publicIdentifier:n,systemIdentifier:s,index:--e}}function yh(t,e,r){let o="",n=t[e];if(n!=='"'&&n!=="'")throw new Error(`Expected quoted string, found "${n}"`);for(e++;e<t.length&&t[e]!==n;)o+=t[e],e++;if(t[e]!==n)throw new Error(`Unterminated ${r} value`);return e++,[e,o]}function zQ(t,e){e=va(t,e);let r="";for(;e<t.length&&!/\s/.test(t[e]);)r+=t[e],e++;if(!aR(r))throw new Error(`Invalid element name: "${r}"`);e=va(t,e);let o="";if(t[e]==="E"&&vc(t,"MPTY",e))e+=4;else if(t[e]==="A"&&vc(t,"NY",e))e+=2;else if(t[e]==="("){for(e++;e<t.length&&t[e]!==")";)o+=t[e],e++;if(t[e]!==")")throw new Error("Unterminated content model")}else throw new Error(`Invalid Element Expression, found "${t[e]}"`);return{elementName:r,contentModel:o.trim(),index:e}}function vc(t,e,r){for(let o=0;o<e.length;o++)if(e[o]!==t[r+o+1])return!1;return!0}function aR(t){if(jd(t))return t;throw new Error(`Invalid entity name ${t}`)}var va,B1=p(()=>{hh();va=(t,e)=>{for(;e<t.length&&/\s/.test(t[e]);)e++;return e}});function cR(t,e={}){if(e=Object.assign({},qQ,e),!t||typeof t!="string")return t;let r=t.trim();if(e.skipLike!==void 0&&e.skipLike.test(r))return t;if(t==="0")return 0;if(e.hex&&KQ.test(r))return XQ(r,16);if(r.includes("e")||r.includes("E"))return QQ(t,r,e);{let o=WQ.exec(r);if(o){let n=o[1]||"",s=o[2],i=YQ(o[3]),a=n?t[s.length+1]===".":t[s.length]===".";if(!e.leadingZeros&&(s.length>1||s.length===1&&!a))return t;{let c=Number(r),u=String(c);if(c===0)return c;if(u.search(/[eE]/)!==-1)return e.eNotation?c:t;if(r.indexOf(".")!==-1)return u==="0"||u===i||u===`${n}${i}`?c:t;let m=s?i:r;return s?m===u||n+m===u?c:t:m===u||m===n+u?c:t}}else return t}}function QQ(t,e,r){if(!r.eNotation)return t;let o=e.match(JQ);if(o){let n=o[1]||"",s=o[3].indexOf("e")===-1?"E":"e",i=o[2],a=n?t[i.length+1]===s:t[i.length]===s;return i.length>1&&a?t:i.length===1&&(o[3].startsWith(`.${s}`)||o[3][0]===s)?Number(e):r.leadingZeros&&!a?(e=(o[1]||"")+o[3],Number(e)):t}else return t}function YQ(t){return t&&t.indexOf(".")!==-1&&(t=t.replace(/0+$/,""),t==="."?t="0":t[0]==="."?t="0"+t:t[t.length-1]==="."&&(t=t.substring(0,t.length-1))),t}function XQ(t,e){if(parseInt)return parseInt(t,e);if(Number.parseInt)return Number.parseInt(t,e);if(window&&window.parseInt)return window.parseInt(t,e);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}var KQ,WQ,qQ,JQ,U1=p(()=>{KQ=/^[-+]?0x[a-fA-F0-9]+$/,WQ=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,qQ={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};JQ=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/});function uR(t){return typeof t=="function"?t:Array.isArray(t)?e=>{for(let r of t)if(typeof r=="string"&&e===r||r instanceof RegExp&&r.test(e))return!0}:()=>!1}var F1=p(()=>{});function ZQ(t){let e=Object.keys(t);for(let r=0;r<e.length;r++){let o=e[r];this.lastEntities[o]={regex:new RegExp("&"+o+";","g"),val:t[o]}}}function eY(t,e,r,o,n,s,i){if(t!==void 0&&(this.options.trimValues&&!o&&(t=t.trim()),t.length>0)){i||(t=this.replaceEntitiesValue(t));let a=this.options.tagValueProcessor(e,t,r,n,s);return a==null?t:typeof a!=typeof t||a!==t?a:this.options.trimValues?dR(t,this.options.parseTagValue,this.options.numberParseOptions):t.trim()===t?dR(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function tY(t){if(this.options.removeNSPrefix){let e=t.split(":"),r=t.charAt(0)==="/"?"/":"";if(e[0]==="xmlns")return"";e.length===2&&(t=r+e[1])}return t}function oY(t,e,r){if(this.options.ignoreAttributes!==!0&&typeof t=="string"){let o=fh(t,rY),n=o.length,s={};for(let i=0;i<n;i++){let a=this.resolveNameSpace(o[i][1]);if(this.ignoreAttributesFn(a,e))continue;let c=o[i][4],u=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(u=this.options.transformAttributeName(u)),u==="__proto__"&&(u="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);let m=this.options.attributeValueProcessor(a,c,e);m==null?s[u]=c:typeof m!=typeof c||m!==c?s[u]=m:s[u]=dR(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[u]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){let i={};return i[this.options.attributesGroupName]=s,i}return s}}function sY(t,e,r,o){this.options.captureMetaData||(o=void 0);let n=this.options.updateTag(e.tagname,r,e[":@"]);n===!1||(typeof n=="string"&&(e.tagname=n),t.addChild(e,o))}function aY(t,e,r,o){return t&&(o===void 0&&(o=e.child.length===0),t=this.parseTextData(t,e.tagname,r,!1,e[":@"]?Object.keys(e[":@"]).length!==0:!1,o),t!==void 0&&t!==""&&e.add(this.options.textNodeName,t),t=""),t}function cY(t,e,r){let o="*."+r;for(let n in t){let s=t[n];if(o===s||e===s)return!0}return!1}function uY(t,e,r=">"){let o,n="";for(let s=e;s<t.length;s++){let i=t[s];if(o)i===o&&(o="");else if(i==='"'||i==="'")o=i;else if(i===r[0])if(r[1]){if(t[s+1]===r[1])return{data:n,index:s}}else return{data:n,index:s};else i==="	"&&(i=" ");n+=i}}function Cc(t,e,r,o){let n=t.indexOf(e,r);if(n===-1)throw new Error(o);return n+e.length-1}function pR(t,e,r,o=">"){let n=uY(t,e+1,o);if(!n)return;let s=n.data,i=n.index,a=s.search(/\s/),c=s,u=!0;a!==-1&&(c=s.substring(0,a),s=s.substring(a+1).trimStart());let m=c;if(r){let f=c.indexOf(":");f!==-1&&(c=c.substr(f+1),u=c!==n.data.substr(f+1))}return{tagName:c,tagExp:s,closeIndex:i,attrExpPresent:u,rawTagName:m}}function pY(t,e,r){let o=r,n=1;for(;r<t.length;r++)if(t[r]==="<")if(t[r+1]==="/"){let s=Cc(t,">",r,`${e} is not closed`);if(t.substring(r+2,s).trim()===e&&(n--,n===0))return{tagContent:t.substring(o,r),i:s};r=s}else if(t[r+1]==="?")r=Cc(t,"?>",r+1,"StopNode is not closed.");else if(t.substr(r+1,3)==="!--")r=Cc(t,"-->",r+3,"StopNode is not closed.");else if(t.substr(r+1,2)==="![")r=Cc(t,"]]>",r,"StopNode is not closed.")-2;else{let s=pR(t,r,">");s&&((s&&s.tagName)===e&&s.tagExp[s.tagExp.length-1]!=="/"&&n++,r=s.closeIndex)}}function dR(t,e,r){if(e&&typeof t=="string"){let o=t.trim();return o==="true"?!0:o==="false"?!1:cR(t,r)}else return A1(t)?t:""}var zd,rY,nY,iY,G1=p(()=>{"use strict";hh();xh();B1();U1();F1();zd=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(r,o)=>String.fromCodePoint(Number.parseInt(o,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(r,o)=>String.fromCodePoint(Number.parseInt(o,16))}},this.addExternalEntities=ZQ,this.parseXml=nY,this.parseTextData=eY,this.resolveNameSpace=tY,this.buildAttributesMap=oY,this.isItStopNode=cY,this.replaceEntitiesValue=iY,this.readStopNodeData=pY,this.saveTextToParentTag=aY,this.addChild=sY,this.ignoreAttributesFn=uR(this.options.ignoreAttributes)}};rY=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");nY=function(t){t=t.replace(/\r\n?/g,`
`);let e=new In("!xml"),r=e,o="",n="";for(let s=0;s<t.length;s++)if(t[s]==="<")if(t[s+1]==="/"){let a=Cc(t,">",s,"Closing Tag is not closed."),c=t.substring(s+2,a).trim();if(this.options.removeNSPrefix){let f=c.indexOf(":");f!==-1&&(c=c.substr(f+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(o=this.saveTextToParentTag(o,r,n));let u=n.substring(n.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let m=0;u&&this.options.unpairedTags.indexOf(u)!==-1?(m=n.lastIndexOf(".",n.lastIndexOf(".")-1),this.tagsNodeStack.pop()):m=n.lastIndexOf("."),n=n.substring(0,m),r=this.tagsNodeStack.pop(),o="",s=a}else if(t[s+1]==="?"){let a=pR(t,s,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(o=this.saveTextToParentTag(o,r,n),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new In(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,n,a.tagName)),this.addChild(r,c,n,s)}s=a.closeIndex+1}else if(t.substr(s+1,3)==="!--"){let a=Cc(t,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){let c=t.substring(s+4,a-2);o=this.saveTextToParentTag(o,r,n),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}s=a}else if(t.substr(s+1,2)==="!D"){let a=iR(t,s);this.docTypeEntities=a.entities,s=a.i}else if(t.substr(s+1,2)==="!["){let a=Cc(t,"]]>",s,"CDATA is not closed.")-2,c=t.substring(s+9,a);o=this.saveTextToParentTag(o,r,n);let u=this.parseTextData(c,r.tagname,n,!0,!1,!0,!0);u==null&&(u=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]):r.add(this.options.textNodeName,u),s=a+2}else{let a=pR(t,s,this.options.removeNSPrefix),c=a.tagName,u=a.rawTagName,m=a.tagExp,f=a.attrExpPresent,h=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&o&&r.tagname!=="!xml"&&(o=this.saveTextToParentTag(o,r,n,!1));let g=r;g&&this.options.unpairedTags.indexOf(g.tagname)!==-1&&(r=this.tagsNodeStack.pop(),n=n.substring(0,n.lastIndexOf("."))),c!==e.tagname&&(n+=n?"."+c:c);let _=s;if(this.isItStopNode(this.options.stopNodes,n,c)){let R="";if(m.length>0&&m.lastIndexOf("/")===m.length-1)c[c.length-1]==="/"?(c=c.substr(0,c.length-1),n=n.substr(0,n.length-1),m=c):m=m.substr(0,m.length-1),s=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)s=a.closeIndex;else{let M=this.readStopNodeData(t,u,h+1);if(!M)throw new Error(`Unexpected end of ${u}`);s=M.i,R=M.tagContent}let T=new In(c);c!==m&&f&&(T[":@"]=this.buildAttributesMap(m,n,c)),R&&(R=this.parseTextData(R,c,n,!0,f,!0,!0)),n=n.substr(0,n.lastIndexOf(".")),T.add(this.options.textNodeName,R),this.addChild(r,T,n,_)}else{if(m.length>0&&m.lastIndexOf("/")===m.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),n=n.substr(0,n.length-1),m=c):m=m.substr(0,m.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let R=new In(c);c!==m&&f&&(R[":@"]=this.buildAttributesMap(m,n,c)),this.addChild(r,R,n,_),n=n.substr(0,n.lastIndexOf("."))}else{let R=new In(c);this.tagsNodeStack.push(r),c!==m&&f&&(R[":@"]=this.buildAttributesMap(m,n,c)),this.addChild(r,R,n,_),r=R}o="",s=h}}else o+=t[s];return e.child};iY=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){let r=this.docTypeEntities[e];t=t.replace(r.regx,r.val)}for(let e in this.lastEntities){let r=this.lastEntities[e];t=t.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){let r=this.htmlEntities[e];t=t.replace(r.regex,r.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t}});function mR(t,e){return H1(t,e)}function H1(t,e,r){let o,n={};for(let s=0;s<t.length;s++){let i=t[s],a=dY(i),c="";if(r===void 0?c=a:c=r+"."+a,a===e.textNodeName)o===void 0?o=i[a]:o+=""+i[a];else{if(a===void 0)continue;if(i[a]){let u=H1(i[a],e,c),m=mY(u,e);i[lR]!==void 0&&(u[lR]=i[lR]),i[":@"]?lY(u,i[":@"],c,e):Object.keys(u).length===1&&u[e.textNodeName]!==void 0&&!e.alwaysCreateTextNode?u=u[e.textNodeName]:Object.keys(u).length===0&&(e.alwaysCreateTextNode?u[e.textNodeName]="":u=""),n[a]!==void 0&&n.hasOwnProperty(a)?(Array.isArray(n[a])||(n[a]=[n[a]]),n[a].push(u)):e.isArray(a,c,m)?n[a]=[u]:n[a]=u}}}return typeof o=="string"?o.length>0&&(n[e.textNodeName]=o):o!==void 0&&(n[e.textNodeName]=o),n}function dY(t){let e=Object.keys(t);for(let r=0;r<e.length;r++){let o=e[r];if(o!==":@")return o}}function lY(t,e,r,o){if(e){let n=Object.keys(e),s=n.length;for(let i=0;i<s;i++){let a=n[i];o.isArray(a,r+"."+a,!0,!0)?t[a]=[e[a]]:t[a]=e[a]}}}function mY(t,e){let{textNodeName:r}=e,o=Object.keys(t).length;return!!(o===0||o===1&&(t[r]||typeof t[r]=="boolean"||t[r]===0))}var lR,j1=p(()=>{"use strict";xh();lR=In.getMetaDataSymbol()});var ju,V1=p(()=>{M1();G1();j1();$1();xh();ju=class{constructor(e){this.externalEntities={},this.options=L1(e)}parse(e,r){if(typeof e!="string")if(e.toString)e=e.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let s=N1(e,r);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}let o=new zd(this.options);o.addExternalEntities(this.externalEntities);let n=o.parseXml(e);return this.options.preserveOrder||n===void 0?n:mR(n,this.options)}addEntity(e,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(e.indexOf("&")!==-1||e.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=r}static getMetaDataSymbol(){return In.getMetaDataSymbol()}}});var z1=p(()=>{"use strict";V1()});function hR(t){return fR.parse(t,!0)}var fR,K1=p(()=>{z1();fR=new ju({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(t,e)=>e.trim()===""&&e.includes(`
`)?"":void 0});fR.addEntity("#xD","\r");fR.addEntity("#10",`
`)});var gR=p(()=>{T1();sR();K1()});var Vu,Sh=p(()=>{gR();Cs();Ce();U();wt();_a();tR();Vu=class extends Do{settings;stringDeserializer;constructor(e){super(),this.settings=e,this.stringDeserializer=new Ou(e)}setSerdeContext(e){this.serdeContext=e,this.stringDeserializer.setSerdeContext(e)}read(e,r,o){let n=se.of(e),s=n.getMemberSchemas();if(n.isStructSchema()&&n.isMemberSchema()&&!!Object.values(s).find(u=>!!u.getMemberTraits().eventPayload)){let u={},m=Object.keys(s)[0];return s[m].isBlobSchema()?u[m]=r:u[m]=this.read(s[m],r),u}let a=(this.serdeContext?.utf8Encoder??Xe)(r),c=this.parseXml(a);return this.readSchema(e,o?c[o]:c)}readSchema(e,r){let o=se.of(e);if(o.isUnitSchema())return;let n=o.getMergedTraits();if(o.isListSchema()&&!Array.isArray(r))return this.readSchema(o,[r]);if(r==null)return r;if(typeof r=="object"){let s=!!n.sparse,i=!!n.xmlFlattened;if(o.isListSchema()){let c=o.getValueSchema(),u=[],m=c.getMergedTraits().xmlName??"member",f=i?r:(r[0]??r)[m],h=Array.isArray(f)?f:[f];for(let g of h)(g!=null||s)&&u.push(this.readSchema(c,g));return u}let a={};if(o.isMapSchema()){let c=o.getKeySchema(),u=o.getValueSchema(),m;i?m=Array.isArray(r)?r:[r]:m=Array.isArray(r.entry)?r.entry:[r.entry];let f=c.getMergedTraits().xmlName??"key",h=u.getMergedTraits().xmlName??"value";for(let g of m){let _=g[f],R=g[h];(R!=null||s)&&(a[_]=this.readSchema(u,R))}return a}if(o.isStructSchema()){let c=o.isUnionSchema(),u;c&&(u=new Fu(r,a));for(let[m,f]of o.structIterator()){let h=f.getMergedTraits(),g=h.httpPayload?h.xmlName??f.getName():f.getMemberTraits().xmlName??m;c&&u.mark(g),r[g]!=null&&(a[m]=this.readSchema(f,r[g]))}return c&&u.writeUnknown(),a}if(o.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${o.getName(!0)}`)}return o.isListSchema()?[]:o.isMapSchema()||o.isStructSchema()?{}:this.stringDeserializer.read(o,r)}parseXml(e){if(e.length){let r;try{r=hR(e)}catch(i){throw i&&typeof i=="object"&&Object.defineProperty(i,"$responseBodyText",{value:e}),i}let o="#text",n=Object.keys(r)[0],s=r[n];return s[o]&&(s[n]=s[o],delete s[o]),eR(s)}return{}}}});var Eh,W1=p(()=>{Cs();Ce();vs();U();Kt();_a();Gd();Eh=class extends Do{settings;buffer;constructor(e){super(),this.settings=e}write(e,r,o=""){this.buffer===void 0&&(this.buffer="");let n=se.of(e);if(o&&!o.endsWith(".")&&(o+="."),n.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(o),this.writeValue((this.serdeContext?.base64Encoder??we)(r)));else if(n.isBooleanSchema()||n.isNumericSchema()||n.isStringSchema())r!=null?(this.writeKey(o),this.writeValue(String(r))):n.isIdempotencyToken()&&(this.writeKey(o),this.writeValue(bs()));else if(n.isBigIntegerSchema())r!=null&&(this.writeKey(o),this.writeValue(String(r)));else if(n.isBigDecimalSchema())r!=null&&(this.writeKey(o),this.writeValue(r instanceof pr?r.string:String(r)));else if(n.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(o),Kn(n,this.settings)){case 5:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue(ji(r));break;case 7:this.writeValue(String(r.getTime()/1e3));break}}else if(n.isDocumentSchema())Array.isArray(r)?this.write(79,r,o):r instanceof Date?this.write(4,r,o):r instanceof Uint8Array?this.write(21,r,o):r&&typeof r=="object"?this.write(143,r,o):(this.writeKey(o),this.writeValue(String(r)));else if(n.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(o),this.writeValue(""));else{let s=n.getValueSchema(),i=this.settings.flattenLists||n.getMergedTraits().xmlFlattened,a=1;for(let c of r){if(c==null)continue;let u=this.getKey("member",s.getMergedTraits().xmlName),m=i?`${o}${a}`:`${o}${u}.${a}`;this.write(s,c,m),++a}}}else if(n.isMapSchema()){if(r&&typeof r=="object"){let s=n.getKeySchema(),i=n.getValueSchema(),a=n.getMergedTraits().xmlFlattened,c=1;for(let[u,m]of Object.entries(r)){if(m==null)continue;let f=this.getKey("key",s.getMergedTraits().xmlName),h=a?`${o}${c}.${f}`:`${o}entry.${c}.${f}`,g=this.getKey("value",i.getMergedTraits().xmlName),_=a?`${o}${c}.${g}`:`${o}entry.${c}.${g}`;this.write(s,u,h),this.write(i,m,_),++c}}}else if(n.isStructSchema()){if(r&&typeof r=="object"){let s=!1;for(let[i,a]of Uu(n,r)){if(r[i]==null&&!a.isIdempotencyToken())continue;let c=this.getKey(i,a.getMergedTraits().xmlName),u=`${o}${c}`;this.write(a,r[i],u),s=!0}if(!s&&n.isUnionSchema()){let{$unknown:i}=r;if(Array.isArray(i)){let[a,c]=i,u=`${o}${a}`;this.write(15,c,u)}}}}else if(!n.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${n.getName(!0)}`)}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let e=this.buffer;return delete this.buffer,e}getKey(e,r){let o=r??e;return this.settings.capitalizeKeys?o[0].toUpperCase()+o.slice(1):o}writeKey(e){e.endsWith(".")&&(e=e.slice(0,e.length-1)),this.buffer+=`&${Cu(e)}=`}writeValue(e){this.buffer+=Cu(e)}}});var ri,q1=p(()=>{Cs();Ce();Fd();Sh();W1();ri=class extends Pu{options;serializer;deserializer;mixin=new ti;constructor(e){super({defaultNamespace:e.defaultNamespace}),this.options=e;let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:e.xmlNamespace,serviceNamespace:e.defaultNamespace,serializeEmptyLists:!0};this.serializer=new Eh(r),this.deserializer=new Vu(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(e){this.serializer.setSerdeContext(e),this.deserializer.setSerdeContext(e)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(e,r,o){let n=await super.serializeRequest(e,r,o);n.path.endsWith("/")||(n.path+="/"),Object.assign(n.headers,{"content-type":"application/x-www-form-urlencoded"}),(xa(e.input)==="unit"||!n.body)&&(n.body="");let s=e.name.split("#")[1]??e.name;return n.body=`Action=${s}&Version=${this.options.version}`+n.body,n.body.endsWith("&")&&(n.body=n.body.slice(-1)),n}async deserializeResponse(e,r,o){let n=this.deserializer,s=se.of(e.output),i={};if(o.statusCode>=300){let f=await rn(o.body,r);f.byteLength>0&&Object.assign(i,await n.read(15,f)),await this.handleError(e,r,o,i,this.deserializeMetadata(o))}for(let f in o.headers){let h=o.headers[f];delete o.headers[f],o.headers[f.toLowerCase()]=h}let a=e.name.split("#")[1]??e.name,c=s.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,u=await rn(o.body,r);return u.byteLength>0&&Object.assign(i,await n.read(s,u,c)),{$metadata:this.deserializeMetadata(o),...i}}useNestedResult(){return!0}async handleError(e,r,o,n,s){let i=this.loadQueryErrorCode(o,n)??"Unknown",a=this.loadQueryError(n),c=this.loadQueryErrorMessage(n);a.message=c,a.Error={Type:a.Type,Code:a.Code,Message:c};let{errorSchema:u,errorMetadata:m}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,o,a,s,this.mixin.findQueryCompatibleError),f=se.of(u),h=b.for(u[1]).getErrorCtor(u)??Error,g=new h(c),_={Type:a.Error.Type,Code:a.Error.Code,Error:a.Error};for(let[R,T]of f.structIterator()){let M=T.getMergedTraits().xmlName??R,G=a[M]??n[M];_[R]=this.deserializer.readSchema(T,G)}throw this.mixin.decorateServiceException(Object.assign(g,m,{$fault:f.getMergedTraits().error,message:c},_),n)}loadQueryErrorCode(e,r){let o=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(o!==void 0)return o;if(e.statusCode==404)return"NotFound"}loadQueryError(e){return e.Errors?.[0]?.Error??e.Errors?.Error??e.Error}loadQueryErrorMessage(e){let r=this.loadQueryError(e);return r?.message??r?.Message??e.message??e.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var J1=p(()=>{});var Q1,xR=p(()=>{Q1=(t,e)=>{if(e?.Error?.Code!==void 0)return e.Error.Code;if(e?.Code!==void 0)return e.Code;if(t.statusCode==404)return"NotFound"}});var _h,yR=p(()=>{gR();Cs();Ce();vs();U();Kt();_a();Gd();_h=class extends Do{settings;stringBuffer;byteBuffer;buffer;constructor(e){super(),this.settings=e}write(e,r){let o=se.of(e);if(o.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(o.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??st)(r);else{this.buffer=this.writeStruct(o,r,void 0);let n=o.getMergedTraits();n.httpPayload&&!n.xmlName&&this.buffer.withName(o.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let e=this.buffer;return this.settings.xmlNamespace&&(e?.attributes?.xmlns||e.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,e.toString()}writeStruct(e,r,o){let n=e.getMergedTraits(),s=e.isMemberSchema()&&!n.httpPayload?e.getMemberTraits().xmlName??e.getMemberName():n.xmlName??e.getName();if(!s||!e.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${e.getName(!0)}.`);let i=sn.of(s),[a,c]=this.getXmlnsAttribute(e,o);for(let[m,f]of Uu(e,r)){let h=r[m];if(h!=null||f.isIdempotencyToken()){if(f.getMergedTraits().xmlAttribute){i.addAttribute(f.getMergedTraits().xmlName??m,this.writeSimple(f,h));continue}if(f.isListSchema())this.writeList(f,h,i,c);else if(f.isMapSchema())this.writeMap(f,h,i,c);else if(f.isStructSchema())i.addChildNode(this.writeStruct(f,h,c));else{let g=sn.of(f.getMergedTraits().xmlName??f.getMemberName());this.writeSimpleInto(f,h,g,c),i.addChildNode(g)}}}let{$unknown:u}=r;if(u&&e.isUnionSchema()&&Array.isArray(u)&&Object.keys(r).length===1){let[m,f]=u,h=sn.of(m);if(typeof f!="string")if(r instanceof sn||r instanceof bc)i.addChildNode(r);else throw new Error("@aws-sdk - $unknown union member in XML requires value of type string, @aws-sdk/xml-builder::XmlNode or XmlText.");this.writeSimpleInto(0,f,h,c),i.addChildNode(h)}return c&&i.addAttribute(a,c),i}writeList(e,r,o,n){if(!e.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${e.getName(!0)}`);let s=e.getMergedTraits(),i=e.getValueSchema(),a=i.getMergedTraits(),c=!!a.sparse,u=!!s.xmlFlattened,[m,f]=this.getXmlnsAttribute(e,n),h=(g,_)=>{if(i.isListSchema())this.writeList(i,Array.isArray(_)?_:[_],g,f);else if(i.isMapSchema())this.writeMap(i,_,g,f);else if(i.isStructSchema()){let R=this.writeStruct(i,_,f);g.addChildNode(R.withName(u?s.xmlName??e.getMemberName():a.xmlName??"member"))}else{let R=sn.of(u?s.xmlName??e.getMemberName():a.xmlName??"member");this.writeSimpleInto(i,_,R,f),g.addChildNode(R)}};if(u)for(let g of r)(c||g!=null)&&h(o,g);else{let g=sn.of(s.xmlName??e.getMemberName());f&&g.addAttribute(m,f);for(let _ of r)(c||_!=null)&&h(g,_);o.addChildNode(g)}}writeMap(e,r,o,n,s=!1){if(!e.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${e.getName(!0)}`);let i=e.getMergedTraits(),a=e.getKeySchema(),u=a.getMergedTraits().xmlName??"key",m=e.getValueSchema(),f=m.getMergedTraits(),h=f.xmlName??"value",g=!!f.sparse,_=!!i.xmlFlattened,[R,T]=this.getXmlnsAttribute(e,n),M=(G,te,le)=>{let Ye=sn.of(u,te),[Ht,En]=this.getXmlnsAttribute(a,T);En&&Ye.addAttribute(Ht,En),G.addChildNode(Ye);let Fe=sn.of(h);m.isListSchema()?this.writeList(m,le,Fe,T):m.isMapSchema()?this.writeMap(m,le,Fe,T,!0):m.isStructSchema()?Fe=this.writeStruct(m,le,T):this.writeSimpleInto(m,le,Fe,T),G.addChildNode(Fe)};if(_){for(let[G,te]of Object.entries(r))if(g||te!=null){let le=sn.of(i.xmlName??e.getMemberName());M(le,G,te),o.addChildNode(le)}}else{let G;s||(G=sn.of(i.xmlName??e.getMemberName()),T&&G.addAttribute(R,T),o.addChildNode(G));for(let[te,le]of Object.entries(r))if(g||le!=null){let Ye=sn.of("entry");M(Ye,te,le),(s?o:G).addChildNode(Ye)}}}writeSimple(e,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let o=se.of(e),n=null;if(r&&typeof r=="object")if(o.isBlobSchema())n=(this.serdeContext?.base64Encoder??we)(r);else if(o.isTimestampSchema()&&r instanceof Date)switch(Kn(o,this.settings)){case 5:n=r.toISOString().replace(".000Z","Z");break;case 6:n=ji(r);break;case 7:n=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),n=ji(r);break}else{if(o.isBigDecimalSchema()&&r)return r instanceof pr?r.string:String(r);throw o.isMapSchema()||o.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${o.getName(!0)}`)}if((o.isBooleanSchema()||o.isNumericSchema()||o.isBigIntegerSchema()||o.isBigDecimalSchema())&&(n=String(r)),o.isStringSchema()&&(r===void 0&&o.isIdempotencyToken()?n=bs():n=String(r)),n===null)throw new Error(`Unhandled schema-value pair ${o.getName(!0)}=${r}`);return n}writeSimpleInto(e,r,o,n){let s=this.writeSimple(e,r),i=se.of(e),a=new bc(s),[c,u]=this.getXmlnsAttribute(i,n);u&&o.addAttribute(c,u),o.addChildNode(a)}getXmlnsAttribute(e,r){let o=e.getMergedTraits(),[n,s]=o.xmlNamespace??[];return s&&s!==r?[n?`xmlns:${n}`:"xmlns",s]:[void 0,void 0]}}});var Rh,SR=p(()=>{_a();Sh();yR();Rh=class extends Do{settings;constructor(e){super(),this.settings=e}createSerializer(){let e=new _h(this.settings);return e.setSerdeContext(this.serdeContext),e}createDeserializer(){let e=new Vu(this.settings);return e.setSerdeContext(this.serdeContext),e}}});var bh,Y1=p(()=>{Cs();Ce();Fd();xR();SR();bh=class extends Du{codec;serializer;deserializer;mixin=new ti;constructor(e){super(e);let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!0,xmlNamespace:e.xmlNamespace,serviceNamespace:e.defaultNamespace};this.codec=new Rh(r),this.serializer=new Nu(this.codec.createSerializer(),r),this.deserializer=new ku(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(e,r,o){let n=await super.serializeRequest(e,r,o),s=se.of(e.input);if(!n.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),s);i&&(n.headers["content-type"]=i)}return typeof n.body=="string"&&n.headers["content-type"]===this.getDefaultContentType()&&!n.body.startsWith("<?xml ")&&!this.hasUnstructuredPayloadBinding(s)&&(n.body='<?xml version="1.0" encoding="UTF-8"?>'+n.body),n}async deserializeResponse(e,r,o){return super.deserializeResponse(e,r,o)}async handleError(e,r,o,n,s){let i=Q1(o,n)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,o,n,s),u=se.of(a),m=n.Error?.message??n.Error?.Message??n.message??n.Message??"Unknown",f=b.for(a[1]).getErrorCtor(a)??Error,h=new f(m);await this.deserializeHttpMessage(a,r,o,n);let g={};for(let[_,R]of u.structIterator()){let T=R.getMergedTraits().xmlName??_,M=n.Error?.[T]??n[T];g[_]=this.codec.createDeserializer().readSchema(R,M)}throw this.mixin.decorateServiceException(Object.assign(h,c,{$fault:u.getMergedTraits().error,message:m},g),n)}getDefaultContentType(){return"application/xml"}hasUnstructuredPayloadBinding(e){for(let[,r]of e.structIterator())if(r.getMergedTraits().httpPayload)return!(r.isStructSchema()||r.isMapSchema()||r.isListSchema());return!1}}});var Yn=p(()=>{u1();p1();S1();E1();nR();_1();dh();rR();oR();R1();Hd();J1();q1();Y1();SR();Sh();yR();xR()});var Qe=p(()=>{yo();P3();Yn()});async function X1(t,e,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&Dt(t,"PROTOCOL_RPC_V2_CBOR","M"),typeof e.retryStrategy=="function"){let s=await e.retryStrategy();typeof s.acquireInitialRetryToken=="function"?s.constructor?.name?.includes("Adaptive")?Dt(t,"RETRY_MODE_ADAPTIVE","F"):Dt(t,"RETRY_MODE_STANDARD","E"):Dt(t,"RETRY_MODE_LEGACY","D")}if(typeof e.accountIdEndpointMode=="function"){let s=t.endpointV2;switch(String(s?.url?.hostname).match(fY)&&Dt(t,"ACCOUNT_ID_ENDPOINT","O"),await e.accountIdEndpointMode?.()){case"disabled":Dt(t,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":Dt(t,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":Dt(t,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let n=t.__smithy_context?.selectedHttpAuthScheme?.identity;if(n?.$source){let s=n;s.accountId&&Dt(t,"RESOLVED_ACCOUNT_ID","T");for(let[i,a]of Object.entries(s.$source??{}))Dt(t,i,a)}}var fY,Z1=p(()=>{Qe();fY=/\d{12}\.ddb/});var ER,vh,_R,Ch,e$,t$,RR,r$=p(()=>{ER="user-agent",vh="x-amz-user-agent",_R=" ",Ch="/",e$=/[^!$%&'*+\-.^_`|~\w]/g,t$=/[^!$%&'*+\-.^_`|~\w#]/g,RR="-"});function o$(t){let e="";for(let r in t){let o=t[r];if(e.length+o.length+1<=1024){e.length?e+=","+o:e+=o;continue}break}return e}var n$=p(()=>{});var hY,Ih,gY,Kr,s$=p(()=>{Is();Oe();Z1();r$();n$();hY=t=>(e,r)=>async o=>{let{request:n}=o;if(!me.isInstance(n))return e(o);let{headers:s}=n,i=r?.userAgent?.map(Ih)||[],a=(await t.defaultUserAgentProvider()).map(Ih);await X1(r,t,o);let c=r;a.push(`m/${o$(Object.assign({},r.__smithy_context?.features,c.__aws_sdk_context?.features))}`);let u=t?.customUserAgent?.map(Ih)||[],m=await t.userAgentAppId();m&&a.push(Ih(["app",`${m}`]));let f=mN(),h=(f?[f]:[]).concat([...a,...i,...u]).join(_R),g=[...a.filter(_=>_.startsWith("aws-sdk-")),...u].join(_R);return t.runtime!=="browser"?(g&&(s[vh]=s[vh]?`${s[ER]} ${g}`:g),s[ER]=h):s[vh]=h,e({...o,request:n})},Ih=t=>{let e=t[0].split(Ch).map(i=>i.replace(e$,RR)).join(Ch),r=t[1]?.replace(t$,RR),o=e.indexOf(Ch),n=e.substring(0,o),s=e.substring(o+1);return n==="api"&&(s=s.toLowerCase()),[n,s,r].filter(i=>i&&i.length>0).reduce((i,a,c)=>{switch(c){case 0:return a;case 1:return`${i}/${a}`;default:return`${i}#${a}`}},"")},gY={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Kr=t=>({applyToStack:e=>{e.add(hY(t),gY)}})});var Ts=p(()=>{uk();s$()});var Xn,i$=p(()=>{Xn=(t,e,r)=>{if(e in t){if(t[e]==="true")return!0;if(t[e]==="false")return!1;throw new Error(`Cannot load ${r} "${e}". Expected "true" or "false", got ${t[e]}.`)}}});var a$=p(()=>{});var an,c$=p(()=>{(function(t){t.ENV="env",t.CONFIG="shared config entry"})(an||(an={}))});var Kd=p(()=>{i$();a$();c$()});var xY,yY,Wr,u$=p(()=>{Kd();xY="AWS_USE_DUALSTACK_ENDPOINT",yY="use_dualstack_endpoint",Wr={environmentVariableSelector:t=>Xn(t,xY,an.ENV),configFileSelector:t=>Xn(t,yY,an.CONFIG),default:!1}});var SY,EY,qr,p$=p(()=>{Kd();SY="AWS_USE_FIPS_ENDPOINT",EY="use_fips_endpoint",qr={environmentVariableSelector:t=>Xn(t,SY,an.ENV),configFileSelector:t=>Xn(t,EY,an.CONFIG),default:!1}});var d$=p(()=>{});var l$=p(()=>{});var m$=p(()=>{u$();p$();d$();l$()});var _Y,RY,Jt,fr,f$=p(()=>{_Y="AWS_REGION",RY="region",Jt={environmentVariableSelector:t=>t[_Y],configFileSelector:t=>t[RY],default:()=>{throw new Error("Region is missing")}},fr={preferredFile:"credentials"}});var h$,g$,x$=p(()=>{nn();h$=new Set,g$=(t,e=Sc)=>{if(!h$.has(t)&&!e(t))if(t==="*")console.warn('@smithy/config-resolver WARN - Please use the caller region instead of "*". See "sigv4a" in https://github.com/aws/aws-sdk-js-v3/blob/main/supplemental-docs/CLIENTS.md.');else throw new Error(`Region not accepted: region="${t}" is not a valid hostname component.`);else h$.add(t)}});var Th,bR=p(()=>{Th=t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips"))});var y$,S$=p(()=>{bR();y$=t=>Th(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t});var Jr,E$=p(()=>{x$();S$();bR();Jr=t=>{let{region:e,useFipsEndpoint:r}=t;if(!e)throw new Error("Region is missing");return Object.assign(t,{region:async()=>{let o=typeof e=="function"?await e():e,n=y$(o);return g$(n),n},useFipsEndpoint:async()=>{let o=typeof e=="string"?e:await e();return Th(o)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})}});var _$=p(()=>{f$();E$()});var R$=p(()=>{});var b$=p(()=>{});var v$=p(()=>{});var C$=p(()=>{R$();b$();v$()});var rr=p(()=>{m$();_$();C$()});function bY(t){return e=>async r=>{let o=r.request;if(me.isInstance(o)){let{body:n,headers:s}=o;if(n&&Object.keys(s).map(i=>i.toLowerCase()).indexOf(I$)===-1)try{let i=t(n);o.headers={...o.headers,[I$]:String(i)}}catch{}}return e({...r,request:o})}}var I$,vY,Qr,oi=p(()=>{Oe();I$="content-length";vY={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Qr=t=>({applyToStack:e=>{e.add(bY(t.bodyLengthChecker),vY)}})});var T$,CY,IY,TY,wY,AY,w$=p(()=>{T$=async t=>{let e=t?.Bucket||"";if(typeof t.Bucket=="string"&&(t.Bucket=e.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),AY(e)){if(t.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!wY(e)||e.indexOf(".")!==-1&&!String(t.Endpoint).startsWith("http:")||e.toLowerCase()!==e||e.length<3)&&(t.ForcePathStyle=!0);return t.DisableMultiRegionAccessPoints&&(t.disableMultiRegionAccessPoints=!0,t.DisableMRAP=!0),t},CY=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,IY=/(\d+\.){3}\d+/,TY=/\.\./,wY=t=>CY.test(t)&&!IY.test(t)&&!TY.test(t),AY=t=>{let[e,r,o,,,n]=t.split(":"),s=e==="arn"&&t.split(":").length>=6,i=!!(s&&r&&o&&n);if(s&&!i)throw new Error(`Invalid ARN: ${t} was an invalid ARN.`);return i}});var A$=p(()=>{w$()});var D$,P$=p(()=>{D$=(t,e,r,o=!1)=>{let n=async()=>{let s;return o?s=r.clientContextParams?.[t]??r[t]??r[e]:s=r[t]??r[e],typeof s=="function"?s():s};return t==="credentialScope"||e==="CredentialScope"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.credentialScope??s?.CredentialScope}:t==="accountId"||e==="AccountId"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.accountId??s?.AccountId}:t==="endpoint"||e==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let s=await n();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){let{protocol:i,hostname:a,port:c,path:u}=s;return`${i}//${a}${c?":"+c:""}${u}`}}return s}:n}});function wh(t){try{let e=new Set(Array.from(t.match(/([A-Z_]){3,}/g)??[]));return e.delete("CONFIG"),e.delete("CONFIG_PREFIX_SEPARATOR"),e.delete("ENV"),[...e].join(", ")}catch{return t}}var vR=p(()=>{});var O$,k$=p(()=>{ct();vR();O$=(t,e)=>async()=>{try{let r=t(process.env,e);if(r===void 0)throw new Error;return r}catch(r){throw new Q(r.message||`Not found in ENV: ${wh(t.toString())}`,{logger:e?.logger})}}});import{homedir as DY}from"os";import{sep as PY}from"path";var CR,OY,Ca,zu=p(()=>{CR={},OY=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",Ca=()=>{let{HOME:t,USERPROFILE:e,HOMEPATH:r,HOMEDRIVE:o=`C:${PY}`}=process.env;if(t)return t;if(e)return e;if(r)return`${o}${r}`;let n=OY();return CR[n]||(CR[n]=DY()),CR[n]}});var IR,kY,cn,N$=p(()=>{IR="AWS_PROFILE",kY="default",cn=t=>t.profile||process.env[IR]||kY});import{createHash as NY}from"crypto";import{join as $Y}from"path";var Ah,TR=p(()=>{zu();Ah=t=>{let r=NY("sha1").update(t).digest("hex");return $Y(Ca(),".aws","sso","cache",`${r}.json`)}});import{readFile as LY}from"fs/promises";var Wd,qd,wR=p(()=>{TR();Wd={},qd=async t=>{if(Wd[t])return Wd[t];let e=Ah(t),r=await LY(e,"utf8");return JSON.parse(r)}});var Tn,Dh=p(()=>{Tn="."});var $$,L$=p(()=>{fa();Dh();$$=t=>Object.entries(t).filter(([e])=>{let r=e.indexOf(Tn);return r===-1?!1:Object.values($i).includes(e.substring(0,r))}).reduce((e,[r,o])=>{let n=r.indexOf(Tn),s=r.substring(0,n)===$i.PROFILE?r.substring(n+1):r;return e[s]=o,e},{...t.default&&{default:t.default}})});import{join as MY}from"path";var BY,Ph,AR=p(()=>{zu();BY="AWS_CONFIG_FILE",Ph=()=>process.env[BY]||MY(Ca(),".aws","config")});import{join as UY}from"path";var FY,M$,B$=p(()=>{zu();FY="AWS_SHARED_CREDENTIALS_FILE",M$=()=>process.env[FY]||UY(Ca(),".aws","credentials")});var GY,HY,Jd,DR=p(()=>{fa();Dh();GY=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,HY=["__proto__","profile __proto__"],Jd=t=>{let e={},r,o;for(let n of t.split(/\r?\n/)){let s=n.split(/(^|\s)[;#]/)[0].trim();if(s[0]==="["&&s[s.length-1]==="]"){r=void 0,o=void 0;let a=s.substring(1,s.length-1),c=GY.exec(a);if(c){let[,u,,m]=c;Object.values($i).includes(u)&&(r=[u,m].join(Tn))}else r=a;if(HY.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=s.indexOf("=");if(![0,-1].includes(a)){let[c,u]=[s.substring(0,a).trim(),s.substring(a+1).trim()];if(u==="")o=c;else{o&&n.trimStart()===n&&(o=void 0),e[r]=e[r]||{};let m=o?[o,c].join(Tn):c;e[r][m]=u}}}}return e}});import{readFile as jY}from"node:fs/promises";var PR,Qd,Ia,Yd=p(()=>{PR={},Qd={},Ia=(t,e)=>Qd[t]!==void 0?Qd[t]:((!PR[t]||e?.ignoreCache)&&(PR[t]=jY(t,"utf8")),PR[t])});import{join as U$}from"path";var F$,Oh,kh=p(()=>{L$();AR();B$();zu();DR();Yd();Dh();F$=()=>({}),Oh=async(t={})=>{let{filepath:e=M$(),configFilepath:r=Ph()}=t,o=Ca(),n="~/",s=e;e.startsWith(n)&&(s=U$(o,e.slice(2)));let i=r;r.startsWith(n)&&(i=U$(o,r.slice(2)));let a=await Promise.all([Ia(i,{ignoreCache:t.ignoreCache}).then(Jd).then($$).catch(F$),Ia(s,{ignoreCache:t.ignoreCache}).then(Jd).catch(F$)]);return{configFile:a[0],credentialsFile:a[1]}}});var G$,H$=p(()=>{fa();kh();G$=t=>Object.entries(t).filter(([e])=>e.startsWith($i.SSO_SESSION+Tn)).reduce((e,[r,o])=>({...e,[r.substring(r.indexOf(Tn)+1)]:o}),{})});var VY,Nh,j$=p(()=>{AR();H$();DR();Yd();VY=()=>({}),Nh=async(t={})=>Ia(t.configFilepath??Ph()).then(Jd).then(G$).catch(VY)});var V$,z$=p(()=>{V$=(...t)=>{let e={};for(let r of t)for(let[o,n]of Object.entries(r))e[o]!==void 0?Object.assign(e[o],n):e[o]=n;return e}});var ni,K$=p(()=>{kh();z$();ni=async t=>{let e=await Oh(t);return V$(e.configFile,e.credentialsFile)}});var Xd,W$=p(()=>{wR();Yd();Xd={getFileRecord(){return Qd},interceptFile(t,e){Qd[t]=Promise.resolve(e)},getTokenRecord(){return Wd},interceptToken(t,e){Wd[t]=e}}});var q$=p(()=>{});var jo=p(()=>{zu();N$();TR();wR();kh();j$();K$();W$();q$();Yd()});var J$,Q$=p(()=>{ct();jo();vR();J$=(t,{preferredFile:e="config",...r}={})=>async()=>{let o=cn(r),{configFile:n,credentialsFile:s}=await Oh(r),i=s[o]||{},a=n[o]||{},c=e==="config"?{...i,...a}:{...a,...i};try{let m=t(c,e==="config"?n:s);if(m===void 0)throw new Error;return m}catch(u){throw new Q(u.message||`Not found in config files w/ profile [${o}]: ${wh(t.toString())}`,{logger:r.logger})}}});var zY,Y$,X$=p(()=>{ct();zY=t=>typeof t=="function",Y$=t=>zY(t)?async()=>await t():VN(t)});var F,Z$=p(()=>{ct();k$();Q$();X$();F=({environmentVariableSelector:t,configFileSelector:e,default:r},o={})=>{let{signingName:n,logger:s}=o;return eh(Mu(O$(t,{signingName:n,logger:s}),J$(e,o),Y$(r)))}});var Vo=p(()=>{Z$()});var eL,tL,rL,oL=p(()=>{jo();eL="AWS_ENDPOINT_URL",tL="endpoint_url",rL=t=>({environmentVariableSelector:e=>{let r=t.split(" ").map(s=>s.toUpperCase()),o=e[[eL,...r].join("_")];if(o)return o;let n=e[eL];if(n)return n},configFileSelector:(e,r)=>{if(r&&e.services){let n=r[["services",e.services].join(Tn)];if(n){let s=t.split(" ").map(a=>a.toLowerCase()),i=n[[s.join("_"),tL].join(Tn)];if(i)return i}}let o=e[tL];if(o)return o},default:void 0})});var $h,OR=p(()=>{Vo();oL();$h=async t=>F(rL(t??""))()});var Lh,Mh=p(()=>{Jn();Lh=t=>typeof t=="object"?"url"in t?Lt(t.url):t:Lt(t)});var nL,kR,NR=p(()=>{A$();P$();OR();Mh();nL=async(t,e,r,o)=>{if(!r.isCustomEndpoint){let i;r.serviceConfiguredEndpoint?i=await r.serviceConfiguredEndpoint():i=await $h(r.serviceId),i&&(r.endpoint=()=>Promise.resolve(Lh(i)),r.isCustomEndpoint=!0)}let n=await kR(t,e,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(n,o)},kR=async(t,e,r)=>{let o={},n=e?.getEndpointParameterInstructions?.()||{};for(let[s,i]of Object.entries(n))switch(i.type){case"staticContextParams":o[s]=i.value;break;case"contextParams":o[s]=t[i.name];break;case"clientContextParams":case"builtInParams":o[s]=await D$(i.name,s,r,i.type!=="builtInParams")();break;case"operationContextParams":o[s]=i.get(t);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}return Object.keys(n).length===0&&Object.assign(o,r),String(r.serviceId).toLowerCase()==="s3"&&await T$(o),o}});var sL=p(()=>{NR();Mh()});var iL,$R=p(()=>{At();Zt();NR();iL=({config:t,instructions:e})=>(r,o)=>async n=>{t.isCustomEndpoint&&XO(o,"ENDPOINT_OVERRIDE","N");let s=await nL(n.input,{getEndpointParameterInstructions(){return e}},{...t},o);o.endpointV2=s,o.authSchemes=s.properties?.authSchemes;let i=o.authSchemes?.[0];if(i){o.signing_region=i.signingRegion,o.signing_service=i.signingName;let c=nt(o)?.selectedHttpAuthScheme?.httpAuthOption;c&&(c.signingProperties=Object.assign(c.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return r({...n})}});var KY,ee,aL=p(()=>{GE();$R();KY={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:Pf.name},ee=(t,e)=>({applyToStack:r=>{r.addRelativeTo(iL({config:t,instructions:e}),KY)}})});var Yr,cL=p(()=>{Zt();OR();Mh();Yr=t=>{let e=t.tls??!0,{endpoint:r,useDualstackEndpoint:o,useFipsEndpoint:n}=t,s=r!=null?async()=>Lh(await ge(r)()):void 0,a=Object.assign(t,{endpoint:s,tls:e,isCustomEndpoint:!!r,useDualstackEndpoint:ge(o??!1),useFipsEndpoint:ge(n??!1)}),c;return a.serviceConfiguredEndpoint=async()=>(t.serviceId&&!c&&(c=$h(t.serviceId)),c),a}});var uL=p(()=>{});var pL=p(()=>{});var xe=p(()=>{sL();$R();aL();cL();uL();pL()});var Ki,Ku,hr,Bh=p(()=>{(function(t){t.STANDARD="standard",t.ADAPTIVE="adaptive"})(Ki||(Ki={}));Ku=3,hr=Ki.STANDARD});var dL,lL,mL,fL,hL,gL=p(()=>{dL=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],lL=["TimeoutError","RequestTimeout","RequestTimeoutException"],mL=[500,502,503,504],fL=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],hL=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"]});var WY,qY,JY,Uh,Fh,xL,LR=p(()=>{gL();WY=t=>t?.$retryable!==void 0,qY=t=>t.$metadata?.clockSkewCorrected,JY=t=>{let e=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return t&&t instanceof TypeError?e.has(t.message):!1},Uh=t=>t.$metadata?.httpStatusCode===429||dL.includes(t.name)||t.$retryable?.throttling==!0,Fh=(t,e=0)=>WY(t)||qY(t)||lL.includes(t.name)||fL.includes(t?.code||"")||hL.includes(t?.code||"")||mL.includes(t.$metadata?.httpStatusCode||0)||JY(t)||t.cause!==void 0&&e<=10&&Fh(t.cause,e+1),xL=t=>{if(t.$metadata?.httpStatusCode!==void 0){let e=t.$metadata.httpStatusCode;return 500<=e&&e<=599&&!Fh(t)}return!1}});var Gh,MR=p(()=>{LR();Gh=class t{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(e){this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){let r=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise(o=>t.setTimeoutFn(o,r))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){let e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}let r=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=e}updateClientSendingRate(e){let r;if(this.updateMeasuredRate(),Uh(e)){let n=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=n,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(n),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let o=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(o)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let e=this.getCurrentTimeInSeconds(),r=Math.floor(e*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let o=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(o*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(e){return parseFloat(e.toFixed(8))}}});var yL,SL,EL=p(()=>{yL="amz-sdk-invocation-id",SL="amz-sdk-request"});var RL,bL=p(()=>{RL=()=>{let t=100;return{computeNextBackoffDelay:o=>Math.floor(Math.min(2e4,Math.random()*2**o*t)),setDelayBase:o=>{t=o}}}});var BR,vL=p(()=>{BR=({retryDelay:t,retryCount:e,retryCost:r})=>({getRetryCount:()=>e,getRetryDelay:()=>Math.min(2e4,t),getRetryCost:()=>r})});var Wu,UR=p(()=>{Bh();bL();vL();Wu=class{maxAttempts;mode=Ki.STANDARD;capacity=500;retryBackoffStrategy=RL();maxAttemptsProvider;constructor(e){this.maxAttempts=e,this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}async acquireInitialRetryToken(e){return BR({retryDelay:100,retryCount:0})}async refreshRetryTokenForRetry(e,r){let o=await this.getMaxAttempts();if(this.shouldRetry(e,r,o)){let n=r.errorType;this.retryBackoffStrategy.setDelayBase(n==="THROTTLING"?500:100);let s=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),i=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,s):s,a=this.getCapacityCost(n);return this.capacity-=a,BR({retryDelay:i,retryCount:e.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(500,this.capacity+(e.getRetryCost()??1))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Ku}`),Ku}}shouldRetry(e,r,o){return e.getRetryCount()+1<o&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(e){return e==="TRANSIENT"?10:5}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}}});var Hh,CL=p(()=>{Bh();MR();UR();Hh=class{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=Ki.ADAPTIVE;constructor(e,r){this.maxAttemptsProvider=e;let{rateLimiter:o}=r??{};this.rateLimiter=o??new Gh,this.standardRetryStrategy=new Wu(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(e,r)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}}});var IL=p(()=>{});var TL=p(()=>{});var Zn=p(()=>{CL();IL();MR();UR();Bh();EL();TL()});var wL=p(()=>{});var AL=p(()=>{});var DL,PL=p(()=>{DL=t=>t instanceof Error?t:t instanceof Object?Object.assign(new Error,t):typeof t=="string"?new Error(t):new Error(`AWS SDK error wrapper for ${t}`)});var OL=p(()=>{});var kL=p(()=>{});var NL,$L,Xr,Zr,XY,ZY,eo,LL=p(()=>{Zt();Zn();NL="AWS_MAX_ATTEMPTS",$L="max_attempts",Xr={environmentVariableSelector:t=>{let e=t[NL];if(!e)return;let r=parseInt(e);if(Number.isNaN(r))throw new Error(`Environment variable ${NL} mast be a number, got "${e}"`);return r},configFileSelector:t=>{let e=t[$L];if(!e)return;let r=parseInt(e);if(Number.isNaN(r))throw new Error(`Shared config file entry ${$L} mast be a number, got "${e}"`);return r},default:Ku},Zr=t=>{let{retryStrategy:e,retryMode:r,maxAttempts:o}=t,n=ge(o??Ku);return Object.assign(t,{maxAttempts:n,retryStrategy:async()=>e||(await ge(r)()===Ki.ADAPTIVE?new Hh(n):new Wu(n))})},XY="AWS_RETRY_MODE",ZY="retry_mode",eo={environmentVariableSelector:t=>t[XY],configFileSelector:t=>t[ZY],default:hr}});var ML=p(()=>{});import{Readable as eX}from"stream";var BL,UL=p(()=>{BL=t=>t?.body instanceof eX||typeof ReadableStream<"u"&&t?.body instanceof ReadableStream});var tX,rX,oX,nX,sX,to,iX,FL=p(()=>{Oe();LR();U();Zn();l_();UL();PL();tX=t=>(e,r)=>async o=>{let n=await t.retryStrategy(),s=await t.maxAttempts();if(rX(n)){n=n;let i=await n.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,u=0,{request:m}=o,f=me.isInstance(m);for(f&&(m.headers[yL]=bs());;)try{f&&(m.headers[SL]=`attempt=${c+1}; max=${s}`);let{response:h,output:g}=await e(o);return n.recordSuccess(i),g.$metadata.attempts=c+1,g.$metadata.totalRetryDelay=u,{response:h,output:g}}catch(h){let g=oX(h);if(a=DL(h),f&&BL(m))throw(r.logger instanceof Mt?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{i=await n.refreshRetryTokenForRetry(i,g)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=u,a}c=i.getRetryCount();let _=i.getRetryDelay();u+=_,await new Promise(R=>setTimeout(R,_))}}else return n=n,n?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",n.mode]]),n.retry(e,o)},rX=t=>typeof t.acquireInitialRetryToken<"u"&&typeof t.refreshRetryTokenForRetry<"u"&&typeof t.recordSuccess<"u",oX=t=>{let e={error:t,errorType:nX(t)},r=iX(t.$response);return r&&(e.retryAfterHint=r),e},nX=t=>Uh(t)?"THROTTLING":Fh(t)?"TRANSIENT":xL(t)?"SERVER_ERROR":"CLIENT_ERROR",sX={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},to=t=>({applyToStack:e=>{e.add(tX(t),sX)}}),iX=t=>{if(!To.isInstance(t))return;let e=Object.keys(t.headers).find(s=>s.toLowerCase()==="retry-after");if(!e)return;let r=t.headers[e],o=Number(r);return Number.isNaN(o)?new Date(r):new Date(o*1e3)}});var Rr=p(()=>{kL();OL();LL();wL();ML();AL();FL()});var wg,Ag,C2,I2,T2,w2,ZR,A2=p(()=>{yo();ct();wg="AWS_ACCESS_KEY_ID",Ag="AWS_SECRET_ACCESS_KEY",C2="AWS_SESSION_TOKEN",I2="AWS_CREDENTIAL_EXPIRATION",T2="AWS_CREDENTIAL_SCOPE",w2="AWS_ACCOUNT_ID",ZR=t=>async()=>{t?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let e=process.env[wg],r=process.env[Ag],o=process.env[C2],n=process.env[I2],s=process.env[T2],i=process.env[w2];if(e&&r){let a={accessKeyId:e,secretAccessKey:r,...o&&{sessionToken:o},...n&&{expiration:new Date(n)},...s&&{credentialScope:s},...i&&{accountId:i}};return $e(a,"CREDENTIALS_ENV_VARS","g"),a}throw new Q("Unable to find environment variable credentials.",{logger:t?.logger})}});var D2={};_n(D2,{ENV_ACCOUNT_ID:()=>w2,ENV_CREDENTIAL_SCOPE:()=>T2,ENV_EXPIRATION:()=>I2,ENV_KEY:()=>wg,ENV_SECRET:()=>Ag,ENV_SESSION:()=>C2,fromEnv:()=>ZR});var eb=p(()=>{A2()});import{Buffer as Ite}from"buffer";import{request as Tte}from"http";function Ta(t){return new Promise((e,r)=>{let o=Tte({method:"GET",...t,hostname:t.hostname?.replace(/^\[(.+)\]$/,"$1")});o.on("error",n=>{r(Object.assign(new Go("Unable to connect to instance metadata service"),n)),o.destroy()}),o.on("timeout",()=>{r(new Go("TimeoutError from instance metadata service")),o.destroy()}),o.on("response",n=>{let{statusCode:s=400}=n;(s<200||300<=s)&&(r(Object.assign(new Go("Error response received from instance metadata service"),{statusCode:s})),o.destroy());let i=[];n.on("data",a=>{i.push(a)}),n.on("end",()=>{e(Ite.concat(i)),o.destroy()})}),o.end()})}var Dg=p(()=>{ct()});var Pg,Og,tb=p(()=>{Pg=t=>!!t&&typeof t=="object"&&typeof t.AccessKeyId=="string"&&typeof t.SecretAccessKey=="string"&&typeof t.Token=="string"&&typeof t.Expiration=="string",Og=t=>({accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,sessionToken:t.Token,expiration:new Date(t.Expiration),...t.AccountId&&{accountId:t.AccountId}})});var wWe,AWe,ol,kg=p(()=>{wWe=1e3,AWe=0,ol=({maxRetries:t=0,timeout:e=1e3})=>({maxRetries:t,timeout:e})});var nl,rb=p(()=>{nl=(t,e)=>{let r=t();for(let o=0;o<e;o++)r=r.catch(t);return r}});import{parse as wte}from"url";var Ng,$g,ob,Ate,Dte,Pte,Ote,kte,Nte,P2=p(()=>{ct();Dg();tb();kg();rb();Ng="AWS_CONTAINER_CREDENTIALS_FULL_URI",$g="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",ob="AWS_CONTAINER_AUTHORIZATION_TOKEN",Ate=(t={})=>{let{timeout:e,maxRetries:r}=ol(t);return()=>nl(async()=>{let o=await Nte({logger:t.logger}),n=JSON.parse(await Dte(e,o));if(!Pg(n))throw new Q("Invalid response received from instance metadata service.",{logger:t.logger});return Og(n)},r)},Dte=async(t,e)=>(process.env[ob]&&(e.headers={...e.headers,Authorization:process.env[ob]}),(await Ta({...e,timeout:t})).toString()),Pte="169.254.170.2",Ote={localhost:!0,"127.0.0.1":!0},kte={"http:":!0,"https:":!0},Nte=async({logger:t})=>{if(process.env[$g])return{hostname:Pte,path:process.env[$g]};if(process.env[Ng]){let e=wte(process.env[Ng]);if(!e.hostname||!(e.hostname in Ote))throw new Q(`${e.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:t});if(!e.protocol||!(e.protocol in kte))throw new Q(`${e.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:t});return{...e,port:e.port?parseInt(e.port,10):void 0}}throw new Q(`The container metadata credential provider cannot be used unless the ${$g} or ${Ng} environment variable is set`,{tryNextLink:!1,logger:t})}});var Lg,O2=p(()=>{ct();Lg=class t extends Q{tryNextLink;name="InstanceMetadataV1FallbackError";constructor(e,r=!0){super(e,r),this.tryNextLink=r,Object.setPrototypeOf(this,t.prototype)}}});var Dc,nb=p(()=>{(function(t){t.IPv4="http://169.254.169.254",t.IPv6="http://[fd00:ec2::254]"})(Dc||(Dc={}))});var $te,Lte,k2,N2=p(()=>{$te="AWS_EC2_METADATA_SERVICE_ENDPOINT",Lte="ec2_metadata_service_endpoint",k2={environmentVariableSelector:t=>t[$te],configFileSelector:t=>t[Lte],default:void 0}});var wa,sb=p(()=>{(function(t){t.IPv4="IPv4",t.IPv6="IPv6"})(wa||(wa={}))});var Mte,Bte,$2,L2=p(()=>{sb();Mte="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",Bte="ec2_metadata_service_endpoint_mode",$2={environmentVariableSelector:t=>t[Mte],configFileSelector:t=>t[Bte],default:wa.IPv4}});var Mg,Ute,Fte,ib=p(()=>{Vo();Jn();nb();N2();sb();L2();Mg=async()=>Lt(await Ute()||await Fte()),Ute=async()=>F(k2)(),Fte=async()=>{let t=await F($2)();switch(t){case wa.IPv4:return Dc.IPv4;case wa.IPv6:return Dc.IPv6;default:throw new Error(`Unsupported endpoint mode: ${t}. Select from ${Object.values(wa)}`)}}});var Gte,ab,M2=p(()=>{Gte="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",ab=(t,e)=>{let r=300+Math.floor(Math.random()*300),o=new Date(Date.now()+r*1e3);e.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(o)}.
For more information, please visit: `+Gte);let n=t.originalExpiration??t.expiration;return{...t,...n?{originalExpiration:n}:{},expiration:o}}});var B2,U2=p(()=>{M2();B2=(t,e={})=>{let r=e?.logger||console,o;return async()=>{let n;try{n=await t(),n.expiration&&n.expiration.getTime()<Date.now()&&(n=ab(n,r))}catch(s){if(o)r.warn("Credential renew failed: ",s),n=ab(o,r);else throw s}return o=n,n}}});var H2,Hte,cb,F2,G2,jte,Vte,zte,Kte,Wte,j2=p(()=>{Vo();ct();O2();Dg();tb();kg();rb();ib();U2();H2="/latest/meta-data/iam/security-credentials/",Hte="/latest/api/token",cb="AWS_EC2_METADATA_V1_DISABLED",F2="ec2_metadata_v1_disabled",G2="x-aws-ec2-metadata-token",jte=(t={})=>B2(Vte(t),{logger:t.logger}),Vte=(t={})=>{let e=!1,{logger:r,profile:o}=t,{timeout:n,maxRetries:s}=ol(t),i=async(a,c)=>{if(e||c.headers?.[G2]==null){let f=!1,h=!1,g=await F({environmentVariableSelector:_=>{let R=_[cb];if(h=!!R&&R!=="false",R===void 0)throw new Q(`${cb} not set in env, checking config file next.`,{logger:t.logger});return h},configFileSelector:_=>{let R=_[F2];return f=!!R&&R!=="false",f},default:!1},{profile:o})();if(t.ec2MetadataV1Disabled||g){let _=[];throw t.ec2MetadataV1Disabled&&_.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),f&&_.push(`config file profile (${F2})`),h&&_.push(`process environment variable (${cb})`),new Lg(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${_.join(", ")}].`)}}let m=(await nl(async()=>{let f;try{f=await Kte(c)}catch(h){throw h.statusCode===401&&(e=!1),h}return f},a)).trim();return nl(async()=>{let f;try{f=await Wte(m,c,t)}catch(h){throw h.statusCode===401&&(e=!1),h}return f},a)};return async()=>{let a=await Mg();if(e)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),i(s,{...a,timeout:n});{let c;try{c=(await zte({...a,timeout:n})).toString()}catch(u){if(u?.statusCode===400)throw Object.assign(u,{message:"EC2 Metadata token request returned error"});return(u.message==="TimeoutError"||[403,404,405].includes(u.statusCode))&&(e=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),i(s,{...a,timeout:n})}return i(s,{...a,headers:{[G2]:c},timeout:n})}}},zte=async t=>Ta({...t,path:Hte,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),Kte=async t=>(await Ta({...t,path:H2})).toString(),Wte=async(t,e,r)=>{let o=JSON.parse((await Ta({...e,path:H2+t})).toString());if(!Pg(o))throw new Q("Invalid response received from instance metadata service.",{logger:r.logger});return Og(o)}});var V2=p(()=>{});var sl={};_n(sl,{DEFAULT_MAX_RETRIES:()=>AWe,DEFAULT_TIMEOUT:()=>wWe,ENV_CMDS_AUTH_TOKEN:()=>ob,ENV_CMDS_FULL_URI:()=>Ng,ENV_CMDS_RELATIVE_URI:()=>$g,Endpoint:()=>Dc,fromContainerMetadata:()=>Ate,fromInstanceMetadata:()=>jte,getInstanceMetadataEndpoint:()=>Mg,httpRequest:()=>Ta,providerConfigFromInit:()=>ol});var il=p(()=>{P2();j2();kg();V2();Dg();ib();nb()});var qte,Jte,Qte,z2,K2=p(()=>{ct();qte="169.254.170.2",Jte="169.254.170.23",Qte="[fd00:ec2::23]",z2=(t,e)=>{if(t.protocol!=="https:"&&!(t.hostname===qte||t.hostname===Jte||t.hostname===Qte)){if(t.hostname.includes("[")){if(t.hostname==="[::1]"||t.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(t.hostname==="localhost")return;let r=t.hostname.split("."),o=n=>{let s=parseInt(n,10);return 0<=s&&s<=255};if(r[0]==="127"&&o(r[1])&&o(r[2])&&o(r[3])&&r.length===4)return}throw new Q(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:e})}}});function W2(t){return new me({protocol:t.protocol,hostname:t.hostname,port:Number(t.port),path:t.pathname,query:Array.from(t.searchParams.entries()).reduce((e,[r,o])=>(e[r]=o,e),{}),fragment:t.hash})}async function q2(t,e){let o=await vu(t.body).transformToString();if(t.statusCode===200){let n=JSON.parse(o);if(typeof n.AccessKeyId!="string"||typeof n.SecretAccessKey!="string"||typeof n.Token!="string"||typeof n.Expiration!="string")throw new Q("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:e});return{accessKeyId:n.AccessKeyId,secretAccessKey:n.SecretAccessKey,sessionToken:n.Token,expiration:EO(n.Expiration)}}if(t.statusCode>=400&&t.statusCode<500){let n={};try{n=JSON.parse(o)}catch{}throw Object.assign(new Q(`Server responded with status: ${t.statusCode}`,{logger:e}),{Code:n.Code,Message:n.Message})}throw new Q(`Server responded with status: ${t.statusCode}`,{logger:e})}var J2=p(()=>{ct();Oe();U();ga()});var Q2,Y2=p(()=>{Q2=(t,e,r)=>async()=>{for(let o=0;o<e;++o)try{return await t()}catch{await new Promise(s=>setTimeout(s,r))}return await t()}});import Yte from"fs/promises";var Xte,Zte,ere,tre,rre,X2,Z2=p(()=>{yo();Vn();ct();K2();J2();Y2();Xte="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",Zte="http://169.254.170.2",ere="AWS_CONTAINER_CREDENTIALS_FULL_URI",tre="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",rre="AWS_CONTAINER_AUTHORIZATION_TOKEN",X2=(t={})=>{t.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let e,r=t.awsContainerCredentialsRelativeUri??process.env[Xte],o=t.awsContainerCredentialsFullUri??process.env[ere],n=t.awsContainerAuthorizationToken??process.env[rre],s=t.awsContainerAuthorizationTokenFile??process.env[tre],i=t.logger?.constructor?.name==="NoOpLogger"||!t.logger?.warn?console.warn:t.logger.warn.bind(t.logger);if(r&&o&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),i("awsContainerCredentialsFullUri will take precedence.")),n&&s&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),i("awsContainerAuthorizationToken will take precedence.")),o)e=o;else if(r)e=`${Zte}${r}`;else throw new Q(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:t.logger});let a=new URL(e);z2(a,t.logger);let c=Wt.create({requestTimeout:t.timeout??1e3,connectionTimeout:t.timeout??1e3});return Q2(async()=>{let u=W2(a);n?u.headers.Authorization=n:s&&(u.headers.Authorization=(await Yte.readFile(s)).toString());try{let m=await c.handle(u);return q2(m.response).then(f=>$e(f,"CREDENTIALS_HTTP","z"))}catch(m){throw new Q(String(m),{logger:t.logger})}},t.maxRetries??3,t.timeout??1e3)}});var ub={};_n(ub,{fromHttp:()=>X2});var pb=p(()=>{Z2()});var db,lb=p(()=>{db=t=>t&&(typeof t.sso_start_url=="string"||typeof t.sso_account_id=="string"||typeof t.sso_session=="string"||typeof t.sso_region=="string"||typeof t.sso_role_name=="string")});var oM=p(()=>{});var Yu,Bg=p(()=>{Yu="To refresh this SSO session run 'aws sso login' with the corresponding profile."});function nre(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function sre(t){return{schemeId:"smithy.api#noAuth"}}var nM,sM,iM,mb=p(()=>{Qe();Zt();nM=async(t,e,r)=>({operation:nt(e).operation,region:await ge(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});sM=t=>{let e=[];switch(t.operation){case"CreateToken":{e.push(sre(t));break}default:e.push(nre(t))}return e},iM=t=>{let e=Gr(t);return Object.assign(e,{authSchemePreference:ge(t.authSchemePreference??[])})}});var aM,cM,fb=p(()=>{aM=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),cM={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var Xu,Ug=p(()=>{Xu={name:"@aws-sdk/nested-clients",version:"3.958.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},sideEffects:!1,author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.957.0","@aws-sdk/middleware-host-header":"3.957.0","@aws-sdk/middleware-logger":"3.957.0","@aws-sdk/middleware-recursion-detection":"3.957.0","@aws-sdk/middleware-user-agent":"3.957.0","@aws-sdk/region-config-resolver":"3.957.0","@aws-sdk/types":"3.957.0","@aws-sdk/util-endpoints":"3.957.0","@aws-sdk/util-user-agent-browser":"3.957.0","@aws-sdk/util-user-agent-node":"3.957.0","@smithy/config-resolver":"^4.4.5","@smithy/core":"^3.20.0","@smithy/fetch-http-handler":"^5.3.8","@smithy/hash-node":"^4.2.7","@smithy/invalid-dependency":"^4.2.7","@smithy/middleware-content-length":"^4.2.7","@smithy/middleware-endpoint":"^4.4.1","@smithy/middleware-retry":"^4.4.17","@smithy/middleware-serde":"^4.2.8","@smithy/middleware-stack":"^4.2.7","@smithy/node-config-provider":"^4.3.7","@smithy/node-http-handler":"^4.4.7","@smithy/protocol-http":"^5.3.7","@smithy/smithy-client":"^4.10.2","@smithy/types":"^4.11.0","@smithy/url-parser":"^4.2.7","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.16","@smithy/util-defaults-mode-node":"^4.2.19","@smithy/util-endpoints":"^3.2.7","@smithy/util-middleware":"^4.2.7","@smithy/util-retry":"^4.2.7","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./signin.d.ts","./signin.js","./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/signin/runtimeConfig":"./dist-es/submodules/signin/runtimeConfig.browser","./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./package.json":"./package.json","./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"},"./signin":{types:"./dist-types/submodules/signin/index.d.ts",module:"./dist-es/submodules/signin/index.js",node:"./dist-cjs/submodules/signin/index.js",import:"./dist-es/submodules/signin/index.js",require:"./dist-cjs/submodules/signin/index.js"}}}});var uM,pM=p(()=>{uM={isCrtAvailable:!1}});var dM,lM=p(()=>{pM();dM=()=>uM.isCrtAvailable?["md/crt-avail"]:null});import{platform as are,release as cre}from"os";import{env as mM,versions as ure}from"process";var ro,fM=p(()=>{lM();ro=({serviceId:t,clientVersion:e})=>async r=>{let o=[["aws-sdk-js",e],["ua","2.1"],[`os/${are()}`,cre()],["lang/js"],["md/nodejs",`${ure.node}`]],n=dM();n&&o.push(n),t&&o.push([`api/${t}`,e]),mM.AWS_EXECUTION_ENV&&o.push([`exec-env/${mM.AWS_EXECUTION_ENV}`]);let s=await r?.userAgentAppId?.();return s?[...o,[`app/${s}`]]:[...o]}});var pre,dre,lre,oo,hM=p(()=>{Ts();pre="AWS_SDK_UA_APP_ID",dre="sdk_ua_app_id",lre="sdk-ua-app-id",oo={environmentVariableSelector:t=>t[pre],configFileSelector:t=>t[dre]??t[lre],default:E_}});var ii=p(()=>{fM();hM()});import{Buffer as mre}from"buffer";import{createHash as fre,createHmac as hre}from"crypto";function gM(t,e){return mre.isBuffer(t)?t:typeof t=="string"?Ru(t,e):ArrayBuffer.isView(t)?Ui(t.buffer,t.byteOffset,t.byteLength):Ui(t)}var Qt,ai=p(()=>{fc();wt();Qt=class{algorithmIdentifier;secret;hash;constructor(e,r){this.algorithmIdentifier=e,this.secret=r,this.reset()}update(e,r){this.hash.update(Fo(gM(e,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?hre(this.algorithmIdentifier,gM(this.secret)):fre(this.algorithmIdentifier)}}});import{fstatSync as gre,lstatSync as xre,ReadStream as yre}from"node:fs";var no,xM=p(()=>{no=t=>{if(!t)return 0;if(typeof t=="string")return Buffer.byteLength(t);if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.size=="number")return t.size;if(typeof t.start=="number"&&typeof t.end=="number")return t.end+1-t.start;if(t instanceof yre){if(t.path!=null)return xre(t.path).size;if(typeof t.fd=="number")return gre(t.fd).size}throw new Error(`Body Length computation failed for ${t}`)}});var ci=p(()=>{xM()});var yM,hb,gb,SM,EM,_M,RM=p(()=>{yM="AWS_EXECUTION_ENV",hb="AWS_REGION",gb="AWS_DEFAULT_REGION",SM="AWS_EC2_METADATA_DISABLED",EM=["in-region","cross-region","mobile","standard","legacy"],_M="/latest/meta-data/placement/region"});var Sre,Ere,bM,vM=p(()=>{Sre="AWS_DEFAULTS_MODE",Ere="defaults_mode",bM={environmentVariableSelector:t=>t[Sre],configFileSelector:t=>t[Ere],default:"legacy"}});var so,_re,Rre,CM=p(()=>{rr();Vo();ct();RM();vM();so=({region:t=F(Jt),defaultsMode:e=F(bM)}={})=>eh(async()=>{let r=typeof e=="function"?await e():e;switch(r?.toLowerCase()){case"auto":return _re(t);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${EM.join(", ")}, got ${r}`)}}),_re=async t=>{if(t){let e=typeof t=="function"?await t():t,r=await Rre();return r?e===r?"in-region":"cross-region":"standard"}return"standard"},Rre=async()=>{if(process.env[yM]&&(process.env[hb]||process.env[gb]))return process.env[hb]??process.env[gb];if(!process.env[SM])try{let{getInstanceMetadataEndpoint:t,httpRequest:e}=await Promise.resolve().then(()=>(il(),sl)),r=await t();return(await e({...r,path:_M})).toString()}catch{}}});var ui=p(()=>{CM()});var $M,ts,rs,tp,IM,al,Zu,ep,Wi,xb,yb,TM,wM,AM,LM,MM,es,DM,BM,PM,OM,kM,NM,bre,UM,FM=p(()=>{$M="required",ts="fn",rs="argv",tp="ref",IM="isSet",al="booleanEquals",Zu="error",ep="endpoint",Wi="tree",xb="PartitionResult",yb="getAttr",TM={[$M]:!1,type:"string"},wM={[$M]:!0,default:!1,type:"boolean"},AM={[tp]:"Endpoint"},LM={[ts]:al,[rs]:[{[tp]:"UseFIPS"},!0]},MM={[ts]:al,[rs]:[{[tp]:"UseDualStack"},!0]},es={},DM={[ts]:yb,[rs]:[{[tp]:xb},"supportsFIPS"]},BM={[tp]:xb},PM={[ts]:al,[rs]:[!0,{[ts]:yb,[rs]:[BM,"supportsDualStack"]}]},OM=[LM],kM=[MM],NM=[{[tp]:"Region"}],bre={version:"1.0",parameters:{Region:TM,UseDualStack:wM,UseFIPS:wM,Endpoint:TM},rules:[{conditions:[{[ts]:IM,[rs]:[AM]}],rules:[{conditions:OM,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Zu},{conditions:kM,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Zu},{endpoint:{url:AM,properties:es,headers:es},type:ep}],type:Wi},{conditions:[{[ts]:IM,[rs]:NM}],rules:[{conditions:[{[ts]:"aws.partition",[rs]:NM,assign:xb}],rules:[{conditions:[LM,MM],rules:[{conditions:[{[ts]:al,[rs]:[!0,DM]},PM],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:es,headers:es},type:ep}],type:Wi},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Zu}],type:Wi},{conditions:OM,rules:[{conditions:[{[ts]:al,[rs]:[DM,!0]}],rules:[{conditions:[{[ts]:"stringEquals",[rs]:[{[ts]:yb,[rs]:[BM,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:es,headers:es},type:ep},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:es,headers:es},type:ep}],type:Wi},{error:"FIPS is enabled but this partition does not support FIPS",type:Zu}],type:Wi},{conditions:kM,rules:[{conditions:[PM],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:es,headers:es},type:ep}],type:Wi},{error:"DualStack is enabled but this partition does not support DualStack",type:Zu}],type:Wi},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:es,headers:es},type:ep}],type:Wi}],type:Wi},{error:"Invalid Configuration: Missing Region",type:Zu}]},UM=bre});var vre,GM,HM=p(()=>{Is();nn();FM();vre=new lr({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),GM=(t,e={})=>vre.get(t,()=>Br(UM,{endpointParams:t,logger:e.logger}));jt.aws=_r});var jM,VM=p(()=>{Qe();Yn();At();U();Jn();Kt();wt();mb();HM();jM=t=>({apiVersion:"2019-06-10",base64Decoder:t?.base64Decoder??st,base64Encoder:t?.base64Encoder??we,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??GM,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??sM,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new vt},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Ao}],logger:t?.logger??new Mt,protocol:t?.protocol??ba,protocolSettings:t?.protocolSettings??{defaultNamespace:"com.amazonaws.ssooidc",version:"2019-06-10",serviceTarget:"AWSSSOOIDCService"},serviceId:t?.serviceId??"SSO OIDC",urlParser:t?.urlParser??Lt,utf8Decoder:t?.utf8Decoder??it,utf8Encoder:t?.utf8Encoder??Xe})});var zM,KM=p(()=>{Ug();Qe();ii();rr();ai();Rr();Vo();Vn();U();ci();ui();Zn();VM();zM=t=>{jr(process.version);let e=so(t),r=()=>e().then(Hr),o=jM(t);Ur(process.version);let n={profile:t?.profile,logger:o.logger};return{...o,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??F(Fr,n),bodyLengthChecker:t?.bodyLengthChecker??no,defaultUserAgentProvider:t?.defaultUserAgentProvider??ro({serviceId:o.serviceId,clientVersion:Xu.version}),maxAttempts:t?.maxAttempts??F(Xr,t),region:t?.region??F(Jt,{...fr,...n}),requestHandler:Wt.create(t?.requestHandler??r),retryMode:t?.retryMode??F({...eo,default:async()=>(await r()).retryMode||hr},t),sha256:t?.sha256??Qt.bind(null,"sha256"),streamCollector:t?.streamCollector??ur,useDualstackEndpoint:t?.useDualstackEndpoint??F(Wr,n),useFipsEndpoint:t?.useFipsEndpoint??F(qr,n),userAgentAppId:t?.userAgentAppId??F(oo,n)}}});var io,ao,WM=p(()=>{io=t=>({setRegion(e){t.region=e},region(){return t.region}}),ao=t=>({region:t.region()})});var qM=p(()=>{});function JM(t={}){return F({...Jt,async default(){return Cre.silence||console.warn("@aws-sdk - WARN - default STS region of us-east-1 used. See @aws-sdk/credential-providers README and set a region explicitly."),"us-east-1"}},{...fr,...t})}var Cre,QM=p(()=>{rr();Vo();Cre={silence:!1}});var ws=p(()=>{WM();qM();QM()});var YM,XM,ZM=p(()=>{YM=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,o=t.credentials;return{setHttpAuthScheme(n){let s=e.findIndex(i=>i.schemeId===n.schemeId);s===-1?e.push(n):e.splice(s,1,n)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(n){r=n},httpAuthSchemeProvider(){return r},setCredentials(n){o=n},credentials(){return o}}},XM=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()})});var e4,t4=p(()=>{ws();Oe();U();ZM();e4=(t,e)=>{let r=Object.assign(io(t),Vr(t),Ar(t),YM(t));return e.forEach(o=>o.configure(r)),Object.assign(t,ao(r),zr(r),Dr(r),XM(r))}});var cl,Sb=p(()=>{Js();Qs();Ys();Ts();rr();At();Ce();oi();xe();Rr();U();mb();fb();KM();t4();cl=class extends Nt{config;constructor(...[e]){let r=zM(e||{});super(r),this.initConfig=r;let o=aM(r),n=Mr(o),s=Zr(n),i=Jr(s),a=i,c=Yr(a),u=iM(c),m=e4(u,e?.extensions||[]);this.config=m,this.middlewareStack.use(Lr(this.config)),this.middlewareStack.use(Kr(this.config)),this.middlewareStack.use(to(this.config)),this.middlewareStack.use(Qr(this.config)),this.middlewareStack.use(Pr(this.config)),this.middlewareStack.use(Or(this.config)),this.middlewareStack.use(kr(this.config)),this.middlewareStack.use(Nr(this.config,{httpAuthSchemeParametersProvider:nM,identityProviderConfigProvider:async f=>new dr({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use($r(this.config))}destroy(){super.destroy()}}});var co,Fg=p(()=>{U();co=class t extends mr{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}}});var ul,pl,dl,ll,ml,fl,hl,gl,xl,yl,Sl,Eb=p(()=>{Fg();ul=class t extends co{name="AccessDeniedException";$fault="client";error;reason;error_description;constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.reason=e.reason,this.error_description=e.error_description}},pl=class t extends co{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(e){super({name:"AuthorizationPendingException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},dl=class t extends co{name="ExpiredTokenException";$fault="client";error;error_description;constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},ll=class t extends co{name="InternalServerException";$fault="server";error;error_description;constructor(e){super({name:"InternalServerException",$fault:"server",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},ml=class t extends co{name="InvalidClientException";$fault="client";error;error_description;constructor(e){super({name:"InvalidClientException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},fl=class t extends co{name="InvalidGrantException";$fault="client";error;error_description;constructor(e){super({name:"InvalidGrantException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},hl=class t extends co{name="InvalidRequestException";$fault="client";error;reason;error_description;constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.reason=e.reason,this.error_description=e.error_description}},gl=class t extends co{name="InvalidScopeException";$fault="client";error;error_description;constructor(e){super({name:"InvalidScopeException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},xl=class t extends co{name="SlowDownException";$fault="client";error;error_description;constructor(e){super({name:"SlowDownException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},yl=class t extends co{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(e){super({name:"UnauthorizedClientException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},Sl=class t extends co{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(e){super({name:"UnsupportedGrantTypeException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}}});var Ire,Tre,wre,Are,Dre,Pre,Ore,kre,Nre,$re,Lre,Mre,Bre,Ure,Fre,Gre,Hre,jre,Vre,zre,pi,Kre,Wre,qre,Jre,Qre,Yt,Yre,As,Xre,Zre,Ds,eoe,r4,o4,toe,roe,ooe,n4,noe,ut,soe,ioe,aoe,coe,s4,i4,a4,c4,u4,p4,d4,l4,m4,f4,h4,g4,x4,y4,S4,_b,Rb=p(()=>{Ce();Eb();Fg();Ire="AccessDeniedException",Tre="AuthorizationPendingException",wre="AccessToken",Are="ClientSecret",Dre="CreateToken",Pre="CreateTokenRequest",Ore="CreateTokenResponse",kre="CodeVerifier",Nre="ExpiredTokenException",$re="InvalidClientException",Lre="InvalidGrantException",Mre="InvalidRequestException",Bre="InternalServerException",Ure="InvalidScopeException",Fre="IdToken",Gre="RefreshToken",Hre="SlowDownException",jre="UnauthorizedClientException",Vre="UnsupportedGrantTypeException",zre="accessToken",pi="client",Kre="clientId",Wre="clientSecret",qre="codeVerifier",Jre="code",Qre="deviceCode",Yt="error",Yre="expiresIn",As="error_description",Xre="grantType",Zre="http",Ds="httpError",eoe="idToken",r4="reason",o4="refreshToken",toe="redirectUri",roe="scope",ooe="server",n4="smithy.ts.sdk.synthetic.com.amazonaws.ssooidc",noe="tokenType",ut="com.amazonaws.ssooidc",soe=[0,ut,wre,8,0],ioe=[0,ut,Are,8,0],aoe=[0,ut,kre,8,0],coe=[0,ut,Fre,8,0],s4=[0,ut,Gre,8,0],i4=[-3,ut,Ire,{[Yt]:pi,[Ds]:400},[Yt,r4,As],[0,0,0]];b.for(ut).registerError(i4,ul);a4=[-3,ut,Tre,{[Yt]:pi,[Ds]:400},[Yt,As],[0,0]];b.for(ut).registerError(a4,pl);c4=[3,ut,Pre,0,[Kre,Wre,Xre,Qre,Jre,o4,roe,toe,qre],[0,[()=>ioe,0],0,0,0,[()=>s4,0],64,0,[()=>aoe,0]]],u4=[3,ut,Ore,0,[zre,noe,Yre,o4,eoe],[[()=>soe,0],0,1,[()=>s4,0],[()=>coe,0]]],p4=[-3,ut,Nre,{[Yt]:pi,[Ds]:400},[Yt,As],[0,0]];b.for(ut).registerError(p4,dl);d4=[-3,ut,Bre,{[Yt]:ooe,[Ds]:500},[Yt,As],[0,0]];b.for(ut).registerError(d4,ll);l4=[-3,ut,$re,{[Yt]:pi,[Ds]:401},[Yt,As],[0,0]];b.for(ut).registerError(l4,ml);m4=[-3,ut,Lre,{[Yt]:pi,[Ds]:400},[Yt,As],[0,0]];b.for(ut).registerError(m4,fl);f4=[-3,ut,Mre,{[Yt]:pi,[Ds]:400},[Yt,r4,As],[0,0,0]];b.for(ut).registerError(f4,hl);h4=[-3,ut,Ure,{[Yt]:pi,[Ds]:400},[Yt,As],[0,0]];b.for(ut).registerError(h4,gl);g4=[-3,ut,Hre,{[Yt]:pi,[Ds]:400},[Yt,As],[0,0]];b.for(ut).registerError(g4,xl);x4=[-3,ut,jre,{[Yt]:pi,[Ds]:400},[Yt,As],[0,0]];b.for(ut).registerError(x4,yl);y4=[-3,ut,Vre,{[Yt]:pi,[Ds]:400},[Yt,As],[0,0]];b.for(ut).registerError(y4,Sl);S4=[-3,n4,"SSOOIDCServiceException",0,[],[]];b.for(n4).registerError(S4,co);_b=[9,ut,Dre,{[Zre]:["POST","/token",200]},()=>c4,()=>u4]});var El,bb=p(()=>{xe();U();fb();Rb();El=class extends Y.classBuilder().ep(cM).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").sc(_b).build(){}});var uoe,Gg,E4=p(()=>{U();bb();Sb();uoe={CreateTokenCommand:El},Gg=class extends cl{};Ea(uoe,Gg)});var _4=p(()=>{bb()});var poe,doe,R4=p(()=>{poe={KMS_ACCESS_DENIED:"KMS_AccessDeniedException"},doe={KMS_DISABLED_KEY:"KMS_DisabledException",KMS_INVALID_KEY_USAGE:"KMS_InvalidKeyUsageException",KMS_INVALID_STATE:"KMS_InvalidStateException",KMS_KEY_NOT_FOUND:"KMS_NotFoundException"}});var b4=p(()=>{});var vb={};_n(vb,{$Command:()=>Y,AccessDeniedException:()=>ul,AccessDeniedException$:()=>i4,AccessDeniedExceptionReason:()=>poe,AuthorizationPendingException:()=>pl,AuthorizationPendingException$:()=>a4,CreateToken$:()=>_b,CreateTokenCommand:()=>El,CreateTokenRequest$:()=>c4,CreateTokenResponse$:()=>u4,ExpiredTokenException:()=>dl,ExpiredTokenException$:()=>p4,InternalServerException:()=>ll,InternalServerException$:()=>d4,InvalidClientException:()=>ml,InvalidClientException$:()=>l4,InvalidGrantException:()=>fl,InvalidGrantException$:()=>m4,InvalidRequestException:()=>hl,InvalidRequestException$:()=>f4,InvalidRequestExceptionReason:()=>doe,InvalidScopeException:()=>gl,InvalidScopeException$:()=>h4,SSOOIDC:()=>Gg,SSOOIDCClient:()=>cl,SSOOIDCServiceException:()=>co,SSOOIDCServiceException$:()=>S4,SlowDownException:()=>xl,SlowDownException$:()=>g4,UnauthorizedClientException:()=>yl,UnauthorizedClientException$:()=>x4,UnsupportedGrantTypeException:()=>Sl,UnsupportedGrantTypeException$:()=>y4,__Client:()=>Nt});var Cb=p(()=>{Sb();E4();_4();Rb();R4();Eb();b4();Fg()});var v4,C4=p(()=>{v4=async(t,e={},r)=>{let{SSOOIDCClient:o}=await Promise.resolve().then(()=>(Cb(),vb)),n=i=>e.clientConfig?.[i]??e.parentClientConfig?.[i]??r?.[i];return new o(Object.assign({},e.clientConfig??{},{region:t??e.clientConfig?.region,logger:n("logger"),userAgentAppId:n("userAgentAppId")}))}});var I4,T4=p(()=>{C4();I4=async(t,e,r={},o)=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>(Cb(),vb));return(await v4(e,r,o)).send(new n({clientId:t.clientId,clientSecret:t.clientSecret,refreshToken:t.refreshToken,grantType:"refresh_token"}))}});var Ib,w4=p(()=>{ct();Bg();Ib=t=>{if(t.expiration&&t.expiration.getTime()<Date.now())throw new Qn(`Token is expired. ${Yu}`,!1)}});var Da,A4=p(()=>{ct();Bg();Da=(t,e,r=!1)=>{if(typeof e>"u")throw new Qn(`Value not present for '${t}' in SSO Token${r?". Cannot refresh":""}. ${Yu}`,!1)}});import{promises as loe}from"fs";var moe,D4,P4=p(()=>{jo();({writeFile:moe}=loe),D4=(t,e)=>{let r=Ah(t),o=JSON.stringify(e,null,2);return moe(r,o)}});var O4,k4,N4=p(()=>{ct();jo();Bg();T4();w4();A4();P4();O4=new Date(0),k4=(t={})=>async({callerClientConfig:e}={})=>{t.logger?.debug("@aws-sdk/token-providers - fromSso");let r=await ni(t),o=cn({profile:t.profile??e?.profile}),n=r[o];if(n){if(!n.sso_session)throw new Qn(`Profile '${o}' is missing required property 'sso_session'.`)}else throw new Qn(`Profile '${o}' could not be found in shared credentials file.`,!1);let s=n.sso_session,a=(await Nh(t))[s];if(!a)throw new Qn(`Sso session '${s}' could not be found in shared credentials file.`,!1);for(let _ of["sso_start_url","sso_region"])if(!a[_])throw new Qn(`Sso session '${s}' is missing required property '${_}'.`,!1);let c=a.sso_start_url,u=a.sso_region,m;try{m=await qd(s)}catch{throw new Qn(`The SSO session token associated with profile=${o} was not found or is invalid. ${Yu}`,!1)}Da("accessToken",m.accessToken),Da("expiresAt",m.expiresAt);let{accessToken:f,expiresAt:h}=m,g={token:f,expiration:new Date(h)};if(g.expiration.getTime()-Date.now()>3e5)return g;if(Date.now()-O4.getTime()<30*1e3)return Ib(g),g;Da("clientId",m.clientId,!0),Da("clientSecret",m.clientSecret,!0),Da("refreshToken",m.refreshToken,!0);try{O4.setTime(Date.now());let _=await I4(m,u,t,e);Da("accessToken",_.accessToken),Da("expiresIn",_.expiresIn);let R=new Date(Date.now()+_.expiresIn*1e3);try{await D4(s,{...m,accessToken:_.accessToken,expiresAt:R.toISOString(),refreshToken:_.refreshToken})}catch{}return{token:_.accessToken,expiration:R}}catch{return Ib(g),g}}});var $4=p(()=>{});var L4=p(()=>{});var M4=p(()=>{oM();N4();$4();L4()});function hoe(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function Hg(t){return{schemeId:"smithy.api#noAuth"}}var B4,U4,F4,Tb=p(()=>{Qe();Zt();B4=async(t,e,r)=>({operation:nt(e).operation,region:await ge(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});U4=t=>{let e=[];switch(t.operation){case"GetRoleCredentials":{e.push(Hg(t));break}case"ListAccountRoles":{e.push(Hg(t));break}case"ListAccounts":{e.push(Hg(t));break}case"Logout":{e.push(Hg(t));break}default:e.push(hoe(t))}return e},F4=t=>{let e=Gr(t);return Object.assign(e,{authSchemePreference:ge(t.authSchemePreference??[])})}});var G4,Pa,rp=p(()=>{G4=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),Pa={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var j4,H4=p(()=>{j4={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.958.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.957.0","@aws-sdk/middleware-host-header":"3.957.0","@aws-sdk/middleware-logger":"3.957.0","@aws-sdk/middleware-recursion-detection":"3.957.0","@aws-sdk/middleware-user-agent":"3.957.0","@aws-sdk/region-config-resolver":"3.957.0","@aws-sdk/types":"3.957.0","@aws-sdk/util-endpoints":"3.957.0","@aws-sdk/util-user-agent-browser":"3.957.0","@aws-sdk/util-user-agent-node":"3.957.0","@smithy/config-resolver":"^4.4.5","@smithy/core":"^3.20.0","@smithy/fetch-http-handler":"^5.3.8","@smithy/hash-node":"^4.2.7","@smithy/invalid-dependency":"^4.2.7","@smithy/middleware-content-length":"^4.2.7","@smithy/middleware-endpoint":"^4.4.1","@smithy/middleware-retry":"^4.4.17","@smithy/middleware-serde":"^4.2.8","@smithy/middleware-stack":"^4.2.7","@smithy/node-config-provider":"^4.3.7","@smithy/node-http-handler":"^4.4.7","@smithy/protocol-http":"^5.3.7","@smithy/smithy-client":"^4.10.2","@smithy/types":"^4.11.0","@smithy/url-parser":"^4.2.7","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.16","@smithy/util-defaults-mode-node":"^4.2.19","@smithy/util-endpoints":"^3.2.7","@smithy/util-middleware":"^4.2.7","@smithy/util-retry":"^4.2.7","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var Z4,ns,ss,sp,V4,_l,op,np,qi,wb,Ab,z4,K4,W4,eB,tB,os,q4,rB,J4,Q4,Y4,X4,xoe,oB,nB=p(()=>{Z4="required",ns="fn",ss="argv",sp="ref",V4="isSet",_l="booleanEquals",op="error",np="endpoint",qi="tree",wb="PartitionResult",Ab="getAttr",z4={[Z4]:!1,type:"string"},K4={[Z4]:!0,default:!1,type:"boolean"},W4={[sp]:"Endpoint"},eB={[ns]:_l,[ss]:[{[sp]:"UseFIPS"},!0]},tB={[ns]:_l,[ss]:[{[sp]:"UseDualStack"},!0]},os={},q4={[ns]:Ab,[ss]:[{[sp]:wb},"supportsFIPS"]},rB={[sp]:wb},J4={[ns]:_l,[ss]:[!0,{[ns]:Ab,[ss]:[rB,"supportsDualStack"]}]},Q4=[eB],Y4=[tB],X4=[{[sp]:"Region"}],xoe={version:"1.0",parameters:{Region:z4,UseDualStack:K4,UseFIPS:K4,Endpoint:z4},rules:[{conditions:[{[ns]:V4,[ss]:[W4]}],rules:[{conditions:Q4,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:op},{conditions:Y4,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:op},{endpoint:{url:W4,properties:os,headers:os},type:np}],type:qi},{conditions:[{[ns]:V4,[ss]:X4}],rules:[{conditions:[{[ns]:"aws.partition",[ss]:X4,assign:wb}],rules:[{conditions:[eB,tB],rules:[{conditions:[{[ns]:_l,[ss]:[!0,q4]},J4],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:os,headers:os},type:np}],type:qi},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:op}],type:qi},{conditions:Q4,rules:[{conditions:[{[ns]:_l,[ss]:[q4,!0]}],rules:[{conditions:[{[ns]:"stringEquals",[ss]:[{[ns]:Ab,[ss]:[rB,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:os,headers:os},type:np},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:os,headers:os},type:np}],type:qi},{error:"FIPS is enabled but this partition does not support FIPS",type:op}],type:qi},{conditions:Y4,rules:[{conditions:[J4],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:os,headers:os},type:np}],type:qi},{error:"DualStack is enabled but this partition does not support DualStack",type:op}],type:qi},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:os,headers:os},type:np}],type:qi}],type:qi},{error:"Invalid Configuration: Missing Region",type:op}]},oB=xoe});var yoe,sB,iB=p(()=>{Is();nn();nB();yoe=new lr({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),sB=(t,e={})=>yoe.get(t,()=>Br(oB,{endpointParams:t,logger:e.logger}));jt.aws=_r});var aB,cB=p(()=>{Qe();Yn();At();U();Jn();Kt();wt();Tb();iB();aB=t=>({apiVersion:"2019-06-10",base64Decoder:t?.base64Decoder??st,base64Encoder:t?.base64Encoder??we,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??sB,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??U4,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new vt},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Ao}],logger:t?.logger??new Mt,protocol:t?.protocol??ba,protocolSettings:t?.protocolSettings??{defaultNamespace:"com.amazonaws.sso",version:"2019-06-10",serviceTarget:"SWBPortalService"},serviceId:t?.serviceId??"SSO",urlParser:t?.urlParser??Lt,utf8Decoder:t?.utf8Decoder??it,utf8Encoder:t?.utf8Encoder??Xe})});var uB,pB=p(()=>{H4();Qe();ii();rr();ai();Rr();Vo();Vn();U();ci();ui();Zn();cB();uB=t=>{jr(process.version);let e=so(t),r=()=>e().then(Hr),o=aB(t);Ur(process.version);let n={profile:t?.profile,logger:o.logger};return{...o,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??F(Fr,n),bodyLengthChecker:t?.bodyLengthChecker??no,defaultUserAgentProvider:t?.defaultUserAgentProvider??ro({serviceId:o.serviceId,clientVersion:j4.version}),maxAttempts:t?.maxAttempts??F(Xr,t),region:t?.region??F(Jt,{...fr,...n}),requestHandler:Wt.create(t?.requestHandler??r),retryMode:t?.retryMode??F({...eo,default:async()=>(await r()).retryMode||hr},t),sha256:t?.sha256??Qt.bind(null,"sha256"),streamCollector:t?.streamCollector??ur,useDualstackEndpoint:t?.useDualstackEndpoint??F(Wr,n),useFipsEndpoint:t?.useFipsEndpoint??F(qr,n),userAgentAppId:t?.userAgentAppId??F(oo,n)}}});var dB,lB,mB=p(()=>{dB=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,o=t.credentials;return{setHttpAuthScheme(n){let s=e.findIndex(i=>i.schemeId===n.schemeId);s===-1?e.push(n):e.splice(s,1,n)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(n){r=n},httpAuthSchemeProvider(){return r},setCredentials(n){o=n},credentials(){return o}}},lB=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()})});var fB,hB=p(()=>{ws();Oe();U();mB();fB=(t,e)=>{let r=Object.assign(io(t),Vr(t),Ar(t),dB(t));return e.forEach(o=>o.configure(r)),Object.assign(t,ao(r),zr(r),Dr(r),lB(r))}});var di,Rl=p(()=>{Js();Qs();Ys();Ts();rr();At();Ce();oi();xe();Rr();U();Tb();rp();pB();hB();di=class extends Nt{config;constructor(...[e]){let r=uB(e||{});super(r),this.initConfig=r;let o=G4(r),n=Mr(o),s=Zr(n),i=Jr(s),a=i,c=Yr(a),u=F4(c),m=fB(u,e?.extensions||[]);this.config=m,this.middlewareStack.use(Lr(this.config)),this.middlewareStack.use(Kr(this.config)),this.middlewareStack.use(to(this.config)),this.middlewareStack.use(Qr(this.config)),this.middlewareStack.use(Pr(this.config)),this.middlewareStack.use(Or(this.config)),this.middlewareStack.use(kr(this.config)),this.middlewareStack.use(Nr(this.config,{httpAuthSchemeParametersProvider:B4,identityProviderConfigProvider:async f=>new dr({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use($r(this.config))}destroy(){super.destroy()}}});var Ji,Db=p(()=>{U();Ji=class t extends mr{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}}});var jg,Vg,zg,Kg,Pb=p(()=>{Db();jg=class t extends Ji{name="InvalidRequestException";$fault="client";constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Vg=class t extends Ji{name="ResourceNotFoundException";$fault="client";constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},zg=class t extends Ji{name="TooManyRequestsException";$fault="client";constructor(e){super({name:"TooManyRequestsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Kg=class t extends Ji{name="UnauthorizedException";$fault="client";constructor(e){super({name:"UnauthorizedException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}}});var Soe,Eoe,_oe,Roe,boe,voe,Coe,Ioe,Toe,woe,Aoe,Doe,Poe,Ooe,koe,Noe,$oe,Loe,Moe,Boe,Uoe,Foe,Goe,Wg,Hoe,joe,Voe,qg,gB,Jg,Qg,zoe,Koe,Yg,Xg,Zg,Pc,e0,xB,yB,t0,SB,Woe,qoe,EB,Joe,_B,Qoe,Yoe,r0,Ct,o0,Xoe,Zoe,ene,tne,rne,one,nne,sne,ine,ane,cne,une,pne,dne,lne,mne,fne,hne,gne,xne,RB,bB,vB,CB,ip=p(()=>{Ce();Pb();Db();Soe="AccountInfo",Eoe="AccountListType",_oe="AccessTokenType",Roe="GetRoleCredentials",boe="GetRoleCredentialsRequest",voe="GetRoleCredentialsResponse",Coe="InvalidRequestException",Ioe="Logout",Toe="ListAccounts",woe="ListAccountsRequest",Aoe="ListAccountRolesRequest",Doe="ListAccountRolesResponse",Poe="ListAccountsResponse",Ooe="ListAccountRoles",koe="LogoutRequest",Noe="RoleCredentials",$oe="RoleInfo",Loe="RoleListType",Moe="ResourceNotFoundException",Boe="SecretAccessKeyType",Uoe="SessionTokenType",Foe="TooManyRequestsException",Goe="UnauthorizedException",Wg="accountId",Hoe="accessKeyId",joe="accountList",Voe="accountName",qg="accessToken",gB="account_id",Jg="client",Qg="error",zoe="emailAddress",Koe="expiration",Yg="http",Xg="httpError",Zg="httpHeader",Pc="httpQuery",e0="message",xB="maxResults",yB="max_result",t0="nextToken",SB="next_token",Woe="roleCredentials",qoe="roleList",EB="roleName",Joe="role_name",_B="smithy.ts.sdk.synthetic.com.amazonaws.sso",Qoe="secretAccessKey",Yoe="sessionToken",r0="x-amz-sso_bearer_token",Ct="com.amazonaws.sso",o0=[0,Ct,_oe,8,0],Xoe=[0,Ct,Boe,8,0],Zoe=[0,Ct,Uoe,8,0],ene=[3,Ct,Soe,0,[Wg,Voe,zoe],[0,0,0]],tne=[3,Ct,boe,0,[EB,Wg,qg],[[0,{[Pc]:Joe}],[0,{[Pc]:gB}],[()=>o0,{[Zg]:r0}]]],rne=[3,Ct,voe,0,[Woe],[[()=>pne,0]]],one=[-3,Ct,Coe,{[Qg]:Jg,[Xg]:400},[e0],[0]];b.for(Ct).registerError(one,jg);nne=[3,Ct,Aoe,0,[t0,xB,qg,Wg],[[0,{[Pc]:SB}],[1,{[Pc]:yB}],[()=>o0,{[Zg]:r0}],[0,{[Pc]:gB}]]],sne=[3,Ct,Doe,0,[t0,qoe],[0,()=>xne]],ine=[3,Ct,woe,0,[t0,xB,qg],[[0,{[Pc]:SB}],[1,{[Pc]:yB}],[()=>o0,{[Zg]:r0}]]],ane=[3,Ct,Poe,0,[t0,joe],[0,()=>gne]],cne=[3,Ct,koe,0,[qg],[[()=>o0,{[Zg]:r0}]]],une=[-3,Ct,Moe,{[Qg]:Jg,[Xg]:404},[e0],[0]];b.for(Ct).registerError(une,Vg);pne=[3,Ct,Noe,0,[Hoe,Qoe,Yoe,Koe],[0,[()=>Xoe,0],[()=>Zoe,0],1]],dne=[3,Ct,$oe,0,[EB,Wg],[0,0]],lne=[-3,Ct,Foe,{[Qg]:Jg,[Xg]:429},[e0],[0]];b.for(Ct).registerError(lne,zg);mne=[-3,Ct,Goe,{[Qg]:Jg,[Xg]:401},[e0],[0]];b.for(Ct).registerError(mne,Kg);fne="unit",hne=[-3,_B,"SSOServiceException",0,[],[]];b.for(_B).registerError(hne,Ji);gne=[1,Ct,Eoe,0,()=>ene],xne=[1,Ct,Loe,0,()=>dne],RB=[9,Ct,Roe,{[Yg]:["GET","/federation/credentials",200]},()=>tne,()=>rne],bB=[9,Ct,Ooe,{[Yg]:["GET","/assignment/roles",200]},()=>nne,()=>sne],vB=[9,Ct,Toe,{[Yg]:["GET","/assignment/accounts",200]},()=>ine,()=>ane],CB=[9,Ct,Ioe,{[Yg]:["POST","/logout",200]},()=>cne,()=>fne]});var ap,Ob=p(()=>{xe();U();rp();ip();ap=class extends Y.classBuilder().ep(Pa).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").sc(RB).build(){}});var cp,n0=p(()=>{xe();U();rp();ip();cp=class extends Y.classBuilder().ep(Pa).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").sc(bB).build(){}});var up,s0=p(()=>{xe();U();rp();ip();up=class extends Y.classBuilder().ep(Pa).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").sc(vB).build(){}});var i0,kb=p(()=>{xe();U();rp();ip();i0=class extends Y.classBuilder().ep(Pa).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").sc(CB).build(){}});var yne,Nb,IB=p(()=>{U();Ob();n0();s0();kb();Rl();yne={GetRoleCredentialsCommand:ap,ListAccountRolesCommand:cp,ListAccountsCommand:up,LogoutCommand:i0},Nb=class extends di{};Ea(yne,Nb)});var TB=p(()=>{Ob();n0();s0();kb()});var wB=p(()=>{});var RZe,AB=p(()=>{At();n0();Rl();RZe=Bi(di,cp,"nextToken","nextToken","maxResults")});var TZe,DB=p(()=>{At();s0();Rl();TZe=Bi(di,up,"nextToken","nextToken","maxResults")});var PB=p(()=>{wB();AB();DB()});var OB=p(()=>{});var kB=p(()=>{Rl();IB();TB();ip();PB();Pb();OB()});var NB={};_n(NB,{GetRoleCredentialsCommand:()=>ap,SSOClient:()=>di});var $B=p(()=>{kB()});var bl,$b,LB=p(()=>{yo();M4();ct();jo();bl=!1,$b=async({ssoStartUrl:t,ssoSession:e,ssoAccountId:r,ssoRegion:o,ssoRoleName:n,ssoClient:s,clientConfig:i,parentClientConfig:a,callerClientConfig:c,profile:u,filepath:m,configFilepath:f,ignoreCache:h,logger:g})=>{let _,R="To refresh this SSO session run aws sso login with the corresponding profile.";if(e)try{let Ja=await k4({profile:u,filepath:m,configFilepath:f,ignoreCache:h})();_={accessToken:Ja.token,expiresAt:new Date(Ja.expiration).toISOString()}}catch(Ja){throw new Q(Ja.message,{tryNextLink:bl,logger:g})}else try{_=await qd(t)}catch{throw new Q(`The SSO session associated with this profile is invalid. ${R}`,{tryNextLink:bl,logger:g})}if(new Date(_.expiresAt).getTime()-Date.now()<=0)throw new Q(`The SSO session associated with this profile has expired. ${R}`,{tryNextLink:bl,logger:g});let{accessToken:T}=_,{SSOClient:M,GetRoleCredentialsCommand:G}=await Promise.resolve().then(()=>($B(),NB)),te=s||new M(Object.assign({},i??{},{logger:i?.logger??c?.logger??a?.logger,region:i?.region??o,userAgentAppId:i?.userAgentAppId??c?.userAgentAppId??a?.userAgentAppId})),le;try{le=await te.send(new G({accountId:r,roleName:n,accessToken:T}))}catch(Ja){throw new Q(Ja,{tryNextLink:bl,logger:g})}let{roleCredentials:{accessKeyId:Ye,secretAccessKey:Ht,sessionToken:En,expiration:Fe,credentialScope:Bn,accountId:LT}={}}=le;if(!Ye||!Ht||!En||!Fe)throw new Q("SSO returns an invalid temporary credential.",{tryNextLink:bl,logger:g});let aE={accessKeyId:Ye,secretAccessKey:Ht,sessionToken:En,expiration:new Date(Fe),...Bn&&{credentialScope:Bn},...LT&&{accountId:LT}};return e?$e(aE,"CREDENTIALS_SSO","s"):$e(aE,"CREDENTIALS_SSO_LEGACY","u"),aE}});var Lb,Mb=p(()=>{ct();Lb=(t,e)=>{let{sso_start_url:r,sso_account_id:o,sso_region:n,sso_role_name:s}=t;if(!r||!o||!n||!s)throw new Q(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(t).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:e});return t}});var Sne,MB=p(()=>{ct();jo();lb();LB();Mb();Sne=(t={})=>async({callerClientConfig:e}={})=>{t.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:o,ssoRegion:n,ssoRoleName:s,ssoSession:i}=t,{ssoClient:a}=t,c=cn({profile:t.profile??e?.profile});if(!r&&!o&&!n&&!s&&!i){let m=(await ni(t))[c];if(!m)throw new Q(`Profile ${c} was not found.`,{logger:t.logger});if(!db(m))throw new Q(`Profile ${c} is not configured with SSO credentials.`,{logger:t.logger});if(m?.sso_session){let M=(await Nh(t))[m.sso_session],G=` configurations in profile ${c} and sso-session ${m.sso_session}`;if(n&&n!==M.sso_region)throw new Q("Conflicting SSO region"+G,{tryNextLink:!1,logger:t.logger});if(r&&r!==M.sso_start_url)throw new Q("Conflicting SSO start_url"+G,{tryNextLink:!1,logger:t.logger});m.sso_region=M.sso_region,m.sso_start_url=M.sso_start_url}let{sso_start_url:f,sso_account_id:h,sso_region:g,sso_role_name:_,sso_session:R}=Lb(m,t.logger);return $b({ssoStartUrl:f,ssoSession:R,ssoAccountId:h,ssoRegion:g,ssoRoleName:_,ssoClient:a,clientConfig:t.clientConfig,parentClientConfig:t.parentClientConfig,callerClientConfig:t.callerClientConfig,profile:c,filepath:t.filepath,configFilepath:t.configFilepath,ignoreCache:t.ignoreCache,logger:t.logger})}else{if(!r||!o||!n||!s)throw new Q('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:t.logger});return $b({ssoStartUrl:r,ssoSession:i,ssoAccountId:o,ssoRegion:n,ssoRoleName:s,ssoClient:a,clientConfig:t.clientConfig,parentClientConfig:t.parentClientConfig,callerClientConfig:t.callerClientConfig,profile:c,filepath:t.filepath,configFilepath:t.configFilepath,ignoreCache:t.ignoreCache,logger:t.logger})}}});var BB=p(()=>{});var Bb={};_n(Bb,{fromSSO:()=>Sne,isSsoProfile:()=>db,validateSsoProfile:()=>Lb});var Ub=p(()=>{MB();lb();BB();Mb()});var UB,Fb,FB=p(()=>{yo();ct();UB=(t,e,r)=>{let o={EcsContainer:async n=>{let{fromHttp:s}=await Promise.resolve().then(()=>(pb(),ub)),{fromContainerMetadata:i}=await Promise.resolve().then(()=>(il(),sl));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>Mu(s(n??{}),i(n))().then(Fb)},Ec2InstanceMetadata:async n=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:s}=await Promise.resolve().then(()=>(il(),sl));return async()=>s(n)().then(Fb)},Environment:async n=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:s}=await Promise.resolve().then(()=>(eb(),D2));return async()=>s(n)().then(Fb)}};if(t in o)return o[t];throw new Q(`Unsupported credential source in profile ${e}. Got ${t}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},Fb=t=>$e(t,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p")});function Ene(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function _ne(t){return{schemeId:"smithy.api#noAuth"}}var GB,HB,Rne,jB,Gb=p(()=>{Qe();Zt();vl();GB=async(t,e,r)=>({operation:nt(e).operation,region:await ge(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});HB=t=>{let e=[];switch(t.operation){case"AssumeRoleWithWebIdentity":{e.push(_ne(t));break}default:e.push(Ene(t))}return e},Rne=t=>Object.assign(t,{stsClientCtor:li}),jB=t=>{let e=Rne(t),r=Gr(e);return Object.assign(r,{authSchemePreference:ge(t.authSchemePreference??[])})}});var VB,a0,c0=p(()=>{VB=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,useGlobalEndpoint:t.useGlobalEndpoint??!1,defaultSigningName:"sts"}),a0={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var tU,Se,Ze,et,ka,Oa,So,rU,oU,nU,Bt,zB,mi,pp,jb,KB,Hb,sU,WB,Eo,qB,iU,aU,Po,wn,JB,cU,uU,QB,pU,YB,XB,ZB,eU,bne,dU,lU=p(()=>{tU="required",Se="type",Ze="fn",et="argv",ka="ref",Oa="booleanEquals",So="stringEquals",rU="sigv4",oU="sts",nU="us-east-1",Bt="endpoint",zB="https://sts.{Region}.{PartitionResult#dnsSuffix}",mi="tree",pp="error",jb="getAttr",KB={[tU]:!1,[Se]:"string"},Hb={[tU]:!0,default:!1,[Se]:"boolean"},sU={[ka]:"Endpoint"},WB={[Ze]:"isSet",[et]:[{[ka]:"Region"}]},Eo={[ka]:"Region"},qB={[Ze]:"aws.partition",[et]:[Eo],assign:"PartitionResult"},iU={[ka]:"UseFIPS"},aU={[ka]:"UseDualStack"},Po={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:rU,signingName:oU,signingRegion:nU}]},headers:{}},wn={},JB={conditions:[{[Ze]:So,[et]:[Eo,"aws-global"]}],[Bt]:Po,[Se]:Bt},cU={[Ze]:Oa,[et]:[iU,!0]},uU={[Ze]:Oa,[et]:[aU,!0]},QB={[Ze]:jb,[et]:[{[ka]:"PartitionResult"},"supportsFIPS"]},pU={[ka]:"PartitionResult"},YB={[Ze]:Oa,[et]:[!0,{[Ze]:jb,[et]:[pU,"supportsDualStack"]}]},XB=[{[Ze]:"isSet",[et]:[sU]}],ZB=[cU],eU=[uU],bne={version:"1.0",parameters:{Region:KB,UseDualStack:Hb,UseFIPS:Hb,Endpoint:KB,UseGlobalEndpoint:Hb},rules:[{conditions:[{[Ze]:Oa,[et]:[{[ka]:"UseGlobalEndpoint"},!0]},{[Ze]:"not",[et]:XB},WB,qB,{[Ze]:Oa,[et]:[iU,!1]},{[Ze]:Oa,[et]:[aU,!1]}],rules:[{conditions:[{[Ze]:So,[et]:[Eo,"ap-northeast-1"]}],endpoint:Po,[Se]:Bt},{conditions:[{[Ze]:So,[et]:[Eo,"ap-south-1"]}],endpoint:Po,[Se]:Bt},{conditions:[{[Ze]:So,[et]:[Eo,"ap-southeast-1"]}],endpoint:Po,[Se]:Bt},{conditions:[{[Ze]:So,[et]:[Eo,"ap-southeast-2"]}],endpoint:Po,[Se]:Bt},JB,{conditions:[{[Ze]:So,[et]:[Eo,"ca-central-1"]}],endpoint:Po,[Se]:Bt},{conditions:[{[Ze]:So,[et]:[Eo,"eu-central-1"]}],endpoint:Po,[Se]:Bt},{conditions:[{[Ze]:So,[et]:[Eo,"eu-north-1"]}],endpoint:Po,[Se]:Bt},{conditions:[{[Ze]:So,[et]:[Eo,"eu-west-1"]}],endpoint:Po,[Se]:Bt},{conditions:[{[Ze]:So,[et]:[Eo,"eu-west-2"]}],endpoint:Po,[Se]:Bt},{conditions:[{[Ze]:So,[et]:[Eo,"eu-west-3"]}],endpoint:Po,[Se]:Bt},{conditions:[{[Ze]:So,[et]:[Eo,"sa-east-1"]}],endpoint:Po,[Se]:Bt},{conditions:[{[Ze]:So,[et]:[Eo,nU]}],endpoint:Po,[Se]:Bt},{conditions:[{[Ze]:So,[et]:[Eo,"us-east-2"]}],endpoint:Po,[Se]:Bt},{conditions:[{[Ze]:So,[et]:[Eo,"us-west-1"]}],endpoint:Po,[Se]:Bt},{conditions:[{[Ze]:So,[et]:[Eo,"us-west-2"]}],endpoint:Po,[Se]:Bt},{endpoint:{url:zB,properties:{authSchemes:[{name:rU,signingName:oU,signingRegion:"{Region}"}]},headers:wn},[Se]:Bt}],[Se]:mi},{conditions:XB,rules:[{conditions:ZB,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[Se]:pp},{conditions:eU,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[Se]:pp},{endpoint:{url:sU,properties:wn,headers:wn},[Se]:Bt}],[Se]:mi},{conditions:[WB],rules:[{conditions:[qB],rules:[{conditions:[cU,uU],rules:[{conditions:[{[Ze]:Oa,[et]:[!0,QB]},YB],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:wn,headers:wn},[Se]:Bt}],[Se]:mi},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[Se]:pp}],[Se]:mi},{conditions:ZB,rules:[{conditions:[{[Ze]:Oa,[et]:[QB,!0]}],rules:[{conditions:[{[Ze]:So,[et]:[{[Ze]:jb,[et]:[pU,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:wn,headers:wn},[Se]:Bt},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:wn,headers:wn},[Se]:Bt}],[Se]:mi},{error:"FIPS is enabled but this partition does not support FIPS",[Se]:pp}],[Se]:mi},{conditions:eU,rules:[{conditions:[YB],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:wn,headers:wn},[Se]:Bt}],[Se]:mi},{error:"DualStack is enabled but this partition does not support DualStack",[Se]:pp}],[Se]:mi},JB,{endpoint:{url:zB,properties:wn,headers:wn},[Se]:Bt}],[Se]:mi}],[Se]:mi},{error:"Invalid Configuration: Missing Region",[Se]:pp}]},dU=bne});var vne,mU,fU=p(()=>{Is();nn();lU();vne=new lr({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),mU=(t,e={})=>vne.get(t,()=>Br(dU,{endpointParams:t,logger:e.logger}));jt.aws=_r});var hU,gU=p(()=>{Qe();Yn();At();U();Jn();Kt();wt();Gb();fU();hU=t=>({apiVersion:"2011-06-15",base64Decoder:t?.base64Decoder??st,base64Encoder:t?.base64Encoder??we,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??mU,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??HB,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new vt},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Ao}],logger:t?.logger??new Mt,protocol:t?.protocol??ri,protocolSettings:t?.protocolSettings??{defaultNamespace:"com.amazonaws.sts",xmlNamespace:"https://sts.amazonaws.com/doc/2011-06-15/",version:"2011-06-15",serviceTarget:"AWSSecurityTokenServiceV20110615"},serviceId:t?.serviceId??"STS",urlParser:t?.urlParser??Lt,utf8Decoder:t?.utf8Decoder??it,utf8Encoder:t?.utf8Encoder??Xe})});var xU,yU=p(()=>{Ug();Qe();ii();rr();At();ai();Rr();Vo();Vn();U();ci();ui();Zn();gU();xU=t=>{jr(process.version);let e=so(t),r=()=>e().then(Hr),o=hU(t);Ur(process.version);let n={profile:t?.profile,logger:o.logger};return{...o,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??F(Fr,n),bodyLengthChecker:t?.bodyLengthChecker??no,defaultUserAgentProvider:t?.defaultUserAgentProvider??ro({serviceId:o.serviceId,clientVersion:Xu.version}),httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:s=>s.getIdentityProvider("aws.auth#sigv4")||(async i=>await t.credentialDefaultProvider(i?.__config||{})()),signer:new vt},{schemeId:"smithy.api#noAuth",identityProvider:s=>s.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Ao}],maxAttempts:t?.maxAttempts??F(Xr,t),region:t?.region??F(Jt,{...fr,...n}),requestHandler:Wt.create(t?.requestHandler??r),retryMode:t?.retryMode??F({...eo,default:async()=>(await r()).retryMode||hr},t),sha256:t?.sha256??Qt.bind(null,"sha256"),streamCollector:t?.streamCollector??ur,useDualstackEndpoint:t?.useDualstackEndpoint??F(Wr,n),useFipsEndpoint:t?.useFipsEndpoint??F(qr,n),userAgentAppId:t?.userAgentAppId??F(oo,n)}}});var SU,EU,_U=p(()=>{SU=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,o=t.credentials;return{setHttpAuthScheme(n){let s=e.findIndex(i=>i.schemeId===n.schemeId);s===-1?e.push(n):e.splice(s,1,n)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(n){r=n},httpAuthSchemeProvider(){return r},setCredentials(n){o=n},credentials(){return o}}},EU=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()})});var RU,bU=p(()=>{ws();Oe();U();_U();RU=(t,e)=>{let r=Object.assign(io(t),Vr(t),Ar(t),SU(t));return e.forEach(o=>o.configure(r)),Object.assign(t,ao(r),zr(r),Dr(r),EU(r))}});var li,vl=p(()=>{Js();Qs();Ys();Ts();rr();At();Ce();oi();xe();Rr();U();Gb();c0();yU();bU();li=class extends Nt{config;constructor(...[e]){let r=xU(e||{});super(r),this.initConfig=r;let o=VB(r),n=Mr(o),s=Zr(n),i=Jr(s),a=i,c=Yr(a),u=jB(c),m=RU(u,e?.extensions||[]);this.config=m,this.middlewareStack.use(Lr(this.config)),this.middlewareStack.use(Kr(this.config)),this.middlewareStack.use(to(this.config)),this.middlewareStack.use(Qr(this.config)),this.middlewareStack.use(Pr(this.config)),this.middlewareStack.use(Or(this.config)),this.middlewareStack.use(kr(this.config)),this.middlewareStack.use(Nr(this.config,{httpAuthSchemeParametersProvider:GB,identityProviderConfigProvider:async f=>new dr({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use($r(this.config))}destroy(){super.destroy()}}});var pn,u0=p(()=>{U();pn=class t extends mr{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}}});var Cl,Il,Tl,wl,Al,Dl,Pl,Vb=p(()=>{u0();Cl=class t extends pn{name="ExpiredTokenException";$fault="client";constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Il=class t extends pn{name="MalformedPolicyDocumentException";$fault="client";constructor(e){super({name:"MalformedPolicyDocumentException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Tl=class t extends pn{name="PackedPolicyTooLargeException";$fault="client";constructor(e){super({name:"PackedPolicyTooLargeException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},wl=class t extends pn{name="RegionDisabledException";$fault="client";constructor(e){super({name:"RegionDisabledException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Al=class t extends pn{name="IDPRejectedClaimException";$fault="client";constructor(e){super({name:"IDPRejectedClaimException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Dl=class t extends pn{name="InvalidIdentityTokenException";$fault="client";constructor(e){super({name:"InvalidIdentityTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Pl=class t extends pn{name="IDPCommunicationErrorException";$fault="client";constructor(e){super({name:"IDPCommunicationErrorException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}}});var Cne,Ine,Tne,wne,Ane,Dne,zb,Pne,One,kne,Nne,Kb,$ne,vU,Lne,Mne,Bne,Une,Fne,Gne,Hne,jne,CU,IU,Vne,zne,Kne,Wne,qne,Jne,TU,Qne,Yne,wU,Xne,AU,Zne,ese,Wb,tse,rse,ose,nse,sse,ise,ase,cse,use,pse,Oc,kc,dse,Nc,$c,Lc,lse,DU,mse,pt,fse,hse,qb,PU,OU,kU,NU,Jb,$U,LU,MU,BU,UU,FU,GU,HU,jU,VU,zU,KU,gse,xse,Qb,Yb,p0=p(()=>{Ce();Vb();u0();Cne="Arn",Ine="AccessKeyId",Tne="AssumeRole",wne="AssumedRoleId",Ane="AssumeRoleRequest",Dne="AssumeRoleResponse",zb="AssumedRoleUser",Pne="AssumeRoleWithWebIdentity",One="AssumeRoleWithWebIdentityRequest",kne="AssumeRoleWithWebIdentityResponse",Nne="Audience",Kb="Credentials",$ne="ContextAssertion",vU="DurationSeconds",Lne="Expiration",Mne="ExternalId",Bne="ExpiredTokenException",Une="IDPCommunicationErrorException",Fne="IDPRejectedClaimException",Gne="InvalidIdentityTokenException",Hne="Key",jne="MalformedPolicyDocumentException",CU="Policy",IU="PolicyArns",Vne="ProviderArn",zne="ProvidedContexts",Kne="ProvidedContextsListType",Wne="ProvidedContext",qne="PolicyDescriptorType",Jne="ProviderId",TU="PackedPolicySize",Qne="PackedPolicyTooLargeException",Yne="Provider",wU="RoleArn",Xne="RegionDisabledException",AU="RoleSessionName",Zne="SecretAccessKey",ese="SubjectFromWebIdentityToken",Wb="SourceIdentity",tse="SerialNumber",rse="SessionToken",ose="Tags",nse="TokenCode",sse="TransitiveTagKeys",ise="Tag",ase="Value",cse="WebIdentityToken",use="arn",pse="accessKeySecretType",Oc="awsQueryError",kc="client",dse="clientTokenType",Nc="error",$c="httpError",Lc="message",lse="policyDescriptorListType",DU="smithy.ts.sdk.synthetic.com.amazonaws.sts",mse="tagListType",pt="com.amazonaws.sts",fse=[0,pt,pse,8,0],hse=[0,pt,dse,8,0],qb=[3,pt,zb,0,[wne,Cne],[0,0]],PU=[3,pt,Ane,0,[wU,AU,IU,CU,vU,ose,sse,Mne,tse,nse,Wb,zne],[0,0,()=>KU,0,1,()=>xse,64,0,0,0,0,()=>gse]],OU=[3,pt,Dne,0,[Kb,zb,TU,Wb],[[()=>Jb,0],()=>qb,1,0]],kU=[3,pt,One,0,[wU,AU,cse,Jne,IU,CU,vU],[0,0,[()=>hse,0],0,()=>KU,0,1]],NU=[3,pt,kne,0,[Kb,ese,zb,TU,Yne,Nne,Wb],[[()=>Jb,0],0,()=>qb,1,0,0,0]],Jb=[3,pt,Kb,0,[Ine,Zne,rse,Lne],[0,[()=>fse,0],0,4]],$U=[-3,pt,Bne,{[Oc]:["ExpiredTokenException",400],[Nc]:kc,[$c]:400},[Lc],[0]];b.for(pt).registerError($U,Cl);LU=[-3,pt,Une,{[Oc]:["IDPCommunicationError",400],[Nc]:kc,[$c]:400},[Lc],[0]];b.for(pt).registerError(LU,Pl);MU=[-3,pt,Fne,{[Oc]:["IDPRejectedClaim",403],[Nc]:kc,[$c]:403},[Lc],[0]];b.for(pt).registerError(MU,Al);BU=[-3,pt,Gne,{[Oc]:["InvalidIdentityToken",400],[Nc]:kc,[$c]:400},[Lc],[0]];b.for(pt).registerError(BU,Dl);UU=[-3,pt,jne,{[Oc]:["MalformedPolicyDocument",400],[Nc]:kc,[$c]:400},[Lc],[0]];b.for(pt).registerError(UU,Il);FU=[-3,pt,Qne,{[Oc]:["PackedPolicyTooLarge",400],[Nc]:kc,[$c]:400},[Lc],[0]];b.for(pt).registerError(FU,Tl);GU=[3,pt,qne,0,[use],[0]],HU=[3,pt,Wne,0,[Vne,$ne],[0,0]],jU=[-3,pt,Xne,{[Oc]:["RegionDisabledException",403],[Nc]:kc,[$c]:403},[Lc],[0]];b.for(pt).registerError(jU,wl);VU=[3,pt,ise,0,[Hne,ase],[0,0]],zU=[-3,DU,"STSServiceException",0,[],[]];b.for(DU).registerError(zU,pn);KU=[1,pt,lse,0,()=>GU],gse=[1,pt,Kne,0,()=>HU],xse=[1,pt,mse,0,()=>VU],Qb=[9,pt,Tne,0,()=>PU,()=>OU],Yb=[9,pt,Pne,0,()=>kU,()=>NU]});var Mc,d0=p(()=>{xe();U();c0();p0();Mc=class extends Y.classBuilder().ep(a0).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").sc(Qb).build(){}});var Bc,l0=p(()=>{xe();U();c0();p0();Bc=class extends Y.classBuilder().ep(a0).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").sc(Yb).build(){}});var yse,m0,WU=p(()=>{U();d0();l0();vl();yse={AssumeRoleCommand:Mc,AssumeRoleWithWebIdentityCommand:Bc},m0=class extends li{};Ea(yse,m0)});var qU=p(()=>{d0();l0()});var JU=p(()=>{});var QU,YU,XU,ZU,eF,tF=p(()=>{yo();ws();d0();l0();QU=t=>{if(typeof t?.Arn=="string"){let e=t.Arn.split(":");if(e.length>4&&e[4]!=="")return e[4]}},YU=async(t,e,r,o={})=>{let n=typeof t=="function"?await t():t,s=typeof e=="function"?await e():e,i="",a=n??s??(i=await JM(o)());return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${n} (credential provider clientConfig)`,`${s} (contextual client)`,`${i} (STS default: AWS_REGION, profile region, or us-east-1)`),a},XU=(t,e)=>{let r,o;return async(n,s)=>{if(o=n,!r){let{logger:m=t?.parentClientConfig?.logger,profile:f=t?.parentClientConfig?.profile,region:h,requestHandler:g=t?.parentClientConfig?.requestHandler,credentialProviderLogger:_,userAgentAppId:R=t?.parentClientConfig?.userAgentAppId}=t,T=await YU(h,t?.parentClientConfig?.region,_,{logger:m,profile:f}),M=!eF(g);r=new e({...t,userAgentAppId:R,profile:f,credentialDefaultProvider:()=>async()=>o,region:T,requestHandler:M?g:void 0,logger:m})}let{Credentials:i,AssumedRoleUser:a}=await r.send(new Mc(s));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${s.RoleArn}`);let c=QU(a),u={accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...c&&{accountId:c}};return $e(u,"CREDENTIALS_STS_ASSUME_ROLE","i"),u}},ZU=(t,e)=>{let r;return async o=>{if(!r){let{logger:c=t?.parentClientConfig?.logger,profile:u=t?.parentClientConfig?.profile,region:m,requestHandler:f=t?.parentClientConfig?.requestHandler,credentialProviderLogger:h,userAgentAppId:g=t?.parentClientConfig?.userAgentAppId}=t,_=await YU(m,t?.parentClientConfig?.region,h,{logger:c,profile:u}),R=!eF(f);r=new e({...t,userAgentAppId:g,profile:u,region:_,requestHandler:R?f:void 0,logger:c})}let{Credentials:n,AssumedRoleUser:s}=await r.send(new Bc(o));if(!n||!n.AccessKeyId||!n.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${o.RoleArn}`);let i=QU(s),a={accessKeyId:n.AccessKeyId,secretAccessKey:n.SecretAccessKey,sessionToken:n.SessionToken,expiration:n.Expiration,...n.CredentialScope&&{credentialScope:n.CredentialScope},...i&&{accountId:i}};return i&&$e(a,"RESOLVED_ACCOUNT_ID","T"),$e(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},eF=t=>t?.metadata?.handlerProtocol==="h2"});var rF,oF,nF,Sse,sF=p(()=>{tF();vl();rF=(t,e)=>e?class extends t{constructor(o){super(o);for(let n of e)this.middlewareStack.use(n)}}:t,oF=(t={},e)=>XU(t,rF(li,e)),nF=(t={},e)=>ZU(t,rF(li,e)),Sse=t=>e=>t({roleAssumer:oF(e),roleAssumerWithWebIdentity:nF(e),...e})});var Xb={};_n(Xb,{$Command:()=>Y,AssumeRole$:()=>Qb,AssumeRoleCommand:()=>Mc,AssumeRoleRequest$:()=>PU,AssumeRoleResponse$:()=>OU,AssumeRoleWithWebIdentity$:()=>Yb,AssumeRoleWithWebIdentityCommand:()=>Bc,AssumeRoleWithWebIdentityRequest$:()=>kU,AssumeRoleWithWebIdentityResponse$:()=>NU,AssumedRoleUser$:()=>qb,Credentials$:()=>Jb,ExpiredTokenException:()=>Cl,ExpiredTokenException$:()=>$U,IDPCommunicationErrorException:()=>Pl,IDPCommunicationErrorException$:()=>LU,IDPRejectedClaimException:()=>Al,IDPRejectedClaimException$:()=>MU,InvalidIdentityTokenException:()=>Dl,InvalidIdentityTokenException$:()=>BU,MalformedPolicyDocumentException:()=>Il,MalformedPolicyDocumentException$:()=>UU,PackedPolicyTooLargeException:()=>Tl,PackedPolicyTooLargeException$:()=>FU,PolicyDescriptorType$:()=>GU,ProvidedContext$:()=>HU,RegionDisabledException:()=>wl,RegionDisabledException$:()=>jU,STS:()=>m0,STSClient:()=>li,STSServiceException:()=>pn,STSServiceException$:()=>zU,Tag$:()=>VU,__Client:()=>Nt,decorateDefaultCredentialProvider:()=>Sse,getDefaultRoleAssumer:()=>oF,getDefaultRoleAssumerWithWebIdentity:()=>nF});var Zb=p(()=>{vl();WU();qU();p0();Vb();JU();sF();u0()});var aF,Ese,_se,cF,iF,uF=p(()=>{yo();ct();jo();FB();aF=(t,{profile:e="default",logger:r}={})=>!!t&&typeof t=="object"&&typeof t.role_arn=="string"&&["undefined","string"].indexOf(typeof t.role_session_name)>-1&&["undefined","string"].indexOf(typeof t.external_id)>-1&&["undefined","string"].indexOf(typeof t.mfa_serial)>-1&&(Ese(t,{profile:e,logger:r})||_se(t,{profile:e,logger:r})),Ese=(t,{profile:e,logger:r})=>{let o=typeof t.source_profile=="string"&&typeof t.credential_source>"u";return o&&r?.debug?.(`    ${e} isAssumeRoleWithSourceProfile source_profile=${t.source_profile}`),o},_se=(t,{profile:e,logger:r})=>{let o=typeof t.credential_source=="string"&&typeof t.source_profile>"u";return o&&r?.debug?.(`    ${e} isCredentialSourceProfile credential_source=${t.credential_source}`),o},cF=async(t,e,r,o,n={},s)=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let i=e[t],{source_profile:a,region:c}=i;if(!r.roleAssumer){let{getDefaultRoleAssumer:m}=await Promise.resolve().then(()=>(Zb(),Xb));r.roleAssumer=m({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...o,...r?.parentClientConfig,region:c??r?.parentClientConfig?.region??o?.region}},r.clientPlugins)}if(a&&a in n)throw new Q(`Detected a cycle attempting to resolve credentials for profile ${cn(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${a?`source_profile=[${a}]`:`profile=[${t}]`}`);let u=a?s(a,e,r,o,{...n,[a]:!0},iF(e[a]??{})):(await UB(i.credential_source,t,r.logger)(r))();if(iF(i))return u.then(m=>$e(m,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let m={RoleArn:i.role_arn,RoleSessionName:i.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:i.external_id,DurationSeconds:parseInt(i.duration_seconds||"3600",10)},{mfa_serial:f}=i;if(f){if(!r.mfaCodeProvider)throw new Q(`Profile ${t} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});m.SerialNumber=f,m.TokenCode=await r.mfaCodeProvider(f)}let h=await u;return r.roleAssumer(h,m).then(g=>$e(g,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},iF=t=>!t.role_arn&&!!t.credential_source});function Rse(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"signin",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function bse(t){return{schemeId:"smithy.api#noAuth"}}var pF,dF,lF,ev=p(()=>{Qe();Zt();pF=async(t,e,r)=>({operation:nt(e).operation,region:await ge(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});dF=t=>{let e=[];switch(t.operation){case"CreateOAuth2Token":{e.push(bse(t));break}default:e.push(Rse(t))}return e},lF=t=>{let e=Gr(t);return Object.assign(e,{authSchemePreference:ge(t.authSchemePreference??[])})}});var mF,fF,tv=p(()=>{mF=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"signin"}),fF={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var RF,ko,No,Qi,hF,Uc,dp,Na,Ps,g0,rv,gF,xF,yF,ov,nv,Oo,sv,f0,h0,SF,EF,_F,vse,bF,vF=p(()=>{RF="required",ko="fn",No="argv",Qi="ref",hF="isSet",Uc="booleanEquals",dp="error",Na="endpoint",Ps="tree",g0="PartitionResult",rv="stringEquals",gF={[RF]:!0,default:!1,type:"boolean"},xF={[RF]:!1,type:"string"},yF={[Qi]:"Endpoint"},ov={[ko]:Uc,[No]:[{[Qi]:"UseFIPS"},!0]},nv={[ko]:Uc,[No]:[{[Qi]:"UseDualStack"},!0]},Oo={},sv={[ko]:"getAttr",[No]:[{[Qi]:g0},"name"]},f0={[ko]:Uc,[No]:[{[Qi]:"UseFIPS"},!1]},h0={[ko]:Uc,[No]:[{[Qi]:"UseDualStack"},!1]},SF={[ko]:"getAttr",[No]:[{[Qi]:g0},"supportsFIPS"]},EF={[ko]:Uc,[No]:[!0,{[ko]:"getAttr",[No]:[{[Qi]:g0},"supportsDualStack"]}]},_F=[{[Qi]:"Region"}],vse={version:"1.0",parameters:{UseDualStack:gF,UseFIPS:gF,Endpoint:xF,Region:xF},rules:[{conditions:[{[ko]:hF,[No]:[yF]}],rules:[{conditions:[ov],error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:dp},{rules:[{conditions:[nv],error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:dp},{endpoint:{url:yF,properties:Oo,headers:Oo},type:Na}],type:Ps}],type:Ps},{rules:[{conditions:[{[ko]:hF,[No]:_F}],rules:[{conditions:[{[ko]:"aws.partition",[No]:_F,assign:g0}],rules:[{conditions:[{[ko]:rv,[No]:[sv,"aws"]},f0,h0],endpoint:{url:"https://{Region}.signin.aws.amazon.com",properties:Oo,headers:Oo},type:Na},{conditions:[{[ko]:rv,[No]:[sv,"aws-cn"]},f0,h0],endpoint:{url:"https://{Region}.signin.amazonaws.cn",properties:Oo,headers:Oo},type:Na},{conditions:[{[ko]:rv,[No]:[sv,"aws-us-gov"]},f0,h0],endpoint:{url:"https://{Region}.signin.amazonaws-us-gov.com",properties:Oo,headers:Oo},type:Na},{conditions:[ov,nv],rules:[{conditions:[{[ko]:Uc,[No]:[!0,SF]},EF],rules:[{endpoint:{url:"https://signin-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Oo,headers:Oo},type:Na}],type:Ps},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:dp}],type:Ps},{conditions:[ov,h0],rules:[{conditions:[{[ko]:Uc,[No]:[SF,!0]}],rules:[{endpoint:{url:"https://signin-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Oo,headers:Oo},type:Na}],type:Ps},{error:"FIPS is enabled but this partition does not support FIPS",type:dp}],type:Ps},{conditions:[f0,nv],rules:[{conditions:[EF],rules:[{endpoint:{url:"https://signin.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Oo,headers:Oo},type:Na}],type:Ps},{error:"DualStack is enabled but this partition does not support DualStack",type:dp}],type:Ps},{endpoint:{url:"https://signin.{Region}.{PartitionResult#dnsSuffix}",properties:Oo,headers:Oo},type:Na}],type:Ps}],type:Ps},{error:"Invalid Configuration: Missing Region",type:dp}],type:Ps}]},bF=vse});var Cse,CF,IF=p(()=>{Is();nn();vF();Cse=new lr({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),CF=(t,e={})=>Cse.get(t,()=>Br(bF,{endpointParams:t,logger:e.logger}));jt.aws=_r});var TF,wF=p(()=>{Qe();Yn();At();U();Jn();Kt();wt();ev();IF();TF=t=>({apiVersion:"2023-01-01",base64Decoder:t?.base64Decoder??st,base64Encoder:t?.base64Encoder??we,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??CF,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??dF,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new vt},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Ao}],logger:t?.logger??new Mt,protocol:t?.protocol??ba,protocolSettings:t?.protocolSettings??{defaultNamespace:"com.amazonaws.signin",version:"2023-01-01",serviceTarget:"Signin"},serviceId:t?.serviceId??"Signin",urlParser:t?.urlParser??Lt,utf8Decoder:t?.utf8Decoder??it,utf8Encoder:t?.utf8Encoder??Xe})});var AF,DF=p(()=>{Ug();Qe();ii();rr();ai();Rr();Vo();Vn();U();ci();ui();Zn();wF();AF=t=>{jr(process.version);let e=so(t),r=()=>e().then(Hr),o=TF(t);Ur(process.version);let n={profile:t?.profile,logger:o.logger};return{...o,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??F(Fr,n),bodyLengthChecker:t?.bodyLengthChecker??no,defaultUserAgentProvider:t?.defaultUserAgentProvider??ro({serviceId:o.serviceId,clientVersion:Xu.version}),maxAttempts:t?.maxAttempts??F(Xr,t),region:t?.region??F(Jt,{...fr,...n}),requestHandler:Wt.create(t?.requestHandler??r),retryMode:t?.retryMode??F({...eo,default:async()=>(await r()).retryMode||hr},t),sha256:t?.sha256??Qt.bind(null,"sha256"),streamCollector:t?.streamCollector??ur,useDualstackEndpoint:t?.useDualstackEndpoint??F(Wr,n),useFipsEndpoint:t?.useFipsEndpoint??F(qr,n),userAgentAppId:t?.userAgentAppId??F(oo,n)}}});var PF,OF,kF=p(()=>{PF=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,o=t.credentials;return{setHttpAuthScheme(n){let s=e.findIndex(i=>i.schemeId===n.schemeId);s===-1?e.push(n):e.splice(s,1,n)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(n){r=n},httpAuthSchemeProvider(){return r},setCredentials(n){o=n},credentials(){return o}}},OF=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()})});var NF,$F=p(()=>{ws();Oe();U();kF();NF=(t,e)=>{let r=Object.assign(io(t),Vr(t),Ar(t),PF(t));return e.forEach(o=>o.configure(r)),Object.assign(t,ao(r),zr(r),Dr(r),OF(r))}});var Ol,iv=p(()=>{Js();Qs();Ys();Ts();rr();At();Ce();oi();xe();Rr();U();ev();tv();DF();$F();Ol=class extends Nt{config;constructor(...[e]){let r=AF(e||{});super(r),this.initConfig=r;let o=mF(r),n=Mr(o),s=Zr(n),i=Jr(s),a=i,c=Yr(a),u=lF(c),m=NF(u,e?.extensions||[]);this.config=m,this.middlewareStack.use(Lr(this.config)),this.middlewareStack.use(Kr(this.config)),this.middlewareStack.use(to(this.config)),this.middlewareStack.use(Qr(this.config)),this.middlewareStack.use(Pr(this.config)),this.middlewareStack.use(Or(this.config)),this.middlewareStack.use(kr(this.config)),this.middlewareStack.use(Nr(this.config,{httpAuthSchemeParametersProvider:pF,identityProviderConfigProvider:async f=>new dr({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use($r(this.config))}destroy(){super.destroy()}}});var Os,x0=p(()=>{U();Os=class t extends mr{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}}});var kl,Nl,$l,Ll,av=p(()=>{x0();kl=class t extends Os{name="AccessDeniedException";$fault="client";error;constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error}},Nl=class t extends Os{name="InternalServerException";$fault="server";error;constructor(e){super({name:"InternalServerException",$fault:"server",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error}},$l=class t extends Os{name="TooManyRequestsError";$fault="client";error;constructor(e){super({name:"TooManyRequestsError",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error}},Ll=class t extends Os{name="ValidationException";$fault="client";error;constructor(e){super({name:"ValidationException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error}}});var Ise,Tse,wse,Ase,Dse,Pse,Ose,kse,Nse,$se,Lse,LF,MF,cv,BF,UF,Mse,$a,FF,GF,Bse,uv,HF,An,S0,y0,jF,Use,VF,zF,WF,Fse,Gse,KF,zo,qF,JF,QF,YF,XF,ZF,e6,t6,r6,o6,n6,pv,dv=p(()=>{Ce();av();x0();Ise="AccessDeniedException",Tse="AccessToken",wse="CreateOAuth2Token",Ase="CreateOAuth2TokenRequest",Dse="CreateOAuth2TokenRequestBody",Pse="CreateOAuth2TokenResponseBody",Ose="CreateOAuth2TokenResponse",kse="InternalServerException",Nse="RefreshToken",$se="TooManyRequestsError",Lse="ValidationException",LF="accessKeyId",MF="accessToken",cv="client",BF="clientId",UF="codeVerifier",Mse="code",$a="error",FF="expiresIn",GF="grantType",Bse="http",uv="httpError",HF="idToken",An="jsonName",S0="message",y0="refreshToken",jF="redirectUri",Use="server",VF="secretAccessKey",zF="sessionToken",WF="smithy.ts.sdk.synthetic.com.amazonaws.signin",Fse="tokenInput",Gse="tokenOutput",KF="tokenType",zo="com.amazonaws.signin",qF=[0,zo,Nse,8,0],JF=[-3,zo,Ise,{[$a]:cv},[$a,S0],[0,0]];b.for(zo).registerError(JF,kl);QF=[3,zo,Tse,8,[LF,VF,zF],[[0,{[An]:LF}],[0,{[An]:VF}],[0,{[An]:zF}]]],YF=[3,zo,Ase,0,[Fse],[[()=>XF,16]]],XF=[3,zo,Dse,0,[BF,GF,Mse,jF,UF,y0],[[0,{[An]:BF}],[0,{[An]:GF}],0,[0,{[An]:jF}],[0,{[An]:UF}],[()=>qF,{[An]:y0}]]],ZF=[3,zo,Ose,0,[Gse],[[()=>e6,16]]],e6=[3,zo,Pse,0,[MF,KF,FF,y0,HF],[[()=>QF,{[An]:MF}],[0,{[An]:KF}],[1,{[An]:FF}],[()=>qF,{[An]:y0}],[0,{[An]:HF}]]],t6=[-3,zo,kse,{[$a]:Use,[uv]:500},[$a,S0],[0,0]];b.for(zo).registerError(t6,Nl);r6=[-3,zo,$se,{[$a]:cv,[uv]:429},[$a,S0],[0,0]];b.for(zo).registerError(r6,$l);o6=[-3,zo,Lse,{[$a]:cv,[uv]:400},[$a,S0],[0,0]];b.for(zo).registerError(o6,Ll);n6=[-3,WF,"SigninServiceException",0,[],[]];b.for(WF).registerError(n6,Os);pv=[9,zo,wse,{[Bse]:["POST","/v1/token",200]},()=>YF,()=>ZF]});var Ml,lv=p(()=>{xe();U();tv();dv();Ml=class extends Y.classBuilder().ep(fF).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("Signin","CreateOAuth2Token",{}).n("SigninClient","CreateOAuth2TokenCommand").sc(pv).build(){}});var Hse,E0,s6=p(()=>{U();lv();iv();Hse={CreateOAuth2TokenCommand:Ml},E0=class extends Ol{};Ea(Hse,E0)});var i6=p(()=>{lv()});var jse,a6=p(()=>{jse={AUTHCODE_EXPIRED:"AUTHCODE_EXPIRED",INSUFFICIENT_PERMISSIONS:"INSUFFICIENT_PERMISSIONS",INVALID_REQUEST:"INVALID_REQUEST",SERVER_ERROR:"server_error",TOKEN_EXPIRED:"TOKEN_EXPIRED",USER_CREDENTIALS_CHANGED:"USER_CREDENTIALS_CHANGED"}});var c6=p(()=>{});var u6={};_n(u6,{$Command:()=>Y,AccessDeniedException:()=>kl,AccessDeniedException$:()=>JF,AccessToken$:()=>QF,CreateOAuth2Token$:()=>pv,CreateOAuth2TokenCommand:()=>Ml,CreateOAuth2TokenRequest$:()=>YF,CreateOAuth2TokenRequestBody$:()=>XF,CreateOAuth2TokenResponse$:()=>ZF,CreateOAuth2TokenResponseBody$:()=>e6,InternalServerException:()=>Nl,InternalServerException$:()=>t6,OAuth2ErrorCode:()=>jse,Signin:()=>E0,SigninClient:()=>Ol,SigninServiceException:()=>Os,SigninServiceException$:()=>n6,TooManyRequestsError:()=>$l,TooManyRequestsError$:()=>r6,ValidationException:()=>Ll,ValidationException$:()=>o6,__Client:()=>Nt});var p6=p(()=>{iv();s6();i6();dv();a6();av();c6();x0()});import{createHash as Vse,createPrivateKey as zse,createPublicKey as Kse,sign as Wse}from"node:crypto";import{promises as mv}from"node:fs";import{homedir as qse}from"node:os";import{dirname as Jse,join as d6}from"node:path";var _0,l6=p(()=>{ct();Oe();jo();_0=class t{profileData;init;callerClientConfig;static REFRESH_THRESHOLD=5*60*1e3;constructor(e,r,o){this.profileData=e,this.init=r,this.callerClientConfig=o}async loadCredentials(){let e=await this.loadToken();if(!e)throw new Q(`Failed to load a token for session ${this.loginSession}, please re-authenticate using aws login`,{tryNextLink:!1,logger:this.logger});let r=e.accessToken,o=Date.now();return new Date(r.expiresAt).getTime()-o<=t.REFRESH_THRESHOLD?this.refresh(e):{accessKeyId:r.accessKeyId,secretAccessKey:r.secretAccessKey,sessionToken:r.sessionToken,accountId:r.accountId,expiration:new Date(r.expiresAt)}}get logger(){return this.init?.logger}get loginSession(){return this.profileData.login_session}async refresh(e){let{SigninClient:r,CreateOAuth2TokenCommand:o}=await Promise.resolve().then(()=>(p6(),u6)),{logger:n,userAgentAppId:s}=this.callerClientConfig??{},a=(f=>f?.metadata?.handlerProtocol==="h2")(this.callerClientConfig?.requestHandler)?void 0:this.callerClientConfig?.requestHandler,c=this.profileData.region??await this.callerClientConfig?.region?.()??process.env.AWS_REGION,u=new r({credentials:{accessKeyId:"",secretAccessKey:""},region:c,requestHandler:a,logger:n,userAgentAppId:s,...this.init?.clientConfig});this.createDPoPInterceptor(u.middlewareStack);let m={tokenInput:{clientId:e.clientId,refreshToken:e.refreshToken,grantType:"refresh_token"}};try{let f=await u.send(new o(m)),{accessKeyId:h,secretAccessKey:g,sessionToken:_}=f.tokenOutput?.accessToken??{},{refreshToken:R,expiresIn:T}=f.tokenOutput??{};if(!h||!g||!_||!R)throw new Q("Token refresh response missing required fields",{logger:this.logger,tryNextLink:!1});let M=(T??900)*1e3,G=new Date(Date.now()+M),te={...e,accessToken:{...e.accessToken,accessKeyId:h,secretAccessKey:g,sessionToken:_,expiresAt:G.toISOString()},refreshToken:R};await this.saveToken(te);let le=te.accessToken;return{accessKeyId:le.accessKeyId,secretAccessKey:le.secretAccessKey,sessionToken:le.sessionToken,accountId:le.accountId,expiration:G}}catch(f){if(f.name==="AccessDeniedException"){let h=f.error,g;switch(h){case"TOKEN_EXPIRED":g="Your session has expired. Please reauthenticate.";break;case"USER_CREDENTIALS_CHANGED":g="Unable to refresh credentials because of a change in your password. Please reauthenticate with your new password.";break;case"INSUFFICIENT_PERMISSIONS":g="Unable to refresh credentials due to insufficient permissions. You may be missing permission for the 'CreateOAuth2Token' action.";break;default:g=`Failed to refresh token: ${String(f)}. Please re-authenticate using \`aws login\``}throw new Q(g,{logger:this.logger,tryNextLink:!1})}throw new Q(`Failed to refresh token: ${String(f)}. Please re-authenticate using aws login`,{logger:this.logger})}}async loadToken(){let e=this.getTokenFilePath();try{let r;try{r=await Ia(e,{ignoreCache:this.init?.ignoreCache})}catch{r=await mv.readFile(e,"utf8")}let o=JSON.parse(r),n=["accessToken","clientId","refreshToken","dpopKey"].filter(s=>!o[s]);if(o.accessToken?.accountId||n.push("accountId"),n.length>0)throw new Q(`Token validation failed, missing fields: ${n.join(", ")}`,{logger:this.logger,tryNextLink:!1});return o}catch(r){throw new Q(`Failed to load token from ${e}: ${String(r)}`,{logger:this.logger,tryNextLink:!1})}}async saveToken(e){let r=this.getTokenFilePath(),o=Jse(r);try{await mv.mkdir(o,{recursive:!0})}catch{}await mv.writeFile(r,JSON.stringify(e,null,2),"utf8")}getTokenFilePath(){let e=process.env.AWS_LOGIN_CACHE_DIRECTORY??d6(qse(),".aws","login","cache"),r=Buffer.from(this.loginSession,"utf8"),o=Vse("sha256").update(r).digest("hex");return d6(e,`${o}.json`)}derToRawSignature(e){let r=2;if(e[r]!==2)throw new Error("Invalid DER signature");r++;let o=e[r++],n=e.subarray(r,r+o);if(r+=o,e[r]!==2)throw new Error("Invalid DER signature");r++;let s=e[r++],i=e.subarray(r,r+s);n=n[0]===0?n.subarray(1):n,i=i[0]===0?i.subarray(1):i;let a=Buffer.concat([Buffer.alloc(32-n.length),n]),c=Buffer.concat([Buffer.alloc(32-i.length),i]);return Buffer.concat([a,c])}createDPoPInterceptor(e){e.add(r=>async o=>{if(me.isInstance(o.request)){let n=o.request,s=`${n.protocol}//${n.hostname}${n.port?`:${n.port}`:""}${n.path}`,i=await this.generateDpop(n.method,s);n.headers={...n.headers,DPoP:i}}return r(o)},{step:"finalizeRequest",name:"dpopInterceptor",override:!0})}async generateDpop(e="POST",r){let o=await this.loadToken();try{let n=zse({key:o.dpopKey,format:"pem",type:"sec1"}),i=Kse(n).export({format:"der",type:"spki"}),a=-1;for(let G=0;G<i.length;G++)if(i[G]===4){a=G;break}let c=i.slice(a+1,a+33),u=i.slice(a+33,a+65),m={alg:"ES256",typ:"dpop+jwt",jwk:{kty:"EC",crv:"P-256",x:c.toString("base64url"),y:u.toString("base64url")}},f={jti:crypto.randomUUID(),htm:e,htu:r,iat:Math.floor(Date.now()/1e3)},h=Buffer.from(JSON.stringify(m)).toString("base64url"),g=Buffer.from(JSON.stringify(f)).toString("base64url"),_=`${h}.${g}`,R=Wse("sha256",Buffer.from(_),n),M=this.derToRawSignature(R).toString("base64url");return`${_}.${M}`}catch(n){throw new Q(`Failed to generate Dpop proof: ${n instanceof Error?n.message:String(n)}`,{logger:this.logger,tryNextLink:!1})}}}});var m6,f6=p(()=>{yo();ct();jo();l6();m6=t=>async({callerClientConfig:e}={})=>{t?.logger?.debug?.("@aws-sdk/credential-providers - fromLoginCredentials");let r=await ni(t||{}),o=cn({profile:t?.profile??e?.profile}),n=r[o];if(!n?.login_session)throw new Q(`Profile ${o} does not contain login_session.`,{tryNextLink:!0,logger:t?.logger});let i=await new _0(n,t,e).loadCredentials();return $e(i,"CREDENTIALS_LOGIN","AD")}});var h6=p(()=>{});var g6=p(()=>{f6();h6()});var x6,y6,S6=p(()=>{yo();g6();x6=t=>!!(t&&t.login_session),y6=async(t,e,r)=>{let o=await m6({...e,profile:t})({callerClientConfig:r});return $e(o,"CREDENTIALS_PROFILE_LOGIN","AC")}});var E6,_6=p(()=>{yo();E6=(t,e,r)=>{if(e.Version!==1)throw Error(`Profile ${t} credential_process did not return Version 1.`);if(e.AccessKeyId===void 0||e.SecretAccessKey===void 0)throw Error(`Profile ${t} credential_process returned invalid credentials.`);if(e.Expiration){let s=new Date;if(new Date(e.Expiration)<s)throw Error(`Profile ${t} credential_process returned expired credentials.`)}let o=e.AccountId;!o&&r?.[t]?.aws_account_id&&(o=r[t].aws_account_id);let n={accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,...e.SessionToken&&{sessionToken:e.SessionToken},...e.Expiration&&{expiration:new Date(e.Expiration)},...e.CredentialScope&&{credentialScope:e.CredentialScope},...o&&{accountId:o}};return $e(n,"CREDENTIALS_PROCESS","w"),n}});import{exec as Qse}from"child_process";import{promisify as Yse}from"util";var R6,b6=p(()=>{ct();jo();_6();R6=async(t,e,r)=>{let o=e[t];if(e[t]){let n=o.credential_process;if(n!==void 0){let s=Yse(Xd?.getTokenRecord?.().exec??Qse);try{let{stdout:i}=await s(n),a;try{a=JSON.parse(i.trim())}catch{throw Error(`Profile ${t} credential_process returned invalid JSON.`)}return E6(t,a,e)}catch(i){throw new Q(i.message,{logger:r})}}else throw new Q(`Profile ${t} did not contain credential_process.`,{logger:r})}else throw new Q(`Profile ${t} could not be found in shared credentials file.`,{logger:r})}});var Xse,v6=p(()=>{jo();b6();Xse=(t={})=>async({callerClientConfig:e}={})=>{t.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await ni(t);return R6(cn({profile:t.profile??e?.profile}),r,t.logger)}});var fv={};_n(fv,{fromProcess:()=>Xse});var hv=p(()=>{v6()});var C6,I6,T6=p(()=>{yo();C6=t=>!!t&&typeof t=="object"&&typeof t.credential_process=="string",I6=async(t,e)=>Promise.resolve().then(()=>(hv(),fv)).then(({fromProcess:r})=>r({...t,profile:e})().then(o=>$e(o,"CREDENTIALS_PROFILE_PROCESS","v")))});var w6,A6,D6=p(()=>{yo();w6=async(t,e,r={},o)=>{let{fromSSO:n}=await Promise.resolve().then(()=>(Ub(),Bb));return n({profile:t,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})({callerClientConfig:o}).then(s=>e.sso_session?$e(s,"CREDENTIALS_PROFILE_SSO","r"):$e(s,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},A6=t=>t&&(typeof t.sso_start_url=="string"||typeof t.sso_account_id=="string"||typeof t.sso_session=="string"||typeof t.sso_region=="string"||typeof t.sso_role_name=="string")});var gv,xv,P6=p(()=>{yo();gv=t=>!!t&&typeof t=="object"&&typeof t.aws_access_key_id=="string"&&typeof t.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof t.aws_session_token)>-1&&["undefined","string"].indexOf(typeof t.aws_account_id)>-1,xv=async(t,e)=>{e?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:t.aws_access_key_id,secretAccessKey:t.aws_secret_access_key,sessionToken:t.aws_session_token,...t.aws_credential_scope&&{credentialScope:t.aws_credential_scope},...t.aws_account_id&&{accountId:t.aws_account_id}};return $e(r,"CREDENTIALS_PROFILE","n")}});var yv,Sv=p(()=>{yv=t=>async e=>{t.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:o,webIdentityToken:n,providerId:s,policyArns:i,policy:a,durationSeconds:c}=t,{roleAssumerWithWebIdentity:u}=t;if(!u){let{getDefaultRoleAssumerWithWebIdentity:m}=await Promise.resolve().then(()=>(Zb(),Xb));u=m({...t.clientConfig,credentialProviderLogger:t.logger,parentClientConfig:{...e?.callerClientConfig,...t.parentClientConfig}},t.clientPlugins)}return u({RoleArn:r,RoleSessionName:o??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:n,ProviderId:s,PolicyArns:i,Policy:a,DurationSeconds:c})}});import{readFileSync as Zse}from"fs";var O6,eie,tie,rie,k6=p(()=>{yo();ct();jo();Sv();O6="AWS_WEB_IDENTITY_TOKEN_FILE",eie="AWS_ROLE_ARN",tie="AWS_ROLE_SESSION_NAME",rie=(t={})=>async e=>{t.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let r=t?.webIdentityTokenFile??process.env[O6],o=t?.roleArn??process.env[eie],n=t?.roleSessionName??process.env[tie];if(!r||!o)throw new Q("Web identity configuration not specified",{logger:t.logger});let s=await yv({...t,webIdentityToken:Xd?.getTokenRecord?.()[r]??Zse(r,{encoding:"ascii"}),roleArn:o,roleSessionName:n})(e);return r===process.env[O6]&&$e(s,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),s}});var Ev={};_n(Ev,{fromTokenFile:()=>rie,fromWebToken:()=>yv});var _v=p(()=>{k6();Sv()});var N6,$6,L6=p(()=>{yo();N6=t=>!!t&&typeof t=="object"&&typeof t.web_identity_token_file=="string"&&typeof t.role_arn=="string"&&["undefined","string"].indexOf(typeof t.role_session_name)>-1,$6=async(t,e,r)=>Promise.resolve().then(()=>(_v(),Ev)).then(({fromTokenFile:o})=>o({webIdentityTokenFile:t.web_identity_token_file,roleArn:t.role_arn,roleSessionName:t.role_session_name,roleAssumerWithWebIdentity:e.roleAssumerWithWebIdentity,logger:e.logger,parentClientConfig:e.parentClientConfig})({callerClientConfig:r}).then(n=>$e(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q")))});var Rv,M6=p(()=>{ct();uF();S6();T6();D6();P6();L6();Rv=async(t,e,r,o,n={},s=!1)=>{let i=e[t];if(Object.keys(n).length>0&&gv(i))return xv(i,r);if(s||aF(i,{profile:t,logger:r.logger}))return cF(t,e,r,o,n,Rv);if(gv(i))return xv(i,r);if(N6(i))return $6(i,r,o);if(C6(i))return I6(r,t);if(A6(i))return await w6(t,i,r,o);if(x6(i))return y6(t,r,o);throw new Q(`Could not resolve credentials using profile: [${t}] in configuration/credentials file(s).`,{logger:r.logger})}});var oie,B6=p(()=>{jo();M6();oie=(t={})=>async({callerClientConfig:e}={})=>{t.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let r=await ni(t);return Rv(cn({profile:t.profile??e?.profile}),r,t,e)}});var U6={};_n(U6,{fromIni:()=>oie});var F6=p(()=>{B6()});import{randomUUID as qK}from"crypto";function JK(t){if(!t.body)return{};try{return JSON.parse(t.body)}catch{return t.body}}function QK(t){let e={},r=t.queryStringParameters;if(r)for(let[o,n]of Object.entries(r))n!==void 0&&(e[o]=n);return e}function YK(t){let e={};if(t.headers)for(let[r,o]of Object.entries(t.headers))e[r.toLowerCase()]=o||"";return e}function MT(t,e){let r={},o=e.split("/"),n=t.split("/");if(o.length!==n.length)return r;for(let s=0;s<o.length;s++){let i=o[s],a=n[s];if(i?.startsWith(":")){let c=i.slice(1);a&&(r[c]=decodeURIComponent(a))}}return r}function BT(t,e,r={}){let o=(t.httpMethod||t.requestContext?.http?.method)?.toUpperCase()||"GET",n=t.path||t.rawPath||"/",s=t.headers?.["x-correlation-id"]||t.requestContext?.requestId||qK(),i={authenticated:!1};return{method:o,path:n,headers:YK(t),body:JK(t),query:QK(t),params:r,context:i,correlationId:s,rawEvent:t,lambdaContext:e}}var S={};_n(S,{BRAND:()=>bW,DIRTY:()=>Qa,EMPTY_PATH:()=>tW,INVALID:()=>ae,NEVER:()=>aq,OK:()=>Io,ParseStatus:()=>xo,Schema:()=>_e,ZodAny:()=>da,ZodArray:()=>Oi,ZodBigInt:()=>Xa,ZodBoolean:()=>Za,ZodBranded:()=>md,ZodCatch:()=>pc,ZodDate:()=>ec,ZodDefault:()=>uc,ZodDiscriminatedUnion:()=>Xm,ZodEffects:()=>Gn,ZodEnum:()=>ac,ZodError:()=>en,ZodFirstPartyTypeKind:()=>ce,ZodFunction:()=>ef,ZodIntersection:()=>nc,ZodIssueCode:()=>B,ZodLazy:()=>sc,ZodLiteral:()=>ic,ZodMap:()=>pu,ZodNaN:()=>lu,ZodNativeEnum:()=>cc,ZodNever:()=>_s,ZodNull:()=>rc,ZodNullable:()=>js,ZodNumber:()=>Ya,ZodObject:()=>tn,ZodOptional:()=>Un,ZodParsedType:()=>J,ZodPipeline:()=>fd,ZodPromise:()=>la,ZodReadonly:()=>dc,ZodRecord:()=>Zm,ZodSchema:()=>_e,ZodSet:()=>du,ZodString:()=>pa,ZodSymbol:()=>cu,ZodTransformer:()=>Gn,ZodTuple:()=>Hs,ZodType:()=>_e,ZodUndefined:()=>tc,ZodUnion:()=>oc,ZodUnknown:()=>Pi,ZodVoid:()=>uu,addIssueToContext:()=>q,any:()=>OW,array:()=>LW,bigint:()=>TW,boolean:()=>JT,coerce:()=>iq,custom:()=>KT,date:()=>wW,datetimeRegex:()=>VT,defaultErrorMap:()=>Ai,discriminatedUnion:()=>FW,effect:()=>XW,enum:()=>JW,function:()=>KW,getErrorMap:()=>su,getParsedType:()=>Gs,instanceof:()=>CW,intersection:()=>GW,isAborted:()=>Qm,isAsync:()=>iu,isDirty:()=>Ym,isValid:()=>ua,late:()=>vW,lazy:()=>WW,literal:()=>qW,makeIssue:()=>ld,map:()=>VW,nan:()=>IW,nativeEnum:()=>QW,never:()=>NW,null:()=>PW,nullable:()=>eq,number:()=>qT,object:()=>MW,objectUtil:()=>uE,oboolean:()=>sq,onumber:()=>nq,optional:()=>ZW,ostring:()=>oq,pipeline:()=>rq,preprocess:()=>tq,promise:()=>YW,quotelessJson:()=>XK,record:()=>jW,set:()=>zW,setErrorMap:()=>eW,strictObject:()=>BW,string:()=>WT,symbol:()=>AW,transformer:()=>XW,tuple:()=>HW,undefined:()=>DW,union:()=>UW,unknown:()=>kW,util:()=>De,void:()=>$W});var De;(function(t){t.assertEqual=n=>{};function e(n){}t.assertIs=e;function r(n){throw new Error}t.assertNever=r,t.arrayToEnum=n=>{let s={};for(let i of n)s[i]=i;return s},t.getValidEnumValues=n=>{let s=t.objectKeys(n).filter(a=>typeof n[n[a]]!="number"),i={};for(let a of s)i[a]=n[a];return t.objectValues(i)},t.objectValues=n=>t.objectKeys(n).map(function(s){return n[s]}),t.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{let s=[];for(let i in n)Object.prototype.hasOwnProperty.call(n,i)&&s.push(i);return s},t.find=(n,s)=>{for(let i of n)if(s(i))return i},t.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&Number.isFinite(n)&&Math.floor(n)===n;function o(n,s=" | "){return n.map(i=>typeof i=="string"?`'${i}'`:i).join(s)}t.joinValues=o,t.jsonStringifyReplacer=(n,s)=>typeof s=="bigint"?s.toString():s})(De||(De={}));var uE;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(uE||(uE={}));var J=De.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Gs=t=>{switch(typeof t){case"undefined":return J.undefined;case"string":return J.string;case"number":return Number.isNaN(t)?J.nan:J.number;case"boolean":return J.boolean;case"function":return J.function;case"bigint":return J.bigint;case"symbol":return J.symbol;case"object":return Array.isArray(t)?J.array:t===null?J.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?J.promise:typeof Map<"u"&&t instanceof Map?J.map:typeof Set<"u"&&t instanceof Set?J.set:typeof Date<"u"&&t instanceof Date?J.date:J.object;default:return J.unknown}};var B=De.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),XK=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),en=class t extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=o=>{this.issues=[...this.issues,o]},this.addIssues=(o=[])=>{this.issues=[...this.issues,...o]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){let r=e||function(s){return s.message},o={_errors:[]},n=s=>{for(let i of s.issues)if(i.code==="invalid_union")i.unionErrors.map(n);else if(i.code==="invalid_return_type")n(i.returnTypeError);else if(i.code==="invalid_arguments")n(i.argumentsError);else if(i.path.length===0)o._errors.push(r(i));else{let a=o,c=0;for(;c<i.path.length;){let u=i.path[c];c===i.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(r(i))):a[u]=a[u]||{_errors:[]},a=a[u],c++}}};return n(this),o}static assert(e){if(!(e instanceof t))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,De.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},o=[];for(let n of this.issues)if(n.path.length>0){let s=n.path[0];r[s]=r[s]||[],r[s].push(e(n))}else o.push(e(n));return{formErrors:o,fieldErrors:r}}get formErrors(){return this.flatten()}};en.create=t=>new en(t);var ZK=(t,e)=>{let r;switch(t.code){case B.invalid_type:t.received===J.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case B.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,De.jsonStringifyReplacer)}`;break;case B.unrecognized_keys:r=`Unrecognized key(s) in object: ${De.joinValues(t.keys,", ")}`;break;case B.invalid_union:r="Invalid input";break;case B.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${De.joinValues(t.options)}`;break;case B.invalid_enum_value:r=`Invalid enum value. Expected ${De.joinValues(t.options)}, received '${t.received}'`;break;case B.invalid_arguments:r="Invalid function arguments";break;case B.invalid_return_type:r="Invalid function return type";break;case B.invalid_date:r="Invalid date";break;case B.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:De.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case B.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case B.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case B.custom:r="Invalid input";break;case B.invalid_intersection_types:r="Intersection results could not be merged";break;case B.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case B.not_finite:r="Number must be finite";break;default:r=e.defaultError,De.assertNever(t)}return{message:r}},Ai=ZK;var UT=Ai;function eW(t){UT=t}function su(){return UT}var ld=t=>{let{data:e,path:r,errorMaps:o,issueData:n}=t,s=[...r,...n.path||[]],i={...n,path:s};if(n.message!==void 0)return{...n,path:s,message:n.message};let a="",c=o.filter(u=>!!u).slice().reverse();for(let u of c)a=u(i,{data:e,defaultError:a}).message;return{...n,path:s,message:a}},tW=[];function q(t,e){let r=su(),o=ld({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Ai?void 0:Ai].filter(n=>!!n)});t.common.issues.push(o)}var xo=class t{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let o=[];for(let n of r){if(n.status==="aborted")return ae;n.status==="dirty"&&e.dirty(),o.push(n.value)}return{status:e.value,value:o}}static async mergeObjectAsync(e,r){let o=[];for(let n of r){let s=await n.key,i=await n.value;o.push({key:s,value:i})}return t.mergeObjectSync(e,o)}static mergeObjectSync(e,r){let o={};for(let n of r){let{key:s,value:i}=n;if(s.status==="aborted"||i.status==="aborted")return ae;s.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof i.value<"u"||n.alwaysSet)&&(o[s.value]=i.value)}return{status:e.value,value:o}}},ae=Object.freeze({status:"aborted"}),Qa=t=>({status:"dirty",value:t}),Io=t=>({status:"valid",value:t}),Qm=t=>t.status==="aborted",Ym=t=>t.status==="dirty",ua=t=>t.status==="valid",iu=t=>typeof Promise<"u"&&t instanceof Promise;var re;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(re||(re={}));var Fn=class{constructor(e,r,o,n){this._cachedPath=[],this.parent=e,this.data=r,this._path=o,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},FT=(t,e)=>{if(ua(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new en(t.common.issues);return this._error=r,this._error}}};function he(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:o,description:n}=t;if(e&&(r||o))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:n}:{errorMap:(i,a)=>{let{message:c}=t;return i.code==="invalid_enum_value"?{message:c??a.defaultError}:typeof a.data>"u"?{message:c??o??a.defaultError}:i.code!=="invalid_type"?{message:a.defaultError}:{message:c??r??a.defaultError}},description:n}}var _e=class{get description(){return this._def.description}_getType(e){return Gs(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Gs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new xo,ctx:{common:e.parent.common,data:e.data,parsedType:Gs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if(iu(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let o=this.safeParse(e,r);if(o.success)return o.data;throw o.error}safeParse(e,r){let o={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Gs(e)},n=this._parseSync({data:e,path:o.path,parent:o});return FT(o,n)}"~validate"(e){let r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Gs(e)};if(!this["~standard"].async)try{let o=this._parseSync({data:e,path:[],parent:r});return ua(o)?{value:o.value}:{issues:r.common.issues}}catch(o){o?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(o=>ua(o)?{value:o.value}:{issues:r.common.issues})}async parseAsync(e,r){let o=await this.safeParseAsync(e,r);if(o.success)return o.data;throw o.error}async safeParseAsync(e,r){let o={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Gs(e)},n=this._parse({data:e,path:o.path,parent:o}),s=await(iu(n)?n:Promise.resolve(n));return FT(o,s)}refine(e,r){let o=n=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(n):r;return this._refinement((n,s)=>{let i=e(n),a=()=>s.addIssue({code:B.custom,...o(n)});return typeof Promise<"u"&&i instanceof Promise?i.then(c=>c?!0:(a(),!1)):i?!0:(a(),!1)})}refinement(e,r){return this._refinement((o,n)=>e(o)?!0:(n.addIssue(typeof r=="function"?r(o,n):r),!1))}_refinement(e){return new Gn({schema:this,typeName:ce.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Un.create(this,this._def)}nullable(){return js.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Oi.create(this)}promise(){return la.create(this,this._def)}or(e){return oc.create([this,e],this._def)}and(e){return nc.create(this,e,this._def)}transform(e){return new Gn({...he(this._def),schema:this,typeName:ce.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new uc({...he(this._def),innerType:this,defaultValue:r,typeName:ce.ZodDefault})}brand(){return new md({typeName:ce.ZodBranded,type:this,...he(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new pc({...he(this._def),innerType:this,catchValue:r,typeName:ce.ZodCatch})}describe(e){let r=this.constructor;return new r({...this._def,description:e})}pipe(e){return fd.create(this,e)}readonly(){return dc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},rW=/^c[^\s-]{8,}$/i,oW=/^[0-9a-z]+$/,nW=/^[0-9A-HJKMNP-TV-Z]{26}$/i,sW=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,iW=/^[a-z0-9_-]{21}$/i,aW=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,cW=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,uW=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,pW="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",pE,dW=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,lW=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,mW=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,fW=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,hW=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,gW=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,HT="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",xW=new RegExp(`^${HT}$`);function jT(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);let r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function yW(t){return new RegExp(`^${jT(t)}$`)}function VT(t){let e=`${HT}T${jT(t)}`,r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function SW(t,e){return!!((e==="v4"||!e)&&dW.test(t)||(e==="v6"||!e)&&mW.test(t))}function EW(t,e){if(!aW.test(t))return!1;try{let[r]=t.split(".");if(!r)return!1;let o=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),n=JSON.parse(atob(o));return!(typeof n!="object"||n===null||"typ"in n&&n?.typ!=="JWT"||!n.alg||e&&n.alg!==e)}catch{return!1}}function _W(t,e){return!!((e==="v4"||!e)&&lW.test(t)||(e==="v6"||!e)&&fW.test(t))}var pa=class t extends _e{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==J.string){let s=this._getOrReturnCtx(e);return q(s,{code:B.invalid_type,expected:J.string,received:s.parsedType}),ae}let o=new xo,n;for(let s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(n=this._getOrReturnCtx(e,n),q(n,{code:B.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),o.dirty());else if(s.kind==="max")e.data.length>s.value&&(n=this._getOrReturnCtx(e,n),q(n,{code:B.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),o.dirty());else if(s.kind==="length"){let i=e.data.length>s.value,a=e.data.length<s.value;(i||a)&&(n=this._getOrReturnCtx(e,n),i?q(n,{code:B.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&q(n,{code:B.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),o.dirty())}else if(s.kind==="email")uW.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"email",code:B.invalid_string,message:s.message}),o.dirty());else if(s.kind==="emoji")pE||(pE=new RegExp(pW,"u")),pE.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"emoji",code:B.invalid_string,message:s.message}),o.dirty());else if(s.kind==="uuid")sW.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"uuid",code:B.invalid_string,message:s.message}),o.dirty());else if(s.kind==="nanoid")iW.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"nanoid",code:B.invalid_string,message:s.message}),o.dirty());else if(s.kind==="cuid")rW.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"cuid",code:B.invalid_string,message:s.message}),o.dirty());else if(s.kind==="cuid2")oW.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"cuid2",code:B.invalid_string,message:s.message}),o.dirty());else if(s.kind==="ulid")nW.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"ulid",code:B.invalid_string,message:s.message}),o.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),q(n,{validation:"url",code:B.invalid_string,message:s.message}),o.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"regex",code:B.invalid_string,message:s.message}),o.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(n=this._getOrReturnCtx(e,n),q(n,{code:B.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),o.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(n=this._getOrReturnCtx(e,n),q(n,{code:B.invalid_string,validation:{startsWith:s.value},message:s.message}),o.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(n=this._getOrReturnCtx(e,n),q(n,{code:B.invalid_string,validation:{endsWith:s.value},message:s.message}),o.dirty()):s.kind==="datetime"?VT(s).test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{code:B.invalid_string,validation:"datetime",message:s.message}),o.dirty()):s.kind==="date"?xW.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{code:B.invalid_string,validation:"date",message:s.message}),o.dirty()):s.kind==="time"?yW(s).test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{code:B.invalid_string,validation:"time",message:s.message}),o.dirty()):s.kind==="duration"?cW.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"duration",code:B.invalid_string,message:s.message}),o.dirty()):s.kind==="ip"?SW(e.data,s.version)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"ip",code:B.invalid_string,message:s.message}),o.dirty()):s.kind==="jwt"?EW(e.data,s.alg)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"jwt",code:B.invalid_string,message:s.message}),o.dirty()):s.kind==="cidr"?_W(e.data,s.version)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"cidr",code:B.invalid_string,message:s.message}),o.dirty()):s.kind==="base64"?hW.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"base64",code:B.invalid_string,message:s.message}),o.dirty()):s.kind==="base64url"?gW.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"base64url",code:B.invalid_string,message:s.message}),o.dirty()):De.assertNever(s);return{status:o.value,value:e.data}}_regex(e,r,o){return this.refinement(n=>e.test(n),{validation:r,code:B.invalid_string,...re.errToObj(o)})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...re.errToObj(e)})}url(e){return this._addCheck({kind:"url",...re.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...re.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...re.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...re.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...re.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...re.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...re.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...re.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...re.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...re.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...re.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...re.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...re.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...re.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...re.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...re.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...re.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...re.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...re.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...re.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...re.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...re.errToObj(r)})}nonempty(e){return this.min(1,re.errToObj(e))}trim(){return new t({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};pa.create=t=>new pa({checks:[],typeName:ce.ZodString,coerce:t?.coerce??!1,...he(t)});function RW(t,e){let r=(t.toString().split(".")[1]||"").length,o=(e.toString().split(".")[1]||"").length,n=r>o?r:o,s=Number.parseInt(t.toFixed(n).replace(".","")),i=Number.parseInt(e.toFixed(n).replace(".",""));return s%i/10**n}var Ya=class t extends _e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==J.number){let s=this._getOrReturnCtx(e);return q(s,{code:B.invalid_type,expected:J.number,received:s.parsedType}),ae}let o,n=new xo;for(let s of this._def.checks)s.kind==="int"?De.isInteger(e.data)||(o=this._getOrReturnCtx(e,o),q(o,{code:B.invalid_type,expected:"integer",received:"float",message:s.message}),n.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(o=this._getOrReturnCtx(e,o),q(o,{code:B.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),n.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(o=this._getOrReturnCtx(e,o),q(o,{code:B.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),n.dirty()):s.kind==="multipleOf"?RW(e.data,s.value)!==0&&(o=this._getOrReturnCtx(e,o),q(o,{code:B.not_multiple_of,multipleOf:s.value,message:s.message}),n.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(o=this._getOrReturnCtx(e,o),q(o,{code:B.not_finite,message:s.message}),n.dirty()):De.assertNever(s);return{status:n.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,re.toString(r))}gt(e,r){return this.setLimit("min",e,!1,re.toString(r))}lte(e,r){return this.setLimit("max",e,!0,re.toString(r))}lt(e,r){return this.setLimit("max",e,!1,re.toString(r))}setLimit(e,r,o,n){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:o,message:re.toString(n)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:re.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:re.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:re.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:re.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:re.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:re.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&De.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let o of this._def.checks){if(o.kind==="finite"||o.kind==="int"||o.kind==="multipleOf")return!0;o.kind==="min"?(r===null||o.value>r)&&(r=o.value):o.kind==="max"&&(e===null||o.value<e)&&(e=o.value)}return Number.isFinite(r)&&Number.isFinite(e)}};Ya.create=t=>new Ya({checks:[],typeName:ce.ZodNumber,coerce:t?.coerce||!1,...he(t)});var Xa=class t extends _e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==J.bigint)return this._getInvalidInput(e);let o,n=new xo;for(let s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(o=this._getOrReturnCtx(e,o),q(o,{code:B.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),n.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(o=this._getOrReturnCtx(e,o),q(o,{code:B.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),n.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(o=this._getOrReturnCtx(e,o),q(o,{code:B.not_multiple_of,multipleOf:s.value,message:s.message}),n.dirty()):De.assertNever(s);return{status:n.value,value:e.data}}_getInvalidInput(e){let r=this._getOrReturnCtx(e);return q(r,{code:B.invalid_type,expected:J.bigint,received:r.parsedType}),ae}gte(e,r){return this.setLimit("min",e,!0,re.toString(r))}gt(e,r){return this.setLimit("min",e,!1,re.toString(r))}lte(e,r){return this.setLimit("max",e,!0,re.toString(r))}lt(e,r){return this.setLimit("max",e,!1,re.toString(r))}setLimit(e,r,o,n){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:o,message:re.toString(n)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:re.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:re.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Xa.create=t=>new Xa({checks:[],typeName:ce.ZodBigInt,coerce:t?.coerce??!1,...he(t)});var Za=class extends _e{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==J.boolean){let o=this._getOrReturnCtx(e);return q(o,{code:B.invalid_type,expected:J.boolean,received:o.parsedType}),ae}return Io(e.data)}};Za.create=t=>new Za({typeName:ce.ZodBoolean,coerce:t?.coerce||!1,...he(t)});var ec=class t extends _e{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==J.date){let s=this._getOrReturnCtx(e);return q(s,{code:B.invalid_type,expected:J.date,received:s.parsedType}),ae}if(Number.isNaN(e.data.getTime())){let s=this._getOrReturnCtx(e);return q(s,{code:B.invalid_date}),ae}let o=new xo,n;for(let s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(n=this._getOrReturnCtx(e,n),q(n,{code:B.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),o.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(n=this._getOrReturnCtx(e,n),q(n,{code:B.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),o.dirty()):De.assertNever(s);return{status:o.value,value:new Date(e.data.getTime())}}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:re.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:re.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};ec.create=t=>new ec({checks:[],coerce:t?.coerce||!1,typeName:ce.ZodDate,...he(t)});var cu=class extends _e{_parse(e){if(this._getType(e)!==J.symbol){let o=this._getOrReturnCtx(e);return q(o,{code:B.invalid_type,expected:J.symbol,received:o.parsedType}),ae}return Io(e.data)}};cu.create=t=>new cu({typeName:ce.ZodSymbol,...he(t)});var tc=class extends _e{_parse(e){if(this._getType(e)!==J.undefined){let o=this._getOrReturnCtx(e);return q(o,{code:B.invalid_type,expected:J.undefined,received:o.parsedType}),ae}return Io(e.data)}};tc.create=t=>new tc({typeName:ce.ZodUndefined,...he(t)});var rc=class extends _e{_parse(e){if(this._getType(e)!==J.null){let o=this._getOrReturnCtx(e);return q(o,{code:B.invalid_type,expected:J.null,received:o.parsedType}),ae}return Io(e.data)}};rc.create=t=>new rc({typeName:ce.ZodNull,...he(t)});var da=class extends _e{constructor(){super(...arguments),this._any=!0}_parse(e){return Io(e.data)}};da.create=t=>new da({typeName:ce.ZodAny,...he(t)});var Pi=class extends _e{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Io(e.data)}};Pi.create=t=>new Pi({typeName:ce.ZodUnknown,...he(t)});var _s=class extends _e{_parse(e){let r=this._getOrReturnCtx(e);return q(r,{code:B.invalid_type,expected:J.never,received:r.parsedType}),ae}};_s.create=t=>new _s({typeName:ce.ZodNever,...he(t)});var uu=class extends _e{_parse(e){if(this._getType(e)!==J.undefined){let o=this._getOrReturnCtx(e);return q(o,{code:B.invalid_type,expected:J.void,received:o.parsedType}),ae}return Io(e.data)}};uu.create=t=>new uu({typeName:ce.ZodVoid,...he(t)});var Oi=class t extends _e{_parse(e){let{ctx:r,status:o}=this._processInputParams(e),n=this._def;if(r.parsedType!==J.array)return q(r,{code:B.invalid_type,expected:J.array,received:r.parsedType}),ae;if(n.exactLength!==null){let i=r.data.length>n.exactLength.value,a=r.data.length<n.exactLength.value;(i||a)&&(q(r,{code:i?B.too_big:B.too_small,minimum:a?n.exactLength.value:void 0,maximum:i?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),o.dirty())}if(n.minLength!==null&&r.data.length<n.minLength.value&&(q(r,{code:B.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),o.dirty()),n.maxLength!==null&&r.data.length>n.maxLength.value&&(q(r,{code:B.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),o.dirty()),r.common.async)return Promise.all([...r.data].map((i,a)=>n.type._parseAsync(new Fn(r,i,r.path,a)))).then(i=>xo.mergeArray(o,i));let s=[...r.data].map((i,a)=>n.type._parseSync(new Fn(r,i,r.path,a)));return xo.mergeArray(o,s)}get element(){return this._def.type}min(e,r){return new t({...this._def,minLength:{value:e,message:re.toString(r)}})}max(e,r){return new t({...this._def,maxLength:{value:e,message:re.toString(r)}})}length(e,r){return new t({...this._def,exactLength:{value:e,message:re.toString(r)}})}nonempty(e){return this.min(1,e)}};Oi.create=(t,e)=>new Oi({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ce.ZodArray,...he(e)});function au(t){if(t instanceof tn){let e={};for(let r in t.shape){let o=t.shape[r];e[r]=Un.create(au(o))}return new tn({...t._def,shape:()=>e})}else return t instanceof Oi?new Oi({...t._def,type:au(t.element)}):t instanceof Un?Un.create(au(t.unwrap())):t instanceof js?js.create(au(t.unwrap())):t instanceof Hs?Hs.create(t.items.map(e=>au(e))):t}var tn=class t extends _e{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=De.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==J.object){let u=this._getOrReturnCtx(e);return q(u,{code:B.invalid_type,expected:J.object,received:u.parsedType}),ae}let{status:o,ctx:n}=this._processInputParams(e),{shape:s,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof _s&&this._def.unknownKeys==="strip"))for(let u in n.data)i.includes(u)||a.push(u);let c=[];for(let u of i){let m=s[u],f=n.data[u];c.push({key:{status:"valid",value:u},value:m._parse(new Fn(n,f,n.path,u)),alwaysSet:u in n.data})}if(this._def.catchall instanceof _s){let u=this._def.unknownKeys;if(u==="passthrough")for(let m of a)c.push({key:{status:"valid",value:m},value:{status:"valid",value:n.data[m]}});else if(u==="strict")a.length>0&&(q(n,{code:B.unrecognized_keys,keys:a}),o.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let u=this._def.catchall;for(let m of a){let f=n.data[m];c.push({key:{status:"valid",value:m},value:u._parse(new Fn(n,f,n.path,m)),alwaysSet:m in n.data})}}return n.common.async?Promise.resolve().then(async()=>{let u=[];for(let m of c){let f=await m.key,h=await m.value;u.push({key:f,value:h,alwaysSet:m.alwaysSet})}return u}).then(u=>xo.mergeObjectSync(o,u)):xo.mergeObjectSync(o,c)}get shape(){return this._def.shape()}strict(e){return re.errToObj,new t({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,o)=>{let n=this._def.errorMap?.(r,o).message??o.defaultError;return r.code==="unrecognized_keys"?{message:re.errToObj(e).message??n}:{message:n}}}:{}})}strip(){return new t({...this._def,unknownKeys:"strip"})}passthrough(){return new t({...this._def,unknownKeys:"passthrough"})}extend(e){return new t({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ce.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new t({...this._def,catchall:e})}pick(e){let r={};for(let o of De.objectKeys(e))e[o]&&this.shape[o]&&(r[o]=this.shape[o]);return new t({...this._def,shape:()=>r})}omit(e){let r={};for(let o of De.objectKeys(this.shape))e[o]||(r[o]=this.shape[o]);return new t({...this._def,shape:()=>r})}deepPartial(){return au(this)}partial(e){let r={};for(let o of De.objectKeys(this.shape)){let n=this.shape[o];e&&!e[o]?r[o]=n:r[o]=n.optional()}return new t({...this._def,shape:()=>r})}required(e){let r={};for(let o of De.objectKeys(this.shape))if(e&&!e[o])r[o]=this.shape[o];else{let s=this.shape[o];for(;s instanceof Un;)s=s._def.innerType;r[o]=s}return new t({...this._def,shape:()=>r})}keyof(){return zT(De.objectKeys(this.shape))}};tn.create=(t,e)=>new tn({shape:()=>t,unknownKeys:"strip",catchall:_s.create(),typeName:ce.ZodObject,...he(e)});tn.strictCreate=(t,e)=>new tn({shape:()=>t,unknownKeys:"strict",catchall:_s.create(),typeName:ce.ZodObject,...he(e)});tn.lazycreate=(t,e)=>new tn({shape:t,unknownKeys:"strip",catchall:_s.create(),typeName:ce.ZodObject,...he(e)});var oc=class extends _e{_parse(e){let{ctx:r}=this._processInputParams(e),o=this._def.options;function n(s){for(let a of s)if(a.result.status==="valid")return a.result;for(let a of s)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;let i=s.map(a=>new en(a.ctx.common.issues));return q(r,{code:B.invalid_union,unionErrors:i}),ae}if(r.common.async)return Promise.all(o.map(async s=>{let i={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:i}),ctx:i}})).then(n);{let s,i=[];for(let c of o){let u={...r,common:{...r.common,issues:[]},parent:null},m=c._parseSync({data:r.data,path:r.path,parent:u});if(m.status==="valid")return m;m.status==="dirty"&&!s&&(s={result:m,ctx:u}),u.common.issues.length&&i.push(u.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;let a=i.map(c=>new en(c));return q(r,{code:B.invalid_union,unionErrors:a}),ae}}get options(){return this._def.options}};oc.create=(t,e)=>new oc({options:t,typeName:ce.ZodUnion,...he(e)});var Di=t=>t instanceof sc?Di(t.schema):t instanceof Gn?Di(t.innerType()):t instanceof ic?[t.value]:t instanceof ac?t.options:t instanceof cc?De.objectValues(t.enum):t instanceof uc?Di(t._def.innerType):t instanceof tc?[void 0]:t instanceof rc?[null]:t instanceof Un?[void 0,...Di(t.unwrap())]:t instanceof js?[null,...Di(t.unwrap())]:t instanceof md||t instanceof dc?Di(t.unwrap()):t instanceof pc?Di(t._def.innerType):[],Xm=class t extends _e{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==J.object)return q(r,{code:B.invalid_type,expected:J.object,received:r.parsedType}),ae;let o=this.discriminator,n=r.data[o],s=this.optionsMap.get(n);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(q(r,{code:B.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[o]}),ae)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,o){let n=new Map;for(let s of r){let i=Di(s.shape[e]);if(!i.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of i){if(n.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);n.set(a,s)}}return new t({typeName:ce.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:n,...he(o)})}};function dE(t,e){let r=Gs(t),o=Gs(e);if(t===e)return{valid:!0,data:t};if(r===J.object&&o===J.object){let n=De.objectKeys(e),s=De.objectKeys(t).filter(a=>n.indexOf(a)!==-1),i={...t,...e};for(let a of s){let c=dE(t[a],e[a]);if(!c.valid)return{valid:!1};i[a]=c.data}return{valid:!0,data:i}}else if(r===J.array&&o===J.array){if(t.length!==e.length)return{valid:!1};let n=[];for(let s=0;s<t.length;s++){let i=t[s],a=e[s],c=dE(i,a);if(!c.valid)return{valid:!1};n.push(c.data)}return{valid:!0,data:n}}else return r===J.date&&o===J.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var nc=class extends _e{_parse(e){let{status:r,ctx:o}=this._processInputParams(e),n=(s,i)=>{if(Qm(s)||Qm(i))return ae;let a=dE(s.value,i.value);return a.valid?((Ym(s)||Ym(i))&&r.dirty(),{status:r.value,value:a.data}):(q(o,{code:B.invalid_intersection_types}),ae)};return o.common.async?Promise.all([this._def.left._parseAsync({data:o.data,path:o.path,parent:o}),this._def.right._parseAsync({data:o.data,path:o.path,parent:o})]).then(([s,i])=>n(s,i)):n(this._def.left._parseSync({data:o.data,path:o.path,parent:o}),this._def.right._parseSync({data:o.data,path:o.path,parent:o}))}};nc.create=(t,e,r)=>new nc({left:t,right:e,typeName:ce.ZodIntersection,...he(r)});var Hs=class t extends _e{_parse(e){let{status:r,ctx:o}=this._processInputParams(e);if(o.parsedType!==J.array)return q(o,{code:B.invalid_type,expected:J.array,received:o.parsedType}),ae;if(o.data.length<this._def.items.length)return q(o,{code:B.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ae;!this._def.rest&&o.data.length>this._def.items.length&&(q(o,{code:B.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let s=[...o.data].map((i,a)=>{let c=this._def.items[a]||this._def.rest;return c?c._parse(new Fn(o,i,o.path,a)):null}).filter(i=>!!i);return o.common.async?Promise.all(s).then(i=>xo.mergeArray(r,i)):xo.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new t({...this._def,rest:e})}};Hs.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Hs({items:t,typeName:ce.ZodTuple,rest:null,...he(e)})};var Zm=class t extends _e{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:o}=this._processInputParams(e);if(o.parsedType!==J.object)return q(o,{code:B.invalid_type,expected:J.object,received:o.parsedType}),ae;let n=[],s=this._def.keyType,i=this._def.valueType;for(let a in o.data)n.push({key:s._parse(new Fn(o,a,o.path,a)),value:i._parse(new Fn(o,o.data[a],o.path,a)),alwaysSet:a in o.data});return o.common.async?xo.mergeObjectAsync(r,n):xo.mergeObjectSync(r,n)}get element(){return this._def.valueType}static create(e,r,o){return r instanceof _e?new t({keyType:e,valueType:r,typeName:ce.ZodRecord,...he(o)}):new t({keyType:pa.create(),valueType:e,typeName:ce.ZodRecord,...he(r)})}},pu=class extends _e{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:o}=this._processInputParams(e);if(o.parsedType!==J.map)return q(o,{code:B.invalid_type,expected:J.map,received:o.parsedType}),ae;let n=this._def.keyType,s=this._def.valueType,i=[...o.data.entries()].map(([a,c],u)=>({key:n._parse(new Fn(o,a,o.path,[u,"key"])),value:s._parse(new Fn(o,c,o.path,[u,"value"]))}));if(o.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let c of i){let u=await c.key,m=await c.value;if(u.status==="aborted"||m.status==="aborted")return ae;(u.status==="dirty"||m.status==="dirty")&&r.dirty(),a.set(u.value,m.value)}return{status:r.value,value:a}})}else{let a=new Map;for(let c of i){let u=c.key,m=c.value;if(u.status==="aborted"||m.status==="aborted")return ae;(u.status==="dirty"||m.status==="dirty")&&r.dirty(),a.set(u.value,m.value)}return{status:r.value,value:a}}}};pu.create=(t,e,r)=>new pu({valueType:e,keyType:t,typeName:ce.ZodMap,...he(r)});var du=class t extends _e{_parse(e){let{status:r,ctx:o}=this._processInputParams(e);if(o.parsedType!==J.set)return q(o,{code:B.invalid_type,expected:J.set,received:o.parsedType}),ae;let n=this._def;n.minSize!==null&&o.data.size<n.minSize.value&&(q(o,{code:B.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),r.dirty()),n.maxSize!==null&&o.data.size>n.maxSize.value&&(q(o,{code:B.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),r.dirty());let s=this._def.valueType;function i(c){let u=new Set;for(let m of c){if(m.status==="aborted")return ae;m.status==="dirty"&&r.dirty(),u.add(m.value)}return{status:r.value,value:u}}let a=[...o.data.values()].map((c,u)=>s._parse(new Fn(o,c,o.path,u)));return o.common.async?Promise.all(a).then(c=>i(c)):i(a)}min(e,r){return new t({...this._def,minSize:{value:e,message:re.toString(r)}})}max(e,r){return new t({...this._def,maxSize:{value:e,message:re.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};du.create=(t,e)=>new du({valueType:t,minSize:null,maxSize:null,typeName:ce.ZodSet,...he(e)});var ef=class t extends _e{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==J.function)return q(r,{code:B.invalid_type,expected:J.function,received:r.parsedType}),ae;function o(a,c){return ld({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,su(),Ai].filter(u=>!!u),issueData:{code:B.invalid_arguments,argumentsError:c}})}function n(a,c){return ld({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,su(),Ai].filter(u=>!!u),issueData:{code:B.invalid_return_type,returnTypeError:c}})}let s={errorMap:r.common.contextualErrorMap},i=r.data;if(this._def.returns instanceof la){let a=this;return Io(async function(...c){let u=new en([]),m=await a._def.args.parseAsync(c,s).catch(g=>{throw u.addIssue(o(c,g)),u}),f=await Reflect.apply(i,this,m);return await a._def.returns._def.type.parseAsync(f,s).catch(g=>{throw u.addIssue(n(f,g)),u})})}else{let a=this;return Io(function(...c){let u=a._def.args.safeParse(c,s);if(!u.success)throw new en([o(c,u.error)]);let m=Reflect.apply(i,this,u.data),f=a._def.returns.safeParse(m,s);if(!f.success)throw new en([n(m,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new t({...this._def,args:Hs.create(e).rest(Pi.create())})}returns(e){return new t({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,o){return new t({args:e||Hs.create([]).rest(Pi.create()),returns:r||Pi.create(),typeName:ce.ZodFunction,...he(o)})}},sc=class extends _e{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};sc.create=(t,e)=>new sc({getter:t,typeName:ce.ZodLazy,...he(e)});var ic=class extends _e{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return q(r,{received:r.data,code:B.invalid_literal,expected:this._def.value}),ae}return{status:"valid",value:e.data}}get value(){return this._def.value}};ic.create=(t,e)=>new ic({value:t,typeName:ce.ZodLiteral,...he(e)});function zT(t,e){return new ac({values:t,typeName:ce.ZodEnum,...he(e)})}var ac=class t extends _e{_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),o=this._def.values;return q(r,{expected:De.joinValues(o),received:r.parsedType,code:B.invalid_type}),ae}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let r=this._getOrReturnCtx(e),o=this._def.values;return q(r,{received:r.data,code:B.invalid_enum_value,options:o}),ae}return Io(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return t.create(e,{...this._def,...r})}exclude(e,r=this._def){return t.create(this.options.filter(o=>!e.includes(o)),{...this._def,...r})}};ac.create=zT;var cc=class extends _e{_parse(e){let r=De.getValidEnumValues(this._def.values),o=this._getOrReturnCtx(e);if(o.parsedType!==J.string&&o.parsedType!==J.number){let n=De.objectValues(r);return q(o,{expected:De.joinValues(n),received:o.parsedType,code:B.invalid_type}),ae}if(this._cache||(this._cache=new Set(De.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let n=De.objectValues(r);return q(o,{received:o.data,code:B.invalid_enum_value,options:n}),ae}return Io(e.data)}get enum(){return this._def.values}};cc.create=(t,e)=>new cc({values:t,typeName:ce.ZodNativeEnum,...he(e)});var la=class extends _e{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==J.promise&&r.common.async===!1)return q(r,{code:B.invalid_type,expected:J.promise,received:r.parsedType}),ae;let o=r.parsedType===J.promise?r.data:Promise.resolve(r.data);return Io(o.then(n=>this._def.type.parseAsync(n,{path:r.path,errorMap:r.common.contextualErrorMap})))}};la.create=(t,e)=>new la({type:t,typeName:ce.ZodPromise,...he(e)});var Gn=class extends _e{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ce.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:o}=this._processInputParams(e),n=this._def.effect||null,s={addIssue:i=>{q(o,i),i.fatal?r.abort():r.dirty()},get path(){return o.path}};if(s.addIssue=s.addIssue.bind(s),n.type==="preprocess"){let i=n.transform(o.data,s);if(o.common.async)return Promise.resolve(i).then(async a=>{if(r.value==="aborted")return ae;let c=await this._def.schema._parseAsync({data:a,path:o.path,parent:o});return c.status==="aborted"?ae:c.status==="dirty"?Qa(c.value):r.value==="dirty"?Qa(c.value):c});{if(r.value==="aborted")return ae;let a=this._def.schema._parseSync({data:i,path:o.path,parent:o});return a.status==="aborted"?ae:a.status==="dirty"?Qa(a.value):r.value==="dirty"?Qa(a.value):a}}if(n.type==="refinement"){let i=a=>{let c=n.refinement(a,s);if(o.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(o.common.async===!1){let a=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});return a.status==="aborted"?ae:(a.status==="dirty"&&r.dirty(),i(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(a=>a.status==="aborted"?ae:(a.status==="dirty"&&r.dirty(),i(a.value).then(()=>({status:r.value,value:a.value}))))}if(n.type==="transform")if(o.common.async===!1){let i=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});if(!ua(i))return ae;let a=n.transform(i.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(i=>ua(i)?Promise.resolve(n.transform(i.value,s)).then(a=>({status:r.value,value:a})):ae);De.assertNever(n)}};Gn.create=(t,e,r)=>new Gn({schema:t,typeName:ce.ZodEffects,effect:e,...he(r)});Gn.createWithPreprocess=(t,e,r)=>new Gn({schema:e,effect:{type:"preprocess",transform:t},typeName:ce.ZodEffects,...he(r)});var Un=class extends _e{_parse(e){return this._getType(e)===J.undefined?Io(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Un.create=(t,e)=>new Un({innerType:t,typeName:ce.ZodOptional,...he(e)});var js=class extends _e{_parse(e){return this._getType(e)===J.null?Io(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};js.create=(t,e)=>new js({innerType:t,typeName:ce.ZodNullable,...he(e)});var uc=class extends _e{_parse(e){let{ctx:r}=this._processInputParams(e),o=r.data;return r.parsedType===J.undefined&&(o=this._def.defaultValue()),this._def.innerType._parse({data:o,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};uc.create=(t,e)=>new uc({innerType:t,typeName:ce.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...he(e)});var pc=class extends _e{_parse(e){let{ctx:r}=this._processInputParams(e),o={...r,common:{...r.common,issues:[]}},n=this._def.innerType._parse({data:o.data,path:o.path,parent:{...o}});return iu(n)?n.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new en(o.common.issues)},input:o.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new en(o.common.issues)},input:o.data})}}removeCatch(){return this._def.innerType}};pc.create=(t,e)=>new pc({innerType:t,typeName:ce.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...he(e)});var lu=class extends _e{_parse(e){if(this._getType(e)!==J.nan){let o=this._getOrReturnCtx(e);return q(o,{code:B.invalid_type,expected:J.nan,received:o.parsedType}),ae}return{status:"valid",value:e.data}}};lu.create=t=>new lu({typeName:ce.ZodNaN,...he(t)});var bW=Symbol("zod_brand"),md=class extends _e{_parse(e){let{ctx:r}=this._processInputParams(e),o=r.data;return this._def.type._parse({data:o,path:r.path,parent:r})}unwrap(){return this._def.type}},fd=class t extends _e{_parse(e){let{status:r,ctx:o}=this._processInputParams(e);if(o.common.async)return(async()=>{let s=await this._def.in._parseAsync({data:o.data,path:o.path,parent:o});return s.status==="aborted"?ae:s.status==="dirty"?(r.dirty(),Qa(s.value)):this._def.out._parseAsync({data:s.value,path:o.path,parent:o})})();{let n=this._def.in._parseSync({data:o.data,path:o.path,parent:o});return n.status==="aborted"?ae:n.status==="dirty"?(r.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:o.path,parent:o})}}static create(e,r){return new t({in:e,out:r,typeName:ce.ZodPipeline})}},dc=class extends _e{_parse(e){let r=this._def.innerType._parse(e),o=n=>(ua(n)&&(n.value=Object.freeze(n.value)),n);return iu(r)?r.then(n=>o(n)):o(r)}unwrap(){return this._def.innerType}};dc.create=(t,e)=>new dc({innerType:t,typeName:ce.ZodReadonly,...he(e)});function GT(t,e){let r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function KT(t,e={},r){return t?da.create().superRefine((o,n)=>{let s=t(o);if(s instanceof Promise)return s.then(i=>{if(!i){let a=GT(e,o),c=a.fatal??r??!0;n.addIssue({code:"custom",...a,fatal:c})}});if(!s){let i=GT(e,o),a=i.fatal??r??!0;n.addIssue({code:"custom",...i,fatal:a})}}):da.create()}var vW={object:tn.lazycreate},ce;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ce||(ce={}));var CW=(t,e={message:`Input not instance of ${t.name}`})=>KT(r=>r instanceof t,e),WT=pa.create,qT=Ya.create,IW=lu.create,TW=Xa.create,JT=Za.create,wW=ec.create,AW=cu.create,DW=tc.create,PW=rc.create,OW=da.create,kW=Pi.create,NW=_s.create,$W=uu.create,LW=Oi.create,MW=tn.create,BW=tn.strictCreate,UW=oc.create,FW=Xm.create,GW=nc.create,HW=Hs.create,jW=Zm.create,VW=pu.create,zW=du.create,KW=ef.create,WW=sc.create,qW=ic.create,JW=ac.create,QW=cc.create,YW=la.create,XW=Gn.create,ZW=Un.create,eq=js.create,tq=Gn.createWithPreprocess,rq=fd.create,oq=()=>WT().optional(),nq=()=>qT().optional(),sq=()=>JT().optional(),iq={string:t=>pa.create({...t,coerce:!0}),number:t=>Ya.create({...t,coerce:!0}),boolean:t=>Za.create({...t,coerce:!0}),bigint:t=>Xa.create({...t,coerce:!0}),date:t=>ec.create({...t,coerce:!0})};var aq=ae;var cq=S.object({AWS_REGION:S.string().default("us-east-1"),STAGE:S.string().default("dev"),DYNAMODB_STAFF_TABLE:S.string().optional(),DYNAMODB_PASSWORD_RESET_TOKENS_TABLE:S.string().optional(),DYNAMODB_TENANTS_TABLE:S.string().optional(),DYNAMODB_CLUSTERS_TABLE:S.string().optional(),JWT_SECRET:S.string().min(32,"JWT secret must be at least 32 characters long"),JWT_EXPIRY:S.string().default("24h"),SES_FROM_EMAIL:S.string().email().optional(),SES_REGION:S.string().default("us-east-1"),CLOUDFORMATION_REGION:S.string().optional(),CLOUDFORMATION_TEMPLATE_BUCKET:S.string().optional(),CLOUDFORMATION_CROSS_ACCOUNT_ROLE_PREFIX:S.string().default("ControlPlane-CrossAccount-Role"),S3_TEMPLATE_BUCKET:S.string().optional(),S3_REGION:S.string().optional(),CORS_ORIGINS:S.string().optional(),APP_BASE_URL:S.string().optional(),LOG_LEVEL:S.enum(["debug","info","warn","error"]).default("info"),ENABLE_XRAY:S.string().transform(t=>t==="true").default("true"),BCRYPT_ROUNDS:S.string().transform(t=>parseInt(t,10)).default("12"),PASSWORD_RESET_TOKEN_EXPIRY_HOURS:S.string().transform(t=>parseInt(t,10)).default("24"),CONNECTION_TIMEOUT:S.string().transform(t=>parseInt(t,10)).default("5000"),REQUEST_TIMEOUT:S.string().transform(t=>parseInt(t,10)).default("30000")}),tf=null;function uq(){if(tf)return tf;try{let t=cq.parse(process.env);return tf={aws:{region:t.AWS_REGION},stage:t.STAGE,dynamodb:{staffTable:t.DYNAMODB_STAFF_TABLE||`Staff-${t.STAGE}`,passwordResetTokensTable:t.DYNAMODB_PASSWORD_RESET_TOKENS_TABLE||`PasswordResetTokens-${t.STAGE}`,tenantsTable:t.DYNAMODB_TENANTS_TABLE||`Tenants-${t.STAGE}`,clustersTable:t.DYNAMODB_CLUSTERS_TABLE||`Clusters-${t.STAGE}`},jwt:{secret:t.JWT_SECRET,expiry:t.JWT_EXPIRY},ses:{fromEmail:t.SES_FROM_EMAIL||`noreply@${t.STAGE==="prod"?"example.com":"dev.example.com"}`,region:t.SES_REGION},cloudformation:{region:t.CLOUDFORMATION_REGION||t.AWS_REGION,templateBucket:t.CLOUDFORMATION_TEMPLATE_BUCKET||t.S3_TEMPLATE_BUCKET||`control-plane-templates-${t.STAGE}`,crossAccountRolePrefix:t.CLOUDFORMATION_CROSS_ACCOUNT_ROLE_PREFIX},s3:{templateBucket:t.S3_TEMPLATE_BUCKET||`control-plane-templates-${t.STAGE}`,region:t.S3_REGION||t.AWS_REGION},cors:{origins:t.CORS_ORIGINS?t.CORS_ORIGINS.split(",").map(e=>e.trim()):t.STAGE==="prod"?[]:["*"]},app:{baseUrl:t.APP_BASE_URL||`https://${t.STAGE==="prod"?"app.example.com":`${t.STAGE}.example.com`}`},logging:{level:t.LOG_LEVEL,enableXray:t.ENABLE_XRAY},security:{bcryptRounds:t.BCRYPT_ROUNDS,passwordResetTokenExpiryHours:t.PASSWORD_RESET_TOKEN_EXPIRY_HOURS},performance:{connectionTimeout:t.CONNECTION_TIMEOUT,requestTimeout:t.REQUEST_TIMEOUT}},tf}catch(t){if(t instanceof S.ZodError){let e=t.errors.map(r=>`${r.path.join(".")}: ${r.message}`);throw new Error(`Configuration validation failed:
${e.join(`
`)}`)}throw t}}function wr(){return uq()}var pq={origins:["*"],methods:["GET","POST","PUT","DELETE","OPTIONS"],headers:["Content-Type","Authorization","X-Correlation-ID"],credentials:!1,maxAge:86400};function QT(t,e=pq){let r={};return e.origins.includes("*")?r["Access-Control-Allow-Origin"]="*":t&&e.origins.includes(t)&&(r["Access-Control-Allow-Origin"]=t),r["Access-Control-Allow-Methods"]=e.methods.join(", "),r["Access-Control-Allow-Headers"]=e.headers.join(", "),e.credentials&&(r["Access-Control-Allow-Credentials"]="true"),e.maxAge&&(r["Access-Control-Max-Age"]=e.maxAge.toString()),r}var rf=class{_statusCode=200;_headers={"Content-Type":"application/json",...QT()};_body="";_ended=!1;status(e){return this._statusCode=e,this}json(e){return this._headers["Content-Type"]="application/json",this._body=JSON.stringify(e),this._ended=!0,this}send(e){return this._body=e,this._ended=!0,this}header(e,r){return this._headers[e]=r,this}end(){this._ended=!0}toApiGatewayResponse(){return{statusCode:this._statusCode,headers:this._headers,body:this._body}}};function YT(t,e,r,o){return{error:{code:t,message:e,details:o,correlationId:r},timestamp:new Date().toISOString()}}function lE(t){switch(t){case"ValidationError":return 400;case"Unauthorized":return 401;case"Forbidden":return 403;case"NotFound":return 404;case"Conflict":return 409;case"InternalError":default:return 500}}function H(t,e,r,o,n){let s=lE(e),i=YT(e,r,o,n);t.status(s).json(i)}var hd=class{routes=[];globalMiddlewares=[];constructor(e={}){}use(e){this.globalMiddlewares.push(e)}get(e,...r){this.addRoute("GET",e,...r)}post(e,...r){this.addRoute("POST",e,...r)}put(e,...r){this.addRoute("PUT",e,...r)}delete(e,...r){this.addRoute("DELETE",e,...r)}options(e,...r){this.addRoute("OPTIONS",e,...r)}addRoute(e,r,...o){let n=o[o.length-1],s=o.slice(0,-1);this.routes.push({method:e.toUpperCase(),path:r,handler:n,middlewares:s})}findRoute(e,r){for(let o of this.routes)if(o.method===e.toUpperCase()){if(o.path===r)return{route:o,params:{}};if(this.pathMatches(o.path,r)){let n=MT(r,o.path);return{route:o,params:n}}}return null}pathMatches(e,r){let o=e.split("/"),n=r.split("/");if(o.length!==n.length)return!1;for(let s=0;s<o.length;s++){let i=o[s],a=n[s];if(!i?.startsWith(":")&&i!==a)return!1}return!0}async executeMiddlewares(e,r,o){let n=0,s=async()=>{if(n>=e.length)return;let i=e[n++];i&&await i(r,o,s)};try{return await s(),!o._ended}catch(i){return console.error("Middleware error:",i),o._ended||H(o,"InternalError","Internal server error",r.correlationId),!1}}async handle(e,r){let o=(e.httpMethod||e.requestContext?.http?.method)?.toUpperCase(),n=e.path||e.rawPath;if(!o)return{statusCode:400,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({error:{code:"BadRequest",message:"Missing HTTP method in request",correlationId:e.requestContext?.requestId||"unknown"},timestamp:new Date().toISOString()})};if(!n)return{statusCode:400,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({error:{code:"BadRequest",message:"Missing path in request",correlationId:e.requestContext?.requestId||"unknown"},timestamp:new Date().toISOString()})};if(o==="OPTIONS")return{statusCode:200,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Content-Type,Authorization","Access-Control-Allow-Methods":"GET,POST,PUT,DELETE,OPTIONS"},body:""};let s=this.findRoute(o,n);if(!s)return{statusCode:404,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({error:{code:"NotFound",message:`Route ${o} ${n} not found`,correlationId:e.requestContext?.requestId||"unknown"},timestamp:new Date().toISOString()})};let{route:i,params:a}=s,c=BT(e,r,a),u=new rf;try{let m=[...this.globalMiddlewares,...i.middlewares||[]];return await this.executeMiddlewares(m,c,u)&&!u._ended&&await i.handler(c,u),u._ended||u.status(500).json({error:{code:"InternalError",message:"Handler did not send a response",correlationId:c.correlationId},timestamp:new Date().toISOString()}),u.toApiGatewayResponse()}catch(m){return console.error("Route handler error:",m),u._ended||H(u,"InternalError","Internal server error",c.correlationId),u.toApiGatewayResponse()}}},zPe=new hd;function mE(t={}){let{origins:e=["*"],methods:r=["GET","POST","PUT","DELETE","OPTIONS"],headers:o=["Content-Type","Authorization","X-Correlation-ID"],credentials:n=!1}=t;return async(s,i,a)=>{let c=s.headers.origin||s.headers.Origin,u="*";if(e.length>0&&!e.includes("*")&&(c&&e.includes(c)?u=c:u=e[0]||"*"),i.header("Access-Control-Allow-Origin",u),i.header("Access-Control-Allow-Methods",r.join(", ")),i.header("Access-Control-Allow-Headers",o.join(", ")),n&&i.header("Access-Control-Allow-Credentials","true"),s.method==="OPTIONS"){i.status(200).send("");return}await a()}}function hE(t={}){let{enableRequestLogging:e=!0,enableResponseLogging:r=!0,logLevel:o="info",sensitiveHeaders:n=["authorization","cookie","x-api-key"]}=t;return async(s,i,a)=>{let c=Date.now();if(e){let h=dq(s.headers,n);console.log(JSON.stringify({level:o,message:"Incoming request",correlationId:s.correlationId,method:s.method,path:s.path,headers:h,query:s.query,timestamp:new Date().toISOString(),requestId:s.rawEvent.requestContext.requestId}))}let u=i.json.bind(i),m=i.send.bind(i),f=i.end.bind(i);r&&(i.json=function(h){return fE(s.correlationId,i._statusCode,h,c),u(h)},i.send=function(h){return fE(s.correlationId,i._statusCode,h,c),m(h)},i.end=function(){return fE(s.correlationId,i._statusCode,i._body,c),f()});try{await a()}catch(h){throw console.error(JSON.stringify({level:"error",message:"Request processing error",correlationId:s.correlationId,error:h instanceof Error?{name:h.name,message:h.message,stack:h.stack}:h,timestamp:new Date().toISOString()})),h}}}function dq(t,e){let r={};for(let[o,n]of Object.entries(t))e.includes(o.toLowerCase())?r[o]="[REDACTED]":r[o]=n;return r}function fE(t,e,r,o){let n=Date.now()-o;console.log(JSON.stringify({level:"info",message:"Response sent",correlationId:t,statusCode:e,duration:`${n}ms`,bodySize:typeof r=="string"?r.length:JSON.stringify(r).length,timestamp:new Date().toISOString()}))}function Rn(t){return async(e,r,o)=>{try{if(t.body){let n=t.body.safeParse(e.body);if(!n.success){H(r,"ValidationError","Invalid request body",e.correlationId,{field:"body",errors:n.error.errors});return}e.body=n.data}if(t.query){let n=t.query.safeParse(e.query);if(!n.success){H(r,"ValidationError","Invalid query parameters",e.correlationId,{field:"query",errors:n.error.errors});return}e.query=n.data}if(t.params){let n=t.params.safeParse(e.params);if(!n.success){H(r,"ValidationError","Invalid path parameters",e.correlationId,{field:"params",errors:n.error.errors});return}e.params=n.data}if(t.headers){let n=t.headers.safeParse(e.headers);if(!n.success){H(r,"ValidationError","Invalid headers",e.correlationId,{field:"headers",errors:n.error.errors});return}}await o()}catch(n){console.error("Validation middleware error:",n),H(r,"InternalError","Validation error",e.correlationId)}}}var lq={email:S.string().email().transform(t=>t.toLowerCase().trim()),staffId:S.string().uuid(),tenantId:S.string().uuid(),correlationId:S.string().uuid().optional(),pagination:S.object({limit:S.coerce.number().int().min(1).max(100).default(20),offset:S.coerce.number().int().min(0).default(0)}),authHeaders:S.object({authorization:S.string().regex(/^Bearer .+/,"Authorization header must be Bearer token")})};import{Buffer as XT}from"node:buffer";var Hn=new TextEncoder,Rs=new TextDecoder,XPe=2**32;function of(...t){let e=t.reduce((n,{length:s})=>n+s,0),r=new Uint8Array(e),o=0;for(let n of t)r.set(n,o),o+=n.length;return r}function mq(t){let e=t;return e instanceof Uint8Array&&(e=Rs.decode(e)),e}var nf=t=>XT.from(t).toString("base64url");var mu=t=>new Uint8Array(XT.from(mq(t),"base64url"));var ki=class extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(e,r){super(e,r),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}},bn=class extends ki{static code="ERR_JWT_CLAIM_VALIDATION_FAILED";code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor(e,r,o="unspecified",n="unspecified"){super(e,{cause:{claim:o,reason:n,payload:r}}),this.claim=o,this.reason=n,this.payload=r}},gd=class extends ki{static code="ERR_JWT_EXPIRED";code="ERR_JWT_EXPIRED";claim;reason;payload;constructor(e,r,o="unspecified",n="unspecified"){super(e,{cause:{claim:o,reason:n,payload:r}}),this.claim=o,this.reason=n,this.payload=r}},sf=class extends ki{static code="ERR_JOSE_ALG_NOT_ALLOWED";code="ERR_JOSE_ALG_NOT_ALLOWED"},Uo=class extends ki{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"};var bt=class extends ki{static code="ERR_JWS_INVALID";code="ERR_JWS_INVALID"},ma=class extends ki{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"};var af=class extends ki{static code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";constructor(e="signature verification failed",r){super(e,r)}};import*as ZT from"node:util";var cf=t=>ZT.types.isKeyObject(t);import*as ew from"node:crypto";import*as tw from"node:util";var hq=ew.webcrypto,rw=hq,fu=t=>tw.types.isCryptoKey(t);function Vs(t,e="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${e} must be ${t}`)}function xd(t,e){return t.name===e}function gE(t){return parseInt(t.name.slice(4),10)}function gq(t){switch(t){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function xq(t,e){if(e.length&&!e.some(r=>t.usages.includes(r))){let r="CryptoKey does not support this operation, its usages must include ";if(e.length>2){let o=e.pop();r+=`one of ${e.join(", ")}, or ${o}.`}else e.length===2?r+=`one of ${e[0]} or ${e[1]}.`:r+=`${e[0]}.`;throw new TypeError(r)}}function ow(t,e,...r){switch(e){case"HS256":case"HS384":case"HS512":{if(!xd(t.algorithm,"HMAC"))throw Vs("HMAC");let o=parseInt(e.slice(2),10);if(gE(t.algorithm.hash)!==o)throw Vs(`SHA-${o}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!xd(t.algorithm,"RSASSA-PKCS1-v1_5"))throw Vs("RSASSA-PKCS1-v1_5");let o=parseInt(e.slice(2),10);if(gE(t.algorithm.hash)!==o)throw Vs(`SHA-${o}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!xd(t.algorithm,"RSA-PSS"))throw Vs("RSA-PSS");let o=parseInt(e.slice(2),10);if(gE(t.algorithm.hash)!==o)throw Vs(`SHA-${o}`,"algorithm.hash");break}case"EdDSA":{if(t.algorithm.name!=="Ed25519"&&t.algorithm.name!=="Ed448")throw Vs("Ed25519 or Ed448");break}case"Ed25519":{if(!xd(t.algorithm,"Ed25519"))throw Vs("Ed25519");break}case"ES256":case"ES384":case"ES512":{if(!xd(t.algorithm,"ECDSA"))throw Vs("ECDSA");let o=gq(e);if(t.algorithm.namedCurve!==o)throw Vs(o,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}xq(t,r)}function nw(t,e,...r){if(r=r.filter(Boolean),r.length>2){let o=r.pop();t+=`one of type ${r.join(", ")}, or ${o}.`}else r.length===2?t+=`one of type ${r[0]} or ${r[1]}.`:t+=`of type ${r[0]}.`;return e==null?t+=` Received ${e}`:typeof e=="function"&&e.name?t+=` Received function ${e.name}`:typeof e=="object"&&e!=null&&e.constructor?.name&&(t+=` Received an instance of ${e.constructor.name}`),t}var yd=(t,...e)=>nw("Key must be ",t,...e);function xE(t,e,...r){return nw(`Key for the ${t} algorithm must be `,e,...r)}var yE=t=>cf(t)||fu(t),Ni=["KeyObject"];(globalThis.CryptoKey||rw?.CryptoKey)&&Ni.push("CryptoKey");var yq=(...t)=>{let e=t.filter(Boolean);if(e.length===0||e.length===1)return!0;let r;for(let o of e){let n=Object.keys(o);if(!r||r.size===0){r=new Set(n);continue}for(let s of n){if(r.has(s))return!1;r.add(s)}}return!0},uf=yq;function Sq(t){return typeof t=="object"&&t!==null}function jn(t){if(!Sq(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}import{KeyObject as Eq}from"node:crypto";function zs(t){return jn(t)&&typeof t.kty=="string"}function sw(t){return t.kty!=="oct"&&typeof t.d=="string"}function iw(t){return t.kty!=="oct"&&typeof t.d>"u"}function aw(t){return zs(t)&&t.kty==="oct"&&typeof t.k=="string"}var _q=t=>{switch(t){case"prime256v1":return"P-256";case"secp384r1":return"P-384";case"secp521r1":return"P-521";case"secp256k1":return"secp256k1";default:throw new Uo("Unsupported key curve for this operation")}},Rq=(t,e)=>{let r;if(fu(t))r=Eq.from(t);else if(cf(t))r=t;else{if(zs(t))return t.crv;throw new TypeError(yd(t,...Ni))}if(r.type==="secret")throw new TypeError('only "private" or "public" type keys can be used for this operation');switch(r.asymmetricKeyType){case"ed25519":case"ed448":return`Ed${r.asymmetricKeyType.slice(2)}`;case"x25519":case"x448":return`X${r.asymmetricKeyType.slice(1)}`;case"ec":{let o=r.asymmetricKeyDetails.namedCurve;return e?o:_q(o)}default:throw new TypeError("Invalid asymmetric key type for this operation")}},uw=Rq;import{KeyObject as bq}from"node:crypto";var SE=(t,e)=>{let r;try{t instanceof bq?r=t.asymmetricKeyDetails?.modulusLength:r=Buffer.from(t.n,"base64url").byteLength<<3}catch{}if(typeof r!="number"||r<2048)throw new TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)};import{createPrivateKey as vq,createPublicKey as Cq}from"node:crypto";var Iq=t=>t.d?vq({format:"jwk",key:t}):Cq({format:"jwk",key:t}),pw=Iq;async function dw(t,e){if(!jn(t))throw new TypeError("JWK must be an object");switch(e||=t.alg,t.kty){case"oct":if(typeof t.k!="string"||!t.k)throw new TypeError('missing "k" (Key Value) Parameter value');return mu(t.k);case"RSA":if("oth"in t&&t.oth!==void 0)throw new Uo('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return pw({...t,alg:e});default:throw new Uo('Unsupported "kty" (Key Type) Parameter value')}}var hu=t=>t?.[Symbol.toStringTag],EE=(t,e,r)=>{if(e.use!==void 0&&e.use!=="sig")throw new TypeError("Invalid key for this operation, when present its use must be sig");if(e.key_ops!==void 0&&e.key_ops.includes?.(r)!==!0)throw new TypeError(`Invalid key for this operation, when present its key_ops must include ${r}`);if(e.alg!==void 0&&e.alg!==t)throw new TypeError(`Invalid key for this operation, when present its alg must be ${t}`);return!0},Tq=(t,e,r,o)=>{if(!(e instanceof Uint8Array)){if(o&&zs(e)){if(aw(e)&&EE(t,e,r))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!yE(e))throw new TypeError(xE(t,e,...Ni,"Uint8Array",o?"JSON Web Key":null));if(e.type!=="secret")throw new TypeError(`${hu(e)} instances for symmetric algorithms must be of type "secret"`)}},wq=(t,e,r,o)=>{if(o&&zs(e))switch(r){case"sign":if(sw(e)&&EE(t,e,r))return;throw new TypeError("JSON Web Key for this operation be a private JWK");case"verify":if(iw(e)&&EE(t,e,r))return;throw new TypeError("JSON Web Key for this operation be a public JWK")}if(!yE(e))throw new TypeError(xE(t,e,...Ni,o?"JSON Web Key":null));if(e.type==="secret")throw new TypeError(`${hu(e)} instances for asymmetric algorithms must not be of type "secret"`);if(r==="sign"&&e.type==="public")throw new TypeError(`${hu(e)} instances for asymmetric algorithm signing must be of type "private"`);if(r==="decrypt"&&e.type==="public")throw new TypeError(`${hu(e)} instances for asymmetric algorithm decryption must be of type "private"`);if(e.algorithm&&r==="verify"&&e.type==="private")throw new TypeError(`${hu(e)} instances for asymmetric algorithm verifying must be of type "public"`);if(e.algorithm&&r==="encrypt"&&e.type==="private")throw new TypeError(`${hu(e)} instances for asymmetric algorithm encryption must be of type "public"`)};function lw(t,e,r,o){e.startsWith("HS")||e==="dir"||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?Tq(e,r,o,t):wq(e,r,o,t)}var OOe=lw.bind(void 0,!1),Sd=lw.bind(void 0,!0);function Aq(t,e,r,o,n){if(n.crit!==void 0&&o?.crit===void 0)throw new t('"crit" (Critical) Header Parameter MUST be integrity protected');if(!o||o.crit===void 0)return new Set;if(!Array.isArray(o.crit)||o.crit.length===0||o.crit.some(i=>typeof i!="string"||i.length===0))throw new t('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let s;r!==void 0?s=new Map([...Object.entries(r),...e.entries()]):s=e;for(let i of o.crit){if(!s.has(i))throw new Uo(`Extension Header Parameter "${i}" is not recognized`);if(n[i]===void 0)throw new t(`Extension Header Parameter "${i}" is missing`);if(s.get(i)&&o[i]===void 0)throw new t(`Extension Header Parameter "${i}" MUST be integrity protected`)}return new Set(o.crit)}var pf=Aq;var Dq=(t,e)=>{if(e!==void 0&&(!Array.isArray(e)||e.some(r=>typeof r!="string")))throw new TypeError(`"${t}" option must be an array of strings`);if(e)return new Set(e)},mw=Dq;import*as mf from"node:crypto";import{promisify as Lq}from"node:util";function Ed(t){switch(t){case"PS256":case"RS256":case"ES256":case"ES256K":return"sha256";case"PS384":case"RS384":case"ES384":return"sha384";case"PS512":case"RS512":case"ES512":return"sha512";case"Ed25519":case"EdDSA":return;default:throw new Uo(`alg ${t} is not supported either by JOSE or your javascript runtime`)}}import{constants as fw,KeyObject as Pq}from"node:crypto";var Oq=new Map([["ES256","P-256"],["ES256K","secp256k1"],["ES384","P-384"],["ES512","P-521"]]);function _d(t,e){let r,o,n;if(e instanceof Pq)r=e.asymmetricKeyType,o=e.asymmetricKeyDetails;else switch(n=!0,e.kty){case"RSA":r="rsa";break;case"EC":r="ec";break;case"OKP":{if(e.crv==="Ed25519"){r="ed25519";break}if(e.crv==="Ed448"){r="ed448";break}throw new TypeError("Invalid key for this operation, its crv must be Ed25519 or Ed448")}default:throw new TypeError("Invalid key for this operation, its kty must be RSA, OKP, or EC")}let s;switch(t){case"Ed25519":if(r!=="ed25519")throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be ed25519");break;case"EdDSA":if(!["ed25519","ed448"].includes(r))throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be ed25519 or ed448");break;case"RS256":case"RS384":case"RS512":if(r!=="rsa")throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");SE(e,t);break;case"PS256":case"PS384":case"PS512":if(r==="rsa-pss"){let{hashAlgorithm:i,mgf1HashAlgorithm:a,saltLength:c}=o,u=parseInt(t.slice(-3),10);if(i!==void 0&&(i!==`sha${u}`||a!==i))throw new TypeError(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${t}`);if(c!==void 0&&c>u>>3)throw new TypeError(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${t}`)}else if(r!=="rsa")throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa or rsa-pss");SE(e,t),s={padding:fw.RSA_PKCS1_PSS_PADDING,saltLength:fw.RSA_PSS_SALTLEN_DIGEST};break;case"ES256":case"ES256K":case"ES384":case"ES512":{if(r!=="ec")throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be ec");let i=uw(e),a=Oq.get(t);if(i!==a)throw new TypeError(`Invalid key curve for the algorithm, its curve must be ${a}, got ${i}`);s={dsaEncoding:"ieee-p1363"};break}default:throw new Uo(`alg ${t} is not supported either by JOSE or your javascript runtime`)}return n?{format:"jwk",key:e,...s}:s?{...s,key:e}:e}import*as df from"node:crypto";import{promisify as kq}from"node:util";function _E(t){switch(t){case"HS256":return"sha256";case"HS384":return"sha384";case"HS512":return"sha512";default:throw new Uo(`alg ${t} is not supported either by JOSE or your javascript runtime`)}}import{KeyObject as hw,createSecretKey as gw}from"node:crypto";function Rd(t,e,r){if(e instanceof Uint8Array){if(!t.startsWith("HS"))throw new TypeError(yd(e,...Ni));return gw(e)}if(e instanceof hw)return e;if(fu(e))return ow(e,t,r),hw.from(e);if(zs(e))return t.startsWith("HS")?gw(Buffer.from(e.k,"base64url")):e;throw new TypeError(yd(e,...Ni,"Uint8Array","JSON Web Key"))}var Nq=kq(df.sign),$q=async(t,e,r)=>{let o=Rd(t,e,"sign");if(t.startsWith("HS")){let n=df.createHmac(_E(t),o);return n.update(r),n.digest()}return Nq(Ed(t),r,_d(t,o))},lf=$q;var Mq=Lq(mf.verify),Bq=async(t,e,r,o)=>{let n=Rd(t,e,"verify");if(t.startsWith("HS")){let a=await lf(t,n,o),c=r;try{return mf.timingSafeEqual(c,a)}catch{return!1}}let s=Ed(t),i=_d(t,n);try{return await Mq(s,o,i,r)}catch{return!1}},xw=Bq;async function yw(t,e,r){if(!jn(t))throw new bt("Flattened JWS must be an object");if(t.protected===void 0&&t.header===void 0)throw new bt('Flattened JWS must have either of the "protected" or "header" members');if(t.protected!==void 0&&typeof t.protected!="string")throw new bt("JWS Protected Header incorrect type");if(t.payload===void 0)throw new bt("JWS Payload missing");if(typeof t.signature!="string")throw new bt("JWS Signature missing or incorrect type");if(t.header!==void 0&&!jn(t.header))throw new bt("JWS Unprotected Header incorrect type");let o={};if(t.protected)try{let R=mu(t.protected);o=JSON.parse(Rs.decode(R))}catch{throw new bt("JWS Protected Header is invalid")}if(!uf(o,t.header))throw new bt("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let n={...o,...t.header},s=pf(bt,new Map([["b64",!0]]),r?.crit,o,n),i=!0;if(s.has("b64")&&(i=o.b64,typeof i!="boolean"))throw new bt('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:a}=n;if(typeof a!="string"||!a)throw new bt('JWS "alg" (Algorithm) Header Parameter missing or invalid');let c=r&&mw("algorithms",r.algorithms);if(c&&!c.has(a))throw new sf('"alg" (Algorithm) Header Parameter value not allowed');if(i){if(typeof t.payload!="string")throw new bt("JWS Payload must be a string")}else if(typeof t.payload!="string"&&!(t.payload instanceof Uint8Array))throw new bt("JWS Payload must be a string or an Uint8Array instance");let u=!1;typeof e=="function"?(e=await e(o,t),u=!0,Sd(a,e,"verify"),zs(e)&&(e=await dw(e,a))):Sd(a,e,"verify");let m=of(Hn.encode(t.protected??""),Hn.encode("."),typeof t.payload=="string"?Hn.encode(t.payload):t.payload),f;try{f=mu(t.signature)}catch{throw new bt("Failed to base64url decode the signature")}if(!await xw(a,e,f,m))throw new af;let g;if(i)try{g=mu(t.payload)}catch{throw new bt("Failed to base64url decode the payload")}else typeof t.payload=="string"?g=Hn.encode(t.payload):g=t.payload;let _={payload:g};return t.protected!==void 0&&(_.protectedHeader=o),t.header!==void 0&&(_.unprotectedHeader=t.header),u?{..._,key:e}:_}async function Sw(t,e,r){if(t instanceof Uint8Array&&(t=Rs.decode(t)),typeof t!="string")throw new bt("Compact JWS must be a string or Uint8Array");let{0:o,1:n,2:s,length:i}=t.split(".");if(i!==3)throw new bt("Invalid Compact JWS");let a=await yw({payload:n,protected:o,signature:s},e,r),c={payload:a.payload,protectedHeader:a.protectedHeader};return typeof e=="function"?{...c,key:a.key}:c}var Ks=t=>Math.floor(t.getTime()/1e3);var Uq=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,lc=t=>{let e=Uq.exec(t);if(!e||e[4]&&e[1])throw new TypeError("Invalid time period format");let r=parseFloat(e[2]),o=e[3].toLowerCase(),n;switch(o){case"sec":case"secs":case"second":case"seconds":case"s":n=Math.round(r);break;case"minute":case"minutes":case"min":case"mins":case"m":n=Math.round(r*60);break;case"hour":case"hours":case"hr":case"hrs":case"h":n=Math.round(r*3600);break;case"day":case"days":case"d":n=Math.round(r*86400);break;case"week":case"weeks":case"w":n=Math.round(r*604800);break;default:n=Math.round(r*31557600);break}return e[1]==="-"||e[4]==="ago"?-n:n};var Ew=t=>t.toLowerCase().replace(/^application\//,""),Fq=(t,e)=>typeof t=="string"?e.includes(t):Array.isArray(t)?e.some(Set.prototype.has.bind(new Set(t))):!1,_w=(t,e,r={})=>{let o;try{o=JSON.parse(Rs.decode(e))}catch{}if(!jn(o))throw new ma("JWT Claims Set must be a top-level JSON object");let{typ:n}=r;if(n&&(typeof t.typ!="string"||Ew(t.typ)!==Ew(n)))throw new bn('unexpected "typ" JWT header value',o,"typ","check_failed");let{requiredClaims:s=[],issuer:i,subject:a,audience:c,maxTokenAge:u}=r,m=[...s];u!==void 0&&m.push("iat"),c!==void 0&&m.push("aud"),a!==void 0&&m.push("sub"),i!==void 0&&m.push("iss");for(let _ of new Set(m.reverse()))if(!(_ in o))throw new bn(`missing required "${_}" claim`,o,_,"missing");if(i&&!(Array.isArray(i)?i:[i]).includes(o.iss))throw new bn('unexpected "iss" claim value',o,"iss","check_failed");if(a&&o.sub!==a)throw new bn('unexpected "sub" claim value',o,"sub","check_failed");if(c&&!Fq(o.aud,typeof c=="string"?[c]:c))throw new bn('unexpected "aud" claim value',o,"aud","check_failed");let f;switch(typeof r.clockTolerance){case"string":f=lc(r.clockTolerance);break;case"number":f=r.clockTolerance;break;case"undefined":f=0;break;default:throw new TypeError("Invalid clockTolerance option type")}let{currentDate:h}=r,g=Ks(h||new Date);if((o.iat!==void 0||u)&&typeof o.iat!="number")throw new bn('"iat" claim must be a number',o,"iat","invalid");if(o.nbf!==void 0){if(typeof o.nbf!="number")throw new bn('"nbf" claim must be a number',o,"nbf","invalid");if(o.nbf>g+f)throw new bn('"nbf" claim timestamp check failed',o,"nbf","check_failed")}if(o.exp!==void 0){if(typeof o.exp!="number")throw new bn('"exp" claim must be a number',o,"exp","invalid");if(o.exp<=g-f)throw new gd('"exp" claim timestamp check failed',o,"exp","check_failed")}if(u){let _=g-o.iat,R=typeof u=="number"?u:lc(u);if(_-f>R)throw new gd('"iat" claim timestamp check failed (too far in the past)',o,"iat","check_failed");if(_<0-f)throw new bn('"iat" claim timestamp check failed (it should be in the past)',o,"iat","check_failed")}return o};async function RE(t,e,r){let o=await Sw(t,e,r);if(o.protectedHeader.crit?.includes("b64")&&o.protectedHeader.b64===!1)throw new ma("JWTs MUST NOT use unencoded payload");let s={payload:_w(o.protectedHeader,o.payload,r),protectedHeader:o.protectedHeader};return typeof e=="function"?{...s,key:o.key}:s}var ff=class{_payload;_protectedHeader;_unprotectedHeader;constructor(e){if(!(e instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=e}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}async sign(e,r){if(!this._protectedHeader&&!this._unprotectedHeader)throw new bt("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!uf(this._protectedHeader,this._unprotectedHeader))throw new bt("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let o={...this._protectedHeader,...this._unprotectedHeader},n=pf(bt,new Map([["b64",!0]]),r?.crit,this._protectedHeader,o),s=!0;if(n.has("b64")&&(s=this._protectedHeader.b64,typeof s!="boolean"))throw new bt('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:i}=o;if(typeof i!="string"||!i)throw new bt('JWS "alg" (Algorithm) Header Parameter missing or invalid');Sd(i,e,"sign");let a=this._payload;s&&(a=Hn.encode(nf(a)));let c;this._protectedHeader?c=Hn.encode(nf(JSON.stringify(this._protectedHeader))):c=Hn.encode("");let u=of(c,Hn.encode("."),a),m=await lf(i,e,u),f={signature:nf(m),payload:""};return s&&(f.payload=Rs.decode(a)),this._unprotectedHeader&&(f.header=this._unprotectedHeader),this._protectedHeader&&(f.protected=Rs.decode(c)),f}};var hf=class{_flattened;constructor(e){this._flattened=new ff(e)}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}async sign(e,r){let o=await this._flattened.sign(e,r);if(o.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${o.protected}.${o.payload}.${o.signature}`}};function mc(t,e){if(!Number.isFinite(e))throw new TypeError(`Invalid ${t} input`);return e}var gf=class{_payload;constructor(e={}){if(!jn(e))throw new TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return typeof e=="number"?this._payload={...this._payload,nbf:mc("setNotBefore",e)}:e instanceof Date?this._payload={...this._payload,nbf:mc("setNotBefore",Ks(e))}:this._payload={...this._payload,nbf:Ks(new Date)+lc(e)},this}setExpirationTime(e){return typeof e=="number"?this._payload={...this._payload,exp:mc("setExpirationTime",e)}:e instanceof Date?this._payload={...this._payload,exp:mc("setExpirationTime",Ks(e))}:this._payload={...this._payload,exp:Ks(new Date)+lc(e)},this}setIssuedAt(e){return typeof e>"u"?this._payload={...this._payload,iat:Ks(new Date)}:e instanceof Date?this._payload={...this._payload,iat:mc("setIssuedAt",Ks(e))}:typeof e=="string"?this._payload={...this._payload,iat:mc("setIssuedAt",Ks(new Date)+lc(e))}:this._payload={...this._payload,iat:mc("setIssuedAt",e)},this}};var bd=class extends gf{_protectedHeader;setProtectedHeader(e){return this._protectedHeader=e,this}async sign(e,r){let o=new hf(Hn.encode(JSON.stringify(this._payload)));if(o.setProtectedHeader(this._protectedHeader),Array.isArray(this._protectedHeader?.crit)&&this._protectedHeader.crit.includes("b64")&&this._protectedHeader.b64===!1)throw new ma("JWTs MUST NOT use unencoded payload");return o.sign(e,r)}};var Gq=[/password/i,/secret/i,/token/i,/key/i,/auth/i,/credential/i,/ssn/i,/social.security/i,/credit.card/i,/card.number/i,/cvv/i,/pin/i,/phone/i,/email/i,/address/i,/zip/i,/postal/i],Hq=/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/g,jq=[/\b\d{3}-\d{3}-\d{4}\b/g,/\b\(\d{3}\)\s*\d{3}-\d{4}\b/g,/\b\d{10}\b/g,/\b\+1\s*\d{3}\s*\d{3}\s*\d{4}\b/g],vE=class{logLevel;enableConsoleOutput;constructor(e="info",r=!0){this.logLevel=e,this.enableConsoleOutput=r}shouldLog(e){let r=["debug","info","warn","error"],o=r.indexOf(this.logLevel);return r.indexOf(e)>=o}createLogEntry(e,r,o){return{level:e,message:r,timestamp:new Date().toISOString(),...o&&{metadata:this.sanitizeMetadata(o)}}}output(e){this.shouldLog(e.level)&&this.enableConsoleOutput&&console.log(JSON.stringify(e))}debug(e,r){let o=this.createLogEntry("debug",e,r);this.output(o)}info(e,r){let o=this.createLogEntry("info",e,r);this.output(o)}warn(e,r){let o=this.createLogEntry("warn",e,r);this.output(o)}error(e,r,o){let n=this.createLogEntry("error",e,{...o,error:r instanceof Error?{name:r.name,message:r.message,stack:r.stack}:r});this.output(n)}sanitizeMetadata(e){return this.sanitizeObject(e)}sanitizeObject(e){if(e==null)return e;if(typeof e=="string")return this.sanitizeString(e);if(typeof e=="number"||typeof e=="boolean")return e;if(Array.isArray(e))return e.map(r=>this.sanitizeObject(r));if(typeof e=="object"){let r={};for(let[o,n]of Object.entries(e))this.isPiiField(o)?r[o]="[REDACTED]":r[o]=this.sanitizeObject(n);return r}return e}isPiiField(e){return Gq.some(r=>r.test(e))}sanitizeString(e){let r=e;return r=r.replace(Hq,"[EMAIL_REDACTED]"),jq.forEach(o=>{r=r.replace(o,"[PHONE_REDACTED]")}),r}},bE=null;function xf(){if(!bE){let t=wr();bE=new vE(t.logging.level,!0)}return bE}var y={debug:(t,e)=>xf().debug(t,e),info:(t,e)=>xf().info(t,e),warn:(t,e)=>xf().warn(t,e),error:(t,e,r)=>xf().error(t,e,r)};var Rw="HS256",bw="aws-lambda-control-plane",vw="control-plane-api",Vq=()=>{let e=wr().jwt.secret;if(!e)throw new Error("JWT_SECRET environment variable is required");if(e.length<32)throw new Error("JWT_SECRET must be at least 32 characters long");return new TextEncoder().encode(e)},gu=class{secret;constructor(){this.secret=Vq(),y.info("JWT helper initialized")}async signToken(e,r){try{y.info("Signing JWT token",{staffId:e.staffId,email:e.email,roles:e.roles,correlationId:r});let o=Math.floor(Date.now()/1e3),n=o+24*60*60,s=await new bd({sub:e.staffId,email:e.email,roles:e.roles,iat:o,exp:n,iss:bw,aud:vw}).setProtectedHeader({alg:Rw}).sign(this.secret);return y.info("JWT token signed successfully",{staffId:e.staffId,expiresAt:new Date(n*1e3).toISOString(),correlationId:r}),s}catch(o){throw y.error("Failed to sign JWT token",{error:o instanceof Error?o.message:"Unknown error",staffId:e.staffId,correlationId:r}),o}}async verifyToken(e,r){try{y.info("Verifying JWT token",{correlationId:r});let{payload:o}=await RE(e,this.secret,{issuer:bw,audience:vw,algorithms:[Rw]});if(!o.sub||!o.email||!o.roles)throw new Error("Invalid JWT payload: missing required fields");if(!Array.isArray(o.roles))throw new Error("Invalid JWT payload: roles must be an array");let n={sub:o.sub,email:o.email,roles:o.roles,iat:o.iat,exp:o.exp,...o.iss&&{iss:o.iss},...typeof o.aud=="string"&&{aud:o.aud}};return y.info("JWT token verified successfully",{staffId:n.sub,email:n.email,roles:n.roles,expiresAt:new Date(n.exp*1e3).toISOString(),correlationId:r}),n}catch(o){throw y.error("Failed to verify JWT token",{error:o instanceof Error?o.message:"Unknown error",correlationId:r}),o}}static extractTokenFromHeader(e){if(!e)return null;let r=e.split(" ");return r.length!==2||r[0]!=="Bearer"?null:r[1]||null}static isTokenExpired(e){try{let r=e.split(".");if(r.length!==3)return!0;let o=JSON.parse(atob(r[1])),n=Math.floor(Date.now()/1e3);return o.exp&&o.exp<n}catch{return!0}}static getTokenExpiration(e){try{let r=e.split(".");if(r.length!==3)return null;let o=JSON.parse(atob(r[1]));return o.exp?new Date(o.exp*1e3):null}catch{return null}}},CE=null,xu={get instance(){return CE||(CE=new gu),CE},signToken:(t,e)=>xu.instance.signToken(t,e),verifyToken:(t,e)=>xu.instance.verifyToken(t,e)};function vn(t={}){let{required:e=!0}=t;return async(r,o,n)=>{try{let s=r.headers.authorization||r.headers.Authorization;if(!s)if(e){y.warn("Missing authorization header",{correlationId:r.correlationId,path:r.path,method:r.method}),H(o,"Unauthorized","Missing authorization header",r.correlationId);return}else{r.context={authenticated:!1},await n();return}let i=gu.extractTokenFromHeader(s);if(!i){y.warn("Invalid authorization header format",{correlationId:r.correlationId,path:r.path,method:r.method}),H(o,"Unauthorized","Invalid authorization header format",r.correlationId);return}if(gu.isTokenExpired(i)){y.warn("Token is expired",{correlationId:r.correlationId,path:r.path,method:r.method}),H(o,"Unauthorized","Token has expired",r.correlationId);return}let a=await xu.verifyToken(i,r.correlationId),c={staff_id:a.sub,email:a.email,roles:a.roles,stage:process.env.STAGE||"dev",authenticated:!0};r.context=c,y.info("Authentication successful",{staffId:c.staff_id,email:c.email,roles:c.roles,correlationId:r.correlationId,path:r.path,method:r.method}),await n()}catch(s){y.error("Authentication middleware error",{error:s instanceof Error?s.message:"Unknown error",correlationId:r.correlationId,path:r.path,method:r.method}),s instanceof Error?s.message.includes("expired")||s.message.includes("exp")?H(o,"Unauthorized","Token has expired",r.correlationId):s.message.includes("signature")||s.message.includes("invalid")?H(o,"Unauthorized","Invalid token signature",r.correlationId):H(o,"Unauthorized","Authentication failed",r.correlationId):H(o,"Unauthorized","Authentication failed",r.correlationId)}}}function IE(t){return async(e,r,o)=>{if(!e.context.authenticated){y.warn("Authorization failed: not authenticated",{correlationId:e.correlationId,path:e.path,method:e.method,requiredRoles:t}),H(r,"Unauthorized","Authentication required",e.correlationId);return}let n=e.context.roles||[];if(!t.some(i=>n.includes(i))){y.warn("Authorization failed: insufficient permissions",{correlationId:e.correlationId,path:e.path,method:e.method,userRoles:n,requiredRoles:t}),H(r,"Forbidden",`Insufficient permissions. Required roles: ${t.join(", ")}`,e.correlationId);return}y.info("Authorization successful",{correlationId:e.correlationId,path:e.path,method:e.method,userRoles:n,requiredRoles:t}),await o()}}var Ws=IE(["admin"]),TE=IE(["admin","manager"]);function zq(t={}){let{corsOrigins:e=["*"],enableLogging:r=!0,logLevel:o="info"}=t,n=new hd({corsOrigins:e,enableLogging:r,enableTracing:!0});return r&&n.use(hE({enableRequestLogging:!0,enableResponseLogging:!0,logLevel:o})),n.use(mE({origins:e,methods:["GET","POST","PUT","DELETE","OPTIONS"],headers:["Content-Type","Authorization","X-Correlation-ID"],credentials:!1})),n}function Cw(){let t=process.env.STAGE||"dev",e=t==="prod"?process.env.CORS_ORIGINS?.split(",")||["https://app.example.com"]:["*"];return zq({corsOrigins:e,enableLogging:!0,logLevel:t==="prod"?"info":"debug"})}var Kq=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\/(?:[0-9]|[1-2][0-9]|3[0-2])$/,Wq=[/^10\.(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){2}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\/(?:[8-9]|[12][0-9]|3[0-2])$/,/^172\.(?:1[6-9]|2[0-9]|3[01])\.(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){1}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\/(?:1[2-9]|2[0-9]|3[0-2])$/,/^192\.168\.(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){1}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\/(?:1[6-9]|2[0-9]|3[0-2])$/],yf=t=>Kq.test(t)?Wq.some(e=>e.test(t)):!1,qq=t=>t.split(".").reduce((e,r)=>(e<<8)+parseInt(r,10),0)>>>0,vd=t=>{let[e,r]=t.split("/"),o=4294967295<<32-parseInt(r,10)>>>0;return{network:qq(e)&o,mask:o}},Iw=(t,e)=>{try{let{network:r,mask:o}=vd(t),{network:n,mask:s}=vd(e);return(n&o)===r||(r&s)===n}catch(r){return y.error("Error checking CIDR overlap",{cidr1:t,cidr2:e,error:r instanceof Error?r.message:"Unknown error"}),!1}},wE=(t,e)=>{if(!yf(t))return{valid:!1,error:"CIDR must be a valid private IPv4 CIDR block (RFC 1918)"};let r=e.filter(o=>Iw(t,o));return r.length>0?{valid:!1,error:"CIDR overlaps with existing cluster networks",overlaps:r}:{valid:!0}};var AE=t=>{try{let[e,r]=t.split("/"),o=parseInt(r,10);if(o>24)throw new Error(`VPC CIDR prefix length (/${o}) must be /24 or larger to accommodate /24 subnets`);let n=e.split("."),s=`${n[0]}.${n[1]}`,i={public:[`${s}.1.0/24`,`${s}.2.0/24`,`${s}.3.0/24`],privateApp:[`${s}.11.0/24`,`${s}.12.0/24`,`${s}.13.0/24`],privateDB:[`${s}.21.0/24`,`${s}.22.0/24`,`${s}.23.0/24`]},a=[...i.public,...i.privateApp,...i.privateDB];for(let c of a){let u=vd(c).network,m=vd(t).network,f=vd(t).mask;if((u&f)!==m)throw new Error(`Generated subnet ${c} is not within VPC CIDR ${t}`)}return y.info("Calculated subnet CIDRs for cluster deployment",{vpcCidr:t,subnets:i}),i}catch(e){throw y.error("Error calculating subnet CIDRs",{vpcCidr:t,error:e instanceof Error?e.message:"Unknown error"}),e}};var Tw=["us-east-1","us-east-2","us-west-1","us-west-2","eu-west-1","eu-west-2","eu-west-3","eu-central-1","eu-north-1","eu-south-1","ap-southeast-1","ap-southeast-2","ap-northeast-1","ap-northeast-2","ap-northeast-3","ap-south-1","ap-east-1","ca-central-1","sa-east-1","af-south-1","me-south-1"],yu=S.object({staff_id:S.string().uuid(),email:S.string().email().toLowerCase(),password_hash:S.string().min(1),roles:S.array(S.enum(["admin","manager","staff"])).min(1),enabled:S.boolean(),created_at:S.string().datetime(),updated_at:S.string().datetime()}),Sf=S.object({token_hash:S.string().min(1),staff_id:S.string().uuid(),expires_at:S.number().int().positive(),created_at:S.string().datetime(),used_at:S.string().datetime().optional()}),Ef=S.object({tenant_id:S.string().uuid(),name:S.string().min(1).max(255),email:S.string().email().toLowerCase(),contact_info:S.object({phone:S.string().optional(),address:S.string().optional(),company:S.string().optional()}),status:S.enum(["pending","active","suspended"]),created_at:S.string().datetime(),updated_at:S.string().datetime()}),Cd=S.object({cluster_id:S.string().uuid(),name:S.string().min(1).max(255),type:S.enum(["dedicated","shared"]),environment:S.enum(["Production","Staging","Dev"]),region:S.enum(Tw),cidr:S.string().refine(yf,{message:"CIDR must be a valid private IPv4 CIDR block (RFC 1918)"}),status:S.enum(["created","deploying","deployed","failed"]),deployment_status:S.string().optional(),deployment_id:S.string().optional(),stack_outputs:S.record(S.any()).optional(),created_at:S.string().datetime(),updated_at:S.string().datetime(),deployed_at:S.string().datetime().optional()}),NNe=S.object({sub:S.string().uuid(),email:S.string().email(),roles:S.array(S.enum(["admin","manager","staff"])),iat:S.number().int().positive(),exp:S.number().int().positive(),iss:S.string().optional(),aud:S.string().optional()}),_f=S.object({email:S.string().email().toLowerCase(),password:S.string().min(8).max(128),roles:S.array(S.enum(["admin","manager","staff"])).min(1)}),$Ne=S.object({roles:S.array(S.enum(["admin","manager","staff"])).min(1).optional(),enabled:S.boolean().optional()}),Rf=S.object({name:S.string().min(1).max(255),email:S.string().email().toLowerCase(),contact_info:S.object({phone:S.string().optional(),address:S.string().optional(),company:S.string().optional()}).optional().default({})}),bf=S.object({name:S.string().min(1).max(255),type:S.enum(["dedicated","shared"]),environment:S.enum(["Production","Staging","Dev"]),region:S.enum(Tw),cidr:S.string().refine(yf,{message:"CIDR must be a valid private IPv4 CIDR block (RFC 1918)"})}),LNe=S.object({name:S.string().min(1).max(255).optional(),environment:S.enum(["Production","Staging","Dev"]).optional(),status:S.enum(["created","deploying","deployed","failed"]).optional(),deployment_status:S.string().optional(),deployment_id:S.string().optional(),stack_outputs:S.record(S.any()).optional(),deployed_at:S.string().datetime().optional()}),vf=S.object({email:S.string().email().toLowerCase(),password:S.string().min(1)}),Cf=S.object({email:S.string().email().toLowerCase()}),If=S.object({token:S.string().min(1),new_password:S.string().min(8).max(128)});Zt();var Tf="preferred",Jq=["disabled","preferred","required"];function Td(t){return Jq.includes(t)}var VA=t=>{let{accountIdEndpointMode:e}=t,r=ge(e??Tf);return Object.assign(t,{accountIdEndpointMode:async()=>{let o=await r();if(!Td(o))throw new Error(`Invalid value for accountIdEndpointMode: ${o}. Valid values are: "required", "preferred", "disabled".`);return o}})};var zA="Invalid AccountIdEndpointMode value",KA=t=>{throw new Error(t)},Qq="AWS_ACCOUNT_ID_ENDPOINT_MODE",Yq="account_id_endpoint_mode",WA={environmentVariableSelector:t=>{let e=t[Qq];return e&&!Td(e)&&KA(zA),e},configFileSelector:t=>{let e=t[Yq];return e&&!Td(e)&&KA(zA),e},default:Tf};var qA=["AWS_ENABLE_ENDPOINT_DISCOVERY","AWS_ENDPOINT_DISCOVERY_ENABLED"],DE="endpoint_discovery_enabled",JA=t=>["false","0"].indexOf(t)>=0,QA={environmentVariableSelector:t=>{for(let e=0;e<qA.length;e++){let r=qA[e];if(r in t){let o=t[r];if(o==="")throw Error(`Environment variable ${r} can't be empty of undefined, got "${o}"`);return!JA(o)}}},configFileSelector:t=>{if(DE in t){let e=t[DE];if(e===void 0)throw Error(`Shared config entry ${DE} can't be undefined, got "${e}"`);return!JA(e)}},default:void 0};var xD=WK(gD()),wf=class{cache;constructor(e){this.cache=new xD.default(e)}getEndpoint(e){let r=this.get(e);if(!r||r.length===0)return;let o=r.map(n=>n.Address);return o[Math.floor(Math.random()*o.length)]}get(e){if(!this.has(e))return;let r=this.cache.get(e);if(!r)return;let o=Date.now(),n=r.filter(s=>o<s.Expires);if(n.length===0){this.delete(e);return}return n}set(e,r){let o=Date.now();this.cache.set(e,r.map(({Address:n,CachePeriodInMinutes:s})=>({Address:n,Expires:o+s*60*1e3})))}delete(e){this.cache.set(e,[])}has(e){if(!this.cache.has(e))return!1;let r=this.cache.peek(e);return r?r.length>0:!1}clear(){this.cache.clear()}};var yD=(t,{endpointDiscoveryCommandCtor:e})=>{let{endpointCacheSize:r,endpointDiscoveryEnabled:o,endpointDiscoveryEnabledProvider:n}=t;return Object.assign(t,{endpointDiscoveryCommandCtor:e,endpointCache:new wf(r??1e3),endpointDiscoveryEnabled:o!==void 0?()=>Promise.resolve(o):n,isClientEndpointDiscoveryEnabled:o!==void 0})};Js();Qs();Ys();Ts();rr();At();Ce();oi();xe();Rr();U();Qe();Zt();var GL=async(t,e,r)=>({operation:nt(e).operation,region:await ge(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function aX(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"dynamodb",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}var HL=t=>{let e=[];switch(t.operation){default:e.push(aX(t))}return e},jL=t=>{let e=Gr(t);return Object.assign(e,{authSchemePreference:ge(t.authSchemePreference??[])})};xe();U();var VL=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"dynamodb"}),un={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},AccountId:{type:"builtInParams",name:"accountId"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"},AccountIdEndpointMode:{type:"builtInParams",name:"accountIdEndpointMode"}};Ce();U();var Re=class t extends mr{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}};var jh=class t extends Re{name="BackupInUseException";$fault="client";constructor(e){super({name:"BackupInUseException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Vh=class t extends Re{name="BackupNotFoundException";$fault="client";constructor(e){super({name:"BackupNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},zh=class t extends Re{name="InternalServerError";$fault="server";constructor(e){super({name:"InternalServerError",$fault:"server",...e}),Object.setPrototypeOf(this,t.prototype)}},Kh=class t extends Re{name="RequestLimitExceeded";$fault="client";ThrottlingReasons;constructor(e){super({name:"RequestLimitExceeded",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.ThrottlingReasons=e.ThrottlingReasons}},Wh=class t extends Re{name="ThrottlingException";$fault="client";throttlingReasons;constructor(e){super({name:"ThrottlingException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.throttlingReasons=e.throttlingReasons}},qh=class t extends Re{name="InvalidEndpointException";$fault="client";Message;constructor(e){super({name:"InvalidEndpointException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},Jh=class t extends Re{name="ProvisionedThroughputExceededException";$fault="client";ThrottlingReasons;constructor(e){super({name:"ProvisionedThroughputExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.ThrottlingReasons=e.ThrottlingReasons}},Qh=class t extends Re{name="ResourceNotFoundException";$fault="client";constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Yh=class t extends Re{name="ItemCollectionSizeLimitExceededException";$fault="client";constructor(e){super({name:"ItemCollectionSizeLimitExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Xh=class t extends Re{name="ReplicatedWriteConflictException";$fault="client";$retryable={};constructor(e){super({name:"ReplicatedWriteConflictException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Zh=class t extends Re{name="ContinuousBackupsUnavailableException";$fault="client";constructor(e){super({name:"ContinuousBackupsUnavailableException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},eg=class t extends Re{name="LimitExceededException";$fault="client";constructor(e){super({name:"LimitExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},tg=class t extends Re{name="TableInUseException";$fault="client";constructor(e){super({name:"TableInUseException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},rg=class t extends Re{name="TableNotFoundException";$fault="client";constructor(e){super({name:"TableNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},og=class t extends Re{name="GlobalTableAlreadyExistsException";$fault="client";constructor(e){super({name:"GlobalTableAlreadyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},ng=class t extends Re{name="ResourceInUseException";$fault="client";constructor(e){super({name:"ResourceInUseException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},sg=class t extends Re{name="TransactionConflictException";$fault="client";constructor(e){super({name:"TransactionConflictException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},ig=class t extends Re{name="PolicyNotFoundException";$fault="client";constructor(e){super({name:"PolicyNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},ag=class t extends Re{name="ExportNotFoundException";$fault="client";constructor(e){super({name:"ExportNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},cg=class t extends Re{name="GlobalTableNotFoundException";$fault="client";constructor(e){super({name:"GlobalTableNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},ug=class t extends Re{name="ImportNotFoundException";$fault="client";constructor(e){super({name:"ImportNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},pg=class t extends Re{name="DuplicateItemException";$fault="client";constructor(e){super({name:"DuplicateItemException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},dg=class t extends Re{name="IdempotentParameterMismatchException";$fault="client";Message;constructor(e){super({name:"IdempotentParameterMismatchException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},lg=class t extends Re{name="TransactionInProgressException";$fault="client";Message;constructor(e){super({name:"TransactionInProgressException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},mg=class t extends Re{name="ExportConflictException";$fault="client";constructor(e){super({name:"ExportConflictException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},fg=class t extends Re{name="InvalidExportTimeException";$fault="client";constructor(e){super({name:"InvalidExportTimeException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},hg=class t extends Re{name="PointInTimeRecoveryUnavailableException";$fault="client";constructor(e){super({name:"PointInTimeRecoveryUnavailableException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},gg=class t extends Re{name="ImportConflictException";$fault="client";constructor(e){super({name:"ImportConflictException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},xg=class t extends Re{name="TableAlreadyExistsException";$fault="client";constructor(e){super({name:"TableAlreadyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},yg=class t extends Re{name="InvalidRestoreTimeException";$fault="client";constructor(e){super({name:"InvalidRestoreTimeException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Sg=class t extends Re{name="ReplicaAlreadyExistsException";$fault="client";constructor(e){super({name:"ReplicaAlreadyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Eg=class t extends Re{name="ReplicaNotFoundException";$fault="client";constructor(e){super({name:"ReplicaNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},_g=class t extends Re{name="IndexNotFoundException";$fault="client";constructor(e){super({name:"IndexNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Rg=class t extends Re{name="ConditionalCheckFailedException";$fault="client";Item;constructor(e){super({name:"ConditionalCheckFailedException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Item=e.Item}},bg=class t extends Re{name="TransactionCanceledException";$fault="client";Message;CancellationReasons;constructor(e){super({name:"TransactionCanceledException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message,this.CancellationReasons=e.CancellationReasons}};var cX="Action";var uX="AttributeMap";var FR="AttributesToGet",KL="AttributeUpdates",pX="AttributeValue",GR="AttributeValueList",dX="AttributeValueUpdate",lX="Address",HR="Attributes";var mX="BackupInUseException";var fX="BackupNotFoundException",hX="BOOL";var gX="BS";var xX="B",yX="Code";var SX="ContinuousBackupsUnavailableException",Ic="ConsumedCapacity",EX="ConditionalCheckFailedException";var jR="ConditionExpression";var WL="ComparisonOperator",Zd="ConditionalOperator";var _X="CachePeriodInMinutes",VR="ConsistentRead";var RX="CancellationReasonList",bX="ConfirmRemoveSelfResourceAccess";var vX="CancellationReason",CX="CancellationReasons";var qL="CapacityUnits";var IX="Capacity",TX="Condition",JL="Count";var wX="DescribeEndpoints";var AX="DescribeEndpointsRequest",DX="DescribeEndpointsResponse";var PX="DeleteItem",OX="DuplicateItemException",kX="DeleteItemInput";var NX="DeleteItemOutput";var $X="ExpectedAttributeMap",qu="ExpressionAttributeNames",el="ExpressionAttributeValues",LX="ExpressionAttributeValueMap",MX="ExpectedAttributeValue";var BX="ExportConflictException";var UX="ExportNotFoundException";var FX="ExpectedRevisionId";var QL="ExclusiveStartKey";var YL="Endpoints";var GX="Endpoint",zR="Expected",HX="Exists";var jX="FilterConditionMap";var XL="FilterExpression";var VX="GetItem",zX="GetItemInput",KX="GetItemOutput";var WX="GlobalSecondaryIndexes";var qX="GlobalTableAlreadyExistsException";var JX="GlobalTableNotFoundException";var vg="Item";var QX="ImportConflictException",YX="ItemCollectionKey",XX="ItemCollectionKeyAttributeMap",Cg="ItemCollectionMetrics";var ZX="ItemCollectionSizeLimitExceededException";var eZ="InvalidEndpointException";var tZ="InvalidExportTimeException";var rZ="ItemList",ZL="IndexName",oZ="ImportNotFoundException",nZ="IndexNotFoundException",sZ="IdempotentParameterMismatchException";var iZ="InvalidRestoreTimeException";var aZ="InternalServerError";var e2="Items",Ig="Key";var t2="KeyConditions",cZ="KeyConditionExpression";var r2="Limit",uZ="ListAttributeValue";var pZ="LimitExceededException";var o2="LastEvaluatedKey";var dZ="LocalSecondaryIndexes";var lZ="L",tl="Message",mZ="MapAttributeValue";var fZ="M",hZ="N";var gZ="NS";var xZ="NULL";var KR="ProjectionExpression",yZ="PutItem";var SZ="PutItemInput",EZ="PutItemInputAttributeMap",_Z="PutItemOutput";var RZ="PointInTimeRecoveryUnavailableException";var bZ="PolicyNotFoundException";var vZ="PutResourcePolicyInput";var CZ="ProvisionedThroughputExceededException";var IZ="Policy";var TZ="Query",wZ="QueryFilter",AZ="QueryInput",DZ="QueryOutput";var PZ="ResourceArn",OZ="ReplicaAlreadyExistsException";var Ju="ReturnConsumedCapacity",n2="ReadCapacityUnits";var WR="ReturnItemCollectionMetrics";var kZ="ResourceInUseException";var NZ="RequestLimitExceeded";var $Z="ReplicaNotFoundException",LZ="ResourceNotFoundException";var qR="ReturnValues",JR="ReturnValuesOnConditionCheckFailure",MZ="ReplicatedWriteConflictException";var s2="ScannedCount";var BZ="SizeEstimateRangeGB",UZ="ScanFilter",FZ="ScanInput";var GZ="SecondaryIndexesCapacityMap",HZ="ScanIndexForward";var jZ="ScanOutput";var VZ="SS";var zZ="S",KZ="Scan",i2="Select",WZ="Segment";var qZ="Table";var JZ="TableAlreadyExistsException";var QZ="TransactionCanceledException",YZ="TransactionConflictException";var XZ="ThrottlingException";var ZZ="TransactionInProgressException",eee="TableInUseException";var Tc="TableName",tee="TableNotFoundException";var a2="ThrottlingReasons";var ree="ThrottlingReasonList";var oee="ThrottlingReason";var nee="TotalSegments";var see="UpdateExpression";var iee="UpdateItemInput",aee="UpdateItemOutput",cee="UpdateItem";var c2="Value",u2="WriteCapacityUnits";var uee="awsQueryError",Ge="client",Le="error",p2="httpError",pee="httpHeader",at="message",dee="reason",lee="resource",mee="server",d2="smithy.ts.sdk.synthetic.com.amazonaws.dynamodb",fee="throttlingReasons",hee="x-amz-confirm-remove-self-resource-access",D="com.amazonaws.dynamodb";var gee=[3,D,dX,0,[c2,cX],[()=>si,0]];var xee=[-3,D,mX,{[Le]:Ge},[at],[0]];b.for(D).registerError(xee,jh);var yee=[-3,D,fX,{[Le]:Ge},[at],[0]];b.for(D).registerError(yee,Vh);var See=[3,D,vX,0,[vg,yX,tl],[()=>wc,0,0]],l2=[3,D,IX,0,[n2,u2,qL],[1,1,1]],m2=[3,D,TX,0,[GR,WL],[()=>f2,0]],Eee=[-3,D,EX,{[Le]:Ge},[at,vg],[0,()=>wc]];b.for(D).registerError(Eee,Rg);var Qu=[3,D,Ic,0,[Tc,qL,n2,u2,qZ,dZ,WX],[0,1,1,1,()=>l2,()=>zL,()=>zL]];var _ee=[-3,D,SX,{[Le]:Ge},[at],[0]];b.for(D).registerError(_ee,Zh);var Ree=[3,D,kX,0,[Tc,Ig,zR,Zd,qR,Ju,WR,jR,qu,el,JR],[0,()=>Ac,()=>XR,0,0,0,0,0,128,()=>rl,0]],bee=[3,D,NX,0,[HR,Ic,Cg],[()=>wc,()=>Qu,()=>QR]];var vee=[3,D,AX,0,[],[]],Cee=[3,D,DX,0,[YL],[()=>yte]];var Iee=[-3,D,OX,{[Le]:Ge},[at],[0]];b.for(D).registerError(Iee,pg);var Tee=[3,D,GX,0,[lX,_X],[0,1]];var wee=[3,D,MX,0,[c2,HX,WL,GR],[()=>si,2,0,()=>f2]],Aee=[-3,D,BX,{[Le]:Ge},[at],[0]];b.for(D).registerError(Aee,mg);var Dee=[-3,D,UX,{[Le]:Ge},[at],[0]];b.for(D).registerError(Dee,ag);var Pee=[3,D,zX,0,[Tc,Ig,FR,VR,Ju,KR,qu],[0,()=>Ac,64,2,0,0,128]],Oee=[3,D,KX,0,[vg,Ic],[()=>wc,()=>Qu]];var kee=[-3,D,qX,{[Le]:Ge},[at],[0]];b.for(D).registerError(kee,og);var Nee=[-3,D,JX,{[Le]:Ge},[at],[0]];b.for(D).registerError(Nee,cg);var $ee=[-3,D,sZ,{[Le]:Ge},[tl],[0]];b.for(D).registerError($ee,dg);var Lee=[-3,D,QX,{[Le]:Ge},[at],[0]];b.for(D).registerError(Lee,gg);var Mee=[-3,D,oZ,{[Le]:Ge},[at],[0]];b.for(D).registerError(Mee,ug);var Bee=[-3,D,nZ,{[Le]:Ge},[at],[0]];b.for(D).registerError(Bee,_g);var Uee=[-3,D,aZ,{[Le]:mee},[at],[0]];b.for(D).registerError(Uee,zh);var Fee=[-3,D,eZ,{[Le]:Ge,[p2]:421},[tl],[0]];b.for(D).registerError(Fee,qh);var Gee=[-3,D,tZ,{[Le]:Ge},[at],[0]];b.for(D).registerError(Gee,fg);var Hee=[-3,D,iZ,{[Le]:Ge},[at],[0]];b.for(D).registerError(Hee,yg);var QR=[3,D,Cg,0,[YX,BZ],[()=>_te,65]],jee=[-3,D,ZX,{[Le]:Ge},[at],[0]];b.for(D).registerError(jee,Yh);var Vee=[-3,D,pZ,{[Le]:Ge},[at],[0]];b.for(D).registerError(Vee,eg);var zee=[-3,D,RZ,{[Le]:Ge},[at],[0]];b.for(D).registerError(zee,hg);var Kee=[-3,D,bZ,{[Le]:Ge},[at],[0]];b.for(D).registerError(Kee,ig);var Wee=[-3,D,CZ,{[Le]:Ge},[at,a2],[0,()=>YR]];b.for(D).registerError(Wee,Jh);var qee=[3,D,SZ,0,[Tc,vg,zR,qR,Ju,WR,Zd,jR,qu,el,JR],[0,()=>vte,()=>XR,0,0,0,0,0,128,()=>rl,0]],Jee=[3,D,_Z,0,[HR,Ic,Cg],[()=>wc,()=>Qu,()=>QR]];var dWe=[3,D,vZ,0,[PZ,IZ,FX,bX],[0,0,0,[2,{[pee]:hee}]]];var Qee=[3,D,AZ,0,[Tc,ZL,i2,FR,r2,VR,t2,wZ,Zd,HZ,QL,Ju,KR,XL,cZ,qu,el],[0,0,0,64,1,2,()=>Rte,()=>g2,0,2,()=>Ac,0,0,0,0,128,()=>rl]],Yee=[3,D,DZ,0,[e2,JL,s2,o2,Ic],[()=>h2,1,1,()=>Ac,()=>Qu]];var Xee=[-3,D,OZ,{[Le]:Ge},[at],[0]];b.for(D).registerError(Xee,Sg);var Zee=[-3,D,$Z,{[Le]:Ge},[at],[0]];b.for(D).registerError(Zee,Eg);var ete=[-3,D,MZ,{[Le]:Ge},[at],[0]];b.for(D).registerError(ete,Xh);var tte=[-3,D,NZ,{[Le]:Ge},[at,a2],[0,()=>YR]];b.for(D).registerError(tte,Kh);var rte=[-3,D,kZ,{[Le]:Ge},[at],[0]];b.for(D).registerError(rte,ng);var ote=[-3,D,LZ,{[Le]:Ge},[at],[0]];b.for(D).registerError(ote,Qh);var nte=[3,D,FZ,0,[Tc,ZL,FR,r2,i2,UZ,Zd,QL,Ju,nee,WZ,KR,XL,qu,el,VR],[0,0,64,1,0,()=>g2,0,()=>Ac,0,1,1,0,0,128,()=>rl,2]],ste=[3,D,jZ,0,[e2,JL,s2,o2,Ic],[()=>h2,1,1,()=>Ac,()=>Qu]];var ite=[-3,D,JZ,{[Le]:Ge},[at],[0]];b.for(D).registerError(ite,xg);var ate=[-3,D,eee,{[Le]:Ge},[at],[0]];b.for(D).registerError(ate,tg);var cte=[-3,D,tee,{[Le]:Ge},[at],[0]];b.for(D).registerError(cte,rg);var ute=[-3,D,XZ,{[uee]:["Throttling",400],[Le]:Ge,[p2]:400},[at,fee],[0,()=>YR]];b.for(D).registerError(ute,Wh);var pte=[3,D,oee,0,[dee,lee],[0,0]];var dte=[-3,D,QZ,{[Le]:Ge},[tl,CX],[0,()=>xte]];b.for(D).registerError(dte,bg);var lte=[-3,D,YZ,{[Le]:Ge},[at],[0]];b.for(D).registerError(lte,sg);var mte=[-3,D,ZZ,{[Le]:Ge},[tl],[0]];b.for(D).registerError(mte,lg);var fte=[3,D,iee,0,[Tc,Ig,KL,zR,Zd,qR,Ju,WR,see,jR,qu,el,JR],[0,()=>Ac,()=>Ete,()=>XR,0,0,0,0,0,0,128,()=>rl,0]],hte=[3,D,aee,0,[HR,Ic,Cg],[()=>wc,()=>Qu,()=>QR]];var gte=[-3,d2,"DynamoDBServiceException",0,[],[]];b.for(d2).registerError(gte,Re);var f2=[1,D,GR,0,()=>si];var xte=[1,D,RX,0,()=>See];var yte=[1,D,YL,0,()=>Tee];var h2=[1,D,rZ,0,()=>wc];var Ste=[1,D,uZ,0,()=>si];var YR=[1,D,ree,0,()=>pte];var wc=[2,D,uX,0,0,()=>si],Ete=[2,D,KL,0,0,()=>gee];var XR=[2,D,$X,0,0,()=>wee];var rl=[2,D,LX,0,0,()=>si],g2=[2,D,jX,0,0,()=>m2],_te=[2,D,XX,0,0,()=>si];var Ac=[2,D,Ig,0,0,()=>si],Rte=[2,D,t2,0,0,()=>m2],bte=[2,D,mZ,0,0,()=>si],vte=[2,D,EZ,0,0,()=>si],zL=[2,D,GZ,0,0,()=>l2],si=[4,D,pX,0,[zZ,hZ,xX,VZ,gZ,gX,fZ,lZ,xZ,hX],[0,0,21,64,64,85,()=>bte,()=>Ste,2,2]];var x2=[9,D,PX,0,()=>Ree,()=>bee];var y2=[9,D,wX,0,()=>vee,()=>Cee];var S2=[9,D,VX,0,()=>Pee,()=>Oee];var E2=[9,D,yZ,0,()=>qee,()=>Jee];var _2=[9,D,TZ,0,()=>Qee,()=>Yee];var R2=[9,D,KZ,0,()=>nte,()=>ste];var b2=[9,D,cee,0,()=>fte,()=>hte];var Tg=class extends Y.classBuilder().ep(un).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeEndpoints",{}).n("DynamoDBClient","DescribeEndpointsCommand").sc(y2).build(){};var v2={name:"@aws-sdk/client-dynamodb",description:"AWS SDK for JavaScript Dynamodb Client for Node.js, Browser and React Native",version:"3.958.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-dynamodb","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo dynamodb","test:e2e":"yarn g:vitest run -c vitest.config.e2e.mts","test:e2e:watch":"yarn g:vitest watch -c vitest.config.e2e.mts","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.957.0","@aws-sdk/credential-provider-node":"3.958.0","@aws-sdk/dynamodb-codec":"3.957.0","@aws-sdk/middleware-endpoint-discovery":"3.957.0","@aws-sdk/middleware-host-header":"3.957.0","@aws-sdk/middleware-logger":"3.957.0","@aws-sdk/middleware-recursion-detection":"3.957.0","@aws-sdk/middleware-user-agent":"3.957.0","@aws-sdk/region-config-resolver":"3.957.0","@aws-sdk/types":"3.957.0","@aws-sdk/util-endpoints":"3.957.0","@aws-sdk/util-user-agent-browser":"3.957.0","@aws-sdk/util-user-agent-node":"3.957.0","@smithy/config-resolver":"^4.4.5","@smithy/core":"^3.20.0","@smithy/fetch-http-handler":"^5.3.8","@smithy/hash-node":"^4.2.7","@smithy/invalid-dependency":"^4.2.7","@smithy/middleware-content-length":"^4.2.7","@smithy/middleware-endpoint":"^4.4.1","@smithy/middleware-retry":"^4.4.17","@smithy/middleware-serde":"^4.2.8","@smithy/middleware-stack":"^4.2.7","@smithy/node-config-provider":"^4.3.7","@smithy/node-http-handler":"^4.4.7","@smithy/protocol-http":"^5.3.7","@smithy/smithy-client":"^4.10.2","@smithy/types":"^4.11.0","@smithy/url-parser":"^4.2.7","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.16","@smithy/util-defaults-mode-node":"^4.2.19","@smithy/util-endpoints":"^3.2.7","@smithy/util-middleware":"^4.2.7","@smithy/util-retry":"^4.2.7","@smithy/util-utf8":"^4.2.0","@smithy/util-waiter":"^4.2.7",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-dynamodb",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-dynamodb"}};Qe();eb();ct();jo();ct();var eM="AWS_EC2_METADATA_DISABLED",tM=async t=>{let{ENV_CMDS_FULL_URI:e,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:o,fromInstanceMetadata:n}=await Promise.resolve().then(()=>(il(),sl));if(process.env[r]||process.env[e]){t.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:s}=await Promise.resolve().then(()=>(pb(),ub));return Mu(s(t),o(t))}return process.env[eM]&&process.env[eM]!=="false"?async()=>{throw new Q("EC2 Instance Metadata Service access disabled",{logger:t.logger})}:(t.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),n(t))};function rM(t,e){let r=ore(t),o,n,s,i=async a=>{if(a?.forceRefresh)return await r(a);if(s?.expiration&&s?.expiration?.getTime()<Date.now()&&(s=void 0),o)await o;else if(!s||e?.(s))if(s)n||(n=r(a).then(c=>{s=c,n=void 0}));else return o=r(a).then(c=>{s=c,o=void 0}),i(a);return s};return i}var ore=t=>async e=>{let r;for(let o of t)try{return await o(e)}catch(n){if(r=n,n?.tryNextLink)continue;throw n}throw r};var G6=!1,ks=(t={})=>rM([async()=>{if(t.profile??process.env[IR])throw process.env[wg]&&process.env[Ag]&&(G6||((t.logger?.warn&&t.logger?.constructor?.name!=="NoOpLogger"?t.logger.warn.bind(t.logger):console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),G6=!0)),new Q("AWS_PROFILE is set, skipping fromEnv provider.",{logger:t.logger,tryNextLink:!0});return t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),ZR(t)()},async e=>{t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:r,ssoAccountId:o,ssoRegion:n,ssoRoleName:s,ssoSession:i}=t;if(!r&&!o&&!n&&!s&&!i)throw new Q("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:t.logger});let{fromSSO:a}=await Promise.resolve().then(()=>(Ub(),Bb));return a(t)(e)},async e=>{t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:r}=await Promise.resolve().then(()=>(F6(),U6));return r(t)(e)},async e=>{t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:r}=await Promise.resolve().then(()=>(hv(),fv));return r(t)(e)},async e=>{t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:r}=await Promise.resolve().then(()=>(_v(),Ev));return r(t)(e)},async()=>(t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await tM(t))()),async()=>{throw new Q("Could not load credentials from any providers",{tryNextLink:!1,logger:t.logger})}],nie);var nie=t=>t?.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5;ii();rr();ai();Rr();Vo();Vn();U();ci();ui();Zn();Qe();Yn();Yn();Ce();U();Kt();var R0=class extends Ra{constructor(){super({timestampFormat:{useTrait:!0,default:7},jsonName:!1})}createSerializer(){let e=new bv(this.settings);return e.setSerdeContext(this.serdeContext),e}createDeserializer(){let e=new vv(this.settings);return e.setSerdeContext(this.serdeContext),e}},H6="com.amazonaws.dynamodb#AttributeValue",bv=class extends Hu{_write(e,r,o){let n=se.of(e);if(n.isStructSchema()&&n.getName(!0)===H6&&r&&typeof r=="object"){let s=r,i=Ud(s),a=this.serdeContext?.base64Encoder??we;if(s.B instanceof Uint8Array&&(i.B=a(s.B)),Array.isArray(s.BS)&&(i.BS=s.BS.map(a)),Array.isArray(s.L)&&(i.L=s.L.filter(c=>c!=null).map(c=>this._write(n,c,o))),s.M&&typeof s.M=="object"){i.M={};for(let[c,u]of Object.entries(s.M))u!=null&&(i.M[c]=this._write(n,u,o))}return i}return super._write(n,r,o)}},vv=class extends Gu{_read(e,r){let o=se.of(e);if(o.isStructSchema()&&o.getName(!0)===H6&&r&&typeof r=="object"){let n=r,s=Ud(n),i=this.serdeContext?.base64Decoder??st;if(typeof n.B=="string"&&(s.B=i(n.B)),Array.isArray(n.BS)&&(s.BS=n.BS.map(i)),Array.isArray(n.L)&&(s.L=n.L.map(a=>this._read(o,a))),n.M&&typeof n.M=="object"){s.M={};for(let[a,c]of Object.entries(n.M))s.M[a]=this._read(o,c)}return s}return super._read(o,r)}};U();Jn();Kt();wt();Is();nn();var Tv="required",ue="type",or="rules",lt="conditions",oe="fn",ne="argv",ke="ref",b0="assign",fi="url",hi="properties",gi="headers",p9="metricValues";var nr="error",$o="stringEquals",j6="https://dynamodb.{Region}.{PartitionResult#dualStackDnsSuffix}",dn="endpoint",gr="tree",wv="dynamodb",Bl={[Tv]:!1,[ue]:"string"},V6={[Tv]:!0,default:!1,[ue]:"boolean"},z6={[oe]:"isSet",[ne]:[{[ke]:"Endpoint"}]},sie={[ke]:"Endpoint"},K6={[oe]:"isSet",[ne]:[{[ke]:"Region"}]},d9={[ke]:"Region"},W6={[oe]:"aws.partition",[ne]:[d9],[b0]:"PartitionResult"},q6={[lt]:[{[oe]:"booleanEquals",[ne]:[{[ke]:"UseFIPS"},!0]}],[nr]:"Invalid Configuration: FIPS and custom endpoint are not supported",[ue]:nr},lp={[oe]:"booleanEquals",[ne]:[{[ke]:"UseFIPS"},!0]},J6={[lt]:[{[oe]:"booleanEquals",[ne]:[{[ke]:"UseDualStack"},!0]}],[nr]:"Invalid Configuration: Dualstack and custom endpoint are not supported",[ue]:nr},l9={[oe]:"booleanEquals",[ne]:[{[ke]:"UseDualStack"},!0]},Q6={[dn]:{[fi]:"{Endpoint}",[hi]:{},[gi]:{}},[ue]:dn},Yi={},Y6={[oe]:"booleanEquals",[ne]:[{[oe]:"getAttr",[ne]:[{[ke]:"PartitionResult"},"supportsFIPS"]},!0]},X6={[oe]:"booleanEquals",[ne]:[{[oe]:"getAttr",[ne]:[{[ke]:"PartitionResult"},"supportsDualStack"]},!0]},Cv={[lt]:[{[oe]:"isSet",[ne]:[{[ke]:"AccountIdEndpointMode"}]},{[oe]:$o,[ne]:[{[ke]:"AccountIdEndpointMode"},"required"]}],[or]:[{[nr]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[ue]:nr}],[ue]:gr},Ul={[oe]:"getAttr",[ne]:[{[ke]:"PartitionResult"},"name"]},Z6={[dn]:{[fi]:"https://dynamodb.{Region}.{PartitionResult#dnsSuffix}",[hi]:{},[gi]:{}},[ue]:dn},e9={[fi]:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dualStackDnsSuffix}",[hi]:{[p9]:["O"]},[gi]:{}},Iv={[p9]:["O"]},t9={[nr]:"Credentials-sourced account ID parameter is invalid",[ue]:nr},r9={[lt]:[{[oe]:"isSet",[ne]:[{[ke]:"AccountIdEndpointMode"}]},{[oe]:$o,[ne]:[{[ke]:"AccountIdEndpointMode"},"required"]}],[or]:[{[lt]:[{[oe]:"not",[ne]:[lp]}],[or]:[{[lt]:[{[oe]:$o,[ne]:[Ul,"aws"]}],[or]:[{[nr]:"AccountIdEndpointMode is required but no AccountID was provided or able to be loaded",[ue]:nr}],[ue]:gr},{[nr]:"Invalid Configuration: AccountIdEndpointMode is required but account endpoints are not supported in this partition",[ue]:nr}],[ue]:gr},{[nr]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[ue]:nr}],[ue]:gr},o9={[fi]:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[hi]:Iv,[gi]:{}},n9=[lp],s9=[l9],i9=[{[oe]:"isSet",[ne]:[{[ke]:"AccountIdEndpointMode"}]},{[oe]:"not",[ne]:[{[oe]:$o,[ne]:[{[ke]:"AccountIdEndpointMode"},"disabled"]}]},{[oe]:$o,[ne]:[Ul,"aws"]},{[oe]:"not",[ne]:[lp]},{[oe]:"isSet",[ne]:[{[ke]:"ResourceArn"}]},{[oe]:"aws.parseArn",[ne]:[{[ke]:"ResourceArn"}],[b0]:"ParsedArn"},{[oe]:$o,[ne]:[{[oe]:"getAttr",[ne]:[{[ke]:"ParsedArn"},"service"]},wv]},{[oe]:"isValidHostLabel",[ne]:[{[oe]:"getAttr",[ne]:[{[ke]:"ParsedArn"},"region"]},!1]},{[oe]:$o,[ne]:[{[oe]:"getAttr",[ne]:[{[ke]:"ParsedArn"},"region"]},"{Region}"]},{[oe]:"isValidHostLabel",[ne]:[{[oe]:"getAttr",[ne]:[{[ke]:"ParsedArn"},"accountId"]},!1]}],a9=[{[oe]:"isSet",[ne]:[{[ke]:"AccountIdEndpointMode"}]},{[oe]:"not",[ne]:[{[oe]:$o,[ne]:[{[ke]:"AccountIdEndpointMode"},"disabled"]}]},{[oe]:$o,[ne]:[Ul,"aws"]},{[oe]:"not",[ne]:[lp]},{[oe]:"isSet",[ne]:[{[ke]:"ResourceArnList"}]},{[oe]:"getAttr",[ne]:[{[ke]:"ResourceArnList"},"[0]"],[b0]:"FirstArn"},{[oe]:"aws.parseArn",[ne]:[{[ke]:"FirstArn"}],[b0]:"ParsedArn"},{[oe]:$o,[ne]:[{[oe]:"getAttr",[ne]:[{[ke]:"ParsedArn"},"service"]},wv]},{[oe]:"isValidHostLabel",[ne]:[{[oe]:"getAttr",[ne]:[{[ke]:"ParsedArn"},"region"]},!1]},{[oe]:$o,[ne]:[{[oe]:"getAttr",[ne]:[{[ke]:"ParsedArn"},"region"]},"{Region}"]},{[oe]:"isValidHostLabel",[ne]:[{[oe]:"getAttr",[ne]:[{[ke]:"ParsedArn"},"accountId"]},!1]}],c9=[{[oe]:"isSet",[ne]:[{[ke]:"AccountIdEndpointMode"}]},{[oe]:"not",[ne]:[{[oe]:$o,[ne]:[{[ke]:"AccountIdEndpointMode"},"disabled"]}]},{[oe]:$o,[ne]:[Ul,"aws"]},{[oe]:"not",[ne]:[lp]},{[oe]:"isSet",[ne]:[{[ke]:"AccountId"}]}],u9=[{[oe]:"isValidHostLabel",[ne]:[{[ke]:"AccountId"},!1]}],iie={version:"1.0",parameters:{Region:Bl,UseDualStack:V6,UseFIPS:V6,Endpoint:Bl,AccountId:Bl,AccountIdEndpointMode:Bl,ResourceArn:Bl,ResourceArnList:{[Tv]:!1,[ue]:"stringArray"}},[or]:[{[lt]:[z6,K6,W6],[or]:[q6,J6,{[lt]:[{[oe]:$o,[ne]:[sie,j6]}],error:"Endpoint override is not supported for dual-stack endpoints. Please enable dual-stack functionality by enabling the configuration. For more details, see: https://docs.aws.amazon.com/sdkref/latest/guide/feature-endpoints.html",[ue]:nr},Q6],[ue]:gr},{[lt]:[z6],[or]:[q6,J6,Q6],[ue]:gr},{[lt]:[K6],[or]:[{[lt]:[W6],[or]:[{[lt]:[{[oe]:$o,[ne]:[d9,"local"]}],[or]:[{[lt]:n9,error:"Invalid Configuration: FIPS and local endpoint are not supported",[ue]:nr},{[lt]:s9,error:"Invalid Configuration: Dualstack and local endpoint are not supported",[ue]:nr},{endpoint:{[fi]:"http://localhost:8000",[hi]:{authSchemes:[{name:"sigv4",signingName:wv,signingRegion:"us-east-1"}]},[gi]:Yi},[ue]:dn}],[ue]:gr},{[lt]:[lp,l9],[or]:[{[lt]:[Y6,X6],[or]:[Cv,{endpoint:{[fi]:"https://dynamodb-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[hi]:Yi,[gi]:Yi},[ue]:dn}],[ue]:gr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[ue]:nr}],[ue]:gr},{[lt]:n9,[or]:[{[lt]:[Y6],[or]:[{[lt]:[{[oe]:$o,[ne]:[Ul,"aws-us-gov"]}],[or]:[Cv,Z6],[ue]:gr},Cv,{endpoint:{[fi]:"https://dynamodb-fips.{Region}.{PartitionResult#dnsSuffix}",[hi]:Yi,[gi]:Yi},[ue]:dn}],[ue]:gr},{error:"FIPS is enabled but this partition does not support FIPS",[ue]:nr}],[ue]:gr},{[lt]:s9,[or]:[{[lt]:[X6],[or]:[{[lt]:i9,endpoint:e9,[ue]:dn},{[lt]:a9,endpoint:e9,[ue]:dn},{[lt]:c9,[or]:[{[lt]:u9,[or]:[{endpoint:{[fi]:"https://{AccountId}.ddb.{Region}.{PartitionResult#dualStackDnsSuffix}",[hi]:Iv,[gi]:Yi},[ue]:dn}],[ue]:gr},t9],[ue]:gr},r9,{endpoint:{[fi]:j6,[hi]:Yi,[gi]:Yi},[ue]:dn}],[ue]:gr},{error:"DualStack is enabled but this partition does not support DualStack",[ue]:nr}],[ue]:gr},{[lt]:i9,endpoint:o9,[ue]:dn},{[lt]:a9,endpoint:o9,[ue]:dn},{[lt]:c9,[or]:[{[lt]:u9,[or]:[{endpoint:{[fi]:"https://{AccountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[hi]:Iv,[gi]:Yi},[ue]:dn}],[ue]:gr},t9],[ue]:gr},r9,Z6],[ue]:gr}],[ue]:gr},{error:"Invalid Configuration: Missing Region",[ue]:nr}]},m9=iie;var aie=new lr({size:50,params:["AccountId","AccountIdEndpointMode","Endpoint","Region","ResourceArn","ResourceArnList","UseDualStack","UseFIPS"]}),f9=(t,e={})=>aie.get(t,()=>Br(m9,{endpointParams:t,logger:e.logger}));jt.aws=_r;var h9=t=>({apiVersion:"2012-08-10",base64Decoder:t?.base64Decoder??st,base64Encoder:t?.base64Encoder??we,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??f9,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??HL,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new vt}],logger:t?.logger??new Mt,protocol:t?.protocol??mh,protocolSettings:t?.protocolSettings??{defaultNamespace:"com.amazonaws.dynamodb",xmlNamespace:"http://dynamodb.amazonaws.com/doc/2012-08-10/",version:"2012-08-10",serviceTarget:"DynamoDB_20120810",jsonCodec:new R0},serviceId:t?.serviceId??"DynamoDB",urlParser:t?.urlParser??Lt,utf8Decoder:t?.utf8Decoder??it,utf8Encoder:t?.utf8Encoder??Xe});var g9=t=>{jr(process.version);let e=so(t),r=()=>e().then(Hr),o=h9(t);Ur(process.version);let n={profile:t?.profile,logger:o.logger};return{...o,...t,runtime:"node",defaultsMode:e,accountIdEndpointMode:t?.accountIdEndpointMode??F(WA,n),authSchemePreference:t?.authSchemePreference??F(Fr,n),bodyLengthChecker:t?.bodyLengthChecker??no,credentialDefaultProvider:t?.credentialDefaultProvider??ks,defaultUserAgentProvider:t?.defaultUserAgentProvider??ro({serviceId:o.serviceId,clientVersion:v2.version}),endpointDiscoveryEnabledProvider:t?.endpointDiscoveryEnabledProvider??F(QA,n),maxAttempts:t?.maxAttempts??F(Xr,t),region:t?.region??F(Jt,{...fr,...n}),requestHandler:Wt.create(t?.requestHandler??r),retryMode:t?.retryMode??F({...eo,default:async()=>(await r()).retryMode||hr},t),sha256:t?.sha256??Qt.bind(null,"sha256"),streamCollector:t?.streamCollector??ur,useDualstackEndpoint:t?.useDualstackEndpoint??F(Wr,n),useFipsEndpoint:t?.useFipsEndpoint??F(qr,n),userAgentAppId:t?.userAgentAppId??F(oo,n)}};ws();Oe();U();var x9=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,o=t.credentials;return{setHttpAuthScheme(n){let s=e.findIndex(i=>i.schemeId===n.schemeId);s===-1?e.push(n):e.splice(s,1,n)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(n){r=n},httpAuthSchemeProvider(){return r},setCredentials(n){o=n},credentials(){return o}}},y9=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()});var S9=(t,e)=>{let r=Object.assign(io(t),Vr(t),Ar(t),x9(t));return e.forEach(o=>o.configure(r)),Object.assign(t,ao(r),zr(r),Dr(r),y9(r))};var v0=class extends Nt{config;constructor(...[e]){let r=g9(e||{});super(r),this.initConfig=r;let o=VL(r),n=VA(o),s=Mr(n),i=Zr(s),a=Jr(i),c=a,u=Yr(c),m=jL(u),f=yD(m,{endpointDiscoveryCommandCtor:Tg}),h=S9(f,e?.extensions||[]);this.config=h,this.middlewareStack.use(Lr(this.config)),this.middlewareStack.use(Kr(this.config)),this.middlewareStack.use(to(this.config)),this.middlewareStack.use(Qr(this.config)),this.middlewareStack.use(Pr(this.config)),this.middlewareStack.use(Or(this.config)),this.middlewareStack.use(kr(this.config)),this.middlewareStack.use(Nr(this.config,{httpAuthSchemeParametersProvider:GL,identityProviderConfigProvider:async g=>new dr({"aws.auth#sigv4":g.credentials})})),this.middlewareStack.use($r(this.config))}destroy(){super.destroy()}};xe();U();var C0=class extends Y.classBuilder().ep({...un,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteItem",{}).n("DynamoDBClient","DeleteItemCommand").sc(x2).build(){};xe();U();var I0=class extends Y.classBuilder().ep({...un,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetItem",{}).n("DynamoDBClient","GetItemCommand").sc(S2).build(){};xe();U();var T0=class extends Y.classBuilder().ep({...un,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutItem",{}).n("DynamoDBClient","PutItemCommand").sc(E2).build(){};xe();U();var w0=class extends Y.classBuilder().ep({...un,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Query",{}).n("DynamoDBClient","QueryCommand").sc(_2).build(){};xe();U();var A0=class extends Y.classBuilder().ep({...un,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Scan",{}).n("DynamoDBClient","ScanCommand").sc(R2).build(){};xe();U();var D0=class extends Y.classBuilder().ep({...un,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateItem",{}).n("DynamoDBClient","UpdateItemCommand").sc(b2).build(){};Qe();U();var Fc=class t{value;constructor(e){typeof e=="object"&&"N"in e?this.value=String(e.N):this.value=String(e);let r=typeof e.valueOf()=="number"?e.valueOf():0;if(r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER||Math.abs(r)===1/0||Number.isNaN(r))throw new Error(`NumberValue should not be initialized with an imprecise number=${r}. Use a string instead.`)}static from(e){return new t(e)}toAttributeValue(){return{N:this.toString()}}toBigInt(){let e=this.toString();return BigInt(e)}toString(){return String(this.value)}valueOf(){return this.toString()}};var Fl=(t,e)=>{if(t===void 0)throw new Error("Pass options.removeUndefinedValues=true to remove undefined values from map/array/set.");if(t===null&&typeof t=="object")return P0();if(Array.isArray(t))return cie(t,e);if(t?.constructor?.name==="Set")return uie(t,e);if(t?.constructor?.name==="Map")return pie(t,e);if(t?.constructor?.name==="Object"||!t.constructor&&typeof t=="object")return E9(t,e);if(I9(t))return t.length===0&&e?.convertEmptyValues?P0():R9(t);if(typeof t=="boolean"||t?.constructor?.name==="Boolean")return{BOOL:t.valueOf()};if(typeof t=="number"||t?.constructor?.name==="Number")return C9(t,e);if(t instanceof Fc)return t.toAttributeValue();if(typeof t=="bigint")return v9(t);if(typeof t=="string"||t?.constructor?.name==="String")return t.length===0&&e?.convertEmptyValues?P0():b9(t);if(e?.convertClassInstanceToMap&&typeof t=="object")return E9(t,e);throw new Error(`Unsupported type passed: ${t}. Pass options.convertClassInstanceToMap=true to marshall typeof object as map attribute.`)},cie=(t,e)=>({L:t.filter(r=>typeof r!="function"&&(!e?.removeUndefinedValues||e?.removeUndefinedValues&&r!==void 0)).map(r=>Fl(r,e))}),uie=(t,e)=>{let r=e?.removeUndefinedValues?new Set([...t].filter(n=>n!==void 0)):t;if(!e?.removeUndefinedValues&&r.has(void 0))throw new Error("Pass options.removeUndefinedValues=true to remove undefined values from map/array/set.");if(r.size===0){if(e?.convertEmptyValues)return P0();throw new Error("Pass a non-empty set, or options.convertEmptyValues=true.")}let o=r.values().next().value;if(o instanceof Fc)return{NS:Array.from(r).map(n=>n.toString())};if(typeof o=="number")return{NS:Array.from(r).map(n=>C9(n,e)).map(n=>n.N)};if(typeof o=="bigint")return{NS:Array.from(r).map(v9).map(n=>n.N)};if(typeof o=="string")return{SS:Array.from(r).map(b9).map(n=>n.S)};if(I9(o))return{BS:Array.from(r).map(R9).map(n=>n.B)};throw new Error("Only Number Set (NS), Binary Set (BS) or String Set (SS) are allowed.")},pie=(t,e)=>({M:(r=>{let o={};for(let[n,s]of r)typeof s!="function"&&(s!==void 0||!e?.removeUndefinedValues)&&(o[n]=Fl(s,e));return o})(t)}),E9=(t,e)=>({M:(r=>{let o={};for(let n in r){let s=r[n];typeof s!="function"&&(s!==void 0||!e?.removeUndefinedValues)&&(o[n]=Fl(s,e))}return o})(t)}),P0=()=>({NULL:!0}),R9=t=>({B:t}),b9=t=>({S:t.toString()}),v9=t=>({N:t.toString()}),_9=t=>{throw new Error(`${t} Use NumberValue from @aws-sdk/lib-dynamodb.`)},C9=(t,e)=>{if([Number.NaN,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY].map(r=>r.toString()).includes(t.toString()))throw new Error(`Special numeric value ${t.toString()} is not allowed`);return e?.allowImpreciseNumbers||(Number(t)>Number.MAX_SAFE_INTEGER?_9(`Number ${t.toString()} is greater than Number.MAX_SAFE_INTEGER.`):Number(t)<Number.MIN_SAFE_INTEGER&&_9(`Number ${t.toString()} is lesser than Number.MIN_SAFE_INTEGER.`)),{N:t.toString()}},I9=t=>{let e=["ArrayBuffer","Blob","Buffer","DataView","File","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];return t?.constructor?e.includes(t.constructor.name):!1};var Gl=(t,e)=>{for(let[r,o]of Object.entries(t))if(o!==void 0)switch(r){case"NULL":return null;case"BOOL":return!!o;case"N":return T9(o,e);case"B":return A9(o);case"S":return w9(o);case"L":return die(o,e);case"M":return lie(o,e);case"NS":return new Set(o.map(n=>T9(n,e)));case"BS":return new Set(o.map(A9));case"SS":return new Set(o.map(w9));default:throw new Error(`Unsupported type passed: ${r}`)}throw new Error(`No value defined: ${JSON.stringify(t)}`)},T9=(t,e)=>{if(typeof e?.wrapNumbers=="function")return e?.wrapNumbers(t);if(e?.wrapNumbers)return Fc.from(t);let r=Number(t),o=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];if((r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER)&&!o.includes(r))if(typeof BigInt=="function")try{return BigInt(t)}catch{throw new Error(`${t} can't be converted to BigInt. Set options.wrapNumbers to get string value.`)}else throw new Error(`${t} is outside SAFE_INTEGER bounds. Set options.wrapNumbers to get string value.`);return r},w9=t=>t,A9=t=>t,die=(t,e)=>t.map(r=>Gl(r,e)),lie=(t,e)=>Object.entries(t).reduce((r,[o,n])=>(r[o]=Gl(n,e),r),{});function D9(t,e){let r=Fl(t,e),[o,n]=Object.entries(r)[0];switch(o){case"M":case"L":return e?.convertTopLevelContainer?r:n;case"SS":case"NS":case"BS":case"S":case"N":case"B":case"NULL":case"BOOL":case"$unknown":default:return r}}var P9=(t,e)=>e?.convertWithoutMapWrapper?Gl(t,e):Gl({M:t},e);var La=null,Me={},ln=[],O9="*",O0=(t,e,r)=>{if(t!==void 0){if(r==null)return e(t);{let o=Object.keys(r),n=o.length===1&&o[0]===O9,s=o.length>=1&&!n,i=o.length===0;if(s)return Av(t,e,r);if(i)return mie(t,e,La);if(n)return Object.entries(t??{}).reduce((a,[c,u])=>(typeof u!="function"&&(a[c]=O0(u,e,r[O9])),a),Array.isArray(t)?[]:{})}}},Av=(t,e,r)=>{let o;if(Array.isArray(t))o=t.filter(n=>typeof n!="function");else{o={};for(let[n,s]of Object.entries(t))typeof s!="function"&&(o[n]=s)}for(let[n,s]of Object.entries(r)){if(typeof t[n]=="function")continue;let i=O0(t[n],e,s);i!==void 0&&typeof i!="function"&&(o[n]=i)}return o},mie=(t,e,r)=>Array.isArray(t)?t.filter(o=>typeof o!="function").map(o=>O0(o,e,r)):Object.entries(t).reduce((o,[n,s])=>{if(typeof s=="function")return o;let i=O0(s,e,r);return i!==void 0&&typeof i!="function"&&(o[n]=i),o},{}),k9=(t,e,r)=>Av(t,n=>D9(n,r),e),N9=(t,e,r)=>Av(t,n=>P9(n,r),e);var sr=class extends Y{addMarshallingMiddleware(e){let{marshallOptions:r={},unmarshallOptions:o={}}=e.translateConfig||{};r.convertTopLevelContainer=r.convertTopLevelContainer??!0,o.convertWithoutMapWrapper=o.convertWithoutMapWrapper??!0,this.clientCommand.middlewareStack.addRelativeTo((n,s)=>async i=>(Dt(s,"DDB_MAPPER","d"),n({...i,input:k9(i.input,this.inputKeyNodes,r)})),{name:"DocumentMarshall",relation:"before",toMiddleware:"serializerMiddleware",override:!0}),this.clientCommand.middlewareStack.addRelativeTo((n,s)=>async i=>{let a=await n(i);return a.output=N9(a.output,this.outputKeyNodes,o),a},{name:"DocumentUnmarshall",relation:"before",toMiddleware:"deserializerMiddleware",override:!0})}};var Hl=class extends sr{input;inputKeyNodes={Key:Me,Expected:{"*":{Value:La,AttributeValueList:ln}},ExpressionAttributeValues:Me};outputKeyNodes={Attributes:Me,ItemCollectionMetrics:{ItemCollectionKey:Me}};clientCommand;middlewareStack;constructor(e){super(),this.input=e,this.clientCommand=new C0(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(e,r,o){this.addMarshallingMiddleware(r);let n=e.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(n,r,o);return async()=>s(this.clientCommand)}};var jl=class extends sr{input;inputKeyNodes={Key:Me};outputKeyNodes={Item:Me};clientCommand;middlewareStack;constructor(e){super(),this.input=e,this.clientCommand=new I0(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(e,r,o){this.addMarshallingMiddleware(r);let n=e.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(n,r,o);return async()=>s(this.clientCommand)}};var Vl=class extends sr{input;inputKeyNodes={Item:Me,Expected:{"*":{Value:La,AttributeValueList:ln}},ExpressionAttributeValues:Me};outputKeyNodes={Attributes:Me,ItemCollectionMetrics:{ItemCollectionKey:Me}};clientCommand;middlewareStack;constructor(e){super(),this.input=e,this.clientCommand=new T0(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(e,r,o){this.addMarshallingMiddleware(r);let n=e.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(n,r,o);return async()=>s(this.clientCommand)}};var Gc=class extends sr{input;inputKeyNodes={KeyConditions:{"*":{AttributeValueList:ln}},QueryFilter:{"*":{AttributeValueList:ln}},ExclusiveStartKey:Me,ExpressionAttributeValues:Me};outputKeyNodes={Items:{"*":Me},LastEvaluatedKey:Me};clientCommand;middlewareStack;constructor(e){super(),this.input=e,this.clientCommand=new w0(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(e,r,o){this.addMarshallingMiddleware(r);let n=e.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(n,r,o);return async()=>s(this.clientCommand)}};var Hc=class extends sr{input;inputKeyNodes={ScanFilter:{"*":{AttributeValueList:ln}},ExclusiveStartKey:Me,ExpressionAttributeValues:Me};outputKeyNodes={Items:{"*":Me},LastEvaluatedKey:Me};clientCommand;middlewareStack;constructor(e){super(),this.input=e,this.clientCommand=new A0(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(e,r,o){this.addMarshallingMiddleware(r);let n=e.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(n,r,o);return async()=>s(this.clientCommand)}};var zl=class extends sr{input;inputKeyNodes={Key:Me,AttributeUpdates:{"*":{Value:La}},Expected:{"*":{Value:La,AttributeValueList:ln}},ExpressionAttributeValues:Me};outputKeyNodes={Attributes:Me,ItemCollectionMetrics:{ItemCollectionKey:Me}};clientCommand;middlewareStack;constructor(e){super(),this.input=e,this.clientCommand=new D0(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(e,r,o){this.addMarshallingMiddleware(r);let n=e.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(n,r,o);return async()=>s(this.clientCommand)}};U();var Xi=class t extends Nt{config;constructor(e,r){if(super(e.config),this.config=e.config,this.config.translateConfig=r,this.middlewareStack=e.middlewareStack,this.config?.cacheMiddleware)throw new Error("@aws-sdk/lib-dynamodb - cacheMiddleware=true is not compatible with the DynamoDBDocumentClient. This option must be set to false.")}static from(e,r){return new t(e,r)}destroy(){}};At();var Cct=Bi(Xi,Gc,"ExclusiveStartKey","LastEvaluatedKey","Limit");At();var Dct=Bi(Xi,Hc,"ExclusiveStartKey","LastEvaluatedKey","Limit");var Zi=class t extends Error{code;statusCode;details;correlationId;constructor(e,r,o,n){super(r),this.name="AppError",this.code=e,this.statusCode=lE(e),this.details=o,this.correlationId=n,Error.captureStackTrace&&Error.captureStackTrace(this,t)}},Dv=class extends Zi{constructor(e,r,o){super("ValidationError",e,r,o),this.name="ValidationError"}},Pv=class extends Zi{constructor(e="Authentication required",r){super("Unauthorized",e,void 0,r),this.name="UnauthorizedError"}},Ov=class extends Zi{constructor(e="Insufficient permissions",r){super("Forbidden",e,void 0,r),this.name="ForbiddenError"}},kv=class extends Zi{constructor(e="Resource not found",r){super("NotFound",e,void 0,r),this.name="NotFoundError"}},Nv=class extends Zi{constructor(e="Resource already exists",r){super("Conflict",e,void 0,r),this.name="ConflictError"}},$v=class extends Zi{constructor(e="Internal server error",r,o){super("InternalError",e,r,o),this.name="InternalError"}};function Xt(t,e,r,o){switch(t){case"ValidationError":return new Dv(e,r,o);case"Unauthorized":return new Pv(e,o);case"Forbidden":return new Ov(e,o);case"NotFound":return new kv(e,o);case"Conflict":return new Nv(e,o);case"InternalError":return new $v(e,r,o);default:return new Zi(t,e,r,o)}}import{randomUUID as Lv}from"crypto";var fie=()=>{let t=new v0({region:process.env.AWS_REGION||"us-east-1",maxAttempts:3,retryMode:"adaptive",requestHandler:{requestTimeout:5e3,httpsAgent:{maxSockets:50,keepAlive:!0}}});return Xi.from(t,{marshallOptions:{convertEmptyValues:!1,removeUndefinedValues:!0,convertClassInstanceToMap:!1},unmarshallOptions:{wrapNumbers:!1}})},Mv=null,hie=()=>(Mv||(Mv=fie(),y.info("DynamoDB client initialized")),Mv),gie=()=>{let t=wr();return{staff:t.dynamodb.staffTable,passwordResetTokens:t.dynamodb.passwordResetTokensTable,tenants:t.dynamodb.tenantsTable,clusters:t.dynamodb.clustersTable}},Uv=class{client;tables;constructor(){this.client=hie(),this.tables=gie()}async getItem(e,r,o){try{y.info("DynamoDB GetItem operation",{tableName:e,key:Object.keys(r),correlationId:o});let n=new jl({TableName:e,Key:r}),s=await this.client.send(n);return y.info("DynamoDB GetItem completed",{tableName:e,found:!!s.Item,correlationId:o}),s.Item}catch(n){throw y.error("DynamoDB GetItem failed",{tableName:e,error:n instanceof Error?n.message:"Unknown error",correlationId:o}),n}}async putItem(e,r,o){try{y.info("DynamoDB PutItem operation",{tableName:e,itemKeys:Object.keys(r),correlationId:o});let n=new Vl({TableName:e,Item:r});return await this.client.send(n),y.info("DynamoDB PutItem completed",{tableName:e,correlationId:o}),r}catch(n){throw y.error("DynamoDB PutItem failed",{tableName:e,error:n instanceof Error?n.message:"Unknown error",correlationId:o}),n}}async updateItem(e,r,o,n,s,i){try{y.info("DynamoDB UpdateItem operation",{tableName:e,key:Object.keys(r),correlationId:i});let a=new zl({TableName:e,Key:r,UpdateExpression:o,ExpressionAttributeValues:n,ExpressionAttributeNames:s,ReturnValues:"ALL_NEW"}),c=await this.client.send(a);return y.info("DynamoDB UpdateItem completed",{tableName:e,correlationId:i}),c.Attributes}catch(a){throw y.error("DynamoDB UpdateItem failed",{tableName:e,error:a instanceof Error?a.message:"Unknown error",correlationId:i}),a}}async deleteItem(e,r,o){try{y.info("DynamoDB DeleteItem operation",{tableName:e,key:Object.keys(r),correlationId:o});let n=new Hl({TableName:e,Key:r});await this.client.send(n),y.info("DynamoDB DeleteItem completed",{tableName:e,correlationId:o})}catch(n){throw y.error("DynamoDB DeleteItem failed",{tableName:e,error:n instanceof Error?n.message:"Unknown error",correlationId:o}),n}}async queryItems(e,r,o,n,s,i){try{y.info("DynamoDB Query operation",{tableName:e,indexName:n,correlationId:i});let a=new Gc({TableName:e,KeyConditionExpression:r,ExpressionAttributeValues:o,ExpressionAttributeNames:s,IndexName:n}),c=await this.client.send(a);return y.info("DynamoDB Query completed",{tableName:e,itemCount:c.Items?.length||0,correlationId:i}),c.Items||[]}catch(a){throw y.error("DynamoDB Query failed",{tableName:e,error:a instanceof Error?a.message:"Unknown error",correlationId:i}),a}}async getStaffById(e,r){try{let o=await this.getItem(this.tables.staff,{staff_id:e},r);if(!o)return{found:!1};let n=yu.safeParse(o);if(!n.success)throw y.error("Invalid staff record format in database",{staffId:e,errors:n.error.errors,correlationId:r}),Xt("InternalError","Invalid staff record format");return{staff:n.data,found:!0}}catch(o){throw y.error("Failed to get staff by ID",{staffId:e,error:o instanceof Error?o.message:"Unknown error",correlationId:r}),o}}async getStaffByEmail(e,r){try{let o=e.toLowerCase(),n=await this.queryItems(this.tables.staff,"email = :email",{":email":o},"EmailIndex",void 0,r);if(!n||n.length===0)return{found:!1};let s=n[0],i=yu.safeParse(s);if(!i.success)throw y.error("Invalid staff record format in database",{email:o,errors:i.error.errors,correlationId:r}),Xt("InternalError","Invalid staff record format");return{staff:i.data,found:!0}}catch(o){throw y.error("Failed to get staff by email",{email:e,error:o instanceof Error?o.message:"Unknown error",correlationId:r}),o}}async createStaff(e,r){try{let o=new Date().toISOString(),n={staff_id:Lv(),...e,email:e.email.toLowerCase(),created_at:o,updated_at:o},s=yu.safeParse(n);if(!s.success)throw y.error("Invalid staff record data",{errors:s.error.errors,correlationId:r}),Xt("ValidationError","Invalid staff record data");if((await this.getStaffByEmail(n.email,r)).found)throw y.warn("Attempted to create staff with duplicate email",{email:n.email,correlationId:r}),Xt("Conflict","Staff member with this email already exists");return await this.putItem(this.tables.staff,s.data,r),{success:!0,data:s.data,correlationId:r}}catch(o){if(y.error("Failed to create staff",{error:o instanceof Error?o.message:"Unknown error",correlationId:r}),o instanceof Error&&o.message.includes("already exists"))return{success:!1,error:o.message,correlationId:r};throw o}}async updateStaff(e,r,o){try{let n={...r,updated_at:new Date().toISOString()},s="SET "+Object.keys(n).map((m,f)=>`#${m} = :val${f}`).join(", "),i=Object.keys(n).reduce((m,f)=>(m[`#${f}`]=f,m),{}),a=Object.keys(n).reduce((m,f,h)=>(m[`:val${h}`]=n[f],m),{}),c=await this.updateItem(this.tables.staff,{staff_id:e},s,a,i,o);if(!c)throw Xt("NotFound","Staff member not found");let u=yu.safeParse(c);if(!u.success)throw y.error("Invalid staff record after update",{staffId:e,errors:u.error.errors,correlationId:o}),Xt("InternalError","Invalid staff record after update");return{success:!0,data:u.data,correlationId:o}}catch(n){throw y.error("Failed to update staff",{staffId:e,error:n instanceof Error?n.message:"Unknown error",correlationId:o}),n}}async updateStaffPassword(e,r,o){try{let n={password_hash:r,updated_at:new Date().toISOString()},s="SET password_hash = :password_hash, updated_at = :updated_at",i={":password_hash":n.password_hash,":updated_at":n.updated_at},a=await this.updateItem(this.tables.staff,{staff_id:e},s,i,void 0,o);if(!a)throw Xt("NotFound","Staff member not found");let c=yu.safeParse(a);if(!c.success)throw y.error("Invalid staff record after password update",{staffId:e,errors:c.error.errors,correlationId:o}),Xt("InternalError","Invalid staff record after password update");return{success:!0,data:c.data,correlationId:o}}catch(n){throw y.error("Failed to update staff password",{staffId:e,error:n instanceof Error?n.message:"Unknown error",correlationId:o}),n}}async getPasswordResetToken(e,r){try{let o=await this.getItem(this.tables.passwordResetTokens,{token_hash:e},r);if(!o)return{found:!1};let n=Sf.safeParse(o);if(!n.success)throw y.error("Invalid password reset token format in database",{tokenHash:e,errors:n.error.errors,correlationId:r}),Xt("InternalError","Invalid password reset token format");let s=Math.floor(Date.now()/1e3),i=n.data.expires_at<=s;return{token:n.data,found:!0,expired:i}}catch(o){throw y.error("Failed to get password reset token",{tokenHash:e,error:o instanceof Error?o.message:"Unknown error",correlationId:r}),o}}async createPasswordResetToken(e,r){try{let o={...e,created_at:new Date().toISOString()},n=Sf.safeParse(o);if(!n.success)throw y.error("Invalid password reset token data",{errors:n.error.errors,correlationId:r}),Xt("ValidationError","Invalid password reset token data");return await this.putItem(this.tables.passwordResetTokens,n.data,r),{success:!0,data:n.data,correlationId:r}}catch(o){throw y.error("Failed to create password reset token",{error:o instanceof Error?o.message:"Unknown error",correlationId:r}),o}}async markPasswordResetTokenUsed(e,r){try{let o=await this.updateItem(this.tables.passwordResetTokens,{token_hash:e},"SET used_at = :used_at",{":used_at":new Date().toISOString()},void 0,r);if(!o)throw Xt("NotFound","Password reset token not found");let n=Sf.safeParse(o);if(!n.success)throw y.error("Invalid password reset token after update",{tokenHash:e,errors:n.error.errors,correlationId:r}),Xt("InternalError","Invalid password reset token after update");return{success:!0,data:n.data,correlationId:r}}catch(o){throw y.error("Failed to mark password reset token as used",{tokenHash:e,error:o instanceof Error?o.message:"Unknown error",correlationId:r}),o}}async deletePasswordResetToken(e,r){return this.deleteItem(this.tables.passwordResetTokens,{token_hash:e},r)}async getTenant(e,r){try{let o=await this.getItem(this.tables.tenants,{tenant_id:e},r);if(!o)return{found:!1};let n=Ef.safeParse(o);if(!n.success)throw y.error("Invalid tenant record format in database",{tenantId:e,errors:n.error.errors,correlationId:r}),Xt("InternalError","Invalid tenant record format");return{tenant:n.data,found:!0}}catch(o){throw y.error("Failed to get tenant",{tenantId:e,error:o instanceof Error?o.message:"Unknown error",correlationId:r}),o}}async createTenant(e,r){try{let o=new Date().toISOString(),n={tenant_id:Lv(),...e,email:e.email.toLowerCase(),status:"pending",created_at:o,updated_at:o},s=Ef.safeParse(n);if(!s.success)throw y.error("Invalid tenant record data",{errors:s.error.errors,correlationId:r}),Xt("ValidationError","Invalid tenant record data");return await this.putItem(this.tables.tenants,s.data,r),{success:!0,data:s.data,correlationId:r}}catch(o){throw y.error("Failed to create tenant",{error:o instanceof Error?o.message:"Unknown error",correlationId:r}),o}}async updateTenant(e,r,o){try{let n={...r,...r.email&&{email:r.email.toLowerCase()},updated_at:new Date().toISOString()},s="SET "+Object.keys(n).map((m,f)=>`#${m} = :val${f}`).join(", "),i=Object.keys(n).reduce((m,f)=>(m[`#${f}`]=f,m),{}),a=Object.keys(n).reduce((m,f,h)=>(m[`:val${h}`]=n[f],m),{}),c=await this.updateItem(this.tables.tenants,{tenant_id:e},s,a,i,o);if(!c)throw Xt("NotFound","Tenant not found");let u=Ef.safeParse(c);if(!u.success)throw y.error("Invalid tenant record after update",{tenantId:e,errors:u.error.errors,correlationId:o}),Xt("InternalError","Invalid tenant record after update");return{success:!0,data:u.data,correlationId:o}}catch(n){throw y.error("Failed to update tenant",{tenantId:e,error:n instanceof Error?n.message:"Unknown error",correlationId:o}),n}}async getCluster(e,r){try{let o=await this.getItem(this.tables.clusters,{cluster_id:e},r);if(!o)return{found:!1};let n=Cd.safeParse(o);if(!n.success)throw y.error("Invalid cluster record format in database",{clusterId:e,errors:n.error.errors,correlationId:r}),Xt("InternalError","Invalid cluster record format");return{cluster:n.data,found:!0}}catch(o){throw y.error("Failed to get cluster",{clusterId:e,error:o instanceof Error?o.message:"Unknown error",correlationId:r}),o}}async getAllClusters(e){try{y.info("DynamoDB Scan operation for all clusters",{tableName:this.tables.clusters,correlationId:e});let r=new Hc({TableName:this.tables.clusters}),o=await this.client.send(r);if(y.info("DynamoDB Scan completed",{tableName:this.tables.clusters,itemCount:o.Items?.length||0,correlationId:e}),!o.Items)return[];let n=[];for(let s of o.Items){let i=Cd.safeParse(s);i.success?n.push(i.data):y.warn("Invalid cluster record found during scan",{item:Object.keys(s),errors:i.error.errors,correlationId:e})}return n}catch(r){throw y.error("Failed to get all clusters",{error:r instanceof Error?r.message:"Unknown error",correlationId:e}),r}}async createCluster(e,r){try{let n=(await this.getAllClusters(r)).map(u=>u.cidr),s=wE(e.cidr,n);if(!s.valid)throw y.warn("CIDR validation failed for new cluster",{cidr:e.cidr,error:s.error,overlaps:s.overlaps,correlationId:r}),Xt("Conflict",s.error||"CIDR validation failed");let i=new Date().toISOString(),a={cluster_id:Lv(),...e,status:"created",created_at:i,updated_at:i},c=Cd.safeParse(a);if(!c.success)throw y.error("Invalid cluster record data",{errors:c.error.errors,correlationId:r}),Xt("ValidationError","Invalid cluster record data");return await this.putItem(this.tables.clusters,c.data,r),{success:!0,data:c.data,correlationId:r}}catch(o){if(y.error("Failed to create cluster",{error:o instanceof Error?o.message:"Unknown error",correlationId:r}),o instanceof Error&&(o.message.includes("overlap")||o.message.includes("CIDR")))return{success:!1,error:o.message,correlationId:r};throw o}}async updateCluster(e,r,o){try{let n={...r,updated_at:new Date().toISOString()},s="SET "+Object.keys(n).map((m,f)=>`#${m} = :val${f}`).join(", "),i=Object.keys(n).reduce((m,f)=>(m[`#${f}`]=f,m),{}),a=Object.keys(n).reduce((m,f,h)=>(m[`:val${h}`]=n[f],m),{}),c=await this.updateItem(this.tables.clusters,{cluster_id:e},s,a,i,o);if(!c)throw Xt("NotFound","Cluster not found");let u=Cd.safeParse(c);if(!u.success)throw y.error("Invalid cluster record after update",{clusterId:e,errors:u.error.errors,correlationId:o}),Xt("InternalError","Invalid cluster record after update");return{success:!0,data:u.data,correlationId:o}}catch(n){throw y.error("Failed to update cluster",{clusterId:e,error:n instanceof Error?n.message:"Unknown error",correlationId:o}),n}}async deleteCluster(e,r){return this.deleteItem(this.tables.clusters,{cluster_id:e},r)}},Bv=null,ie={get instance(){return Bv||(Bv=new Uv),Bv},getItem:(t,e,r)=>ie.instance.getItem(t,e,r),putItem:(t,e,r)=>ie.instance.putItem(t,e,r),updateItem:(t,e,r,o,n,s)=>ie.instance.updateItem(t,e,r,o,n,s),deleteItem:(t,e,r)=>ie.instance.deleteItem(t,e,r),queryItems:(t,e,r,o,n,s)=>ie.instance.queryItems(t,e,r,o,n,s),getStaffById:(t,e)=>ie.instance.getStaffById(t,e),getStaffByEmail:(t,e)=>ie.instance.getStaffByEmail(t,e),createStaff:(t,e)=>ie.instance.createStaff(t,e),updateStaff:(t,e,r)=>ie.instance.updateStaff(t,e,r),updateStaffPassword:(t,e,r)=>ie.instance.updateStaffPassword(t,e,r),getPasswordResetToken:(t,e)=>ie.instance.getPasswordResetToken(t,e),createPasswordResetToken:(t,e)=>ie.instance.createPasswordResetToken(t,e),markPasswordResetTokenUsed:(t,e)=>ie.instance.markPasswordResetTokenUsed(t,e),deletePasswordResetToken:(t,e)=>ie.instance.deletePasswordResetToken(t,e),getTenant:(t,e)=>ie.instance.getTenant(t,e),createTenant:(t,e)=>ie.instance.createTenant(t,e),updateTenant:(t,e,r)=>ie.instance.updateTenant(t,e,r),getCluster:(t,e)=>ie.instance.getCluster(t,e),getAllClusters:t=>ie.instance.getAllClusters(t),createCluster:(t,e)=>ie.instance.createCluster(t,e),updateCluster:(t,e,r)=>ie.instance.updateCluster(t,e,r),deleteCluster:(t,e)=>ie.instance.deleteCluster(t,e)};import xie from"crypto";var Fv=null;function yie(t){try{return crypto.getRandomValues(new Uint8Array(t))}catch{}try{return xie.randomBytes(t)}catch{}if(!Fv)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return Fv(t)}function Sie(t){Fv=t}function Hv(t,e){if(t=t||jv,typeof t!="number")throw Error("Illegal arguments: "+typeof t+", "+typeof e);t<4?t=4:t>31&&(t=31);var r=[];return r.push("$2b$"),t<10&&r.push("0"),r.push(t.toString()),r.push("$"),r.push(k0(yie(Kl),Kl)),r.join("")}function U9(t,e,r){if(typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),typeof t>"u")t=jv;else if(typeof t!="number")throw Error("illegal arguments: "+typeof t);function o(n){Ns(function(){try{n(null,Hv(t))}catch(s){n(s)}})}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);o(r)}else return new Promise(function(n,s){o(function(i,a){if(i){s(i);return}n(a)})})}function F9(t,e){if(typeof e>"u"&&(e=jv),typeof e=="number"&&(e=Hv(e)),typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return Gv(t,e)}function G9(t,e,r,o){function n(s){typeof t=="string"&&typeof e=="number"?U9(e,function(i,a){Gv(t,a,s,o)}):typeof t=="string"&&typeof e=="string"?Gv(t,e,s,o):Ns(s.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)))}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);n(r)}else return new Promise(function(s,i){n(function(a,c){if(a){i(a);return}s(c)})})}function H9(t,e){for(var r=t.length^e.length,o=0;o<t.length;++o)r|=t.charCodeAt(o)^e.charCodeAt(o);return r===0}function Eie(t,e){if(typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return e.length!==60?!1:H9(F9(t,e.substring(0,e.length-31)),e)}function _ie(t,e,r,o){function n(s){if(typeof t!="string"||typeof e!="string"){Ns(s.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)));return}if(e.length!==60){Ns(s.bind(this,null,!1));return}G9(t,e.substring(0,29),function(i,a){i?s(i):s(null,H9(a,e))},o)}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);n(r)}else return new Promise(function(s,i){n(function(a,c){if(a){i(a);return}s(c)})})}function Rie(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return parseInt(t.split("$")[2],10)}function bie(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);if(t.length!==60)throw Error("Illegal hash length: "+t.length+" != 60");return t.substring(0,29)}function vie(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return j9(t)>72}var Ns=typeof setImmediate=="function"?setImmediate:typeof scheduler=="object"&&typeof scheduler.postTask=="function"?scheduler.postTask.bind(scheduler):setTimeout;function j9(t){for(var e=0,r=0,o=0;o<t.length;++o)r=t.charCodeAt(o),r<128?e+=1:r<2048?e+=2:(r&64512)===55296&&(t.charCodeAt(o+1)&64512)===56320?(++o,e+=4):e+=3;return e}function Cie(t){for(var e=0,r,o,n=new Array(j9(t)),s=0,i=t.length;s<i;++s)r=t.charCodeAt(s),r<128?n[e++]=r:r<2048?(n[e++]=r>>6|192,n[e++]=r&63|128):(r&64512)===55296&&((o=t.charCodeAt(s+1))&64512)===56320?(r=65536+((r&1023)<<10)+(o&1023),++s,n[e++]=r>>18|240,n[e++]=r>>12&63|128,n[e++]=r>>6&63|128,n[e++]=r&63|128):(n[e++]=r>>12|224,n[e++]=r>>6&63|128,n[e++]=r&63|128);return n}var mp="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),Ma=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function k0(t,e){var r=0,o=[],n,s;if(e<=0||e>t.length)throw Error("Illegal len: "+e);for(;r<e;){if(n=t[r++]&255,o.push(mp[n>>2&63]),n=(n&3)<<4,r>=e){o.push(mp[n&63]);break}if(s=t[r++]&255,n|=s>>4&15,o.push(mp[n&63]),n=(s&15)<<2,r>=e){o.push(mp[n&63]);break}s=t[r++]&255,n|=s>>6&3,o.push(mp[n&63]),o.push(mp[s&63])}return o.join("")}function V9(t,e){var r=0,o=t.length,n=0,s=[],i,a,c,u,m,f;if(e<=0)throw Error("Illegal len: "+e);for(;r<o-1&&n<e&&(f=t.charCodeAt(r++),i=f<Ma.length?Ma[f]:-1,f=t.charCodeAt(r++),a=f<Ma.length?Ma[f]:-1,!(i==-1||a==-1||(m=i<<2>>>0,m|=(a&48)>>4,s.push(String.fromCharCode(m)),++n>=e||r>=o)||(f=t.charCodeAt(r++),c=f<Ma.length?Ma[f]:-1,c==-1)||(m=(a&15)<<4>>>0,m|=(c&60)>>2,s.push(String.fromCharCode(m)),++n>=e||r>=o)));)f=t.charCodeAt(r++),u=f<Ma.length?Ma[f]:-1,m=(c&3)<<6>>>0,m|=u,s.push(String.fromCharCode(m)),++n;var h=[];for(r=0;r<n;r++)h.push(s[r].charCodeAt(0));return h}var Kl=16,jv=10,Iie=16,Tie=100,$9=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],L9=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],z9=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function Wl(t,e,r,o){var n,s=t[e],i=t[e+1];return s^=r[0],n=o[s>>>24],n+=o[256|s>>16&255],n^=o[512|s>>8&255],n+=o[768|s&255],i^=n^r[1],n=o[i>>>24],n+=o[256|i>>16&255],n^=o[512|i>>8&255],n+=o[768|i&255],s^=n^r[2],n=o[s>>>24],n+=o[256|s>>16&255],n^=o[512|s>>8&255],n+=o[768|s&255],i^=n^r[3],n=o[i>>>24],n+=o[256|i>>16&255],n^=o[512|i>>8&255],n+=o[768|i&255],s^=n^r[4],n=o[s>>>24],n+=o[256|s>>16&255],n^=o[512|s>>8&255],n+=o[768|s&255],i^=n^r[5],n=o[i>>>24],n+=o[256|i>>16&255],n^=o[512|i>>8&255],n+=o[768|i&255],s^=n^r[6],n=o[s>>>24],n+=o[256|s>>16&255],n^=o[512|s>>8&255],n+=o[768|s&255],i^=n^r[7],n=o[i>>>24],n+=o[256|i>>16&255],n^=o[512|i>>8&255],n+=o[768|i&255],s^=n^r[8],n=o[s>>>24],n+=o[256|s>>16&255],n^=o[512|s>>8&255],n+=o[768|s&255],i^=n^r[9],n=o[i>>>24],n+=o[256|i>>16&255],n^=o[512|i>>8&255],n+=o[768|i&255],s^=n^r[10],n=o[s>>>24],n+=o[256|s>>16&255],n^=o[512|s>>8&255],n+=o[768|s&255],i^=n^r[11],n=o[i>>>24],n+=o[256|i>>16&255],n^=o[512|i>>8&255],n+=o[768|i&255],s^=n^r[12],n=o[s>>>24],n+=o[256|s>>16&255],n^=o[512|s>>8&255],n+=o[768|s&255],i^=n^r[13],n=o[i>>>24],n+=o[256|i>>16&255],n^=o[512|i>>8&255],n+=o[768|i&255],s^=n^r[14],n=o[s>>>24],n+=o[256|s>>16&255],n^=o[512|s>>8&255],n+=o[768|s&255],i^=n^r[15],n=o[i>>>24],n+=o[256|i>>16&255],n^=o[512|i>>8&255],n+=o[768|i&255],s^=n^r[16],t[e]=i^r[Iie+1],t[e+1]=s,t}function fp(t,e){for(var r=0,o=0;r<4;++r)o=o<<8|t[e]&255,e=(e+1)%t.length;return{key:o,offp:e}}function M9(t,e,r){for(var o=0,n=[0,0],s=e.length,i=r.length,a,c=0;c<s;c++)a=fp(t,o),o=a.offp,e[c]=e[c]^a.key;for(c=0;c<s;c+=2)n=Wl(n,0,e,r),e[c]=n[0],e[c+1]=n[1];for(c=0;c<i;c+=2)n=Wl(n,0,e,r),r[c]=n[0],r[c+1]=n[1]}function wie(t,e,r,o){for(var n=0,s=[0,0],i=r.length,a=o.length,c,u=0;u<i;u++)c=fp(e,n),n=c.offp,r[u]=r[u]^c.key;for(n=0,u=0;u<i;u+=2)c=fp(t,n),n=c.offp,s[0]^=c.key,c=fp(t,n),n=c.offp,s[1]^=c.key,s=Wl(s,0,r,o),r[u]=s[0],r[u+1]=s[1];for(u=0;u<a;u+=2)c=fp(t,n),n=c.offp,s[0]^=c.key,c=fp(t,n),n=c.offp,s[1]^=c.key,s=Wl(s,0,r,o),o[u]=s[0],o[u+1]=s[1]}function B9(t,e,r,o,n){var s=z9.slice(),i=s.length,a;if(r<4||r>31)if(a=Error("Illegal number of rounds (4-31): "+r),o){Ns(o.bind(this,a));return}else throw a;if(e.length!==Kl)if(a=Error("Illegal salt length: "+e.length+" != "+Kl),o){Ns(o.bind(this,a));return}else throw a;r=1<<r>>>0;var c,u,m=0,f;typeof Int32Array=="function"?(c=new Int32Array($9),u=new Int32Array(L9)):(c=$9.slice(),u=L9.slice()),wie(e,t,c,u);function h(){if(n&&n(m/r),m<r)for(var _=Date.now();m<r&&(m=m+1,M9(t,c,u),M9(e,c,u),!(Date.now()-_>Tie)););else{for(m=0;m<64;m++)for(f=0;f<i>>1;f++)Wl(s,f<<1,c,u);var R=[];for(m=0;m<i;m++)R.push((s[m]>>24&255)>>>0),R.push((s[m]>>16&255)>>>0),R.push((s[m]>>8&255)>>>0),R.push((s[m]&255)>>>0);if(o){o(null,R);return}else return R}o&&Ns(h)}if(typeof o<"u")h();else for(var g;;)if(typeof(g=h())<"u")return g||[]}function Gv(t,e,r,o){var n;if(typeof t!="string"||typeof e!="string")if(n=Error("Invalid string / salt: Not a string"),r){Ns(r.bind(this,n));return}else throw n;var s,i;if(e.charAt(0)!=="$"||e.charAt(1)!=="2")if(n=Error("Invalid salt version: "+e.substring(0,2)),r){Ns(r.bind(this,n));return}else throw n;if(e.charAt(2)==="$")s="\0",i=3;else{if(s=e.charAt(2),s!=="a"&&s!=="b"&&s!=="y"||e.charAt(3)!=="$")if(n=Error("Invalid salt revision: "+e.substring(2,4)),r){Ns(r.bind(this,n));return}else throw n;i=4}if(e.charAt(i+2)>"$")if(n=Error("Missing salt rounds"),r){Ns(r.bind(this,n));return}else throw n;var a=parseInt(e.substring(i,i+1),10)*10,c=parseInt(e.substring(i+1,i+2),10),u=a+c,m=e.substring(i+3,i+25);t+=s>="a"?"\0":"";var f=Cie(t),h=V9(m,Kl);function g(_){var R=[];return R.push("$2"),s>="a"&&R.push(s),R.push("$"),u<10&&R.push("0"),R.push(u.toString()),R.push("$"),R.push(k0(h,h.length)),R.push(k0(_,z9.length*4-1)),R.join("")}if(typeof r>"u")return g(B9(f,h,u));B9(f,h,u,function(_,R){_?r(_,null):r(null,g(R))},o)}function Aie(t,e){return k0(t,e)}function Die(t,e){return V9(t,e)}var Vv={setRandomFallback:Sie,genSaltSync:Hv,genSalt:U9,hashSync:F9,hash:G9,compareSync:Eie,compare:_ie,getRounds:Rie,getSalt:bie,truncates:vie,encodeBase64:Aie,decodeBase64:Die};async function N0(t,e){try{y.info("Hashing password",{correlationId:e,passwordType:typeof t,passwordValue:t?"[REDACTED]":"null/undefined"});let r=String(t);if(!r||r.length===0)throw new Error("Password cannot be empty");if(r.length<8)throw new Error("Password must be at least 8 characters long");let n=await Vv.hash(r,12);return y.info("Password hashed successfully",{correlationId:e}),n}catch(r){throw y.error("Failed to hash password",{error:r instanceof Error?r.message:"Unknown error",correlationId:e}),r}}async function K9(t,e,r){try{if(y.info("Verifying password",{correlationId:r}),!t||!e)return y.info("Password verification failed: empty password or hash",{correlationId:r}),!1;let o=await Vv.compare(t,e);return y.info("Password verification completed",{isValid:o,correlationId:r}),o}catch(o){return y.error("Failed to verify password",{error:o instanceof Error?o.message:"Unknown error",correlationId:r}),!1}}function W9(t){let e=[];return t?(t.length<8&&e.push("Password must be at least 8 characters long"),t.length>128&&e.push("Password must be less than 128 characters long"),/[a-z]/.test(t)||e.push("Password must contain at least one lowercase letter"),/[A-Z]/.test(t)||e.push("Password must contain at least one uppercase letter"),/\d/.test(t)||e.push("Password must contain at least one number"),/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(t)||e.push("Password must contain at least one special character"),["password","password123","123456","123456789","qwerty","abc123","password1","admin","letmein","welcome"].includes(t.toLowerCase())&&e.push("Password is too common and easily guessable"),{isValid:e.length===0,errors:e}):(e.push("Password is required"),{isValid:!1,errors:e})}var zv=async(t,e)=>{try{y.info("Processing login request",{correlationId:t.correlationId,email:t.body?.email});let r=vf.safeParse(t.body);if(!r.success){y.warn("Login validation failed",{correlationId:t.correlationId,errors:r.error.errors}),H(e,"ValidationError","Invalid login credentials format",t.correlationId,{validationErrors:r.error.errors});return}let{email:o,password:n}=r.data,s=await ie.getStaffByEmail(o,t.correlationId);if(!s.found||!s.staff){y.warn("Login attempt for non-existent email",{correlationId:t.correlationId,email:o}),H(e,"Unauthorized","Invalid email or password",t.correlationId);return}let i=s.staff;if(!i.enabled){y.warn("Login attempt for disabled account",{correlationId:t.correlationId,email:o,staffId:i.staff_id}),H(e,"Unauthorized","Account is disabled",t.correlationId);return}if(!await K9(n,i.password_hash,t.correlationId)){y.warn("Login attempt with invalid password",{correlationId:t.correlationId,email:o,staffId:i.staff_id}),H(e,"Unauthorized","Invalid email or password",t.correlationId);return}let c=await xu.signToken({staffId:i.staff_id,email:i.email,roles:i.roles},t.correlationId);y.info("Login successful",{correlationId:t.correlationId,staffId:i.staff_id,email:i.email,roles:i.roles}),e.status(200).json({success:!0,data:{token:c,staff:{staff_id:i.staff_id,email:i.email,roles:i.roles,enabled:i.enabled}},timestamp:new Date().toISOString()})}catch(r){y.error("Login handler error",{correlationId:t.correlationId,error:r instanceof Error?r.message:"Unknown error"}),H(e,"InternalError","Login failed",t.correlationId)}};Js();Qs();Ys();Ts();rr();At();Ce();oi();xe();Rr();U();Qe();Zt();var q9=async(t,e,r)=>({operation:nt(e).operation,region:await ge(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function Pie(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"ses",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}var J9=t=>{let e=[];switch(t.operation){default:e.push(Pie(t))}return e},Q9=t=>{let e=Gr(t);return Object.assign(e,{authSchemePreference:ge(t.authSchemePreference??[])})};var Y9=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"ses"}),X9={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var Z9={name:"@aws-sdk/client-ses",description:"AWS SDK for JavaScript Ses Client for Node.js, Browser and React Native",version:"3.958.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-ses","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo ses","test:e2e":"yarn g:vitest run -c vitest.config.e2e.mts --mode development","test:e2e:watch":"yarn g:vitest watch -c vitest.config.e2e.mts","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.957.0","@aws-sdk/credential-provider-node":"3.958.0","@aws-sdk/middleware-host-header":"3.957.0","@aws-sdk/middleware-logger":"3.957.0","@aws-sdk/middleware-recursion-detection":"3.957.0","@aws-sdk/middleware-user-agent":"3.957.0","@aws-sdk/region-config-resolver":"3.957.0","@aws-sdk/types":"3.957.0","@aws-sdk/util-endpoints":"3.957.0","@aws-sdk/util-user-agent-browser":"3.957.0","@aws-sdk/util-user-agent-node":"3.957.0","@smithy/config-resolver":"^4.4.5","@smithy/core":"^3.20.0","@smithy/fetch-http-handler":"^5.3.8","@smithy/hash-node":"^4.2.7","@smithy/invalid-dependency":"^4.2.7","@smithy/middleware-content-length":"^4.2.7","@smithy/middleware-endpoint":"^4.4.1","@smithy/middleware-retry":"^4.4.17","@smithy/middleware-serde":"^4.2.8","@smithy/middleware-stack":"^4.2.7","@smithy/node-config-provider":"^4.3.7","@smithy/node-http-handler":"^4.4.7","@smithy/protocol-http":"^5.3.7","@smithy/smithy-client":"^4.10.2","@smithy/types":"^4.11.0","@smithy/url-parser":"^4.2.7","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.16","@smithy/util-defaults-mode-node":"^4.2.19","@smithy/util-endpoints":"^3.2.7","@smithy/util-middleware":"^4.2.7","@smithy/util-retry":"^4.2.7","@smithy/util-utf8":"^4.2.0","@smithy/util-waiter":"^4.2.7",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-ses",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-ses"}};Qe();ii();rr();ai();Rr();Vo();Vn();U();ci();ui();Zn();Qe();Yn();U();Jn();Kt();wt();Is();nn();var uG="required",yi="fn",Si="argv",gp="ref";var eG="isSet",Jl="booleanEquals",hp="error",ql="endpoint",ea="tree",Kv="PartitionResult",tG={[uG]:!1,type:"string"},rG={[uG]:!0,default:!1,type:"boolean"},oG={[gp]:"Endpoint"},pG={[yi]:Jl,[Si]:[{[gp]:"UseFIPS"},!0]},dG={[yi]:Jl,[Si]:[{[gp]:"UseDualStack"},!0]},xi={},nG={[yi]:"getAttr",[Si]:[{[gp]:Kv},"supportsFIPS"]},sG={[yi]:Jl,[Si]:[!0,{[yi]:"getAttr",[Si]:[{[gp]:Kv},"supportsDualStack"]}]},iG=[pG],aG=[dG],cG=[{[gp]:"Region"}],kie={version:"1.0",parameters:{Region:tG,UseDualStack:rG,UseFIPS:rG,Endpoint:tG},rules:[{conditions:[{[yi]:eG,[Si]:[oG]}],rules:[{conditions:iG,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:hp},{conditions:aG,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:hp},{endpoint:{url:oG,properties:xi,headers:xi},type:ql}],type:ea},{conditions:[{[yi]:eG,[Si]:cG}],rules:[{conditions:[{[yi]:"aws.partition",[Si]:cG,assign:Kv}],rules:[{conditions:[pG,dG],rules:[{conditions:[{[yi]:Jl,[Si]:[!0,nG]},sG],rules:[{endpoint:{url:"https://email-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:xi,headers:xi},type:ql}],type:ea},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:hp}],type:ea},{conditions:iG,rules:[{conditions:[{[yi]:Jl,[Si]:[nG,!0]}],rules:[{endpoint:{url:"https://email-fips.{Region}.{PartitionResult#dnsSuffix}",properties:xi,headers:xi},type:ql}],type:ea},{error:"FIPS is enabled but this partition does not support FIPS",type:hp}],type:ea},{conditions:aG,rules:[{conditions:[sG],rules:[{endpoint:{url:"https://email.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:xi,headers:xi},type:ql}],type:ea},{error:"DualStack is enabled but this partition does not support DualStack",type:hp}],type:ea},{endpoint:{url:"https://email.{Region}.{PartitionResult#dnsSuffix}",properties:xi,headers:xi},type:ql}],type:ea}],type:ea},{error:"Invalid Configuration: Missing Region",type:hp}]},lG=kie;var Nie=new lr({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),mG=(t,e={})=>Nie.get(t,()=>Br(lG,{endpointParams:t,logger:e.logger}));jt.aws=_r;var fG=t=>({apiVersion:"2010-12-01",base64Decoder:t?.base64Decoder??st,base64Encoder:t?.base64Encoder??we,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??mG,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??J9,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new vt}],logger:t?.logger??new Mt,protocol:t?.protocol??ri,protocolSettings:t?.protocolSettings??{defaultNamespace:"com.amazonaws.ses",xmlNamespace:"http://ses.amazonaws.com/doc/2010-12-01/",version:"2010-12-01",serviceTarget:"SimpleEmailService"},serviceId:t?.serviceId??"SES",urlParser:t?.urlParser??Lt,utf8Decoder:t?.utf8Decoder??it,utf8Encoder:t?.utf8Encoder??Xe});var hG=t=>{jr(process.version);let e=so(t),r=()=>e().then(Hr),o=fG(t);Ur(process.version);let n={profile:t?.profile,logger:o.logger};return{...o,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??F(Fr,n),bodyLengthChecker:t?.bodyLengthChecker??no,credentialDefaultProvider:t?.credentialDefaultProvider??ks,defaultUserAgentProvider:t?.defaultUserAgentProvider??ro({serviceId:o.serviceId,clientVersion:Z9.version}),maxAttempts:t?.maxAttempts??F(Xr,t),region:t?.region??F(Jt,{...fr,...n}),requestHandler:Wt.create(t?.requestHandler??r),retryMode:t?.retryMode??F({...eo,default:async()=>(await r()).retryMode||hr},t),sha256:t?.sha256??Qt.bind(null,"sha256"),streamCollector:t?.streamCollector??ur,useDualstackEndpoint:t?.useDualstackEndpoint??F(Wr,n),useFipsEndpoint:t?.useFipsEndpoint??F(qr,n),userAgentAppId:t?.userAgentAppId??F(oo,n)}};ws();Oe();U();var gG=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,o=t.credentials;return{setHttpAuthScheme(n){let s=e.findIndex(i=>i.schemeId===n.schemeId);s===-1?e.push(n):e.splice(s,1,n)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(n){r=n},httpAuthSchemeProvider(){return r},setCredentials(n){o=n},credentials(){return o}}},xG=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()});var yG=(t,e)=>{let r=Object.assign(io(t),Vr(t),Ar(t),gG(t));return e.forEach(o=>o.configure(r)),Object.assign(t,ao(r),zr(r),Dr(r),xG(r))};var $0=class extends Nt{config;constructor(...[e]){let r=hG(e||{});super(r),this.initConfig=r;let o=Y9(r),n=Mr(o),s=Zr(n),i=Jr(s),a=i,c=Yr(a),u=Q9(c),m=yG(u,e?.extensions||[]);this.config=m,this.middlewareStack.use(Lr(this.config)),this.middlewareStack.use(Kr(this.config)),this.middlewareStack.use(to(this.config)),this.middlewareStack.use(Qr(this.config)),this.middlewareStack.use(Pr(this.config)),this.middlewareStack.use(Or(this.config)),this.middlewareStack.use(kr(this.config)),this.middlewareStack.use(Nr(this.config,{httpAuthSchemeParametersProvider:q9,identityProviderConfigProvider:async f=>new dr({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use($r(this.config))}destroy(){super.destroy()}};Ce();U();var Ie=class t extends mr{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}};var L0=class t extends Ie{name="AccountSendingPausedException";$fault="client";constructor(e){super({name:"AccountSendingPausedException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},M0=class t extends Ie{name="AlreadyExistsException";$fault="client";Name;constructor(e){super({name:"AlreadyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Name=e.Name}},B0=class t extends Ie{name="CannotDeleteException";$fault="client";Name;constructor(e){super({name:"CannotDeleteException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Name=e.Name}},U0=class t extends Ie{name="LimitExceededException";$fault="client";constructor(e){super({name:"LimitExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},F0=class t extends Ie{name="RuleSetDoesNotExistException";$fault="client";Name;constructor(e){super({name:"RuleSetDoesNotExistException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Name=e.Name}},G0=class t extends Ie{name="ConfigurationSetAlreadyExistsException";$fault="client";ConfigurationSetName;constructor(e){super({name:"ConfigurationSetAlreadyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.ConfigurationSetName=e.ConfigurationSetName}},H0=class t extends Ie{name="ConfigurationSetDoesNotExistException";$fault="client";ConfigurationSetName;constructor(e){super({name:"ConfigurationSetDoesNotExistException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.ConfigurationSetName=e.ConfigurationSetName}},j0=class t extends Ie{name="ConfigurationSetSendingPausedException";$fault="client";ConfigurationSetName;constructor(e){super({name:"ConfigurationSetSendingPausedException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.ConfigurationSetName=e.ConfigurationSetName}},V0=class t extends Ie{name="InvalidConfigurationSetException";$fault="client";constructor(e){super({name:"InvalidConfigurationSetException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},z0=class t extends Ie{name="EventDestinationAlreadyExistsException";$fault="client";ConfigurationSetName;EventDestinationName;constructor(e){super({name:"EventDestinationAlreadyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.ConfigurationSetName=e.ConfigurationSetName,this.EventDestinationName=e.EventDestinationName}},K0=class t extends Ie{name="InvalidCloudWatchDestinationException";$fault="client";ConfigurationSetName;EventDestinationName;constructor(e){super({name:"InvalidCloudWatchDestinationException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.ConfigurationSetName=e.ConfigurationSetName,this.EventDestinationName=e.EventDestinationName}},W0=class t extends Ie{name="InvalidFirehoseDestinationException";$fault="client";ConfigurationSetName;EventDestinationName;constructor(e){super({name:"InvalidFirehoseDestinationException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.ConfigurationSetName=e.ConfigurationSetName,this.EventDestinationName=e.EventDestinationName}},q0=class t extends Ie{name="InvalidSNSDestinationException";$fault="client";ConfigurationSetName;EventDestinationName;constructor(e){super({name:"InvalidSNSDestinationException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.ConfigurationSetName=e.ConfigurationSetName,this.EventDestinationName=e.EventDestinationName}},J0=class t extends Ie{name="InvalidTrackingOptionsException";$fault="client";constructor(e){super({name:"InvalidTrackingOptionsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Q0=class t extends Ie{name="TrackingOptionsAlreadyExistsException";$fault="client";ConfigurationSetName;constructor(e){super({name:"TrackingOptionsAlreadyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.ConfigurationSetName=e.ConfigurationSetName}},Y0=class t extends Ie{name="CustomVerificationEmailInvalidContentException";$fault="client";constructor(e){super({name:"CustomVerificationEmailInvalidContentException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},X0=class t extends Ie{name="CustomVerificationEmailTemplateAlreadyExistsException";$fault="client";CustomVerificationEmailTemplateName;constructor(e){super({name:"CustomVerificationEmailTemplateAlreadyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.CustomVerificationEmailTemplateName=e.CustomVerificationEmailTemplateName}},Z0=class t extends Ie{name="FromEmailAddressNotVerifiedException";$fault="client";FromEmailAddress;constructor(e){super({name:"FromEmailAddressNotVerifiedException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.FromEmailAddress=e.FromEmailAddress}},ex=class t extends Ie{name="InvalidLambdaFunctionException";$fault="client";FunctionArn;constructor(e){super({name:"InvalidLambdaFunctionException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.FunctionArn=e.FunctionArn}},tx=class t extends Ie{name="InvalidS3ConfigurationException";$fault="client";Bucket;constructor(e){super({name:"InvalidS3ConfigurationException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Bucket=e.Bucket}},rx=class t extends Ie{name="InvalidSnsTopicException";$fault="client";Topic;constructor(e){super({name:"InvalidSnsTopicException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Topic=e.Topic}},ox=class t extends Ie{name="RuleDoesNotExistException";$fault="client";Name;constructor(e){super({name:"RuleDoesNotExistException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Name=e.Name}},nx=class t extends Ie{name="InvalidTemplateException";$fault="client";TemplateName;constructor(e){super({name:"InvalidTemplateException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.TemplateName=e.TemplateName}},sx=class t extends Ie{name="CustomVerificationEmailTemplateDoesNotExistException";$fault="client";CustomVerificationEmailTemplateName;constructor(e){super({name:"CustomVerificationEmailTemplateDoesNotExistException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.CustomVerificationEmailTemplateName=e.CustomVerificationEmailTemplateName}},ix=class t extends Ie{name="EventDestinationDoesNotExistException";$fault="client";ConfigurationSetName;EventDestinationName;constructor(e){super({name:"EventDestinationDoesNotExistException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.ConfigurationSetName=e.ConfigurationSetName,this.EventDestinationName=e.EventDestinationName}},ax=class t extends Ie{name="TrackingOptionsDoesNotExistException";$fault="client";ConfigurationSetName;constructor(e){super({name:"TrackingOptionsDoesNotExistException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.ConfigurationSetName=e.ConfigurationSetName}},cx=class t extends Ie{name="TemplateDoesNotExistException";$fault="client";TemplateName;constructor(e){super({name:"TemplateDoesNotExistException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.TemplateName=e.TemplateName}},ux=class t extends Ie{name="InvalidDeliveryOptionsException";$fault="client";constructor(e){super({name:"InvalidDeliveryOptionsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},px=class t extends Ie{name="InvalidPolicyException";$fault="client";constructor(e){super({name:"InvalidPolicyException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},dx=class t extends Ie{name="InvalidRenderingParameterException";$fault="client";TemplateName;constructor(e){super({name:"InvalidRenderingParameterException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.TemplateName=e.TemplateName}},lx=class t extends Ie{name="MailFromDomainNotVerifiedException";$fault="client";constructor(e){super({name:"MailFromDomainNotVerifiedException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},mx=class t extends Ie{name="MessageRejected";$fault="client";constructor(e){super({name:"MessageRejected",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},fx=class t extends Ie{name="MissingRenderingAttributeException";$fault="client";TemplateName;constructor(e){super({name:"MissingRenderingAttributeException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.TemplateName=e.TemplateName}},hx=class t extends Ie{name="ProductionAccessNotGrantedException";$fault="client";constructor(e){super({name:"ProductionAccessNotGrantedException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}};var $ie="AlreadyExistsException";var Lie="AccountSendingPausedException";var SG="Body";var Mie="BccAddresses";var Bie="Bucket",Uie="Content";var Fie="CcAddresses";var Gie="CannotDeleteException";var Hie="ConfigurationSetAlreadyExistsException";var jie="ConfigurationSetDoesNotExistException",$s="ConfigurationSetName",Vie="ConfigurationSetSendingPausedException";var zie="CustomVerificationEmailInvalidContentException";var Kie="CustomVerificationEmailTemplateAlreadyExistsException",Wie="CustomVerificationEmailTemplateDoesNotExistException",EG="CustomVerificationEmailTemplateName";var qie="Charset";var _G="Destination";var Jie="Data";var Qie="EventDestinationAlreadyExistsException",Yie="EventDestinationDoesNotExistException",Ql="EventDestinationName";var Xie="FunctionArn";var Zie="FromEmailAddress",eae="FromEmailAddressNotVerifiedException";var tae="Html";var rae="InvalidConfigurationSetException",oae="InvalidCloudWatchDestinationException";var nae="InvalidDeliveryOptionsException";var sae="InvalidFirehoseDestinationException",iae="InvalidLambdaFunctionException";var aae="InvalidPolicyException";var cae="InvalidRenderingParameterException",uae="InvalidS3ConfigurationException",pae="InvalidSNSDestinationException",dae="InvalidSnsTopicException";var lae="InvalidTemplateException",mae="InvalidTrackingOptionsException";var fae="LimitExceededException";var RG="Message";var hae="MailFromDomainNotVerifiedException";var gae="MessageId";var xae="MissingRenderingAttributeException",yae="MessageRejected";var Sae="MessageTag",Eae="MessageTagList";var Yl="Name";var _ae="ProductionAccessNotGrantedException";var Rae="RuleDoesNotExistException";var bae="ReturnPath",vae="ReturnPathArn";var Cae="RuleSetDoesNotExistException";var Iae="ReplyToAddresses";var Tae="SourceArn";var wae="SendEmailRequest",Aae="SendEmailResponse";var Dae="SendEmail";var Pae="Source";var Oae="Subject",kae="Text";var Nae="ToAddresses";var $ae="TemplateDoesNotExistException";var gx="TemplateName";var Lae="TrackingOptionsAlreadyExistsException",Mae="TrackingOptionsDoesNotExistException";var Bae="Tags";var Uae="Topic";var Fae="Value";var He="awsQueryError",je="client",Ve="error",ze="httpError",Ke="message",bG="smithy.ts.sdk.synthetic.com.amazonaws.ses",W="com.amazonaws.ses",Gae=[-3,W,Lie,{[He]:["AccountSendingPausedException",400],[Ve]:je,[ze]:400},[Ke],[0]];b.for(W).registerError(Gae,L0);var Hae=[-3,W,$ie,{[He]:["AlreadyExists",400],[Ve]:je,[ze]:400},[Yl,Ke],[0,0]];b.for(W).registerError(Hae,M0);var jae=[3,W,SG,0,[kae,tae],[()=>Wv,()=>Wv]];var Vae=[-3,W,Gie,{[He]:["CannotDelete",400],[Ve]:je,[ze]:400},[Yl,Ke],[0,0]];b.for(W).registerError(Vae,B0);var zae=[-3,W,Hie,{[He]:["ConfigurationSetAlreadyExists",400],[Ve]:je,[ze]:400},[$s,Ke],[0,0]];b.for(W).registerError(zae,G0);var Kae=[-3,W,jie,{[He]:["ConfigurationSetDoesNotExist",400],[Ve]:je,[ze]:400},[$s,Ke],[0,0]];b.for(W).registerError(Kae,H0);var Wae=[-3,W,Vie,{[He]:["ConfigurationSetSendingPausedException",400],[Ve]:je,[ze]:400},[$s,Ke],[0,0]];b.for(W).registerError(Wae,j0);var Wv=[3,W,Uie,0,[Jie,qie],[0,0]];var qae=[-3,W,zie,{[He]:["CustomVerificationEmailInvalidContent",400],[Ve]:je,[ze]:400},[Ke],[0]];b.for(W).registerError(qae,Y0);var Jae=[-3,W,Kie,{[He]:["CustomVerificationEmailTemplateAlreadyExists",400],[Ve]:je,[ze]:400},[EG,Ke],[0,0]];b.for(W).registerError(Jae,X0);var Qae=[-3,W,Wie,{[He]:["CustomVerificationEmailTemplateDoesNotExist",400],[Ve]:je,[ze]:400},[EG,Ke],[0,0]];b.for(W).registerError(Qae,sx);var Yae=[3,W,_G,0,[Nae,Fie,Mie],[64,64,64]];var Xae=[-3,W,Qie,{[He]:["EventDestinationAlreadyExists",400],[Ve]:je,[ze]:400},[$s,Ql,Ke],[0,0,0]];b.for(W).registerError(Xae,z0);var Zae=[-3,W,Yie,{[He]:["EventDestinationDoesNotExist",400],[Ve]:je,[ze]:400},[$s,Ql,Ke],[0,0,0]];b.for(W).registerError(Zae,ix);var ece=[-3,W,eae,{[He]:["FromEmailAddressNotVerified",400],[Ve]:je,[ze]:400},[Zie,Ke],[0,0]];b.for(W).registerError(ece,Z0);var tce=[-3,W,oae,{[He]:["InvalidCloudWatchDestination",400],[Ve]:je,[ze]:400},[$s,Ql,Ke],[0,0,0]];b.for(W).registerError(tce,K0);var rce=[-3,W,rae,{[He]:["InvalidConfigurationSet",400],[Ve]:je,[ze]:400},[Ke],[0]];b.for(W).registerError(rce,V0);var oce=[-3,W,nae,{[He]:["InvalidDeliveryOptions",400],[Ve]:je,[ze]:400},[Ke],[0]];b.for(W).registerError(oce,ux);var nce=[-3,W,sae,{[He]:["InvalidFirehoseDestination",400],[Ve]:je,[ze]:400},[$s,Ql,Ke],[0,0,0]];b.for(W).registerError(nce,W0);var sce=[-3,W,iae,{[He]:["InvalidLambdaFunction",400],[Ve]:je,[ze]:400},[Xie,Ke],[0,0]];b.for(W).registerError(sce,ex);var ice=[-3,W,aae,{[He]:["InvalidPolicy",400],[Ve]:je,[ze]:400},[Ke],[0]];b.for(W).registerError(ice,px);var ace=[-3,W,cae,{[He]:["InvalidRenderingParameter",400],[Ve]:je,[ze]:400},[gx,Ke],[0,0]];b.for(W).registerError(ace,dx);var cce=[-3,W,uae,{[He]:["InvalidS3Configuration",400],[Ve]:je,[ze]:400},[Bie,Ke],[0,0]];b.for(W).registerError(cce,tx);var uce=[-3,W,pae,{[He]:["InvalidSNSDestination",400],[Ve]:je,[ze]:400},[$s,Ql,Ke],[0,0,0]];b.for(W).registerError(uce,q0);var pce=[-3,W,dae,{[He]:["InvalidSnsTopic",400],[Ve]:je,[ze]:400},[Uae,Ke],[0,0]];b.for(W).registerError(pce,rx);var dce=[-3,W,lae,{[He]:["InvalidTemplate",400],[Ve]:je,[ze]:400},[gx,Ke],[0,0]];b.for(W).registerError(dce,nx);var lce=[-3,W,mae,{[He]:["InvalidTrackingOptions",400],[Ve]:je,[ze]:400},[Ke],[0]];b.for(W).registerError(lce,J0);var mce=[-3,W,fae,{[He]:["LimitExceeded",400],[Ve]:je,[ze]:400},[Ke],[0]];b.for(W).registerError(mce,U0);var fce=[-3,W,hae,{[He]:["MailFromDomainNotVerifiedException",400],[Ve]:je,[ze]:400},[Ke],[0]];b.for(W).registerError(fce,lx);var hce=[3,W,RG,0,[Oae,SG],[()=>Wv,()=>jae]];var gce=[-3,W,yae,{[He]:["MessageRejected",400],[Ve]:je,[ze]:400},[Ke],[0]];b.for(W).registerError(gce,mx);var xce=[3,W,Sae,0,[Yl,Fae],[0,0]],yce=[-3,W,xae,{[He]:["MissingRenderingAttribute",400],[Ve]:je,[ze]:400},[gx,Ke],[0,0]];b.for(W).registerError(yce,fx);var Sce=[-3,W,_ae,{[He]:["ProductionAccessNotGranted",400],[Ve]:je,[ze]:400},[Ke],[0]];b.for(W).registerError(Sce,hx);var Ece=[-3,W,Rae,{[He]:["RuleDoesNotExist",400],[Ve]:je,[ze]:400},[Yl,Ke],[0,0]];b.for(W).registerError(Ece,ox);var _ce=[-3,W,Cae,{[He]:["RuleSetDoesNotExist",400],[Ve]:je,[ze]:400},[Yl,Ke],[0,0]];b.for(W).registerError(_ce,F0);var Rce=[3,W,wae,0,[Pae,_G,RG,Iae,bae,Tae,vae,Bae,$s],[0,()=>Yae,()=>hce,64,0,0,0,()=>wce,0]],bce=[3,W,Aae,0,[gae],[0]];var vce=[-3,W,$ae,{[He]:["TemplateDoesNotExist",400],[Ve]:je,[ze]:400},[gx,Ke],[0,0]];b.for(W).registerError(vce,cx);var Cce=[-3,W,Lae,{[He]:["TrackingOptionsAlreadyExistsException",400],[Ve]:je,[ze]:400},[$s,Ke],[0,0]];b.for(W).registerError(Cce,Q0);var Ice=[-3,W,Mae,{[He]:["TrackingOptionsDoesNotExistException",400],[Ve]:je,[ze]:400},[$s,Ke],[0,0]];b.for(W).registerError(Ice,ax);var Tce=[-3,bG,"SESServiceException",0,[],[]];b.for(bG).registerError(Tce,Ie);var wce=[1,W,Eae,0,()=>xce];var vG=[9,W,Dae,0,()=>Rce,()=>bce];xe();U();var xx=class extends Y.classBuilder().ep(X9).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("SimpleEmailService","SendEmail",{}).n("SESClient","SendEmailCommand").sc(vG).build(){};var Ace=()=>new $0({region:process.env.AWS_REGION||"us-east-1",maxAttempts:3,retryMode:"adaptive",requestHandler:{requestTimeout:1e4}}),qv=null,Dce=()=>(qv||(qv=Ace(),y.info("SES client initialized")),qv),Pce={passwordReset:t=>({subject:"Password Reset Request - AWS Lambda Control Plane",htmlBody:`
      <!DOCTYPE html>
      <html>
      <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Password Reset Request</title>
        <style>
          body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; max-width: 600px; margin: 0 auto; padding: 20px; }
          .header { background-color: #f8f9fa; padding: 20px; border-radius: 5px; margin-bottom: 20px; }
          .content { padding: 20px 0; }
          .button { display: inline-block; background-color: #007bff; color: white; padding: 12px 24px; text-decoration: none; border-radius: 5px; margin: 20px 0; }
          .footer { margin-top: 30px; padding-top: 20px; border-top: 1px solid #eee; font-size: 12px; color: #666; }
          .warning { background-color: #fff3cd; border: 1px solid #ffeaa7; padding: 15px; border-radius: 5px; margin: 20px 0; }
        </style>
      </head>
      <body>
        <div class="header">
          <h1>Password Reset Request</h1>
        </div>
        
        <div class="content">
          <p>Hello ${t.recipientName},</p>
          
          <p>We received a request to reset your password for your AWS Lambda Control Plane account. If you made this request, please click the button below to reset your password:</p>
          
          <a href="${t.resetUrl}" class="button">Reset Password</a>
          
          <p>Alternatively, you can copy and paste this link into your browser:</p>
          <p style="word-break: break-all; background-color: #f8f9fa; padding: 10px; border-radius: 3px;">${t.resetUrl}</p>
          
          <div class="warning">
            <strong>Important:</strong> This password reset link will expire in ${t.expirationMinutes} minutes for security reasons.
          </div>
          
          <p>If you did not request a password reset, please ignore this email. Your password will remain unchanged.</p>
          
          <p>For security reasons, please do not share this email or the reset link with anyone.</p>
        </div>
        
        <div class="footer">
          <p>This is an automated message from AWS Lambda Control Plane. Please do not reply to this email.</p>
          <p>If you continue to have problems, please contact your system administrator.</p>
        </div>
      </body>
      </html>
    `,textBody:`
Password Reset Request - AWS Lambda Control Plane

Hello ${t.recipientName},

We received a request to reset your password for your AWS Lambda Control Plane account. If you made this request, please use the following link to reset your password:

${t.resetUrl}

IMPORTANT: This password reset link will expire in ${t.expirationMinutes} minutes for security reasons.

If you did not request a password reset, please ignore this email. Your password will remain unchanged.

For security reasons, please do not share this email or the reset link with anyone.

This is an automated message from AWS Lambda Control Plane. Please do not reply to this email.
If you continue to have problems, please contact your system administrator.
    `.trim()})},Qv=class{client;fromEmail;constructor(){this.client=Dce();let e=wr();this.fromEmail=e.ses.fromEmail}async sendEmail(e,r,o){try{let n=Array.isArray(e)?e:[e];y.info("Sending email via SES",{recipients:n.length,subject:r.subject,correlationId:o});let s={Source:this.fromEmail,Destination:{ToAddresses:n},Message:{Subject:{Data:r.subject,Charset:"UTF-8"},Body:{Html:{Data:r.htmlBody,Charset:"UTF-8"},Text:{Data:r.textBody,Charset:"UTF-8"}}}},i=new xx(s),a=await this.client.send(i);y.info("Email sent successfully via SES",{messageId:a.MessageId,recipients:n.length,correlationId:o})}catch(n){throw y.error("Failed to send email via SES",{error:n instanceof Error?n.message:"Unknown error",recipients:Array.isArray(e)?e.length:1,correlationId:o}),n}}async sendPasswordResetEmail(e,r,o,n){let i=`${wr().app.baseUrl}/auth/password-reset/confirm?token=${o}`,a=Pce.passwordReset({recipientName:r,resetToken:o,resetUrl:i,expirationMinutes:30});await this.sendEmail(e,a,n)}static isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}static normalizeEmail(e){return e.toLowerCase().trim()}},Jv=null,yx={get instance(){return Jv||(Jv=new Qv),Jv},sendEmail:(t,e,r)=>yx.instance.sendEmail(t,e,r),sendPasswordResetEmail:(t,e,r,o)=>yx.instance.sendPasswordResetEmail(t,e,r,o)};import{randomBytes as Oce,createHash as kce}from"crypto";var Yv=async(t,e)=>{try{y.info("Processing password reset request",{correlationId:t.correlationId,email:t.body?.email});let r=Cf.safeParse(t.body);if(!r.success){y.warn("Password reset request validation failed",{correlationId:t.correlationId,errors:r.error.errors}),H(e,"ValidationError","Invalid email format",t.correlationId,{validationErrors:r.error.errors});return}let{email:o}=r.data,n=await ie.getStaffByEmail(o,t.correlationId);if(!n.found||!n.staff){y.warn("Password reset request for non-existent email",{correlationId:t.correlationId,email:o}),e.status(200).json({success:!0,message:"If an account with that email exists, a password reset link has been sent.",timestamp:new Date().toISOString()});return}let s=n.staff;if(!s.enabled){y.warn("Password reset request for disabled account",{correlationId:t.correlationId,email:o,staffId:s.staff_id}),e.status(200).json({success:!0,message:"If an account with that email exists, a password reset link has been sent.",timestamp:new Date().toISOString()});return}let i=Oce(32).toString("hex"),a=kce("sha256").update(i).digest("hex"),c=Math.floor(Date.now()/1e3)+30*60,u=await ie.createPasswordResetToken({token_hash:a,staff_id:s.staff_id,expires_at:c},t.correlationId);if(!u.success){y.error("Failed to create password reset token",{correlationId:t.correlationId,staffId:s.staff_id,error:u.error}),H(e,"InternalError","Failed to generate reset token",t.correlationId);return}try{await yx.sendPasswordResetEmail(s.email,s.email.split("@")[0]||"User",i,t.correlationId),y.info("Password reset email sent successfully",{correlationId:t.correlationId,staffId:s.staff_id,email:s.email,tokenHash:a})}catch(m){y.error("Failed to send password reset email",{correlationId:t.correlationId,staffId:s.staff_id,email:s.email,error:m instanceof Error?m.message:"Unknown error"});try{await ie.deletePasswordResetToken(a,t.correlationId)}catch(f){y.error("Failed to cleanup password reset token after email failure",{correlationId:t.correlationId,tokenHash:a,error:f instanceof Error?f.message:"Unknown error"})}H(e,"InternalError","Failed to send reset email",t.correlationId);return}e.status(200).json({success:!0,message:"If an account with that email exists, a password reset link has been sent.",timestamp:new Date().toISOString()})}catch(r){y.error("Password reset request handler error",{correlationId:t.correlationId,error:r instanceof Error?r.message:"Unknown error"}),H(e,"InternalError","Password reset request failed",t.correlationId)}};import{createHash as Nce}from"crypto";var Xv=async(t,e)=>{try{y.info("Processing password reset confirmation",{correlationId:t.correlationId});let r=If.safeParse(t.body);if(!r.success){y.warn("Password reset confirmation validation failed",{correlationId:t.correlationId,errors:r.error.errors}),H(e,"ValidationError","Invalid reset token or password format",t.correlationId,{validationErrors:r.error.errors});return}let{token:o,new_password:n}=r.data,s=W9(n);if(!s.isValid){y.warn("Password reset confirmation with weak password",{correlationId:t.correlationId,errors:s.errors}),H(e,"ValidationError","Password does not meet security requirements",t.correlationId,{passwordErrors:s.errors});return}let i=Nce("sha256").update(o).digest("hex"),a=await ie.getPasswordResetToken(i,t.correlationId);if(!a.found||!a.token){y.warn("Password reset confirmation with invalid token",{correlationId:t.correlationId,tokenHash:i}),H(e,"Unauthorized","Invalid or expired reset token",t.correlationId);return}let c=a.token;if(a.expired){y.warn("Password reset confirmation with expired token",{correlationId:t.correlationId,tokenHash:i,expiresAt:new Date(c.expires_at*1e3).toISOString()}),H(e,"Unauthorized","Reset token has expired",t.correlationId);return}if(c.used_at){y.warn("Password reset confirmation with already used token",{correlationId:t.correlationId,tokenHash:i,usedAt:c.used_at}),H(e,"Unauthorized","Reset token has already been used",t.correlationId);return}let u=await ie.getStaffById(c.staff_id,t.correlationId);if(!u.found||!u.staff){y.error("Password reset token references non-existent staff member",{correlationId:t.correlationId,staffId:c.staff_id,tokenHash:i}),H(e,"InternalError","Invalid reset token",t.correlationId);return}let m=u.staff;if(!m.enabled){y.warn("Password reset confirmation for disabled account",{correlationId:t.correlationId,staffId:m.staff_id,email:m.email}),H(e,"Unauthorized","Account is disabled",t.correlationId);return}let f=await N0(n,t.correlationId),h=await ie.updateStaffPassword(m.staff_id,f,t.correlationId);if(!h.success){y.error("Failed to update staff password",{correlationId:t.correlationId,staffId:m.staff_id,error:h.error}),H(e,"InternalError","Failed to update password",t.correlationId);return}try{await ie.markPasswordResetTokenUsed(i,t.correlationId)}catch(g){y.error("Failed to mark password reset token as used",{correlationId:t.correlationId,tokenHash:i,error:g instanceof Error?g.message:"Unknown error"})}y.info("Password reset completed successfully",{correlationId:t.correlationId,staffId:m.staff_id,email:m.email}),e.status(200).json({success:!0,message:"Password has been reset successfully",timestamp:new Date().toISOString()})}catch(r){y.error("Password reset confirmation handler error",{correlationId:t.correlationId,error:r instanceof Error?r.message:"Unknown error"}),H(e,"InternalError","Password reset confirmation failed",t.correlationId)}};function CG(t){t.post("/auth/login",Rn({body:vf}),zv),t.post("/auth/password-reset/request",Rn({body:Cf}),Yv),t.post("/auth/password-reset/confirm",Rn({body:If}),Xv)}var Zv=async(t,e)=>{try{y.info("Processing staff registration request",{correlationId:t.correlationId,requestedBy:t.context.staff_id,requestedByEmail:t.context.email});let r=_f.safeParse(t.body);if(!r.success){y.warn("Staff registration validation failed",{correlationId:t.correlationId,errors:r.error.errors}),H(e,"ValidationError","Invalid staff registration data",t.correlationId,{validationErrors:r.error.errors});return}let{email:o,password:n,roles:s}=r.data,i=await N0(n,t.correlationId),a={email:o,password_hash:i,roles:s,enabled:!0},c=await ie.createStaff(a,t.correlationId);if(!c.success){y.warn("Staff registration failed",{correlationId:t.correlationId,email:o,error:c.error}),c.error?.includes("already exists")?H(e,"Conflict","Staff member with this email already exists",t.correlationId):H(e,"InternalError","Failed to create staff account",t.correlationId);return}y.info("Staff registration successful",{correlationId:t.correlationId,staffId:c.data?.staff_id,email:c.data?.email,roles:c.data?.roles,createdBy:t.context.staff_id}),e.status(201).json({success:!0,data:{staff_id:c.data?.staff_id,email:c.data?.email,roles:c.data?.roles,enabled:c.data?.enabled,created_at:c.data?.created_at},timestamp:new Date().toISOString()})}catch(r){y.error("Staff registration handler error",{correlationId:t.correlationId,error:r instanceof Error?r.message:"Unknown error"}),H(e,"InternalError","Staff registration failed",t.correlationId)}};var $ce=S.object({staff_id:S.string().uuid()}),eC=async(t,e)=>{try{y.info("Processing staff enable request",{correlationId:t.correlationId,requestedBy:t.context.staff_id,requestedByEmail:t.context.email});let r=$ce.safeParse(t.body);if(!r.success){y.warn("Staff enable validation failed",{correlationId:t.correlationId,errors:r.error.errors}),H(e,"ValidationError","Invalid staff enable request",t.correlationId,{validationErrors:r.error.errors});return}let{staff_id:o}=r.data,n=await ie.getStaffById(o,t.correlationId);if(!n.found||!n.staff){y.warn("Staff enable attempt for non-existent staff",{correlationId:t.correlationId,staffId:o}),H(e,"NotFound","Staff member not found",t.correlationId);return}if(n.staff.enabled){y.info("Staff member already enabled",{correlationId:t.correlationId,staffId:o,email:n.staff.email}),e.status(200).json({success:!0,data:{staff_id:n.staff.staff_id,email:n.staff.email,roles:n.staff.roles,enabled:n.staff.enabled,updated_at:n.staff.updated_at},message:"Staff member is already enabled",timestamp:new Date().toISOString()});return}let s=await ie.updateStaff(o,{enabled:!0},t.correlationId);if(!s.success){y.error("Failed to enable staff member",{correlationId:t.correlationId,staffId:o,error:s.error}),H(e,"InternalError","Failed to enable staff member",t.correlationId);return}y.info("Staff member enabled successfully",{correlationId:t.correlationId,staffId:o,email:s.data?.email,enabledBy:t.context.staff_id}),e.status(200).json({success:!0,data:{staff_id:s.data?.staff_id,email:s.data?.email,roles:s.data?.roles,enabled:s.data?.enabled,updated_at:s.data?.updated_at},timestamp:new Date().toISOString()})}catch(r){y.error("Staff enable handler error",{correlationId:t.correlationId,error:r instanceof Error?r.message:"Unknown error"}),H(e,"InternalError","Staff enable failed",t.correlationId)}};var Lce=S.object({staff_id:S.string().uuid()}),tC=async(t,e)=>{try{y.info("Processing staff disable request",{correlationId:t.correlationId,requestedBy:t.context.staff_id,requestedByEmail:t.context.email});let r=Lce.safeParse(t.body);if(!r.success){y.warn("Staff disable validation failed",{correlationId:t.correlationId,errors:r.error.errors}),H(e,"ValidationError","Invalid staff disable request",t.correlationId,{validationErrors:r.error.errors});return}let{staff_id:o}=r.data;if(o===t.context.staff_id){y.warn("Staff member attempted to disable themselves",{correlationId:t.correlationId,staffId:o}),H(e,"Forbidden","Cannot disable your own account",t.correlationId);return}let n=await ie.getStaffById(o,t.correlationId);if(!n.found||!n.staff){y.warn("Staff disable attempt for non-existent staff",{correlationId:t.correlationId,staffId:o}),H(e,"NotFound","Staff member not found",t.correlationId);return}if(!n.staff.enabled){y.info("Staff member already disabled",{correlationId:t.correlationId,staffId:o,email:n.staff.email}),e.status(200).json({success:!0,data:{staff_id:n.staff.staff_id,email:n.staff.email,roles:n.staff.roles,enabled:n.staff.enabled,updated_at:n.staff.updated_at},message:"Staff member is already disabled",timestamp:new Date().toISOString()});return}let s=await ie.updateStaff(o,{enabled:!1},t.correlationId);if(!s.success){y.error("Failed to disable staff member",{correlationId:t.correlationId,staffId:o,error:s.error}),H(e,"InternalError","Failed to disable staff member",t.correlationId);return}y.info("Staff member disabled successfully",{correlationId:t.correlationId,staffId:o,email:s.data?.email,disabledBy:t.context.staff_id}),e.status(200).json({success:!0,data:{staff_id:s.data?.staff_id,email:s.data?.email,roles:s.data?.roles,enabled:s.data?.enabled,updated_at:s.data?.updated_at},timestamp:new Date().toISOString()})}catch(r){y.error("Staff disable handler error",{correlationId:t.correlationId,error:r instanceof Error?r.message:"Unknown error"}),H(e,"InternalError","Staff disable failed",t.correlationId)}};var rC=async(t,e)=>{try{y.info("Processing staff profile request",{correlationId:t.correlationId,staffId:t.context.staff_id,email:t.context.email});let r=t.context.staff_id;if(!r){y.error("Staff profile request without staff_id in context",{correlationId:t.correlationId,context:t.context}),H(e,"Unauthorized","Invalid authentication context",t.correlationId);return}let o=await ie.getStaffById(r,t.correlationId);if(!o.found||!o.staff){y.warn("Staff profile request for non-existent staff",{correlationId:t.correlationId,staffId:r}),H(e,"NotFound","Staff member not found",t.correlationId);return}let n=o.staff;if(!n.enabled){y.warn("Staff profile request for disabled account",{correlationId:t.correlationId,staffId:r,email:n.email}),H(e,"Forbidden","Account is disabled",t.correlationId);return}y.info("Staff profile retrieved successfully",{correlationId:t.correlationId,staffId:r,email:n.email,roles:n.roles}),e.status(200).json({success:!0,data:{staff_id:n.staff_id,email:n.email,roles:n.roles,enabled:n.enabled,created_at:n.created_at,updated_at:n.updated_at},timestamp:new Date().toISOString()})}catch(r){y.error("Staff profile handler error",{correlationId:t.correlationId,staffId:t.context.staff_id,error:r instanceof Error?r.message:"Unknown error"}),H(e,"InternalError","Failed to retrieve profile",t.correlationId)}};var Mce=S.object({staff_id:S.string().uuid()}),Bce=S.object({staff_id:S.string().uuid()});function IG(t){t.post("/staff/register",vn(),Ws,Rn({body:_f}),Zv),t.post("/staff/enable",vn(),Ws,Rn({body:Mce}),eC),t.post("/staff/disable",vn(),Ws,Rn({body:Bce}),tC),t.get("/staff/me",vn(),rC)}var oC=async(t,e)=>{try{y.info("Processing tenant registration request",{correlationId:t.correlationId,requestedBy:t.context.staff_id,requestedByEmail:t.context.email,requestedByRoles:t.context.roles});let r=Rf.safeParse(t.body);if(!r.success){y.warn("Tenant registration validation failed",{correlationId:t.correlationId,errors:r.error.errors}),H(e,"ValidationError","Invalid tenant registration data",t.correlationId,{validationErrors:r.error.errors});return}let{name:o,email:n,contact_info:s}=r.data,i={name:o,email:n,contact_info:s||{}},a=await ie.createTenant(i,t.correlationId);if(!a.success){y.warn("Tenant registration failed",{correlationId:t.correlationId,name:o,email:n,error:a.error}),a.error?.includes("already exists")||a.error?.includes("Conflict")?H(e,"Conflict","Tenant with this information already exists",t.correlationId):H(e,"InternalError","Failed to create tenant",t.correlationId);return}y.info("Tenant registration successful",{correlationId:t.correlationId,tenantId:a.data?.tenant_id,name:a.data?.name,email:a.data?.email,status:a.data?.status,createdBy:t.context.staff_id}),y.info("Tenant ready for downstream provisioning",{correlationId:t.correlationId,tenantId:a.data?.tenant_id,status:a.data?.status}),e.status(201).json({success:!0,data:{tenant_id:a.data?.tenant_id,name:a.data?.name,email:a.data?.email,contact_info:a.data?.contact_info,status:a.data?.status,created_at:a.data?.created_at},timestamp:new Date().toISOString()})}catch(r){y.error("Tenant registration handler error",{correlationId:t.correlationId,error:r instanceof Error?r.message:"Unknown error"}),H(e,"InternalError","Tenant registration failed",t.correlationId)}};function TG(t){t.post("/tenant/register",vn(),TE,Rn({body:Rf}),oC)}var nC=async(t,e)=>{try{y.info("Processing cluster list request",{correlationId:t.correlationId,requestedBy:t.context.staff_id,requestedByEmail:t.context.email});let r=await ie.getAllClusters(t.correlationId);y.info("Cluster list retrieved successfully",{correlationId:t.correlationId,clusterCount:r.length,requestedBy:t.context.staff_id}),e.status(200).json({success:!0,data:{clusters:r.map(o=>({cluster_id:o.cluster_id,name:o.name,type:o.type,region:o.region,cidr:o.cidr,status:o.status,deployment_status:o.deployment_status,deployment_id:o.deployment_id,created_at:o.created_at,updated_at:o.updated_at,deployed_at:o.deployed_at})),total_count:r.length},timestamp:new Date().toISOString()})}catch(r){y.error("Cluster list handler error",{correlationId:t.correlationId,error:r instanceof Error?r.message:"Unknown error"}),H(e,"InternalError","Failed to retrieve cluster list",t.correlationId)}};var sC=async(t,e)=>{try{y.info("Processing cluster creation request",{correlationId:t.correlationId,requestedBy:t.context.staff_id,requestedByEmail:t.context.email});let r=bf.safeParse(t.body);if(!r.success){y.warn("Cluster creation validation failed",{correlationId:t.correlationId,errors:r.error.errors}),H(e,"ValidationError","Invalid cluster creation data",t.correlationId,{validationErrors:r.error.errors});return}let{name:o,type:n,environment:s,region:i,cidr:a}=r.data,c={name:o,type:n,environment:s,region:i,cidr:a,status:"created"},u=await ie.createCluster(c,t.correlationId);if(!u.success){y.warn("Cluster creation failed",{correlationId:t.correlationId,name:o,type:n,region:i,cidr:a,error:u.error}),u.error?.includes("overlap")||u.error?.includes("CIDR")?H(e,"Conflict",u.error,t.correlationId):u.error?.includes("already exists")||u.error?.includes("Conflict")?H(e,"Conflict","Cluster with this configuration already exists",t.correlationId):H(e,"InternalError","Failed to create cluster",t.correlationId);return}y.info("Cluster creation successful",{correlationId:t.correlationId,clusterId:u.data?.cluster_id,name:u.data?.name,type:u.data?.type,environment:u.data?.environment,region:u.data?.region,cidr:u.data?.cidr,status:u.data?.status,createdBy:t.context.staff_id}),e.status(201).json({success:!0,data:{cluster_id:u.data?.cluster_id,name:u.data?.name,type:u.data?.type,environment:u.data?.environment,region:u.data?.region,cidr:u.data?.cidr,status:u.data?.status,created_at:u.data?.created_at,updated_at:u.data?.updated_at},timestamp:new Date().toISOString()})}catch(r){y.error("Cluster creation handler error",{correlationId:t.correlationId,error:r instanceof Error?r.message:"Unknown error"}),H(e,"InternalError","Cluster creation failed",t.correlationId)}};Js();Qs();Ys();Ts();rr();At();Ce();oi();xe();Rr();U();Qe();Zt();var wG=async(t,e,r)=>({operation:nt(e).operation,region:await ge(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function Uce(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"cloudformation",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}var AG=t=>{let e=[];switch(t.operation){default:e.push(Uce(t))}return e},DG=t=>{let e=Gr(t);return Object.assign(e,{authSchemePreference:ge(t.authSchemePreference??[])})};var PG=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"cloudformation"}),mn={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var OG={name:"@aws-sdk/client-cloudformation",description:"AWS SDK for JavaScript Cloudformation Client for Node.js, Browser and React Native",version:"3.958.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-cloudformation","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo cloudformation","test:e2e":"yarn g:vitest run -c vitest.config.e2e.mts","test:e2e:watch":"yarn g:vitest watch -c vitest.config.e2e.mts","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.957.0","@aws-sdk/credential-provider-node":"3.958.0","@aws-sdk/middleware-host-header":"3.957.0","@aws-sdk/middleware-logger":"3.957.0","@aws-sdk/middleware-recursion-detection":"3.957.0","@aws-sdk/middleware-user-agent":"3.957.0","@aws-sdk/region-config-resolver":"3.957.0","@aws-sdk/types":"3.957.0","@aws-sdk/util-endpoints":"3.957.0","@aws-sdk/util-user-agent-browser":"3.957.0","@aws-sdk/util-user-agent-node":"3.957.0","@smithy/config-resolver":"^4.4.5","@smithy/core":"^3.20.0","@smithy/fetch-http-handler":"^5.3.8","@smithy/hash-node":"^4.2.7","@smithy/invalid-dependency":"^4.2.7","@smithy/middleware-content-length":"^4.2.7","@smithy/middleware-endpoint":"^4.4.1","@smithy/middleware-retry":"^4.4.17","@smithy/middleware-serde":"^4.2.8","@smithy/middleware-stack":"^4.2.7","@smithy/node-config-provider":"^4.3.7","@smithy/node-http-handler":"^4.4.7","@smithy/protocol-http":"^5.3.7","@smithy/smithy-client":"^4.10.2","@smithy/types":"^4.11.0","@smithy/url-parser":"^4.2.7","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.16","@smithy/util-defaults-mode-node":"^4.2.19","@smithy/util-endpoints":"^3.2.7","@smithy/util-middleware":"^4.2.7","@smithy/util-retry":"^4.2.7","@smithy/util-utf8":"^4.2.0","@smithy/util-waiter":"^4.2.7",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-cloudformation",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-cloudformation"}};Qe();ii();rr();ai();Rr();Vo();Vn();U();ci();ui();Zn();Qe();Yn();U();Jn();Kt();wt();Is();nn();var HG="required",as="fn",cs="argv",Sp="ref";var kG="isSet",Xl="booleanEquals",xp="error",yp="endpoint",ta="tree",iC="PartitionResult",aC="getAttr",NG={[HG]:!1,type:"string"},$G={[HG]:!0,default:!1,type:"boolean"},LG={[Sp]:"Endpoint"},jG={[as]:Xl,[cs]:[{[Sp]:"UseFIPS"},!0]},VG={[as]:Xl,[cs]:[{[Sp]:"UseDualStack"},!0]},is={},MG={[as]:aC,[cs]:[{[Sp]:iC},"supportsFIPS"]},zG={[Sp]:iC},BG={[as]:Xl,[cs]:[!0,{[as]:aC,[cs]:[zG,"supportsDualStack"]}]},UG=[jG],FG=[VG],GG=[{[Sp]:"Region"}],Gce={version:"1.0",parameters:{Region:NG,UseDualStack:$G,UseFIPS:$G,Endpoint:NG},rules:[{conditions:[{[as]:kG,[cs]:[LG]}],rules:[{conditions:UG,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:xp},{conditions:FG,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:xp},{endpoint:{url:LG,properties:is,headers:is},type:yp}],type:ta},{conditions:[{[as]:kG,[cs]:GG}],rules:[{conditions:[{[as]:"aws.partition",[cs]:GG,assign:iC}],rules:[{conditions:[jG,VG],rules:[{conditions:[{[as]:Xl,[cs]:[!0,MG]},BG],rules:[{endpoint:{url:"https://cloudformation-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:is,headers:is},type:yp}],type:ta},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:xp}],type:ta},{conditions:UG,rules:[{conditions:[{[as]:Xl,[cs]:[MG,!0]}],rules:[{conditions:[{[as]:"stringEquals",[cs]:[{[as]:aC,[cs]:[zG,"name"]},"aws-us-gov"]}],endpoint:{url:"https://cloudformation.{Region}.amazonaws.com",properties:is,headers:is},type:yp},{endpoint:{url:"https://cloudformation-fips.{Region}.{PartitionResult#dnsSuffix}",properties:is,headers:is},type:yp}],type:ta},{error:"FIPS is enabled but this partition does not support FIPS",type:xp}],type:ta},{conditions:FG,rules:[{conditions:[BG],rules:[{endpoint:{url:"https://cloudformation.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:is,headers:is},type:yp}],type:ta},{error:"DualStack is enabled but this partition does not support DualStack",type:xp}],type:ta},{endpoint:{url:"https://cloudformation.{Region}.{PartitionResult#dnsSuffix}",properties:is,headers:is},type:yp}],type:ta}],type:ta},{error:"Invalid Configuration: Missing Region",type:xp}]},KG=Gce;var Hce=new lr({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),WG=(t,e={})=>Hce.get(t,()=>Br(KG,{endpointParams:t,logger:e.logger}));jt.aws=_r;var qG=t=>({apiVersion:"2010-05-15",base64Decoder:t?.base64Decoder??st,base64Encoder:t?.base64Encoder??we,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??WG,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??AG,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new vt}],logger:t?.logger??new Mt,protocol:t?.protocol??ri,protocolSettings:t?.protocolSettings??{defaultNamespace:"com.amazonaws.cloudformation",xmlNamespace:"http://cloudformation.amazonaws.com/doc/2010-05-15/",version:"2010-05-15",serviceTarget:"CloudFormation"},serviceId:t?.serviceId??"CloudFormation",urlParser:t?.urlParser??Lt,utf8Decoder:t?.utf8Decoder??it,utf8Encoder:t?.utf8Encoder??Xe});var JG=t=>{jr(process.version);let e=so(t),r=()=>e().then(Hr),o=qG(t);Ur(process.version);let n={profile:t?.profile,logger:o.logger};return{...o,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??F(Fr,n),bodyLengthChecker:t?.bodyLengthChecker??no,credentialDefaultProvider:t?.credentialDefaultProvider??ks,defaultUserAgentProvider:t?.defaultUserAgentProvider??ro({serviceId:o.serviceId,clientVersion:OG.version}),maxAttempts:t?.maxAttempts??F(Xr,t),region:t?.region??F(Jt,{...fr,...n}),requestHandler:Wt.create(t?.requestHandler??r),retryMode:t?.retryMode??F({...eo,default:async()=>(await r()).retryMode||hr},t),sha256:t?.sha256??Qt.bind(null,"sha256"),streamCollector:t?.streamCollector??ur,useDualstackEndpoint:t?.useDualstackEndpoint??F(Wr,n),useFipsEndpoint:t?.useFipsEndpoint??F(qr,n),userAgentAppId:t?.userAgentAppId??F(oo,n)}};ws();Oe();U();var QG=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,o=t.credentials;return{setHttpAuthScheme(n){let s=e.findIndex(i=>i.schemeId===n.schemeId);s===-1?e.push(n):e.splice(s,1,n)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(n){r=n},httpAuthSchemeProvider(){return r},setCredentials(n){o=n},credentials(){return o}}},YG=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()});var XG=(t,e)=>{let r=Object.assign(io(t),Vr(t),Ar(t),QG(t));return e.forEach(o=>o.configure(r)),Object.assign(t,ao(r),zr(r),Dr(r),YG(r))};var Zl=class extends Nt{config;constructor(...[e]){let r=JG(e||{});super(r),this.initConfig=r;let o=PG(r),n=Mr(o),s=Zr(n),i=Jr(s),a=i,c=Yr(a),u=DG(c),m=XG(u,e?.extensions||[]);this.config=m,this.middlewareStack.use(Lr(this.config)),this.middlewareStack.use(Kr(this.config)),this.middlewareStack.use(to(this.config)),this.middlewareStack.use(Qr(this.config)),this.middlewareStack.use(Pr(this.config)),this.middlewareStack.use(Or(this.config)),this.middlewareStack.use(kr(this.config)),this.middlewareStack.use(Nr(this.config,{httpAuthSchemeParametersProvider:wG,identityProviderConfigProvider:async f=>new dr({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use($r(this.config))}destroy(){super.destroy()}};Ce();U();var We=class t extends mr{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}};var Sx=class t extends We{name="InvalidOperationException";$fault="client";Message;constructor(e){super({name:"InvalidOperationException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},Ex=class t extends We{name="OperationNotFoundException";$fault="client";Message;constructor(e){super({name:"OperationNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},_x=class t extends We{name="CFNRegistryException";$fault="client";Message;constructor(e){super({name:"CFNRegistryException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},Rx=class t extends We{name="TypeNotFoundException";$fault="client";Message;constructor(e){super({name:"TypeNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},bx=class t extends We{name="AlreadyExistsException";$fault="client";Message;constructor(e){super({name:"AlreadyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},vx=class t extends We{name="TypeConfigurationNotFoundException";$fault="client";Message;constructor(e){super({name:"TypeConfigurationNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},Cx=class t extends We{name="TokenAlreadyExistsException";$fault="client";Message;constructor(e){super({name:"TokenAlreadyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},Ix=class t extends We{name="ChangeSetNotFoundException";$fault="client";Message;constructor(e){super({name:"ChangeSetNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},Tx=class t extends We{name="InsufficientCapabilitiesException";$fault="client";Message;constructor(e){super({name:"InsufficientCapabilitiesException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},wx=class t extends We{name="LimitExceededException";$fault="client";Message;constructor(e){super({name:"LimitExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},Ax=class t extends We{name="ConcurrentResourcesLimitExceededException";$fault="client";Message;constructor(e){super({name:"ConcurrentResourcesLimitExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},Dx=class t extends We{name="OperationIdAlreadyExistsException";$fault="client";Message;constructor(e){super({name:"OperationIdAlreadyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},Px=class t extends We{name="OperationInProgressException";$fault="client";Message;constructor(e){super({name:"OperationInProgressException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},Ox=class t extends We{name="StackSetNotFoundException";$fault="client";Message;constructor(e){super({name:"StackSetNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},kx=class t extends We{name="StaleRequestException";$fault="client";Message;constructor(e){super({name:"StaleRequestException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},Nx=class t extends We{name="CreatedButModifiedException";$fault="client";Message;constructor(e){super({name:"CreatedButModifiedException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},$x=class t extends We{name="NameAlreadyExistsException";$fault="client";Message;constructor(e){super({name:"NameAlreadyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},Lx=class t extends We{name="InvalidChangeSetStatusException";$fault="client";Message;constructor(e){super({name:"InvalidChangeSetStatusException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},Mx=class t extends We{name="GeneratedTemplateNotFoundException";$fault="client";Message;constructor(e){super({name:"GeneratedTemplateNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},Bx=class t extends We{name="StackSetNotEmptyException";$fault="client";Message;constructor(e){super({name:"StackSetNotEmptyException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},Ux=class t extends We{name="ResourceScanNotFoundException";$fault="client";Message;constructor(e){super({name:"ResourceScanNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},Fx=class t extends We{name="StackInstanceNotFoundException";$fault="client";Message;constructor(e){super({name:"StackInstanceNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},Gx=class t extends We{name="StackRefactorNotFoundException";$fault="client";Message;constructor(e){super({name:"StackRefactorNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},Hx=class t extends We{name="HookResultNotFoundException";$fault="client";Message;constructor(e){super({name:"HookResultNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},jx=class t extends We{name="StackNotFoundException";$fault="client";Message;constructor(e){super({name:"StackNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},Vx=class t extends We{name="ResourceScanInProgressException";$fault="client";Message;constructor(e){super({name:"ResourceScanInProgressException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},zx=class t extends We{name="InvalidStateTransitionException";$fault="client";Message;constructor(e){super({name:"InvalidStateTransitionException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},Kx=class t extends We{name="OperationStatusCheckFailedException";$fault="client";Message;constructor(e){super({name:"OperationStatusCheckFailedException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},Wx=class t extends We{name="ResourceScanLimitExceededException";$fault="client";Message;constructor(e){super({name:"ResourceScanLimitExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}};var jce="Arn";var Vce="AlreadyExistsException";var zce="CreatedButModifiedException";var Kce="CFNRegistryException";var Wce="CapabilitiesReason",qce="ConcurrentResourcesLimitExceededException",qx="ClientRequestToken";var Jce="ChangeSetId";var Qce="CreateStackInput";var Yce="ChangeSetNotFoundException",Xce="CreateStackOutput";var Zce="CreateStack",ZG="CreationTime";var Jx="Capabilities";var Qx="Description";var e5="DriftInformation";var t5="DeletionMode";var cC="DisableRollback";var eue="DescribeStackEvents",tue="DescribeStackEventsInput",rue="DescribeStackEventsOutput",oue="DeleteStackInput";var nue="DescribeStacksInput";var sue="DescribeStacksOutput";var iue="DeleteStack",aue="DescribeStacks",r5="DetailedStatus";var cue="DeclaredTransforms";var o5="DeletionTime";var uue="DefaultValue";var pue="EventId";var due="ExportName";var n5="EnableTerminationProtection";var lue="GeneratedTemplateNotFoundException";var mue="HookFailureMode";var fue="HookInvocationId",hue="HookInvocationPoint";var gue="HookResultNotFoundException";var xue="HookStatus",yue="HookStatusReason";var Sue="HookType";var Eue="InsufficientCapabilitiesException",_ue="InvalidChangeSetStatusException";var Rue="InvalidOperationException";var bue="InvalidStateTransitionException";var vue="Key";var s5="LastCheckTimestamp";var Cue="LimitExceededException";var uC="LastOperations";var Iue="LogicalResourceId";var Tue="ListStacks",wue="ListStacksInput";var Aue="ListStacksOutput";var i5="LastUpdatedTime";var mt="Message";var Due="MonitoringTimeInMinutes";var Pue="NameAlreadyExistsException",pC="NotificationARNs",Oue="NoEcho";var Ep="NextToken",kue="Output";var Nue="OperationEntry";var $ue="OnFailure",Yx="OperationId",Lue="OperationIdAlreadyExistsException",Mue="OperationInProgressException",Bue="OutputKey",Uue="OperationNotFoundException";var Fue="OperationStatusCheckFailedException";var Gue="OperationType";var Hue="OutputValue",a5="Outputs",em="Parameters";var c5="ParentId";var u5="ParameterKey";var jue="PhysicalResourceId";var Vue="ParameterValue",zue="Parameter";var Xx="RoleARN";var Zx="RollbackConfiguration";var dC="RetainExceptOnCreate";var p5="RootId";var Kue="ResourceProperties";var Wue="RetainResources";var que="ResourceScanInProgressException";var Jue="ResourceScanLimitExceededException",Que="ResourceScanNotFoundException";var Yue="ResourceStatusReason";var Xue="ResourceStatus";var Zue="ResourceType";var d5="ResourceTypes";var l5="RollbackTriggers",epe="RollbackTrigger",tpe="ResolvedValue";var rpe="StackDriftInformation",ope="StackDriftInformationSummary",m5="StackDriftStatus";var f5="StackEvents",npe="StackEvent";var tm="StackId";var spe="StackInstanceNotFoundException";var Ba="StackName",ipe="StackNotFoundException",h5="StackPolicyBody",ape="StackPolicyDuringUpdateBody",cpe="StackPolicyDuringUpdateURL",g5="StackPolicyURL";var upe="StaleRequestException";var ppe="StackRefactorNotFoundException";var dpe="StackStatusFilter";var lpe="StackSetNotEmptyException",mpe="StackSetNotFoundException";var x5="StackStatusReason";var y5="StackSummaries",S5="StackStatus",fpe="StackSummary";var E5="Stacks",hpe="Stack";var gpe="Type";var xpe="TokenAlreadyExistsException",lC="TemplateBody";var ype="TypeConfigurationNotFoundException";var Spe="TemplateDescription";var _5="TimeoutInMinutes";var Epe="TypeNotFoundException";var _pe="TemplateParameter";var Rpe="TemplateParameters";var mC="TemplateURL";var ey="Tags",bpe="Tag";var vpe="Timestamp";var Cpe="UsePreviousTemplate",Ipe="UsePreviousValue";var Tpe="UpdateStack",wpe="UpdateStackInput";var Ape="UpdateStackOutput";var Dpe="Value";var Ppe="ValidateTemplate",Ope="ValidateTemplateInput",kpe="ValidateTemplateOutput";var ft="awsQueryError",ht="client",gt="error",xt="httpError",R5="smithy.ts.sdk.synthetic.com.amazonaws.cloudformation",L="com.amazonaws.cloudformation";var Npe=[-3,L,Vce,{[ft]:["AlreadyExistsException",400],[gt]:ht,[xt]:400},[mt],[0]];b.for(L).registerError(Npe,bx);var $pe=[-3,L,Kce,{[ft]:["CFNRegistryException",400],[gt]:ht,[xt]:400},[mt],[0]];b.for(L).registerError($pe,_x);var Lpe=[-3,L,Yce,{[ft]:["ChangeSetNotFound",404],[gt]:ht,[xt]:404},[mt],[0]];b.for(L).registerError(Lpe,Ix);var Mpe=[-3,L,qce,{[ft]:["ConcurrentResourcesLimitExceeded",429],[gt]:ht,[xt]:429},[mt],[0]];b.for(L).registerError(Mpe,Ax);var Bpe=[-3,L,zce,{[ft]:["CreatedButModifiedException",409],[gt]:ht,[xt]:409},[mt],[0]];b.for(L).registerError(Bpe,Nx);var Upe=[3,L,Qce,0,[Ba,lC,mC,em,cC,Zx,_5,pC,Jx,d5,Xx,$ue,h5,g5,ey,qx,n5,dC],[0,0,0,()=>hC,2,()=>fC,1,64,64,64,0,0,0,0,()=>gC,0,2,2]];var Fpe=[3,L,Xce,0,[tm,Yx],[0,0]];var Gpe=[3,L,oue,0,[Ba,Wue,Xx,qx,t5],[0,64,0,0,0]];var Hpe=[3,L,tue,0,[Ba,Ep],[0,0]],jpe=[3,L,rue,0,[f5,Ep],[()=>Mde,0]];var Vpe=[3,L,nue,0,[Ba,Ep],[0,0]],zpe=[3,L,sue,0,[E5,Ep],[()=>Bde,0]];var Kpe=[-3,L,lue,{[ft]:["GeneratedTemplateNotFound",404],[gt]:ht,[xt]:404},[mt],[0]];b.for(L).registerError(Kpe,Mx);var Wpe=[-3,L,gue,{[ft]:["HookResultNotFound",404],[gt]:ht,[xt]:404},[mt],[0]];b.for(L).registerError(Wpe,Hx);var qpe=[-3,L,Eue,{[ft]:["InsufficientCapabilitiesException",400],[gt]:ht,[xt]:400},[mt],[0]];b.for(L).registerError(qpe,Tx);var Jpe=[-3,L,_ue,{[ft]:["InvalidChangeSetStatus",400],[gt]:ht,[xt]:400},[mt],[0]];b.for(L).registerError(Jpe,Lx);var Qpe=[-3,L,Rue,{[ft]:["InvalidOperationException",400],[gt]:ht,[xt]:400},[mt],[0]];b.for(L).registerError(Qpe,Sx);var Ype=[-3,L,bue,{[ft]:["InvalidStateTransition",400],[gt]:ht,[xt]:400},[mt],[0]];b.for(L).registerError(Ype,zx);var Xpe=[-3,L,Cue,{[ft]:["LimitExceededException",400],[gt]:ht,[xt]:400},[mt],[0]];b.for(L).registerError(Xpe,wx);var Zpe=[3,L,wue,0,[Ep,dpe],[0,64]],ede=[3,L,Aue,0,[y5,Ep],[()=>Ude,0]];var tde=[-3,L,Pue,{[ft]:["NameAlreadyExistsException",409],[gt]:ht,[xt]:409},[mt],[0]];b.for(L).registerError(tde,$x);var rde=[3,L,Nue,0,[Gue,Yx],[0,0]];var ode=[-3,L,Lue,{[ft]:["OperationIdAlreadyExistsException",409],[gt]:ht,[xt]:409},[mt],[0]];b.for(L).registerError(ode,Dx);var nde=[-3,L,Mue,{[ft]:["OperationInProgressException",409],[gt]:ht,[xt]:409},[mt],[0]];b.for(L).registerError(nde,Px);var sde=[-3,L,Uue,{[ft]:["OperationNotFoundException",404],[gt]:ht,[xt]:404},[mt],[0]];b.for(L).registerError(sde,Ex);var ide=[-3,L,Fue,{[ft]:["ConditionalCheckFailed",400],[gt]:ht,[xt]:400},[mt],[0]];b.for(L).registerError(ide,Kx);var ade=[3,L,kue,0,[Bue,Hue,Qx,due],[0,0,0,0]],cde=[3,L,zue,0,[u5,Vue,Ipe,tpe],[0,0,2,0]];var ude=[-3,L,que,{[ft]:["ResourceScanInProgress",400],[gt]:ht,[xt]:400},[mt],[0]];b.for(L).registerError(ude,Vx);var pde=[-3,L,Jue,{[ft]:["ResourceScanLimitExceeded",400],[gt]:ht,[xt]:400},[mt],[0]];b.for(L).registerError(pde,Wx);var dde=[-3,L,Que,{[ft]:["ResourceScanNotFound",400],[gt]:ht,[xt]:400},[mt],[0]];b.for(L).registerError(dde,Ux);var fC=[3,L,Zx,0,[l5,Due],[()=>Lde,1]];var lde=[3,L,epe,0,[jce,gpe],[0,0]];var mde=[3,L,hpe,0,[tm,Ba,Jce,Qx,em,ZG,o5,i5,Zx,S5,x5,cC,pC,_5,Jx,a5,Xx,ey,n5,c5,p5,e5,dC,t5,r5,uC],[0,0,0,0,()=>hC,4,4,4,()=>fC,0,0,2,64,1,64,()=>$de,0,()=>gC,2,0,0,()=>fde,2,0,0,()=>b5]];var fde=[3,L,rpe,0,[m5,s5],[0,4]],hde=[3,L,ope,0,[m5,s5],[0,4]],gde=[3,L,npe,0,[tm,pue,Ba,Yx,Iue,jue,Zue,vpe,Xue,Yue,Kue,qx,Sue,xue,yue,hue,fue,mue,r5],[0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0]];var xde=[-3,L,spe,{[ft]:["StackInstanceNotFoundException",404],[gt]:ht,[xt]:404},[mt],[0]];b.for(L).registerError(xde,Fx);var yde=[-3,L,ipe,{[ft]:["StackNotFoundException",404],[gt]:ht,[xt]:404},[mt],[0]];b.for(L).registerError(yde,jx);var Sde=[-3,L,ppe,{[ft]:["StackRefactorNotFoundException",404],[gt]:ht,[xt]:404},[mt],[0]];b.for(L).registerError(Sde,Gx);var Ede=[-3,L,lpe,{[ft]:["StackSetNotEmptyException",409],[gt]:ht,[xt]:409},[mt],[0]];b.for(L).registerError(Ede,Bx);var _de=[-3,L,mpe,{[ft]:["StackSetNotFoundException",404],[gt]:ht,[xt]:404},[mt],[0]];b.for(L).registerError(_de,Ox);var Rde=[3,L,fpe,0,[tm,Ba,Spe,ZG,i5,o5,S5,x5,c5,p5,e5,uC],[0,0,0,4,4,4,0,0,0,0,()=>hde,()=>b5]],bde=[-3,L,upe,{[ft]:["StaleRequestException",409],[gt]:ht,[xt]:409},[mt],[0]];b.for(L).registerError(bde,kx);var vde=[3,L,bpe,0,[vue,Dpe],[0,0]];var Cde=[3,L,_pe,0,[u5,uue,Oue,Qx],[0,0,2,0]];var Ide=[-3,L,xpe,{[ft]:["TokenAlreadyExistsException",400],[gt]:ht,[xt]:400},[mt],[0]];b.for(L).registerError(Ide,Cx);var Tde=[-3,L,ype,{[ft]:["TypeConfigurationNotFoundException",404],[gt]:ht,[xt]:404},[mt],[0]];b.for(L).registerError(Tde,vx);var wde=[-3,L,Epe,{[ft]:["TypeNotFoundException",404],[gt]:ht,[xt]:404},[mt],[0]];b.for(L).registerError(wde,Rx);var Ade=[3,L,wpe,0,[Ba,lC,mC,Cpe,ape,cpe,em,Jx,d5,Xx,Zx,h5,g5,pC,ey,cC,qx,dC],[0,0,0,2,0,0,()=>hC,64,64,0,()=>fC,0,0,64,()=>gC,2,0,2]];var Dde=[3,L,Ape,0,[tm,Yx],[0,0]];var Pde=[3,L,Ope,0,[lC,mC],[0,0]],Ode=[3,L,kpe,0,[em,Qx,Jx,Wce,cue],[()=>Fde,0,64,0,64]];var kde="unit",Nde=[-3,R5,"CloudFormationServiceException",0,[],[]];b.for(R5).registerError(Nde,We);var b5=[1,L,uC,0,()=>rde];var $de=[1,L,a5,0,()=>ade];var hC=[1,L,em,0,()=>cde];var Lde=[1,L,l5,0,()=>lde];var Mde=[1,L,f5,0,()=>gde];var Bde=[1,L,E5,0,()=>mde];var Ude=[1,L,y5,0,()=>Rde];var gC=[1,L,ey,0,()=>vde],Fde=[1,L,Rpe,0,()=>Cde];var v5=[9,L,Zce,0,()=>Upe,()=>Fpe];var C5=[9,L,iue,0,()=>Gpe,()=>kde];var I5=[9,L,eue,0,()=>Hpe,()=>jpe];var T5=[9,L,aue,0,()=>Vpe,()=>zpe];var w5=[9,L,Tue,0,()=>Zpe,()=>ede];var A5=[9,L,Tpe,0,()=>Ade,()=>Dde];var D5=[9,L,Ppe,0,()=>Pde,()=>Ode];xe();U();var ty=class extends Y.classBuilder().ep(mn).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("CloudFormation","CreateStack",{}).n("CloudFormationClient","CreateStackCommand").sc(v5).build(){};xe();U();var ry=class extends Y.classBuilder().ep(mn).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("CloudFormation","DeleteStack",{}).n("CloudFormationClient","DeleteStackCommand").sc(C5).build(){};xe();U();var oy=class extends Y.classBuilder().ep(mn).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("CloudFormation","DescribeStackEvents",{}).n("CloudFormationClient","DescribeStackEventsCommand").sc(I5).build(){};xe();U();var rm=class extends Y.classBuilder().ep(mn).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("CloudFormation","DescribeStacks",{}).n("CloudFormationClient","DescribeStacksCommand").sc(T5).build(){};xe();U();var ny=class extends Y.classBuilder().ep(mn).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("CloudFormation","ListStacks",{}).n("CloudFormationClient","ListStacksCommand").sc(w5).build(){};xe();U();var sy=class extends Y.classBuilder().ep(mn).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("CloudFormation","UpdateStack",{}).n("CloudFormationClient","UpdateStackCommand").sc(A5).build(){};xe();U();var iy=class extends Y.classBuilder().ep(mn).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("CloudFormation","ValidateTemplate",{}).n("CloudFormationClient","ValidateTemplateCommand").sc(D5).build(){};Js();Qs();Ys();Ts();rr();At();Ce();oi();xe();Rr();U();Qe();Zt();var O5=async(t,e,r)=>({operation:nt(e).operation,region:await ge(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function Gde(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function P5(t){return{schemeId:"smithy.api#noAuth"}}var k5=t=>{let e=[];switch(t.operation){case"AssumeRoleWithSAML":{e.push(P5(t));break}case"AssumeRoleWithWebIdentity":{e.push(P5(t));break}default:e.push(Gde(t))}return e},Hde=t=>Object.assign(t,{stsClientCtor:ra}),N5=t=>{let e=Hde(t),r=Gr(e);return Object.assign(r,{authSchemePreference:ge(t.authSchemePreference??[])})};var $5=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,useGlobalEndpoint:t.useGlobalEndpoint??!1,defaultSigningName:"sts"}),ay={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var L5={name:"@aws-sdk/client-sts",description:"AWS SDK for JavaScript Sts Client for Node.js, Browser and React Native",version:"3.958.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-sts","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"rimraf ./dist-types tsconfig.types.tsbuildinfo && tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sts",test:"yarn g:vitest run","test:e2e":"yarn g:vitest run -c vitest.config.e2e.mts --mode development","test:e2e:watch":"yarn g:vitest watch -c vitest.config.e2e.mts","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs","test:watch":"yarn g:vitest watch"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.957.0","@aws-sdk/credential-provider-node":"3.958.0","@aws-sdk/middleware-host-header":"3.957.0","@aws-sdk/middleware-logger":"3.957.0","@aws-sdk/middleware-recursion-detection":"3.957.0","@aws-sdk/middleware-user-agent":"3.957.0","@aws-sdk/region-config-resolver":"3.957.0","@aws-sdk/types":"3.957.0","@aws-sdk/util-endpoints":"3.957.0","@aws-sdk/util-user-agent-browser":"3.957.0","@aws-sdk/util-user-agent-node":"3.957.0","@smithy/config-resolver":"^4.4.5","@smithy/core":"^3.20.0","@smithy/fetch-http-handler":"^5.3.8","@smithy/hash-node":"^4.2.7","@smithy/invalid-dependency":"^4.2.7","@smithy/middleware-content-length":"^4.2.7","@smithy/middleware-endpoint":"^4.4.1","@smithy/middleware-retry":"^4.4.17","@smithy/middleware-serde":"^4.2.8","@smithy/middleware-stack":"^4.2.7","@smithy/node-config-provider":"^4.3.7","@smithy/node-http-handler":"^4.4.7","@smithy/protocol-http":"^5.3.7","@smithy/smithy-client":"^4.10.2","@smithy/types":"^4.11.0","@smithy/url-parser":"^4.2.7","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.16","@smithy/util-defaults-mode-node":"^4.2.19","@smithy/util-endpoints":"^3.2.7","@smithy/util-middleware":"^4.2.7","@smithy/util-retry":"^4.2.7","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sts",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sts"}};Qe();ii();rr();At();ai();Rr();Vo();Vn();U();ci();ui();Zn();Qe();Yn();At();U();Jn();Kt();wt();Is();nn();var W5="required",Ee="type",tt="fn",rt="argv",Fa="ref";var Ua="booleanEquals",_o="stringEquals",q5="sigv4",J5="sts",Q5="us-east-1",Ut="endpoint",M5="https://sts.{Region}.{PartitionResult#dnsSuffix}",Ei="tree",_p="error",yC="getAttr",B5={[W5]:!1,[Ee]:"string"},xC={[W5]:!0,default:!1,[Ee]:"boolean"},Y5={[Fa]:"Endpoint"},U5={[tt]:"isSet",[rt]:[{[Fa]:"Region"}]},Ro={[Fa]:"Region"},F5={[tt]:"aws.partition",[rt]:[Ro],assign:"PartitionResult"},X5={[Fa]:"UseFIPS"},Z5={[Fa]:"UseDualStack"},Lo={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:q5,signingName:J5,signingRegion:Q5}]},headers:{}},Dn={},G5={conditions:[{[tt]:_o,[rt]:[Ro,"aws-global"]}],[Ut]:Lo,[Ee]:Ut},e8={[tt]:Ua,[rt]:[X5,!0]},t8={[tt]:Ua,[rt]:[Z5,!0]},H5={[tt]:yC,[rt]:[{[Fa]:"PartitionResult"},"supportsFIPS"]},r8={[Fa]:"PartitionResult"},j5={[tt]:Ua,[rt]:[!0,{[tt]:yC,[rt]:[r8,"supportsDualStack"]}]},V5=[{[tt]:"isSet",[rt]:[Y5]}],z5=[e8],K5=[t8],Vde={version:"1.0",parameters:{Region:B5,UseDualStack:xC,UseFIPS:xC,Endpoint:B5,UseGlobalEndpoint:xC},rules:[{conditions:[{[tt]:Ua,[rt]:[{[Fa]:"UseGlobalEndpoint"},!0]},{[tt]:"not",[rt]:V5},U5,F5,{[tt]:Ua,[rt]:[X5,!1]},{[tt]:Ua,[rt]:[Z5,!1]}],rules:[{conditions:[{[tt]:_o,[rt]:[Ro,"ap-northeast-1"]}],endpoint:Lo,[Ee]:Ut},{conditions:[{[tt]:_o,[rt]:[Ro,"ap-south-1"]}],endpoint:Lo,[Ee]:Ut},{conditions:[{[tt]:_o,[rt]:[Ro,"ap-southeast-1"]}],endpoint:Lo,[Ee]:Ut},{conditions:[{[tt]:_o,[rt]:[Ro,"ap-southeast-2"]}],endpoint:Lo,[Ee]:Ut},G5,{conditions:[{[tt]:_o,[rt]:[Ro,"ca-central-1"]}],endpoint:Lo,[Ee]:Ut},{conditions:[{[tt]:_o,[rt]:[Ro,"eu-central-1"]}],endpoint:Lo,[Ee]:Ut},{conditions:[{[tt]:_o,[rt]:[Ro,"eu-north-1"]}],endpoint:Lo,[Ee]:Ut},{conditions:[{[tt]:_o,[rt]:[Ro,"eu-west-1"]}],endpoint:Lo,[Ee]:Ut},{conditions:[{[tt]:_o,[rt]:[Ro,"eu-west-2"]}],endpoint:Lo,[Ee]:Ut},{conditions:[{[tt]:_o,[rt]:[Ro,"eu-west-3"]}],endpoint:Lo,[Ee]:Ut},{conditions:[{[tt]:_o,[rt]:[Ro,"sa-east-1"]}],endpoint:Lo,[Ee]:Ut},{conditions:[{[tt]:_o,[rt]:[Ro,Q5]}],endpoint:Lo,[Ee]:Ut},{conditions:[{[tt]:_o,[rt]:[Ro,"us-east-2"]}],endpoint:Lo,[Ee]:Ut},{conditions:[{[tt]:_o,[rt]:[Ro,"us-west-1"]}],endpoint:Lo,[Ee]:Ut},{conditions:[{[tt]:_o,[rt]:[Ro,"us-west-2"]}],endpoint:Lo,[Ee]:Ut},{endpoint:{url:M5,properties:{authSchemes:[{name:q5,signingName:J5,signingRegion:"{Region}"}]},headers:Dn},[Ee]:Ut}],[Ee]:Ei},{conditions:V5,rules:[{conditions:z5,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[Ee]:_p},{conditions:K5,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[Ee]:_p},{endpoint:{url:Y5,properties:Dn,headers:Dn},[Ee]:Ut}],[Ee]:Ei},{conditions:[U5],rules:[{conditions:[F5],rules:[{conditions:[e8,t8],rules:[{conditions:[{[tt]:Ua,[rt]:[!0,H5]},j5],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Dn,headers:Dn},[Ee]:Ut}],[Ee]:Ei},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[Ee]:_p}],[Ee]:Ei},{conditions:z5,rules:[{conditions:[{[tt]:Ua,[rt]:[H5,!0]}],rules:[{conditions:[{[tt]:_o,[rt]:[{[tt]:yC,[rt]:[r8,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:Dn,headers:Dn},[Ee]:Ut},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Dn,headers:Dn},[Ee]:Ut}],[Ee]:Ei},{error:"FIPS is enabled but this partition does not support FIPS",[Ee]:_p}],[Ee]:Ei},{conditions:K5,rules:[{conditions:[j5],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Dn,headers:Dn},[Ee]:Ut}],[Ee]:Ei},{error:"DualStack is enabled but this partition does not support DualStack",[Ee]:_p}],[Ee]:Ei},G5,{endpoint:{url:M5,properties:Dn,headers:Dn},[Ee]:Ut}],[Ee]:Ei}],[Ee]:Ei},{error:"Invalid Configuration: Missing Region",[Ee]:_p}]},o8=Vde;var zde=new lr({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),n8=(t,e={})=>zde.get(t,()=>Br(o8,{endpointParams:t,logger:e.logger}));jt.aws=_r;var s8=t=>({apiVersion:"2011-06-15",base64Decoder:t?.base64Decoder??st,base64Encoder:t?.base64Encoder??we,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??n8,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??k5,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new vt},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Ao}],logger:t?.logger??new Mt,protocol:t?.protocol??ri,protocolSettings:t?.protocolSettings??{defaultNamespace:"com.amazonaws.sts",xmlNamespace:"https://sts.amazonaws.com/doc/2011-06-15/",version:"2011-06-15",serviceTarget:"AWSSecurityTokenServiceV20110615"},serviceId:t?.serviceId??"STS",urlParser:t?.urlParser??Lt,utf8Decoder:t?.utf8Decoder??it,utf8Encoder:t?.utf8Encoder??Xe});var i8=t=>{jr(process.version);let e=so(t),r=()=>e().then(Hr),o=s8(t);Ur(process.version);let n={profile:t?.profile,logger:o.logger};return{...o,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??F(Fr,n),bodyLengthChecker:t?.bodyLengthChecker??no,credentialDefaultProvider:t?.credentialDefaultProvider??ks,defaultUserAgentProvider:t?.defaultUserAgentProvider??ro({serviceId:o.serviceId,clientVersion:L5.version}),httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:s=>s.getIdentityProvider("aws.auth#sigv4")||(async i=>await ks(i?.__config||{})()),signer:new vt},{schemeId:"smithy.api#noAuth",identityProvider:s=>s.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Ao}],maxAttempts:t?.maxAttempts??F(Xr,t),region:t?.region??F(Jt,{...fr,...n}),requestHandler:Wt.create(t?.requestHandler??r),retryMode:t?.retryMode??F({...eo,default:async()=>(await r()).retryMode||hr},t),sha256:t?.sha256??Qt.bind(null,"sha256"),streamCollector:t?.streamCollector??ur,useDualstackEndpoint:t?.useDualstackEndpoint??F(Wr,n),useFipsEndpoint:t?.useFipsEndpoint??F(qr,n),userAgentAppId:t?.userAgentAppId??F(oo,n)}};ws();Oe();U();var a8=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,o=t.credentials;return{setHttpAuthScheme(n){let s=e.findIndex(i=>i.schemeId===n.schemeId);s===-1?e.push(n):e.splice(s,1,n)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(n){r=n},httpAuthSchemeProvider(){return r},setCredentials(n){o=n},credentials(){return o}}},c8=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()});var u8=(t,e)=>{let r=Object.assign(io(t),Vr(t),Ar(t),a8(t));return e.forEach(o=>o.configure(r)),Object.assign(t,ao(r),zr(r),Dr(r),c8(r))};var ra=class extends Nt{config;constructor(...[e]){let r=i8(e||{});super(r),this.initConfig=r;let o=$5(r),n=Mr(o),s=Zr(n),i=Jr(s),a=i,c=Yr(a),u=N5(c),m=u8(u,e?.extensions||[]);this.config=m,this.middlewareStack.use(Lr(this.config)),this.middlewareStack.use(Kr(this.config)),this.middlewareStack.use(to(this.config)),this.middlewareStack.use(Qr(this.config)),this.middlewareStack.use(Pr(this.config)),this.middlewareStack.use(Or(this.config)),this.middlewareStack.use(kr(this.config)),this.middlewareStack.use(Nr(this.config,{httpAuthSchemeParametersProvider:O5,identityProviderConfigProvider:async f=>new dr({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use($r(this.config))}destroy(){super.destroy()}};xe();U();Ce();U();var bo=class t extends mr{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}};var cy=class t extends bo{name="ExpiredTokenException";$fault="client";constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},uy=class t extends bo{name="MalformedPolicyDocumentException";$fault="client";constructor(e){super({name:"MalformedPolicyDocumentException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},py=class t extends bo{name="PackedPolicyTooLargeException";$fault="client";constructor(e){super({name:"PackedPolicyTooLargeException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},dy=class t extends bo{name="RegionDisabledException";$fault="client";constructor(e){super({name:"RegionDisabledException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},ly=class t extends bo{name="IDPRejectedClaimException";$fault="client";constructor(e){super({name:"IDPRejectedClaimException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},my=class t extends bo{name="InvalidIdentityTokenException";$fault="client";constructor(e){super({name:"InvalidIdentityTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},fy=class t extends bo{name="IDPCommunicationErrorException";$fault="client";constructor(e){super({name:"IDPCommunicationErrorException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},hy=class t extends bo{name="InvalidAuthorizationMessageException";$fault="client";constructor(e){super({name:"InvalidAuthorizationMessageException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},gy=class t extends bo{name="ExpiredTradeInTokenException";$fault="client";constructor(e){super({name:"ExpiredTradeInTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},xy=class t extends bo{name="JWTPayloadSizeExceededException";$fault="client";constructor(e){super({name:"JWTPayloadSizeExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},yy=class t extends bo{name="OutboundWebIdentityFederationDisabledException";$fault="client";constructor(e){super({name:"OutboundWebIdentityFederationDisabledException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Sy=class t extends bo{name="SessionDurationEscalationException";$fault="client";constructor(e){super({name:"SessionDurationEscalationException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}};var p8="Arn",Kde="AccessKeyId";var Wde="AssumeRole",qde="AssumedRoleId",Jde="AssumeRoleRequest",Qde="AssumeRoleResponse";var d8="AssumedRoleUser";var Yde="Account";var l8="Credentials",Xde="ContextAssertion";var Zde="DurationSeconds",ele="Expiration",tle="ExternalId";var rle="ExpiredTokenException",ole="ExpiredTradeInTokenException";var nle="GetCallerIdentity",sle="GetCallerIdentityRequest",ile="GetCallerIdentityResponse";var ale="InvalidAuthorizationMessageException",cle="IDPCommunicationErrorException",ule="IDPRejectedClaimException",ple="InvalidIdentityTokenException",dle="JWTPayloadSizeExceededException",lle="Key",mle="MalformedPolicyDocumentException";var fle="OutboundWebIdentityFederationDisabledException",hle="Policy",gle="PolicyArns";var xle="ProviderArn",yle="ProvidedContexts",Sle="ProvidedContextsListType",Ele="ProvidedContext",_le="PolicyDescriptorType";var Rle="PackedPolicySize",ble="PackedPolicyTooLargeException";var vle="RoleArn",Cle="RegionDisabledException",Ile="RoleSessionName";var Tle="SecretAccessKey";var wle="SessionDurationEscalationException";var m8="SourceIdentity",Ale="SerialNumber";var Dle="SessionToken",Ple="Tags",Ole="TokenCode";var kle="TransitiveTagKeys",Nle="Tag",$le="UserId",Lle="Value";var Mle="arn",Ble="accessKeySecretType",us="awsQueryError",ps="client";var ds="error",ls="httpError",ms="message",Ule="policyDescriptorListType",f8="smithy.ts.sdk.synthetic.com.amazonaws.sts";var Fle="tagListType";var Te="com.amazonaws.sts",Gle=[0,Te,Ble,8,0];var Hle=[3,Te,d8,0,[qde,p8],[0,0]],jle=[3,Te,Jde,0,[vle,Ile,gle,hle,Zde,Ple,kle,tle,Ale,Ole,m8,yle],[0,0,()=>pme,0,1,()=>lme,64,0,0,0,0,()=>dme]],Vle=[3,Te,Qde,0,[l8,d8,Rle,m8],[[()=>zle,0],()=>Hle,1,0]];var zle=[3,Te,l8,0,[Kde,Tle,Dle,ele],[0,[()=>Gle,0],0,4]];var Kle=[-3,Te,rle,{[us]:["ExpiredTokenException",400],[ds]:ps,[ls]:400},[ms],[0]];b.for(Te).registerError(Kle,cy);var Wle=[-3,Te,ole,{[us]:["ExpiredTradeInTokenException",400],[ds]:ps,[ls]:400},[ms],[0]];b.for(Te).registerError(Wle,gy);var qle=[3,Te,sle,0,[],[]],Jle=[3,Te,ile,0,[$le,Yde,p8],[0,0,0]];var Qle=[-3,Te,cle,{[us]:["IDPCommunicationError",400],[ds]:ps,[ls]:400},[ms],[0]];b.for(Te).registerError(Qle,fy);var Yle=[-3,Te,ule,{[us]:["IDPRejectedClaim",403],[ds]:ps,[ls]:403},[ms],[0]];b.for(Te).registerError(Yle,ly);var Xle=[-3,Te,ale,{[us]:["InvalidAuthorizationMessageException",400],[ds]:ps,[ls]:400},[ms],[0]];b.for(Te).registerError(Xle,hy);var Zle=[-3,Te,ple,{[us]:["InvalidIdentityToken",400],[ds]:ps,[ls]:400},[ms],[0]];b.for(Te).registerError(Zle,my);var eme=[-3,Te,dle,{[us]:["JWTPayloadSizeExceededException",400],[ds]:ps,[ls]:400},[ms],[0]];b.for(Te).registerError(eme,xy);var tme=[-3,Te,mle,{[us]:["MalformedPolicyDocument",400],[ds]:ps,[ls]:400},[ms],[0]];b.for(Te).registerError(tme,uy);var rme=[-3,Te,fle,{[us]:["OutboundWebIdentityFederationDisabledException",403],[ds]:ps,[ls]:403},[ms],[0]];b.for(Te).registerError(rme,yy);var ome=[-3,Te,ble,{[us]:["PackedPolicyTooLarge",400],[ds]:ps,[ls]:400},[ms],[0]];b.for(Te).registerError(ome,py);var nme=[3,Te,_le,0,[Mle],[0]],sme=[3,Te,Ele,0,[xle,Xde],[0,0]],ime=[-3,Te,Cle,{[us]:["RegionDisabledException",403],[ds]:ps,[ls]:403},[ms],[0]];b.for(Te).registerError(ime,dy);var ame=[-3,Te,wle,{[us]:["SessionDurationEscalationException",403],[ds]:ps,[ls]:403},[ms],[0]];b.for(Te).registerError(ame,Sy);var cme=[3,Te,Nle,0,[lle,Lle],[0,0]],ume=[-3,f8,"STSServiceException",0,[],[]];b.for(f8).registerError(ume,bo);var pme=[1,Te,Ule,0,()=>nme],dme=[1,Te,Sle,0,()=>sme];var lme=[1,Te,Fle,0,()=>cme];var h8=[9,Te,Wde,0,()=>jle,()=>Vle];var g8=[9,Te,nle,0,()=>qle,()=>Jle];var Rp=class extends Y.classBuilder().ep(ay).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").sc(h8).build(){};xe();U();var bp=class extends Y.classBuilder().ep(ay).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetCallerIdentity",{}).n("STSClient","GetCallerIdentityCommand").sc(g8).build(){};var mme=S.object({stackName:S.string().min(1).max(128),templateUrl:S.string().url(),parameters:S.array(S.object({ParameterKey:S.string(),ParameterValue:S.string()})).optional(),tags:S.array(S.object({Key:S.string(),Value:S.string()})).optional(),capabilities:S.array(S.enum(["CAPABILITY_IAM","CAPABILITY_NAMED_IAM","CAPABILITY_AUTO_EXPAND"])).optional(),roleArn:S.string().optional(),timeoutInMinutes:S.number().min(1).max(180).optional(),enableTerminationProtection:S.boolean().optional()}),mht=S.object({roleArn:S.string(),sessionName:S.string(),externalId:S.string().optional(),durationSeconds:S.number().min(900).max(43200).optional()});var EC=class{client;stsClient;config;constructor(e){this.config=wr();let r=e||this.config.aws.region;this.client=new Zl({region:r,maxAttempts:3}),this.stsClient=new ra({region:r,maxAttempts:3})}async assumeRoleAndGetClient(e){try{y.info("Assuming cross-account role",{roleArn:e.roleArn,sessionName:e.sessionName});let r=new Rp({RoleArn:e.roleArn,RoleSessionName:e.sessionName,ExternalId:e.externalId,DurationSeconds:e.durationSeconds||3600}),o=await this.stsClient.send(r);if(!o.Credentials)throw new Error("Failed to assume role: No credentials returned");let n=new Zl({region:this.client.config.region,credentials:{accessKeyId:o.Credentials.AccessKeyId,secretAccessKey:o.Credentials.SecretAccessKey,sessionToken:o.Credentials.SessionToken},maxAttempts:3});return y.info("Successfully assumed cross-account role",{assumedRoleId:o.AssumedRoleUser?.AssumedRoleId,expiration:o.Credentials.Expiration}),n}catch(r){throw y.error("Failed to assume cross-account role",{error:r instanceof Error?r.message:"Unknown error",roleArn:e.roleArn}),r}}async validateCredentials(){try{let e=new bp({}),r=await this.stsClient.send(e);return{accountId:r.Account,arn:r.Arn}}catch(e){throw y.error("Failed to validate AWS credentials",{error:e instanceof Error?e.message:"Unknown error"}),new Error("Invalid AWS credentials or insufficient permissions")}}async deployStack(e,r){try{let o=mme.parse(e),n=r?await this.assumeRoleAndGetClient(r):this.client;y.info("Starting CloudFormation deployment",{stackName:o.stackName,templateUrl:o.templateUrl,crossAccount:!!r});let s=await this.stackExists(o.stackName,n),i;s?i=new sy({StackName:o.stackName,TemplateURL:o.templateUrl,Parameters:o.parameters,Tags:o.tags,Capabilities:o.capabilities,RoleARN:o.roleArn}):i=new ty({StackName:o.stackName,TemplateURL:o.templateUrl,Parameters:o.parameters,Tags:o.tags,Capabilities:o.capabilities,RoleARN:o.roleArn,TimeoutInMinutes:o.timeoutInMinutes,EnableTerminationProtection:o.enableTerminationProtection});let a=await n.send(i);return y.info("CloudFormation deployment initiated",{stackId:a.StackId,stackName:o.stackName,operation:s?"update":"create"}),{stackId:a.StackId,stackName:o.stackName,status:s?"UPDATE_IN_PROGRESS":"CREATE_IN_PROGRESS"}}catch(o){return y.error("CloudFormation deployment failed",{error:o instanceof Error?o.message:"Unknown error",stackName:e.stackName}),{stackId:"",stackName:e.stackName,status:"CREATE_FAILED",error:o instanceof Error?o.message:"Unknown deployment error"}}}async getStackStatus(e,r){try{let o=r?await this.assumeRoleAndGetClient(r):this.client,n=new rm({StackName:e}),i=(await o.send(n)).Stacks?.[0];return i?{stackId:i.StackId,stackName:i.StackName,status:i.StackStatus,...i.Outputs&&{outputs:i.Outputs}}:null}catch(o){return y.error("Failed to get stack status",{error:o instanceof Error?o.message:"Unknown error",stackName:e}),null}}async getStackEvents(e,r){try{let o=r?await this.assumeRoleAndGetClient(r):this.client,n=new oy({StackName:e});return(await o.send(n)).StackEvents||[]}catch(o){return y.error("Failed to get stack events",{error:o instanceof Error?o.message:"Unknown error",stackName:e}),[]}}async deleteStack(e,r){try{let o=r?await this.assumeRoleAndGetClient(r):this.client,n=new ry({StackName:e});return await o.send(n),y.info("CloudFormation stack deletion initiated",{stackName:e}),!0}catch(o){return y.error("Failed to delete stack",{error:o instanceof Error?o.message:"Unknown error",stackName:e}),!1}}async validateTemplate(e){try{let r=new iy({TemplateURL:e});return await this.client.send(r),{valid:!0}}catch(r){return{valid:!1,error:r instanceof Error?r.message:"Template validation failed"}}}async stackExists(e,r){try{let o=new rm({StackName:e});return await r.send(o),!0}catch{return!1}}async listStacks(e){try{let r=new ny({StackStatusFilter:e});return(await this.client.send(r)).StackSummaries?.map(n=>({StackId:n.StackId,StackName:n.StackName,StackStatus:n.StackStatus,CreationTime:n.CreationTime,LastUpdatedTime:n.LastUpdatedTime,DeletionTime:n.DeletionTime,TemplateDescription:n.TemplateDescription}))||[]}catch(r){return y.error("Failed to list stacks",{error:r instanceof Error?r.message:"Unknown error"}),[]}}},SC=null;function Ey(t){return SC||(SC=new EC(t)),SC}Oe();function fme(t){return e=>async r=>{let{request:o}=r;if(t.expectContinueHeader!==!1&&me.isInstance(o)&&o.body&&t.runtime==="node"&&t.requestHandler?.constructor?.name!=="FetchHttpHandler"){let n=!0;if(typeof t.expectContinueHeader=="number")try{n=(Number(o.headers?.["content-length"])??t.bodyLengthChecker?.(o.body)??1/0)>=t.expectContinueHeader}catch{}else n=!!t.expectContinueHeader;n&&(o.headers.Expect="100-continue")}return e({...r,request:o})}}var hme={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},x8=t=>({applyToStack:e=>{e.add(fme(t),hme)}});var fs={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},_y=fs.WHEN_SUPPORTED,jc={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},Ry=fs.WHEN_SUPPORTED,ot;(function(t){t.MD5="MD5",t.CRC32="CRC32",t.CRC32C="CRC32C",t.CRC64NVME="CRC64NVME",t.SHA1="SHA1",t.SHA256="SHA256"})(ot||(ot={}));var y8;(function(t){t.HEADER="header",t.TRAILER="trailer"})(y8||(y8={}));var om=ot.CRC32;var Ga;(function(t){t.ENV="env",t.CONFIG="shared config entry"})(Ga||(Ga={}));var vp=(t,e,r,o)=>{if(!(e in t))return;let n=t[e].toUpperCase();if(!Object.values(r).includes(n))throw new TypeError(`Cannot load ${o} '${e}'. Expected one of ${Object.values(r)}, got '${t[e]}'.`);return n};var gme="AWS_REQUEST_CHECKSUM_CALCULATION",xme="request_checksum_calculation",S8={environmentVariableSelector:t=>vp(t,gme,fs,Ga.ENV),configFileSelector:t=>vp(t,xme,fs,Ga.CONFIG),default:_y};var yme="AWS_RESPONSE_CHECKSUM_VALIDATION",Sme="response_checksum_validation",E8={environmentVariableSelector:t=>vp(t,yme,jc,Ga.ENV),configFileSelector:t=>vp(t,Sme,jc,Ga.CONFIG),default:Ry};Qe();Oe();ga();var nm=[ot.CRC32,ot.CRC32C,ot.CRC64NVME,ot.SHA1,ot.SHA256],_8=[ot.SHA256,ot.SHA1,ot.CRC32,ot.CRC32C,ot.CRC64NVME];var R8=(t,{requestChecksumRequired:e,requestAlgorithmMember:r,requestChecksumCalculation:o})=>{if(!r)return o===fs.WHEN_SUPPORTED||e?om:void 0;if(!t[r])return;let n=t[r];if(!nm.includes(n))throw new Error(`The checksum algorithm "${n}" is not supported by the client. Select one of ${nm}.`);return n};var Cp=t=>t===ot.MD5?"content-md5":`x-amz-checksum-${t.toLowerCase()}`;var b8=(t,e)=>{let r=t.toLowerCase();for(let o of Object.keys(e))if(r===o.toLowerCase())return!0;return!1};var v8=(t,e)=>{let r=t.toLowerCase();for(let o of Object.keys(e))if(o.toLowerCase().startsWith(r))return!0;return!1};Of();var by=t=>t!==void 0&&typeof t!="string"&&!ArrayBuffer.isView(t)&&!_u(t);function vy(t,e,r,o){function n(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(m){try{u(o.next(m))}catch(f){i(f)}}function c(m){try{u(o.throw(m))}catch(f){i(f)}}function u(m){m.done?s(m.value):n(m.value).then(a,c)}u((o=o.apply(t,e||[])).next())})}function Cy(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},o,n,s,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(u){return function(m){return c([u,m])}}function c(u){if(o)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(r=0)),r;)try{if(o=1,n&&(s=u[0]&2?n.return:u[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,u[1])).done)return s;switch(n=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,n=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(m){u=[6,m],n=0}finally{o=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Iy(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],o=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}import{Buffer as C8}from"buffer";var I8=(t,e)=>{if(typeof t!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof t} (${t})`);return e?C8.from(t,e):C8.from(t)};var _C=t=>{let e=I8(t,"utf8");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT)};var Eme=typeof Buffer<"u"&&Buffer.from?function(t){return Buffer.from(t,"utf8")}:_C;function sm(t){return t instanceof Uint8Array?t:typeof t=="string"?Eme(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}function im(t){return typeof t=="string"?t.length===0:t.byteLength===0}function Vc(t){return new Uint8Array([(t&4278190080)>>24,(t&16711680)>>16,(t&65280)>>8,t&255])}function am(t){if(!Uint32Array.from){for(var e=new Uint32Array(t.length),r=0;r<t.length;)e[r]=t[r],r+=1;return e}return Uint32Array.from(t)}var bC=function(){function t(){this.crc32c=new RC}return t.prototype.update=function(e){im(e)||this.crc32c.update(sm(e))},t.prototype.digest=function(){return vy(this,void 0,void 0,function(){return Cy(this,function(e){return[2,Vc(this.crc32c.digest())]})})},t.prototype.reset=function(){this.crc32c=new RC},t}();var RC=function(){function t(){this.checksum=4294967295}return t.prototype.update=function(e){var r,o;try{for(var n=Iy(e),s=n.next();!s.done;s=n.next()){var i=s.value;this.checksum=this.checksum>>>8^Rme[(this.checksum^i)&255]}}catch(a){r={error:a}}finally{try{s&&!s.done&&(o=n.return)&&o.call(n)}finally{if(r)throw r.error}}return this},t.prototype.digest=function(){return(this.checksum^4294967295)>>>0},t}();var _me=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],Rme=am(_me);var bme=()=>{let e=new Array(8);for(let r=0;r<8;r++){let o=new Array(512);for(let n=0;n<256;n++){let s=BigInt(n);for(let i=0;i<8*(r+1);i++)s&1n?s=s>>1n^0x9a6c9329ac4bc9b5n:s=s>>1n;o[n*2]=Number(s>>32n&0xffffffffn),o[n*2+1]=Number(s&0xffffffffn)}e[r]=new Uint32Array(o)}return e},vC,cm,CC,IC,TC,wC,AC,DC,PC,vme=()=>{vC||(vC=bme(),[cm,CC,IC,TC,wC,AC,DC,PC]=vC)},Ty=class{c1=0;c2=0;constructor(){vme(),this.reset()}update(e){let r=e.length,o=0,n=this.c1,s=this.c2;for(;o+8<=r;){let i=((s^e[o++])&255)<<1,a=((s>>>8^e[o++])&255)<<1,c=((s>>>16^e[o++])&255)<<1,u=((s>>>24^e[o++])&255)<<1,m=((n^e[o++])&255)<<1,f=((n>>>8^e[o++])&255)<<1,h=((n>>>16^e[o++])&255)<<1,g=((n>>>24^e[o++])&255)<<1;n=PC[i]^DC[a]^AC[c]^wC[u]^TC[m]^IC[f]^CC[h]^cm[g],s=PC[i+1]^DC[a+1]^AC[c+1]^wC[u+1]^TC[m+1]^IC[f+1]^CC[h+1]^cm[g+1]}for(;o<r;){let i=((s^e[o])&255)<<1;s=(s>>>8|(n&255)<<24)>>>0,n=n>>>8^cm[i],s^=cm[i+1],o++}this.c1=n,this.c2=s}async digest(){let e=this.c1^4294967295,r=this.c2^4294967295;return new Uint8Array([e>>>24,e>>>16&255,e>>>8&255,e&255,r>>>24,r>>>16&255,r>>>8&255,r&255])}reset(){this.c1=4294967295,this.c2=4294967295}};var OC={CrtCrc64Nvme:null};var kC=function(){function t(){this.crc32=new zc}return t.prototype.update=function(e){im(e)||this.crc32.update(sm(e))},t.prototype.digest=function(){return vy(this,void 0,void 0,function(){return Cy(this,function(e){return[2,Vc(this.crc32.digest())]})})},t.prototype.reset=function(){this.crc32=new zc},t}();var zc=function(){function t(){this.checksum=4294967295}return t.prototype.update=function(e){var r,o;try{for(var n=Iy(e),s=n.next();!s.done;s=n.next()){var i=s.value;this.checksum=this.checksum>>>8^Ime[(this.checksum^i)&255]}}catch(a){r={error:a}}finally{try{s&&!s.done&&(o=n.return)&&o.call(n)}finally{if(r)throw r.error}}return this},t.prototype.digest=function(){return(this.checksum^4294967295)>>>0},t}();var Cme=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],Ime=am(Cme);import*as $C from"zlib";var NC=class{checksum=0;update(e){this.checksum=$C.crc32(e,this.checksum)}async digest(){return Vc(this.checksum)}reset(){this.checksum=0}},T8=()=>typeof $C.crc32>"u"?kC:NC;var wy=(t,e)=>{switch(t){case ot.MD5:return e.md5;case ot.CRC32:return T8();case ot.CRC32C:return bC;case ot.CRC64NVME:return typeof OC.CrtCrc64Nvme!="function"?Ty:OC.CrtCrc64Nvme;case ot.SHA1:return e.sha1;case ot.SHA256:return e.sha256;default:throw new Error(`Unsupported checksum algorithm: ${t}`)}};wt();var Ay=(t,e)=>{let r=new t;return r.update(Fo(e||"")),r.digest()};var w8={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},A8=(t,e)=>(r,o)=>async n=>{if(!me.isInstance(n.request)||v8("x-amz-checksum-",n.request.headers))return r(n);let{request:s,input:i}=n,{body:a,headers:c}=s,{base64Encoder:u,streamHasher:m}=t,{requestChecksumRequired:f,requestAlgorithmMember:h}=e,g=await t.requestChecksumCalculation(),_=h?.name,R=h?.httpHeader;_&&!i[_]&&(g===fs.WHEN_SUPPORTED||f)&&(i[_]=om,R&&(c[R]=om));let T=R8(i,{requestChecksumRequired:f,requestAlgorithmMember:h?.name,requestChecksumCalculation:g}),M=a,G=c;if(T){switch(T){case ot.CRC32:Dt(o,"FLEXIBLE_CHECKSUMS_REQ_CRC32","U");break;case ot.CRC32C:Dt(o,"FLEXIBLE_CHECKSUMS_REQ_CRC32C","V");break;case ot.CRC64NVME:Dt(o,"FLEXIBLE_CHECKSUMS_REQ_CRC64","W");break;case ot.SHA1:Dt(o,"FLEXIBLE_CHECKSUMS_REQ_SHA1","X");break;case ot.SHA256:Dt(o,"FLEXIBLE_CHECKSUMS_REQ_SHA256","Y");break}let te=Cp(T),le=wy(T,t);if(by(a)){let{getAwsChunkedEncodingStream:Ye,bodyLengthChecker:Ht}=t;M=Ye(typeof t.requestStreamBufferSize=="number"&&t.requestStreamBufferSize>=8*1024?ZD(a,t.requestStreamBufferSize,o.logger):a,{base64Encoder:u,bodyLengthChecker:Ht,checksumLocationName:te,checksumAlgorithmFn:le,streamHasher:m}),G={...c,"content-encoding":c["content-encoding"]?`${c["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":c["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":te},delete G["content-length"]}else if(!b8(te,c)){let Ye=await Ay(le,a);G={...c,[te]:u(Ye)}}}try{return await r({...n,request:{...s,headers:G,body:M}})}catch(te){if(te instanceof Error&&te.name==="InvalidChunkSizeError")try{te.message.endsWith(".")||(te.message+="."),te.message+=" Set [requestStreamBufferSize=number e.g. 65_536] in client constructor to instruct AWS SDK to buffer your input stream."}catch{}throw te}};Qe();var D8={name:"flexibleChecksumsInputMiddleware",toMiddleware:"serializerMiddleware",relation:"before",tags:["BODY_CHECKSUM"],override:!0},P8=(t,e)=>(r,o)=>async n=>{let s=n.input,{requestValidationModeMember:i}=e,a=await t.requestChecksumCalculation(),c=await t.responseChecksumValidation();switch(a){case fs.WHEN_REQUIRED:Dt(o,"FLEXIBLE_CHECKSUMS_REQ_WHEN_REQUIRED","a");break;case fs.WHEN_SUPPORTED:Dt(o,"FLEXIBLE_CHECKSUMS_REQ_WHEN_SUPPORTED","Z");break}switch(c){case jc.WHEN_REQUIRED:Dt(o,"FLEXIBLE_CHECKSUMS_RES_WHEN_REQUIRED","c");break;case jc.WHEN_SUPPORTED:Dt(o,"FLEXIBLE_CHECKSUMS_RES_WHEN_SUPPORTED","b");break}return i&&!s[i]&&c===jc.WHEN_SUPPORTED&&(s[i]="ENABLED"),r(n)};Oe();var Dy=(t=[])=>{let e=[];for(let r of _8)!t.includes(r)||!nm.includes(r)||e.push(r);return e};var O8=t=>{let e=t.lastIndexOf("-");if(e!==-1){let r=t.slice(e+1);if(!r.startsWith("0")){let o=parseInt(r,10);if(!isNaN(o)&&o>=1&&o<=1e4)return!0}}return!1};ga();var k8=async(t,{checksumAlgorithmFn:e,base64Encoder:r})=>r(await Ay(e,t));var N8=async(t,{config:e,responseAlgorithms:r,logger:o})=>{let n=Dy(r),{body:s,headers:i}=t;for(let a of n){let c=Cp(a),u=i[c];if(u){let m;try{m=wy(a,e)}catch(g){if(a===ot.CRC64NVME){o?.warn(`Skipping ${ot.CRC64NVME} checksum validation: ${g.message}`);continue}throw g}let{base64Encoder:f}=e;if(by(s)){t.body=JD({expectedChecksum:u,checksumSourceLocation:c,checksum:new m,source:s,base64Encoder:f});return}let h=await k8(s,{checksumAlgorithmFn:m,base64Encoder:f});if(h===u)break;throw new Error(`Checksum mismatch: expected "${h}" but received "${u}" in response header "${c}".`)}}};var $8={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},L8=(t,e)=>(r,o)=>async n=>{if(!me.isInstance(n.request))return r(n);let s=n.input,i=await r(n),a=i.response,{requestValidationModeMember:c,responseAlgorithms:u}=e;if(c&&s[c]==="ENABLED"){let{clientName:m,commandName:f}=o;if(m==="S3Client"&&f==="GetObjectCommand"&&Dy(u).every(g=>{let _=Cp(g),R=a.headers[_];return!R||O8(R)}))return i;await N8(a,{config:t,responseAlgorithms:u,logger:o.logger})}return i};var Py=(t,e)=>({applyToStack:r=>{r.add(A8(t,e),w8),r.addRelativeTo(P8(t,e),D8),r.addRelativeTo(L8(t,e),$8)}});Zt();var M8=t=>{let{requestChecksumCalculation:e,responseChecksumValidation:r,requestStreamBufferSize:o}=t;return Object.assign(t,{requestChecksumCalculation:ge(e??_y),responseChecksumValidation:ge(r??Ry),requestStreamBufferSize:Number(o??0)})};Js();Qs();Ys();Oe();U();var Tme="content-length",wme="x-amz-decoded-content-length";function Ame(){return(t,e)=>async r=>{let{request:o}=r;if(me.isInstance(o)&&!(Tme in o.headers)&&!(wme in o.headers)){let n="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof e?.logger?.warn=="function"&&!(e.logger instanceof Mt)?e.logger.warn(n):console.warn(n)}return t({...r})}}var Dme={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},B8=t=>({applyToStack:e=>{e.add(Ame(),Dme)}});var U8=t=>(e,r)=>async o=>{let n=await t.region(),s=t.region,i=()=>{};r.__s3RegionRedirect&&(Object.defineProperty(t,"region",{writable:!1,value:async()=>r.__s3RegionRedirect}),i=()=>Object.defineProperty(t,"region",{writable:!0,value:s}));try{let a=await e(o);if(r.__s3RegionRedirect){i();let c=await t.region();if(n!==c)throw new Error("Region was not restored following S3 region redirect.")}return a}catch(a){throw i(),a}},F8={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};function Pme(t){return(e,r)=>async o=>{try{return await e(o)}catch(n){if(t.followRegionRedirects){let s=n?.$metadata?.httpStatusCode,i=r.commandName==="HeadBucketCommand",a=n?.$response?.headers?.["x-amz-bucket-region"];if(a&&(s===301||s===400&&(n?.name==="IllegalLocationConstraintException"||i))){try{let c=a;r.logger?.debug(`Redirecting from ${await t.region()} to ${c}`),r.__s3RegionRedirect=c}catch(c){throw new Error("Region redirect failed: "+c)}return e(o)}}throw n}}}var Ome={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},G8=t=>({applyToStack:e=>{e.add(Pme(t),Ome),e.addRelativeTo(U8(t),F8)}});Oe();U();var kme=t=>(e,r)=>async o=>{let n=await e(o),{response:s}=n;if(To.isInstance(s)&&s.headers.expires){s.headers.expiresstring=s.headers.expires;try{jf(s.headers.expires)}catch(i){r.logger?.warn(`AWS SDK Warning for ${r.clientName}::${r.commandName} response parsing (${s.headers.expires}): ${i}`),delete s.headers.expires}}return n},Nme={tags:["S3"],name:"s3ExpiresMiddleware",override:!0,relation:"after",toMiddleware:"deserializerMiddleware"},Oy=t=>({applyToStack:e=>{e.addRelativeTo(kme(t),Nme)}});var ky=class t{data;lastPurgeTime=Date.now();static EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS=3e4;constructor(e={}){this.data=e}get(e){let r=this.data[e];if(r)return r}set(e,r){return this.data[e]=r,r}delete(e){delete this.data[e]}async purgeExpired(){let e=Date.now();if(!(this.lastPurgeTime+t.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>e))for(let r in this.data){let o=this.data[r];if(!o.isRefreshing){let n=await o.identity;n.expiration&&n.expiration.getTime()<e&&delete this.data[r]}}}};var Ip=class{_identity;isRefreshing;accessed;constructor(e,r=!1,o=Date.now()){this._identity=e,this.isRefreshing=r,this.accessed=o}get identity(){return this.accessed=Date.now(),this._identity}};var um=class t{createSessionFn;cache;static REFRESH_WINDOW_MS=6e4;constructor(e,r=new ky){this.createSessionFn=e,this.cache=r}async getS3ExpressIdentity(e,r){let o=r.Bucket,{cache:n}=this,s=n.get(o);return s?s.identity.then(i=>(i.expiration?.getTime()??0)<Date.now()?n.set(o,new Ip(this.getIdentity(o))).identity:((i.expiration?.getTime()??0)<Date.now()+t.REFRESH_WINDOW_MS&&!s.isRefreshing&&(s.isRefreshing=!0,this.getIdentity(o).then(u=>{n.set(o,new Ip(Promise.resolve(u)))})),i)):n.set(o,new Ip(this.getIdentity(o))).identity}async getIdentity(e){await this.cache.purgeExpired().catch(n=>{console.warn(`Error while clearing expired entries in S3ExpressIdentityCache: 
`+n)});let r=await this.createSessionFn(e);if(!r.Credentials?.AccessKeyId||!r.Credentials?.SecretAccessKey)throw new Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");return{accessKeyId:r.Credentials.AccessKeyId,secretAccessKey:r.Credentials.SecretAccessKey,sessionToken:r.Credentials.SessionToken,expiration:r.Credentials.Expiration?new Date(r.Credentials.Expiration):void 0}}};ah();Kd();var H8="Directory",j8="S3Express",V8="sigv4-s3express",Ny="X-Amz-S3session-Token",pm=Ny.toLowerCase(),$me="AWS_S3_DISABLE_EXPRESS_SESSION_AUTH",Lme="s3_disable_express_session_auth",LC={environmentVariableSelector:t=>Xn(t,$me,an.ENV),configFileSelector:t=>Xn(t,Lme,an.CONFIG),default:!1};var dm=class extends _c{async signWithCredentials(e,r,o){let n=z8(r);e.headers[pm]=r.sessionToken;let s=this;return K8(s,n),s.signRequest(e,o??{})}async presignWithCredentials(e,r,o){let n=z8(r);return delete e.headers[pm],e.headers[Ny]=r.sessionToken,e.query=e.query??{},e.query[Ny]=r.sessionToken,K8(this,n),this.presign(e,o)}};function z8(t){return{accessKeyId:t.accessKeyId,secretAccessKey:t.secretAccessKey,expiration:t.expiration}}function K8(t,e){let r=setTimeout(()=>{throw new Error("SignatureV4S3Express credential override was created but not called.")},10),o=t.credentialProvider,n=()=>(clearTimeout(r),t.credentialProvider=o,Promise.resolve(e));t.credentialProvider=n}Qe();Oe();var W8=t=>(e,r)=>async o=>{if(r.endpointV2){let n=r.endpointV2,s=n.properties?.authSchemes?.[0]?.name===V8;if((n.properties?.backend===j8||n.properties?.bucketType===H8)&&(Dt(r,"S3_EXPRESS_BUCKET","J"),r.isS3ExpressBucket=!0),s){let a=o.input.Bucket;if(a){let c=await t.s3ExpressIdentityProvider.getS3ExpressIdentity(await t.credentials(),{Bucket:a});r.s3ExpressIdentity=c,me.isInstance(o.request)&&c.sessionToken&&(o.request.headers[pm]=c.sessionToken)}}}return e(o)},q8={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},MC=t=>({applyToStack:e=>{e.add(W8(t),q8)}});At();Oe();Zt();var J8=async(t,e,r,o)=>{let n=await o.signWithCredentials(r,t,{});if(n.headers["X-Amz-Security-Token"]||n.headers["x-amz-security-token"])throw new Error("X-Amz-Security-Token must not be set for s3-express requests.");return n};var Mme=t=>e=>{throw e},Bme=(t,e)=>{};var Q8=t=>(e,r)=>async o=>{if(!me.isInstance(o.request))return e(o);let s=nt(r).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:a,signer:c}=s,u;r.s3ExpressIdentity?u=await J8(r.s3ExpressIdentity,i,o.request,await t.signer()):u=await c.sign(o.request,a,i);let m=await e({...o,request:u}).catch((c.errorHandler||Mme)(i));return(c.successHandler||Bme)(m.response,i),m},BC=t=>({applyToStack:e=>{e.addRelativeTo(Q8(t),jE)}});var Y8=(t,{session:e})=>{let[r,o]=e,{forcePathStyle:n,useAccelerateEndpoint:s,disableMultiregionAccessPoints:i,followRegionRedirects:a,s3ExpressIdentityProvider:c,bucketEndpoint:u,expectContinueHeader:m}=t;return Object.assign(t,{forcePathStyle:n??!1,useAccelerateEndpoint:s??!1,disableMultiregionAccessPoints:i??!1,followRegionRedirects:a??!1,s3ExpressIdentityProvider:c??new um(async f=>r().send(new o({Bucket:f}))),bucketEndpoint:u??!1,expectContinueHeader:m??2097152})};Oe();ga();var Ume={CopyObjectCommand:!0,UploadPartCopyCommand:!0,CompleteMultipartUploadCommand:!0},Fme=3e3,Gme=t=>(e,r)=>async o=>{let n=await e(o),{response:s}=n;if(!To.isInstance(s))return n;let{statusCode:i,body:a}=s;if(i<200||i>=300||!(typeof a?.stream=="function"||typeof a?.pipe=="function"||typeof a?.tee=="function"))return n;let u=a,m=a;a&&typeof a=="object"&&!(a instanceof Uint8Array)&&([u,m]=await KP(a)),s.body=m;let f=await Hme(u,{streamCollector:async g=>sP(g,Fme)});typeof u?.destroy=="function"&&u.destroy();let h=t.utf8Encoder(f.subarray(f.length-16));if(f.length===0&&Ume[r.commandName]){let g=new Error("S3 aborted request");throw g.name="InternalError",g}return h&&h.endsWith("</Error>")&&(s.statusCode=400),n},Hme=(t=new Uint8Array,e)=>t instanceof Uint8Array?Promise.resolve(t):e.streamCollector(t)||Promise.resolve(new Uint8Array),jme={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},_i=t=>({applyToStack:e=>{e.addRelativeTo(Gme(t),jme)}});var X8=t=>typeof t=="string"&&t.indexOf("arn:")===0&&t.split(":").length>=6;function Z8(t){return(e,r)=>async o=>{if(t.bucketEndpoint){let n=r.endpointV2;if(n){let s=o.input.Bucket;if(typeof s=="string")try{let i=new URL(s);r.endpointV2={...n,url:i}}catch(i){let a=`@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${s} could not be parsed as URL.`;throw r.logger?.constructor?.name==="NoOpLogger"?console.warn(a):r.logger?.warn?.(a),i}}}return e(o)}}var eH={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"};function Vme({bucketEndpoint:t}){return e=>async r=>{let{input:{Bucket:o}}=r;if(!t&&typeof o=="string"&&!X8(o)&&o.indexOf("/")>=0){let n=new Error(`Bucket name shouldn't contain '/', received '${o}'`);throw n.name="InvalidBucketName",n}return e({...r})}}var zme={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},tH=t=>({applyToStack:e=>{e.add(Vme(t),zme),e.addRelativeTo(Z8(t),eH)}});Ts();rr();At();Ce();var rH=t=>Object.assign(t,{eventStreamMarshaller:t.eventStreamSerdeProvider(t)});oi();xe();Rr();U();Qe();ah();var lm={CrtSignerV4:null};var Tp=class{sigv4aSigner;sigv4Signer;signerOptions;static sigv4aDependency(){return typeof lm.CrtSignerV4=="function"?"crt":typeof J_.SignatureV4a=="function"?"js":"none"}constructor(e){this.sigv4Signer=new dm(e),this.signerOptions=e}async sign(e,r={}){return r.signingRegion==="*"?this.getSigv4aSigner().sign(e,r):this.sigv4Signer.sign(e,r)}async signWithCredentials(e,r,o={}){if(o.signingRegion==="*"){let n=this.getSigv4aSigner(),s=lm.CrtSignerV4;if(s&&n instanceof s)return n.signWithCredentials(e,r,o);throw new Error(`signWithCredentials with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`)}return this.sigv4Signer.signWithCredentials(e,r,o)}async presign(e,r={}){if(r.signingRegion==="*"){let o=this.getSigv4aSigner(),n=lm.CrtSignerV4;if(n&&o instanceof n)return o.presign(e,r);throw new Error(`presign with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`)}return this.sigv4Signer.presign(e,r)}async presignWithCredentials(e,r,o={}){if(o.signingRegion==="*")throw new Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(e,r,o)}getSigv4aSigner(){if(!this.sigv4aSigner){let e=lm.CrtSignerV4,r=J_.SignatureV4a;if(this.signerOptions.runtime==="node"){if(!e&&!r)throw new Error("Neither CRT nor JS SigV4a implementation is available. Please load either @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt");if(e&&typeof e=="function")this.sigv4aSigner=new e({...this.signerOptions,signingAlgorithm:1});else if(r&&typeof r=="function")this.sigv4aSigner=new r({...this.signerOptions});else throw new Error("Available SigV4a implementation is not a valid constructor. Please ensure you've properly imported @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a.For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt")}else{if(!r||typeof r!="function")throw new Error("JS SigV4a implementation is not available or not a valid constructor. Please check whether you have installed the @aws-sdk/signature-v4a package explicitly. The CRT implementation is not available for browsers. You must also register the package by calling [require('@aws-sdk/signature-v4a');] or an ESM equivalent such as [import '@aws-sdk/signature-v4a';]. For more information please go to https://github.com/aws/aws-sdk-js-v3#using-javascript-non-crt-implementation-of-sigv4a");this.sigv4aSigner=new r({...this.signerOptions})}}return this.sigv4aSigner}};xe();Zt();Is();nn();var pI="required",x="type",w="rules",E="conditions",v="fn",C="argv",Z="ref",ye="assign",V="url",z="properties",oa="backend",mo="authSchemes",yr="disableDoubleEncoding",Sr="signingName",vo="signingRegion",K="headers",dI="signingRegionSet";var On="isSet",ar="booleanEquals",X="error",Fy="aws.partition",qe="stringEquals",Vt="getAttr",zt="name",It="substring",oH="bucketSuffix",lI="parseURL",P="endpoint",A="tree",Gy="aws.isVirtualHostableS3Bucket",Hy="{url#scheme}://{Bucket}.{url#authority}{url#path}",vi="not",nH="accessPointSuffix",Uy="{url#scheme}://{url#authority}{url#path}",lj="hardwareType",mj="regionPrefix",sH="bucketAliasSuffix",cI="outpostId",Kc="isValidHostLabel",mI="sigv4a",Sm="s3-outposts",Pp="s3",fj="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",hj="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",iH="https://{Bucket}.s3.{partitionResult#dnsSuffix}",gj="aws.parseArn",xj="bucketArn",yj="arnType",jy="",fI="s3-object-lambda",Sj="accesspoint",hI="accessPointName",aH="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",cH="mrapPartition",uH="outpostType",pH="arnPrefix",Ej="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",dH="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",lH="https://s3.{partitionResult#dnsSuffix}",wp={[pI]:!1,[x]:"string"},Ap={[pI]:!0,default:!1,[x]:"boolean"},mm={[pI]:!1,[x]:"boolean"},gs={[v]:ar,[C]:[{[Z]:"Accelerate"},!0]},Pt={[v]:ar,[C]:[{[Z]:"UseFIPS"},!0]},_t={[v]:ar,[C]:[{[Z]:"UseDualStack"},!0]},ir={[v]:On,[C]:[{[Z]:"Endpoint"}]},_j={[v]:Fy,[C]:[{[Z]:"Region"}],[ye]:"partitionResult"},mH={[v]:qe,[C]:[{[v]:Vt,[C]:[{[Z]:"partitionResult"},zt]},"aws-cn"]},hm={[v]:On,[C]:[{[Z]:"Bucket"}]},Be={[Z]:"Bucket"},fH={[E]:[gs],[X]:"S3Express does not support S3 Accelerate.",[x]:X},hH={[E]:[ir,{[v]:lI,[C]:[{[Z]:"Endpoint"}],[ye]:"url"}],[w]:[{[E]:[{[v]:On,[C]:[{[Z]:"DisableS3ExpressSessionAuth"}]},{[v]:ar,[C]:[{[Z]:"DisableS3ExpressSessionAuth"},!0]}],[w]:[{[E]:[{[v]:ar,[C]:[{[v]:Vt,[C]:[{[Z]:"url"},"isIp"]},!0]}],[w]:[{[E]:[{[v]:"uriEncode",[C]:[Be],[ye]:"uri_encoded_bucket"}],[w]:[{[P]:{[V]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[z]:{[oa]:"S3Express",[mo]:[{[yr]:!0,[zt]:"sigv4",[Sr]:"s3express",[vo]:"{Region}"}]},[K]:{}},[x]:P}],[x]:A}],[x]:A},{[E]:[{[v]:Gy,[C]:[Be,!1]}],[w]:[{[P]:{[V]:Hy,[z]:{[oa]:"S3Express",[mo]:[{[yr]:!0,[zt]:"sigv4",[Sr]:"s3express",[vo]:"{Region}"}]},[K]:{}},[x]:P}],[x]:A},{[X]:"S3Express bucket name is not a valid virtual hostable name.",[x]:X}],[x]:A},{[E]:[{[v]:ar,[C]:[{[v]:Vt,[C]:[{[Z]:"url"},"isIp"]},!0]}],[w]:[{[E]:[{[v]:"uriEncode",[C]:[Be],[ye]:"uri_encoded_bucket"}],[w]:[{[P]:{[V]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[z]:{[oa]:"S3Express",[mo]:[{[yr]:!0,[zt]:"sigv4-s3express",[Sr]:"s3express",[vo]:"{Region}"}]},[K]:{}},[x]:P}],[x]:A}],[x]:A},{[E]:[{[v]:Gy,[C]:[Be,!1]}],[w]:[{[P]:{[V]:Hy,[z]:{[oa]:"S3Express",[mo]:[{[yr]:!0,[zt]:"sigv4-s3express",[Sr]:"s3express",[vo]:"{Region}"}]},[K]:{}},[x]:P}],[x]:A},{[X]:"S3Express bucket name is not a valid virtual hostable name.",[x]:X}],[x]:A},Ko={[v]:lI,[C]:[{[Z]:"Endpoint"}],[ye]:"url"},UC={[v]:ar,[C]:[{[v]:Vt,[C]:[{[Z]:"url"},"isIp"]},!0]},Rj={[Z]:"url"},bj={[v]:"uriEncode",[C]:[Be],[ye]:"uri_encoded_bucket"},Pn={[oa]:"S3Express",[mo]:[{[yr]:!0,[zt]:"sigv4",[Sr]:"s3express",[vo]:"{Region}"}]},pe={},vj={[v]:Gy,[C]:[Be,!1]},gH={[X]:"S3Express bucket name is not a valid virtual hostable name.",[x]:X},xH={[v]:On,[C]:[{[Z]:"UseS3ExpressControlEndpoint"}]},yH={[v]:ar,[C]:[{[Z]:"UseS3ExpressControlEndpoint"},!0]},fe={[v]:vi,[C]:[ir]},Pe={[v]:ar,[C]:[{[Z]:"UseDualStack"},!1]},be={[v]:ar,[C]:[{[Z]:"UseFIPS"},!1]},$y={[X]:"Unrecognized S3Express bucket name format.",[x]:X},SH={[v]:vi,[C]:[hm]},EH={[Z]:lj},_H={[E]:[fe],[X]:"Expected a endpoint to be specified but no endpoint was found",[x]:X},Ly={[mo]:[{[yr]:!0,[zt]:mI,[Sr]:Sm,[dI]:["*"]},{[yr]:!0,[zt]:"sigv4",[Sr]:Sm,[vo]:"{Region}"}]},FC={[v]:ar,[C]:[{[Z]:"ForcePathStyle"},!1]},Kme={[Z]:"ForcePathStyle"},xr={[v]:ar,[C]:[{[Z]:"Accelerate"},!1]},br={[v]:qe,[C]:[{[Z]:"Region"},"aws-global"]},uo={[mo]:[{[yr]:!0,[zt]:"sigv4",[Sr]:Pp,[vo]:"us-east-1"}]},Ne={[v]:vi,[C]:[br]},po={[v]:ar,[C]:[{[Z]:"UseGlobalEndpoint"},!0]},RH={[V]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[z]:{[mo]:[{[yr]:!0,[zt]:"sigv4",[Sr]:Pp,[vo]:"{Region}"}]},[K]:{}},Er={[mo]:[{[yr]:!0,[zt]:"sigv4",[Sr]:Pp,[vo]:"{Region}"}]},lo={[v]:ar,[C]:[{[Z]:"UseGlobalEndpoint"},!1]},bH={[V]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[z]:Er,[K]:{}},vH={[V]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[z]:Er,[K]:{}},CH={[V]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[z]:Er,[K]:{}},GC={[v]:ar,[C]:[{[v]:Vt,[C]:[Rj,"isIp"]},!1]},HC={[V]:fj,[z]:Er,[K]:{}},uI={[V]:Hy,[z]:Er,[K]:{}},IH={[P]:uI,[x]:P},jC={[V]:hj,[z]:Er,[K]:{}},TH={[V]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[z]:Er,[K]:{}},My={[X]:"Invalid region: region was not a valid DNS name.",[x]:X},fn={[Z]:xj},Cj={[Z]:yj},VC={[v]:Vt,[C]:[fn,"service"]},gI={[Z]:hI},wH={[E]:[_t],[X]:"S3 Object Lambda does not support Dual-stack",[x]:X},AH={[E]:[gs],[X]:"S3 Object Lambda does not support S3 Accelerate",[x]:X},DH={[E]:[{[v]:On,[C]:[{[Z]:"DisableAccessPoints"}]},{[v]:ar,[C]:[{[Z]:"DisableAccessPoints"},!0]}],[X]:"Access points are not supported for this operation",[x]:X},zC={[E]:[{[v]:On,[C]:[{[Z]:"UseArnRegion"}]},{[v]:ar,[C]:[{[Z]:"UseArnRegion"},!1]},{[v]:vi,[C]:[{[v]:qe,[C]:[{[v]:Vt,[C]:[fn,"region"]},"{Region}"]}]}],[X]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[x]:X},Ij={[v]:Vt,[C]:[{[Z]:"bucketPartition"},zt]},Tj={[v]:Vt,[C]:[fn,"accountId"]},KC={[mo]:[{[yr]:!0,[zt]:"sigv4",[Sr]:fI,[vo]:"{bucketArn#region}"}]},PH={[X]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[x]:X},WC={[X]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[x]:X},qC={[X]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[x]:X},JC={[X]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[x]:X},OH={[X]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[x]:X},kH={[X]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[x]:X},fm={[mo]:[{[yr]:!0,[zt]:"sigv4",[Sr]:Pp,[vo]:"{bucketArn#region}"}]},NH={[mo]:[{[yr]:!0,[zt]:mI,[Sr]:Sm,[dI]:["*"]},{[yr]:!0,[zt]:"sigv4",[Sr]:Sm,[vo]:"{bucketArn#region}"}]},$H={[v]:gj,[C]:[Be]},LH={[V]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[z]:Er,[K]:{}},MH={[V]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[z]:Er,[K]:{}},BH={[V]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[z]:Er,[K]:{}},QC={[V]:Ej,[z]:Er,[K]:{}},UH={[V]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[z]:Er,[K]:{}},FH={[Z]:"UseObjectLambdaEndpoint"},YC={[mo]:[{[yr]:!0,[zt]:"sigv4",[Sr]:fI,[vo]:"{Region}"}]},GH={[V]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[z]:Er,[K]:{}},HH={[V]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[z]:Er,[K]:{}},jH={[V]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[z]:Er,[K]:{}},XC={[V]:Uy,[z]:Er,[K]:{}},VH={[V]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[z]:Er,[K]:{}},ZC=[{[Z]:"Region"}],Wme=[{[Z]:"Endpoint"}],qme=[Be],eI=[gs],Dp=[ir,Ko],zH=[{[v]:On,[C]:[{[Z]:"DisableS3ExpressSessionAuth"}]},{[v]:ar,[C]:[{[Z]:"DisableS3ExpressSessionAuth"},!0]}],Jme=[bj],tI=[vj],hs=[_j],rI=[Pt,_t],gm=[Pt,Pe],xm=[be,_t],ym=[be,Pe],KH=[{[v]:It,[C]:[Be,6,14,!0],[ye]:"s3expressAvailabilityZoneId"},{[v]:It,[C]:[Be,14,16,!0],[ye]:"s3expressAvailabilityZoneDelim"},{[v]:qe,[C]:[{[Z]:"s3expressAvailabilityZoneDelim"},"--"]}],Ri=[{[E]:[Pt,_t],[P]:{[V]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.dualstack.{Region}.{partitionResult#dnsSuffix}",[z]:Pn,[K]:{}},[x]:P},{[E]:gm,[P]:{[V]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[z]:Pn,[K]:{}},[x]:P},{[E]:xm,[P]:{[V]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.dualstack.{Region}.{partitionResult#dnsSuffix}",[z]:Pn,[K]:{}},[x]:P},{[E]:ym,[P]:{[V]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[z]:Pn,[K]:{}},[x]:P}],WH=[{[v]:It,[C]:[Be,6,15,!0],[ye]:"s3expressAvailabilityZoneId"},{[v]:It,[C]:[Be,15,17,!0],[ye]:"s3expressAvailabilityZoneDelim"},{[v]:qe,[C]:[{[Z]:"s3expressAvailabilityZoneDelim"},"--"]}],qH=[{[v]:It,[C]:[Be,6,19,!0],[ye]:"s3expressAvailabilityZoneId"},{[v]:It,[C]:[Be,19,21,!0],[ye]:"s3expressAvailabilityZoneDelim"},{[v]:qe,[C]:[{[Z]:"s3expressAvailabilityZoneDelim"},"--"]}],JH=[{[v]:It,[C]:[Be,6,20,!0],[ye]:"s3expressAvailabilityZoneId"},{[v]:It,[C]:[Be,20,22,!0],[ye]:"s3expressAvailabilityZoneDelim"},{[v]:qe,[C]:[{[Z]:"s3expressAvailabilityZoneDelim"},"--"]}],QH=[{[v]:It,[C]:[Be,6,26,!0],[ye]:"s3expressAvailabilityZoneId"},{[v]:It,[C]:[Be,26,28,!0],[ye]:"s3expressAvailabilityZoneDelim"},{[v]:qe,[C]:[{[Z]:"s3expressAvailabilityZoneDelim"},"--"]}],bi=[{[E]:[Pt,_t],[P]:{[V]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.dualstack.{Region}.{partitionResult#dnsSuffix}",[z]:{[oa]:"S3Express",[mo]:[{[yr]:!0,[zt]:"sigv4-s3express",[Sr]:"s3express",[vo]:"{Region}"}]},[K]:{}},[x]:P},{[E]:gm,[P]:{[V]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[z]:{[oa]:"S3Express",[mo]:[{[yr]:!0,[zt]:"sigv4-s3express",[Sr]:"s3express",[vo]:"{Region}"}]},[K]:{}},[x]:P},{[E]:xm,[P]:{[V]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.dualstack.{Region}.{partitionResult#dnsSuffix}",[z]:{[oa]:"S3Express",[mo]:[{[yr]:!0,[zt]:"sigv4-s3express",[Sr]:"s3express",[vo]:"{Region}"}]},[K]:{}},[x]:P},{[E]:ym,[P]:{[V]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[z]:{[oa]:"S3Express",[mo]:[{[yr]:!0,[zt]:"sigv4-s3express",[Sr]:"s3express",[vo]:"{Region}"}]},[K]:{}},[x]:P}],YH=[Be,0,7,!0],XH=[{[v]:It,[C]:[Be,7,15,!0],[ye]:"s3expressAvailabilityZoneId"},{[v]:It,[C]:[Be,15,17,!0],[ye]:"s3expressAvailabilityZoneDelim"},{[v]:qe,[C]:[{[Z]:"s3expressAvailabilityZoneDelim"},"--"]}],ZH=[{[v]:It,[C]:[Be,7,16,!0],[ye]:"s3expressAvailabilityZoneId"},{[v]:It,[C]:[Be,16,18,!0],[ye]:"s3expressAvailabilityZoneDelim"},{[v]:qe,[C]:[{[Z]:"s3expressAvailabilityZoneDelim"},"--"]}],ej=[{[v]:It,[C]:[Be,7,20,!0],[ye]:"s3expressAvailabilityZoneId"},{[v]:It,[C]:[Be,20,22,!0],[ye]:"s3expressAvailabilityZoneDelim"},{[v]:qe,[C]:[{[Z]:"s3expressAvailabilityZoneDelim"},"--"]}],tj=[{[v]:It,[C]:[Be,7,21,!0],[ye]:"s3expressAvailabilityZoneId"},{[v]:It,[C]:[Be,21,23,!0],[ye]:"s3expressAvailabilityZoneDelim"},{[v]:qe,[C]:[{[Z]:"s3expressAvailabilityZoneDelim"},"--"]}],rj=[{[v]:It,[C]:[Be,7,27,!0],[ye]:"s3expressAvailabilityZoneId"},{[v]:It,[C]:[Be,27,29,!0],[ye]:"s3expressAvailabilityZoneDelim"},{[v]:qe,[C]:[{[Z]:"s3expressAvailabilityZoneDelim"},"--"]}],Qme=[hm],oj=[{[v]:Kc,[C]:[{[Z]:cI},!1]}],nj=[{[v]:qe,[C]:[{[Z]:mj},"beta"]}],Yme=["*"],sj=[{[v]:Kc,[C]:[{[Z]:"Region"},!1]}],Ha=[{[v]:qe,[C]:[{[Z]:"Region"},"us-east-1"]}],oI=[{[v]:qe,[C]:[Cj,Sj]}],ij=[{[v]:Vt,[C]:[fn,"resourceId[1]"],[ye]:hI},{[v]:vi,[C]:[{[v]:qe,[C]:[gI,jy]}]}],Xme=[fn,"resourceId[1]"],aj=[_t],nI=[{[v]:vi,[C]:[{[v]:qe,[C]:[{[v]:Vt,[C]:[fn,"region"]},jy]}]}],cj=[{[v]:vi,[C]:[{[v]:On,[C]:[{[v]:Vt,[C]:[fn,"resourceId[2]"]}]}]}],Zme=[fn,"resourceId[2]"],sI=[{[v]:Fy,[C]:[{[v]:Vt,[C]:[fn,"region"]}],[ye]:"bucketPartition"}],uj=[{[v]:qe,[C]:[Ij,{[v]:Vt,[C]:[{[Z]:"partitionResult"},zt]}]}],iI=[{[v]:Kc,[C]:[{[v]:Vt,[C]:[fn,"region"]},!0]}],aI=[{[v]:Kc,[C]:[Tj,!1]}],pj=[{[v]:Kc,[C]:[gI,!1]}],By=[Pt],dj=[{[v]:Kc,[C]:[{[Z]:"Region"},!0]}],efe={version:"1.0",parameters:{Bucket:wp,Region:wp,UseFIPS:Ap,UseDualStack:Ap,Endpoint:wp,ForcePathStyle:Ap,Accelerate:Ap,UseGlobalEndpoint:Ap,UseObjectLambdaEndpoint:mm,Key:wp,Prefix:wp,CopySource:wp,DisableAccessPoints:mm,DisableMultiRegionAccessPoints:Ap,UseArnRegion:mm,UseS3ExpressControlEndpoint:mm,DisableS3ExpressSessionAuth:mm},[w]:[{[E]:[{[v]:On,[C]:ZC}],[w]:[{[E]:[gs,Pt],error:"Accelerate cannot be used with FIPS",[x]:X},{[E]:[_t,ir],error:"Cannot set dual-stack in combination with a custom endpoint.",[x]:X},{[E]:[ir,Pt],error:"A custom endpoint cannot be combined with FIPS",[x]:X},{[E]:[ir,gs],error:"A custom endpoint cannot be combined with S3 Accelerate",[x]:X},{[E]:[Pt,_j,mH],error:"Partition does not support FIPS",[x]:X},{[E]:[hm,{[v]:It,[C]:[Be,0,6,!0],[ye]:oH},{[v]:qe,[C]:[{[Z]:oH},"--x-s3"]}],[w]:[fH,hH,{[E]:[xH,yH],[w]:[{[E]:hs,[w]:[{[E]:[bj,fe],[w]:[{[E]:rI,endpoint:{[V]:"https://s3express-control-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[z]:Pn,[K]:pe},[x]:P},{[E]:gm,endpoint:{[V]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[z]:Pn,[K]:pe},[x]:P},{[E]:xm,endpoint:{[V]:"https://s3express-control.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[z]:Pn,[K]:pe},[x]:P},{[E]:ym,endpoint:{[V]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[z]:Pn,[K]:pe},[x]:P}],[x]:A}],[x]:A}],[x]:A},{[E]:tI,[w]:[{[E]:hs,[w]:[{[E]:zH,[w]:[{[E]:KH,[w]:Ri,[x]:A},{[E]:WH,[w]:Ri,[x]:A},{[E]:qH,[w]:Ri,[x]:A},{[E]:JH,[w]:Ri,[x]:A},{[E]:QH,[w]:Ri,[x]:A},$y],[x]:A},{[E]:KH,[w]:bi,[x]:A},{[E]:WH,[w]:bi,[x]:A},{[E]:qH,[w]:bi,[x]:A},{[E]:JH,[w]:bi,[x]:A},{[E]:QH,[w]:bi,[x]:A},$y],[x]:A}],[x]:A},gH],[x]:A},{[E]:[hm,{[v]:It,[C]:YH,[ye]:nH},{[v]:qe,[C]:[{[Z]:nH},"--xa-s3"]}],[w]:[fH,hH,{[E]:tI,[w]:[{[E]:hs,[w]:[{[E]:zH,[w]:[{[E]:XH,[w]:Ri,[x]:A},{[E]:ZH,[w]:Ri,[x]:A},{[E]:ej,[w]:Ri,[x]:A},{[E]:tj,[w]:Ri,[x]:A},{[E]:rj,[w]:Ri,[x]:A},$y],[x]:A},{[E]:XH,[w]:bi,[x]:A},{[E]:ZH,[w]:bi,[x]:A},{[E]:ej,[w]:bi,[x]:A},{[E]:tj,[w]:bi,[x]:A},{[E]:rj,[w]:bi,[x]:A},$y],[x]:A}],[x]:A},gH],[x]:A},{[E]:[SH,xH,yH],[w]:[{[E]:hs,[w]:[{[E]:Dp,endpoint:{[V]:Uy,[z]:Pn,[K]:pe},[x]:P},{[E]:rI,endpoint:{[V]:"https://s3express-control-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[z]:Pn,[K]:pe},[x]:P},{[E]:gm,endpoint:{[V]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}",[z]:Pn,[K]:pe},[x]:P},{[E]:xm,endpoint:{[V]:"https://s3express-control.dualstack.{Region}.{partitionResult#dnsSuffix}",[z]:Pn,[K]:pe},[x]:P},{[E]:ym,endpoint:{[V]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}",[z]:Pn,[K]:pe},[x]:P}],[x]:A}],[x]:A},{[E]:[hm,{[v]:It,[C]:[Be,49,50,!0],[ye]:lj},{[v]:It,[C]:[Be,8,12,!0],[ye]:mj},{[v]:It,[C]:YH,[ye]:sH},{[v]:It,[C]:[Be,32,49,!0],[ye]:cI},{[v]:Fy,[C]:ZC,[ye]:"regionPartition"},{[v]:qe,[C]:[{[Z]:sH},"--op-s3"]}],[w]:[{[E]:oj,[w]:[{[E]:tI,[w]:[{[E]:[{[v]:qe,[C]:[EH,"e"]}],[w]:[{[E]:nj,[w]:[_H,{[E]:Dp,endpoint:{[V]:"https://{Bucket}.ec2.{url#authority}",[z]:Ly,[K]:pe},[x]:P}],[x]:A},{endpoint:{[V]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[z]:Ly,[K]:pe},[x]:P}],[x]:A},{[E]:[{[v]:qe,[C]:[EH,"o"]}],[w]:[{[E]:nj,[w]:[_H,{[E]:Dp,endpoint:{[V]:"https://{Bucket}.op-{outpostId}.{url#authority}",[z]:Ly,[K]:pe},[x]:P}],[x]:A},{endpoint:{[V]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[z]:Ly,[K]:pe},[x]:P}],[x]:A},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[x]:X}],[x]:A},{error:"Invalid Outposts Bucket alias - it must be a valid bucket name.",[x]:X}],[x]:A},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[x]:X}],[x]:A},{[E]:Qme,[w]:[{[E]:[ir,{[v]:vi,[C]:[{[v]:On,[C]:[{[v]:lI,[C]:Wme}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[x]:X},{[E]:[FC,vj],[w]:[{[E]:hs,[w]:[{[E]:sj,[w]:[{[E]:[gs,mH],error:"S3 Accelerate cannot be used in this region",[x]:X},{[E]:[_t,Pt,xr,fe,br],endpoint:{[V]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[z]:uo,[K]:pe},[x]:P},{[E]:[_t,Pt,xr,fe,Ne,po],[w]:[{endpoint:RH,[x]:P}],[x]:A},{[E]:[_t,Pt,xr,fe,Ne,lo],endpoint:RH,[x]:P},{[E]:[Pe,Pt,xr,fe,br],endpoint:{[V]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[z]:uo,[K]:pe},[x]:P},{[E]:[Pe,Pt,xr,fe,Ne,po],[w]:[{endpoint:bH,[x]:P}],[x]:A},{[E]:[Pe,Pt,xr,fe,Ne,lo],endpoint:bH,[x]:P},{[E]:[_t,be,gs,fe,br],endpoint:{[V]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[z]:uo,[K]:pe},[x]:P},{[E]:[_t,be,gs,fe,Ne,po],[w]:[{endpoint:vH,[x]:P}],[x]:A},{[E]:[_t,be,gs,fe,Ne,lo],endpoint:vH,[x]:P},{[E]:[_t,be,xr,fe,br],endpoint:{[V]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[z]:uo,[K]:pe},[x]:P},{[E]:[_t,be,xr,fe,Ne,po],[w]:[{endpoint:CH,[x]:P}],[x]:A},{[E]:[_t,be,xr,fe,Ne,lo],endpoint:CH,[x]:P},{[E]:[Pe,be,xr,ir,Ko,UC,br],endpoint:{[V]:fj,[z]:uo,[K]:pe},[x]:P},{[E]:[Pe,be,xr,ir,Ko,GC,br],endpoint:{[V]:Hy,[z]:uo,[K]:pe},[x]:P},{[E]:[Pe,be,xr,ir,Ko,UC,Ne,po],[w]:[{[E]:Ha,endpoint:HC,[x]:P},{endpoint:HC,[x]:P}],[x]:A},{[E]:[Pe,be,xr,ir,Ko,GC,Ne,po],[w]:[{[E]:Ha,endpoint:uI,[x]:P},IH],[x]:A},{[E]:[Pe,be,xr,ir,Ko,UC,Ne,lo],endpoint:HC,[x]:P},{[E]:[Pe,be,xr,ir,Ko,GC,Ne,lo],endpoint:uI,[x]:P},{[E]:[Pe,be,gs,fe,br],endpoint:{[V]:hj,[z]:uo,[K]:pe},[x]:P},{[E]:[Pe,be,gs,fe,Ne,po],[w]:[{[E]:Ha,endpoint:jC,[x]:P},{endpoint:jC,[x]:P}],[x]:A},{[E]:[Pe,be,gs,fe,Ne,lo],endpoint:jC,[x]:P},{[E]:[Pe,be,xr,fe,br],endpoint:{[V]:iH,[z]:uo,[K]:pe},[x]:P},{[E]:[Pe,be,xr,fe,Ne,po],[w]:[{[E]:Ha,endpoint:{[V]:iH,[z]:Er,[K]:pe},[x]:P},{endpoint:TH,[x]:P}],[x]:A},{[E]:[Pe,be,xr,fe,Ne,lo],endpoint:TH,[x]:P}],[x]:A},My],[x]:A}],[x]:A},{[E]:[ir,Ko,{[v]:qe,[C]:[{[v]:Vt,[C]:[Rj,"scheme"]},"http"]},{[v]:Gy,[C]:[Be,!0]},FC,be,Pe,xr],[w]:[{[E]:hs,[w]:[{[E]:sj,[w]:[IH],[x]:A},My],[x]:A}],[x]:A},{[E]:[FC,{[v]:gj,[C]:qme,[ye]:xj}],[w]:[{[E]:[{[v]:Vt,[C]:[fn,"resourceId[0]"],[ye]:yj},{[v]:vi,[C]:[{[v]:qe,[C]:[Cj,jy]}]}],[w]:[{[E]:[{[v]:qe,[C]:[VC,fI]}],[w]:[{[E]:oI,[w]:[{[E]:ij,[w]:[wH,AH,{[E]:nI,[w]:[DH,{[E]:cj,[w]:[zC,{[E]:sI,[w]:[{[E]:hs,[w]:[{[E]:uj,[w]:[{[E]:iI,[w]:[{[E]:[{[v]:qe,[C]:[Tj,jy]}],error:"Invalid ARN: Missing account id",[x]:X},{[E]:aI,[w]:[{[E]:pj,[w]:[{[E]:Dp,endpoint:{[V]:aH,[z]:KC,[K]:pe},[x]:P},{[E]:By,endpoint:{[V]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[z]:KC,[K]:pe},[x]:P},{endpoint:{[V]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[z]:KC,[K]:pe},[x]:P}],[x]:A},PH],[x]:A},WC],[x]:A},qC],[x]:A},JC],[x]:A}],[x]:A}],[x]:A},OH],[x]:A},{error:"Invalid ARN: bucket ARN is missing a region",[x]:X}],[x]:A},kH],[x]:A},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[x]:X}],[x]:A},{[E]:oI,[w]:[{[E]:ij,[w]:[{[E]:nI,[w]:[{[E]:oI,[w]:[{[E]:nI,[w]:[DH,{[E]:cj,[w]:[zC,{[E]:sI,[w]:[{[E]:hs,[w]:[{[E]:[{[v]:qe,[C]:[Ij,"{partitionResult#name}"]}],[w]:[{[E]:iI,[w]:[{[E]:[{[v]:qe,[C]:[VC,Pp]}],[w]:[{[E]:aI,[w]:[{[E]:pj,[w]:[{[E]:eI,error:"Access Points do not support S3 Accelerate",[x]:X},{[E]:rI,endpoint:{[V]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[z]:fm,[K]:pe},[x]:P},{[E]:gm,endpoint:{[V]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[z]:fm,[K]:pe},[x]:P},{[E]:xm,endpoint:{[V]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[z]:fm,[K]:pe},[x]:P},{[E]:[be,Pe,ir,Ko],endpoint:{[V]:aH,[z]:fm,[K]:pe},[x]:P},{[E]:ym,endpoint:{[V]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[z]:fm,[K]:pe},[x]:P}],[x]:A},PH],[x]:A},WC],[x]:A},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[x]:X}],[x]:A},qC],[x]:A},JC],[x]:A}],[x]:A}],[x]:A},OH],[x]:A}],[x]:A}],[x]:A},{[E]:[{[v]:Kc,[C]:[gI,!0]}],[w]:[{[E]:aj,error:"S3 MRAP does not support dual-stack",[x]:X},{[E]:By,error:"S3 MRAP does not support FIPS",[x]:X},{[E]:eI,error:"S3 MRAP does not support S3 Accelerate",[x]:X},{[E]:[{[v]:ar,[C]:[{[Z]:"DisableMultiRegionAccessPoints"},!0]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[x]:X},{[E]:[{[v]:Fy,[C]:ZC,[ye]:cH}],[w]:[{[E]:[{[v]:qe,[C]:[{[v]:Vt,[C]:[{[Z]:cH},zt]},{[v]:Vt,[C]:[fn,"partition"]}]}],[w]:[{endpoint:{[V]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[z]:{[mo]:[{[yr]:!0,name:mI,[Sr]:Pp,[dI]:Yme}]},[K]:pe},[x]:P}],[x]:A},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[x]:X}],[x]:A}],[x]:A},{error:"Invalid Access Point Name",[x]:X}],[x]:A},kH],[x]:A},{[E]:[{[v]:qe,[C]:[VC,Sm]}],[w]:[{[E]:aj,error:"S3 Outposts does not support Dual-stack",[x]:X},{[E]:By,error:"S3 Outposts does not support FIPS",[x]:X},{[E]:eI,error:"S3 Outposts does not support S3 Accelerate",[x]:X},{[E]:[{[v]:On,[C]:[{[v]:Vt,[C]:[fn,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[x]:X},{[E]:[{[v]:Vt,[C]:Xme,[ye]:cI}],[w]:[{[E]:oj,[w]:[zC,{[E]:sI,[w]:[{[E]:hs,[w]:[{[E]:uj,[w]:[{[E]:iI,[w]:[{[E]:aI,[w]:[{[E]:[{[v]:Vt,[C]:Zme,[ye]:uH}],[w]:[{[E]:[{[v]:Vt,[C]:[fn,"resourceId[3]"],[ye]:hI}],[w]:[{[E]:[{[v]:qe,[C]:[{[Z]:uH},Sj]}],[w]:[{[E]:Dp,endpoint:{[V]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[z]:NH,[K]:pe},[x]:P},{endpoint:{[V]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[z]:NH,[K]:pe},[x]:P}],[x]:A},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[x]:X}],[x]:A},{error:"Invalid ARN: expected an access point name",[x]:X}],[x]:A},{error:"Invalid ARN: Expected a 4-component resource",[x]:X}],[x]:A},WC],[x]:A},qC],[x]:A},JC],[x]:A}],[x]:A}],[x]:A},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[x]:X}],[x]:A},{error:"Invalid ARN: The Outpost Id was not set",[x]:X}],[x]:A},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[x]:X}],[x]:A},{error:"Invalid ARN: No ARN type specified",[x]:X}],[x]:A},{[E]:[{[v]:It,[C]:[Be,0,4,!1],[ye]:pH},{[v]:qe,[C]:[{[Z]:pH},"arn:"]},{[v]:vi,[C]:[{[v]:On,[C]:[$H]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[x]:X},{[E]:[{[v]:ar,[C]:[Kme,!0]},$H],error:"Path-style addressing cannot be used with ARN buckets",[x]:X},{[E]:Jme,[w]:[{[E]:hs,[w]:[{[E]:[xr],[w]:[{[E]:[_t,fe,Pt,br],endpoint:{[V]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[z]:uo,[K]:pe},[x]:P},{[E]:[_t,fe,Pt,Ne,po],[w]:[{endpoint:LH,[x]:P}],[x]:A},{[E]:[_t,fe,Pt,Ne,lo],endpoint:LH,[x]:P},{[E]:[Pe,fe,Pt,br],endpoint:{[V]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[z]:uo,[K]:pe},[x]:P},{[E]:[Pe,fe,Pt,Ne,po],[w]:[{endpoint:MH,[x]:P}],[x]:A},{[E]:[Pe,fe,Pt,Ne,lo],endpoint:MH,[x]:P},{[E]:[_t,fe,be,br],endpoint:{[V]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[z]:uo,[K]:pe},[x]:P},{[E]:[_t,fe,be,Ne,po],[w]:[{endpoint:BH,[x]:P}],[x]:A},{[E]:[_t,fe,be,Ne,lo],endpoint:BH,[x]:P},{[E]:[Pe,ir,Ko,be,br],endpoint:{[V]:Ej,[z]:uo,[K]:pe},[x]:P},{[E]:[Pe,ir,Ko,be,Ne,po],[w]:[{[E]:Ha,endpoint:QC,[x]:P},{endpoint:QC,[x]:P}],[x]:A},{[E]:[Pe,ir,Ko,be,Ne,lo],endpoint:QC,[x]:P},{[E]:[Pe,fe,be,br],endpoint:{[V]:dH,[z]:uo,[K]:pe},[x]:P},{[E]:[Pe,fe,be,Ne,po],[w]:[{[E]:Ha,endpoint:{[V]:dH,[z]:Er,[K]:pe},[x]:P},{endpoint:UH,[x]:P}],[x]:A},{[E]:[Pe,fe,be,Ne,lo],endpoint:UH,[x]:P}],[x]:A},{error:"Path-style addressing cannot be used with S3 Accelerate",[x]:X}],[x]:A}],[x]:A}],[x]:A},{[E]:[{[v]:On,[C]:[FH]},{[v]:ar,[C]:[FH,!0]}],[w]:[{[E]:hs,[w]:[{[E]:dj,[w]:[wH,AH,{[E]:Dp,endpoint:{[V]:Uy,[z]:YC,[K]:pe},[x]:P},{[E]:By,endpoint:{[V]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[z]:YC,[K]:pe},[x]:P},{endpoint:{[V]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[z]:YC,[K]:pe},[x]:P}],[x]:A},My],[x]:A}],[x]:A},{[E]:[SH],[w]:[{[E]:hs,[w]:[{[E]:dj,[w]:[{[E]:[Pt,_t,fe,br],endpoint:{[V]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[z]:uo,[K]:pe},[x]:P},{[E]:[Pt,_t,fe,Ne,po],[w]:[{endpoint:GH,[x]:P}],[x]:A},{[E]:[Pt,_t,fe,Ne,lo],endpoint:GH,[x]:P},{[E]:[Pt,Pe,fe,br],endpoint:{[V]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[z]:uo,[K]:pe},[x]:P},{[E]:[Pt,Pe,fe,Ne,po],[w]:[{endpoint:HH,[x]:P}],[x]:A},{[E]:[Pt,Pe,fe,Ne,lo],endpoint:HH,[x]:P},{[E]:[be,_t,fe,br],endpoint:{[V]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[z]:uo,[K]:pe},[x]:P},{[E]:[be,_t,fe,Ne,po],[w]:[{endpoint:jH,[x]:P}],[x]:A},{[E]:[be,_t,fe,Ne,lo],endpoint:jH,[x]:P},{[E]:[be,Pe,ir,Ko,br],endpoint:{[V]:Uy,[z]:uo,[K]:pe},[x]:P},{[E]:[be,Pe,ir,Ko,Ne,po],[w]:[{[E]:Ha,endpoint:XC,[x]:P},{endpoint:XC,[x]:P}],[x]:A},{[E]:[be,Pe,ir,Ko,Ne,lo],endpoint:XC,[x]:P},{[E]:[be,Pe,fe,br],endpoint:{[V]:lH,[z]:uo,[K]:pe},[x]:P},{[E]:[be,Pe,fe,Ne,po],[w]:[{[E]:Ha,endpoint:{[V]:lH,[z]:Er,[K]:pe},[x]:P},{endpoint:VH,[x]:P}],[x]:A},{[E]:[be,Pe,fe,Ne,lo],endpoint:VH,[x]:P}],[x]:A},My],[x]:A}],[x]:A}],[x]:A},{error:"A region must be set when sending requests to S3.",[x]:X}]},wj=efe;var tfe=new lr({size:50,params:["Accelerate","Bucket","DisableAccessPoints","DisableMultiRegionAccessPoints","DisableS3ExpressSessionAuth","Endpoint","ForcePathStyle","Region","UseArnRegion","UseDualStack","UseFIPS","UseGlobalEndpoint","UseObjectLambdaEndpoint","UseS3ExpressControlEndpoint"]}),Vy=(t,e={})=>tfe.get(t,()=>Br(wj,{endpointParams:t,logger:e.logger}));jt.aws=_r;var rfe=t=>async(e,r,o)=>{if(!o)throw new Error("Could not find `input` for `defaultEndpointRuleSetHttpAuthSchemeParametersProvider`");let n=await t(e,r,o),s=nt(r)?.commandInstance?.constructor?.getEndpointParameterInstructions;if(!s)throw new Error(`getEndpointParameterInstructions() is not defined on '${r.commandName}'`);let i=await kR(o,{getEndpointParameterInstructions:s},e);return Object.assign(n,i)},ofe=async(t,e,r)=>({operation:nt(e).operation,region:await ge(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),Aj=rfe(ofe);function Dj(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"s3",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function Pj(t){return{schemeId:"aws.auth#sigv4a",signingProperties:{name:"s3",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}var nfe=(t,e,r)=>n=>{let i=t(n).properties?.authSchemes;if(!i)return e(n);let a=[];for(let c of i){let{name:u,properties:m={},...f}=c,h=u.toLowerCase();u!==h&&console.warn(`HttpAuthScheme has been normalized with lowercasing: '${u}' to '${h}'`);let g;if(h==="sigv4a"){g="aws.auth#sigv4a";let T=i.find(M=>{let G=M.name.toLowerCase();return G!=="sigv4a"&&G.startsWith("sigv4")});if(Tp.sigv4aDependency()==="none"&&T)continue}else if(h.startsWith("sigv4"))g="aws.auth#sigv4";else throw new Error(`Unknown HttpAuthScheme found in '@smithy.rules#endpointRuleSet': '${h}'`);let _=r[g];if(!_)throw new Error(`Could not find HttpAuthOption create function for '${g}'`);let R=_(n);R.schemeId=g,R.signingProperties={...R.signingProperties||{},...f,...m},a.push(R)}return a},sfe=t=>{let e=[];switch(t.operation){default:e.push(Dj(t)),e.push(Pj(t))}return e},Oj=nfe(Vy,sfe,{"aws.auth#sigv4":Dj,"aws.auth#sigv4a":Pj}),kj=t=>{let e=Gr(t),r=WN(e);return Object.assign(r,{authSchemePreference:ge(t.authSchemePreference??[])})};xe();U();var Nj=t=>Object.assign(t,{useFipsEndpoint:t.useFipsEndpoint??!1,useDualstackEndpoint:t.useDualstackEndpoint??!1,forcePathStyle:t.forcePathStyle??!1,useAccelerateEndpoint:t.useAccelerateEndpoint??!1,useGlobalEndpoint:t.useGlobalEndpoint??!1,disableMultiregionAccessPoints:t.disableMultiregionAccessPoints??!1,defaultSigningName:"s3",clientContextParams:t.clientContextParams??{}}),xs={ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};Ce();U();var vr=class t extends mr{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}};var zy=class t extends vr{name="NoSuchUpload";$fault="client";constructor(e){super({name:"NoSuchUpload",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Ky=class t extends vr{name="ObjectNotInActiveTierError";$fault="client";constructor(e){super({name:"ObjectNotInActiveTierError",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Wy=class t extends vr{name="BucketAlreadyExists";$fault="client";constructor(e){super({name:"BucketAlreadyExists",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},qy=class t extends vr{name="BucketAlreadyOwnedByYou";$fault="client";constructor(e){super({name:"BucketAlreadyOwnedByYou",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Jy=class t extends vr{name="NoSuchBucket";$fault="client";constructor(e){super({name:"NoSuchBucket",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Qy=class t extends vr{name="InvalidObjectState";$fault="client";StorageClass;AccessTier;constructor(e){super({name:"InvalidObjectState",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.StorageClass=e.StorageClass,this.AccessTier=e.AccessTier}},Yy=class t extends vr{name="NoSuchKey";$fault="client";constructor(e){super({name:"NoSuchKey",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Xy=class t extends vr{name="NotFound";$fault="client";constructor(e){super({name:"NotFound",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Zy=class t extends vr{name="EncryptionTypeMismatch";$fault="client";constructor(e){super({name:"EncryptionTypeMismatch",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},eS=class t extends vr{name="InvalidRequest";$fault="client";constructor(e){super({name:"InvalidRequest",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},tS=class t extends vr{name="InvalidWriteOffset";$fault="client";constructor(e){super({name:"InvalidWriteOffset",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},rS=class t extends vr{name="TooManyParts";$fault="client";constructor(e){super({name:"TooManyParts",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},oS=class t extends vr{name="IdempotencyParameterMismatch";$fault="client";constructor(e){super({name:"IdempotencyParameterMismatch",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},nS=class t extends vr{name="ObjectAlreadyInActiveTierError";$fault="client";constructor(e){super({name:"ObjectAlreadyInActiveTierError",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}};var ife="Account",afe="AnalyticsAndOperator",sS="AccelerateConfiguration",IS="AccessControlList",Op="ACL",zj="AnalyticsConfigurationList",Wc="AccessControlPolicy",Kj="AccessControlTranslation",Em="AnalyticsConfiguration",Wj="AbortDate",cfe="AnalyticsExportDestination",ufe="AnalyticsFilter",pfe="AllowedHeaders",dfe="AllowedHeader",lfe="AccountId",qj="AbortIncompleteMultipartUpload",$j="AccessKeyId",mfe="AllowedMethods",ffe="AbortMultipartUpload",hfe="AbortMultipartUploadOutput",gfe="AbortMultipartUploadRequest",xfe="AllowedMethod",yfe="AllowedOrigins",Sfe="AllowedOrigin",Efe="AccessPointAlias",Jj="AccessPointArn",_fe="AllowQuotedRecordDelimiter",CI="AcceptRanges",Qj="AbortRuleId",iS="AbacStatus",Rfe="AnalyticsS3BucketDestination",bfe="ApplyServerSideEncryptionByDefault",vfe="ArchiveStatus",Yj="AccessTier",vm="And",O="Bucket",II="BucketArn",Cfe="BucketAlreadyExists",Ife="BucketAccountId",Tfe="BucketAlreadyOwnedByYou",Xj="BlockedEncryptionTypes",TI="BypassGovernanceRetention",wfe="BucketInfo",Wo="BucketKeyEnabled",Afe="BucketLifecycleConfiguration",Dfe="BucketLocationName",aS="BucketLoggingStatus",Pfe="BucketLocationType",Ofe="BucketName",Zj="BytesProcessed",Lj="BlockPublicAcls",Mj="BlockPublicPolicy",wI="BucketRegion",eV="BytesReturned",tV="BytesScanned",Cm="Body",AI="Buckets",rV="Checksum",Ue="ChecksumAlgorithm",kfe="CannedACL",Nfe="CreateBucket",xI="CreateBucketConfiguration",$fe="CreateBucketMetadataConfiguration",Lfe="CreateBucketMetadataConfigurationRequest",Mfe="CreateBucketMetadataTableConfiguration",Bfe="CreateBucketMetadataTableConfigurationRequest",Ufe="CreateBucketOutput",Ffe="CreateBucketRequest",kp="CacheControl",qo="ChecksumCRC32",Jo="ChecksumCRC32C",Qo="ChecksumCRC64NVME",Im="Cache-Control",Gfe="CreationDate",Tm="Content-Disposition",Np="ContentDisposition",Hfe="ContinuationEvent",wm="Content-Encoding",$p="ContentEncoding",jfe="CloudFunction",Vfe="CloudFunctionConfiguration",Lp="ContentLanguage",Am="Content-Language",Dm="Content-Length",Pm="ContentLength",Ft="Content-MD5",Gt="ContentMD5",zfe="CompletedMultipartUpload",Kfe="CompleteMultipartUploadOutput",Wfe="CreateMultipartUploadOutput",qfe="CompleteMultipartUploadResult",Jfe="CompleteMultipartUploadRequest",Qfe="CreateMultipartUploadRequest",oV="CompleteMultipartUpload",Yfe="CreateMultipartUpload",nV="ChecksumMode",Xfe="CopyObject",Zfe="CopyObjectOutput",sV="CopyObjectResult",cS="CORSConfiguration",DI="CORSRules",PI="CORSRule",ehe="CopyObjectRequest",the="CommonPrefix",rhe="CommonPrefixList",ohe="CompletedPartList",iV="CopyPartResult",nhe="CompletedPart",TS="CommonPrefixes",OI="ContentRange",she="ConfirmRemoveSelfBucketAccess",aV="Content-Range",cV="CopySource",Yo="ChecksumSHA1",Xo="ChecksumSHA256",uV="CopySourceIfMatch",pV="CopySourceIfModifiedSince",dV="CopySourceIfNoneMatch",lV="CopySourceIfUnmodifiedSince",ihe="CreateSessionOutput",ahe="CreateSessionResult",che="CopySourceRange",uhe="CreateSessionRequest",mV="CopySourceSSECustomerAlgorithm",kI="CopySourceSSECustomerKey",fV="CopySourceSSECustomerKeyMD5",hV="CSV",gV="CopySourceVersionId",phe="CSVInput",dhe="CSVOutput",NI="ConfigurationState",lhe="CreateSession",kn="ChecksumType",Om="Content-Type",mhe="ClientToken",Mp="ContentType",fhe="CompressionType",hn="ContinuationToken",xV="Condition",hhe="Code",ghe="Comments",yV="Contents",xhe="Cont",Bj="Credentials",Bp="Days",yhe="DaysAfterInitiation",She="DeleteBucket",Ehe="DeleteBucketAnalyticsConfiguration",_he="DeleteBucketAnalyticsConfigurationRequest",Rhe="DeleteBucketCors",bhe="DeleteBucketCorsRequest",vhe="DeleteBucketEncryption",Che="DeleteBucketEncryptionRequest",Ihe="DeleteBucketInventoryConfiguration",The="DeleteBucketInventoryConfigurationRequest",whe="DeleteBucketIntelligentTieringConfiguration",Ahe="DeleteBucketIntelligentTieringConfigurationRequest",Dhe="DeleteBucketLifecycle",Phe="DeleteBucketLifecycleRequest",Ohe="DeleteBucketMetadataConfiguration",khe="DeleteBucketMetadataConfigurationRequest",Nhe="DeleteBucketMetricsConfigurationRequest",$he="DeleteBucketMetricsConfiguration",Lhe="DeleteBucketMetadataTableConfiguration",Mhe="DeleteBucketMetadataTableConfigurationRequest",Bhe="DeleteBucketOwnershipControls",Uhe="DeleteBucketOwnershipControlsRequest",Fhe="DeleteBucketPolicy",Ghe="DeleteBucketPolicyRequest",Hhe="DeleteBucketRequest",jhe="DeleteBucketReplicationRequest",Vhe="DeleteBucketReplication",zhe="DeleteBucketTagging",Khe="DeleteBucketTaggingRequest",Whe="DeleteBucketWebsite",qhe="DeleteBucketWebsiteRequest",Jhe="DataExport",Qhe="DestinationIfMatch",Yhe="DestinationIfModifiedSince",Xhe="DestinationIfNoneMatch",Zhe="DestinationIfUnmodifiedSince",qc="DeleteMarker",ege="DeleteMarkerEntry",SV="DeleteMarkerReplication",tge="DeleteMarkerVersionId",EV="DeleteMarkers",$I="DisplayName",rge="DeletedObject",oge="DeleteObjectOutput",nge="DeleteObjectsOutput",sge="DeleteObjectRequest",ige="DeleteObjectsRequest",age="DeleteObjectTagging",cge="DeleteObjectTaggingOutput",uge="DeleteObjectTaggingRequest",pge="DeletedObjects",dge="DeleteObject",lge="DeleteObjects",mge="DeletePublicAccessBlock",fge="DeletePublicAccessBlockRequest",hge="DataRedundancy",_V="DefaultRetention",gge="DeleteResult",RV="DestinationResult",bV="Date",yI="Delete",xge="Deleted",ja="Delimiter",wS="Destination",yge="Description",vV="Details",Ci="Expiration",Sge="EmailAddress",CV="EventBridgeConfiguration",N="ExpectedBucketOwner",km="EncryptionConfiguration",IV="ErrorCode",Ege="ErrorDetails",LI="ErrorDocument",_ge="EndEvent",Rge="ExposeHeaders",bge="ExposeHeader",TV="ErrorMessage",vge="ExpiredObjectDeleteMarker",wV="ExistingObjectReplication",uS="ExpiresString",AV="ExpectedSourceBucketOwner",MI="EncryptionType",Cge="EncryptionTypeList",Ige="EncryptionTypeMismatch",fo="ETag",Va="EncodingType",Tge="EventThreshold",DV="ExpressionType",BI="Encryption",wge="Enabled",PV="End",OV="Errors",Nm="Error",UI="Events",FI="Event",Ls="Expires",kV="Expression",na="Filter",NV="FieldDelimiter",Age="FileHeaderInfo",Dge="FetchOwner",$V="FilterRule",Pge="FilterRuleList",Oge="FilterRules",kge="Field",LV="Format",Nge="Frequency",AS="Grants",$ge="GetBucketAbac",Lge="GetBucketAccelerateConfiguration",Mge="GetBucketAccelerateConfigurationOutput",Bge="GetBucketAnalyticsConfigurationOutput",Uge="GetBucketAccelerateConfigurationRequest",Fge="GetBucketAnalyticsConfigurationRequest",Gge="GetBucketAnalyticsConfiguration",Hge="GetBucketAbacOutput",jge="GetBucketAclOutput",Vge="GetBucketAbacRequest",zge="GetBucketAclRequest",Kge="GetBucketAcl",Wge="GetBucketCors",qge="GetBucketCorsOutput",Jge="GetBucketCorsRequest",Qge="GetBucketEncryption",Yge="GetBucketEncryptionOutput",Xge="GetBucketEncryptionRequest",Zge="GetBucketInventoryConfiguration",e0e="GetBucketInventoryConfigurationOutput",t0e="GetBucketInventoryConfigurationRequest",r0e="GetBucketIntelligentTieringConfiguration",o0e="GetBucketIntelligentTieringConfigurationOutput",n0e="GetBucketIntelligentTieringConfigurationRequest",s0e="GetBucketLocation",i0e="GetBucketLifecycleConfiguration",a0e="GetBucketLifecycleConfigurationOutput",c0e="GetBucketLifecycleConfigurationRequest",u0e="GetBucketLocationOutput",p0e="GetBucketLoggingOutput",d0e="GetBucketLocationRequest",l0e="GetBucketLoggingRequest",m0e="GetBucketLogging",f0e="GetBucketMetadataConfiguration",h0e="GetBucketMetadataConfigurationOutput",g0e="GetBucketMetricsConfigurationOutput",MV="GetBucketMetadataConfigurationResult",x0e="GetBucketMetadataConfigurationRequest",y0e="GetBucketMetricsConfigurationRequest",S0e="GetBucketMetricsConfiguration",E0e="GetBucketMetadataTableConfiguration",_0e="GetBucketMetadataTableConfigurationOutput",BV="GetBucketMetadataTableConfigurationResult",R0e="GetBucketMetadataTableConfigurationRequest",b0e="GetBucketNotificationConfiguration",v0e="GetBucketNotificationConfigurationRequest",C0e="GetBucketOwnershipControls",I0e="GetBucketOwnershipControlsOutput",T0e="GetBucketOwnershipControlsRequest",w0e="GetBucketPolicy",A0e="GetBucketPolicyOutput",D0e="GetBucketPolicyRequest",P0e="GetBucketPolicyStatus",O0e="GetBucketPolicyStatusOutput",k0e="GetBucketPolicyStatusRequest",N0e="GetBucketReplication",$0e="GetBucketReplicationOutput",L0e="GetBucketRequestPayment",M0e="GetBucketRequestPaymentOutput",B0e="GetBucketRequestPaymentRequest",U0e="GetBucketReplicationRequest",F0e="GetBucketTagging",G0e="GetBucketTaggingOutput",H0e="GetBucketTaggingRequest",j0e="GetBucketVersioning",V0e="GetBucketVersioningOutput",z0e="GetBucketVersioningRequest",K0e="GetBucketWebsite",W0e="GetBucketWebsiteOutput",q0e="GetBucketWebsiteRequest",Up="GrantFullControl",UV="GlacierJobParameters",J0e="GetObject",Q0e="GetObjectAcl",Y0e="GetObjectAclOutput",X0e="GetObjectAttributesOutput",Z0e="GetObjectAttributesParts",exe="GetObjectAclRequest",txe="GetObjectAttributesResponse",rxe="GetObjectAttributesRequest",oxe="GetObjectAttributes",nxe="GetObjectLockConfiguration",sxe="GetObjectLockConfigurationOutput",ixe="GetObjectLockConfigurationRequest",axe="GetObjectLegalHold",cxe="GetObjectLegalHoldOutput",uxe="GetObjectLegalHoldRequest",pxe="GetObjectOutput",dxe="GetObjectRequest",lxe="GetObjectRetentionOutput",mxe="GetObjectRetentionRequest",fxe="GetObjectRetention",hxe="GetObjectTagging",gxe="GetObjectTaggingOutput",xxe="GetObjectTorrentOutput",yxe="GetObjectTaggingRequest",Sxe="GetObjectTorrentRequest",Exe="GetObjectTorrent",_xe="GetPublicAccessBlock",Rxe="GetPublicAccessBlockOutput",bxe="GetPublicAccessBlockRequest",Fp="GrantRead",Gp="GrantReadACP",GI="GrantWrite",Hp="GrantWriteACP",HI="Grant",jI="Grantee",vxe="HeadBucket",Cxe="HeadBucketOutput",Ixe="HeadBucketRequest",Txe="HttpErrorCodeReturnedEquals",FV="HostName",wxe="HeadObject",Axe="HeadObjectOutput",Dxe="HeadObjectRequest",Pxe="HttpRedirectCode",Cr="Id",_m="InventoryConfiguration",GV="InventoryConfigurationList",jp="ID",VI="IndexDocument",Oxe="InventoryDestination",kxe="IsEnabled",Nxe="InventoryEncryption",$xe="InventoryFilter",HV="IsLatest",Vp="IfMatch",Lxe="IfMatchInitiatedTime",Mxe="IfMatchLastModifiedTime",Bxe="IfMatchSize",zI="If-Modified-Since",jV="IfModifiedSince",Uxe="InitiateMultipartUploadResult",Jc="If-Match",$m="IfNoneMatch",zp="If-None-Match",Fxe="InventoryOptionalFields",Gxe="InvalidObjectState",Hxe="IncludedObjectVersions",Uj="IsPublic",Fj="IgnorePublicAcls",jxe="IdempotencyParameterMismatch",Vxe="InvalidRequest",zxe="IsRestoreInProgress",KI="InputSerialization",Kxe="InventoryS3BucketDestination",Wxe="InventorySchedule",Ii="IsTruncated",qxe="IntelligentTieringAndOperator",Rm="IntelligentTieringConfiguration",VV="IntelligentTieringConfigurationList",zV="InventoryTableConfigurationResult",Jxe="InventoryTableConfigurationUpdates",pS="InventoryTableConfiguration",Qxe="IntelligentTieringFilter",KV="IfUnmodifiedSince",WI="If-Unmodified-Since",Yxe="InvalidWriteOffset",qI="Initiator",Xxe="Initiated",WV="JSON",Zxe="JSONInput",eye="JSONOutput",dS="JournalTableConfiguration",qV="JournalTableConfigurationResult",tye="JournalTableConfigurationUpdates",Ae="Key",rye="KeyCount",oye="KeyId",nye="KmsKeyArn",DS="KeyMarker",sye="KMSContext",iye="KMSKeyId",aye="KMSMasterKeyID",cye="KeyPrefixEquals",lS="Location",uye="ListAllMyBucketsResult",pye="ListAllMyDirectoryBucketsResult",dye="ListBuckets",lye="ListBucketAnalyticsConfigurations",mye="ListBucketAnalyticsConfigurationsOutput",fye="ListBucketAnalyticsConfigurationResult",hye="ListBucketAnalyticsConfigurationsRequest",gye="ListBucketInventoryConfigurations",xye="ListBucketInventoryConfigurationsOutput",yye="ListBucketInventoryConfigurationsRequest",Sye="ListBucketIntelligentTieringConfigurations",Eye="ListBucketIntelligentTieringConfigurationsOutput",_ye="ListBucketIntelligentTieringConfigurationsRequest",Rye="ListBucketMetricsConfigurations",bye="ListBucketMetricsConfigurationsOutput",vye="ListBucketMetricsConfigurationsRequest",Cye="ListBucketsOutput",Iye="ListBucketsRequest",JV="ListBucketResult",SI="LocationConstraint",EI="LifecycleConfiguration",Tye="ListDirectoryBuckets",wye="ListDirectoryBucketsOutput",Aye="ListDirectoryBucketsRequest",JI="LoggingEnabled",Dye="LifecycleExpiration",Pye="LambdaFunctionArn",Oye="LambdaFunctionConfiguration",kye="LambdaFunctionConfigurationList",Nye="LambdaFunctionConfigurations",mS="LegalHold",$ye="LocationInfo",Lye="ListInventoryConfigurationsResult",Ti="LastModified",Mye="ListMetricsConfigurationsResult",Bye="LastModifiedTime",Uye="ListMultipartUploads",Fye="ListMultipartUploadsOutput",Gye="ListMultipartUploadsResult",Hye="ListMultipartUploadsRequest",QI="Last-Modified",jye="ListObjects",Vye="ListObjectsOutput",zye="ListObjectsRequest",Kye="ListObjectsV2",Wye="ListObjectsV2Output",qye="ListObjectVersionsOutput",Jye="ListObjectsV2Request",Qye="ListObjectVersionsRequest",Yye="ListObjectVersions",Xye="ListParts",Zye="ListPartsOutput",eSe="ListPartsResult",tSe="ListPartsRequest",rSe="LifecycleRule",oSe="LifecycleRuleAndOperator",nSe="LifecycleRuleFilter",sSe="LifecycleRules",iSe="ListVersionsResult",Kp="Metadata",aSe="MetricsAndOperator",cSe="MaxAgeSeconds",uSe="MaxBuckets",_I="MetadataConfiguration",QV="MetricsConfigurationList",YV="MetadataConfigurationResult",bm="MetricsConfiguration",pSe="MetadataDirective",dSe="MaxDirectoryBuckets",XV="MfaDelete",ZV="MetadataEntry",lSe="MetricsFilter",YI="MFA",e7="MFADelete",Wp="MaxKeys",XI="MissingMeta",mSe="MpuObjectSize",PS="MaxParts",RI="MetadataTableConfiguration",t7="MetadataTableConfigurationResult",fSe="MetadataTableEncryptionConfiguration",r7="MultipartUpload",hSe="MultipartUploadList",o7="MaxUploads",n7="Marker",s7="Metrics",gSe="Message",xSe="Minutes",i7="Mode",Qc="Name",bI="NotificationConfiguration",ySe="NotificationConfigurationFilter",Lm="NextContinuationToken",a7="NoncurrentDays",SSe="NotFound",c7="NextKeyMarker",ESe="NextMarker",u7="NewerNoncurrentVersions",p7="NextPartNumberMarker",_Se="NoSuchBucket",RSe="NoSuchKey",bSe="NoSuchUpload",vSe="NextUploadIdMarker",d7="NoncurrentVersionExpiration",CSe="NextVersionIdMarker",ISe="NoncurrentVersionTransitions",TSe="NoncurrentVersionTransitionList",l7="NoncurrentVersionTransition",Bs="Owner",wSe="ObjectAttributes",ASe="ObjectAlreadyInActiveTierError",fS="OwnershipControls",DSe="OwnershipControlsRule",PSe="OwnershipControlsRules",OSe="OptionalFields",kSe="ObjectIdentifier",NSe="ObjectIdentifierList",m7="OutputLocation",hS="ObjectLockConfiguration",$Se="ObjectLockEnabled",LSe="ObjectLockEnabledForBucket",MSe="ObjectLockLegalHold",qp="ObjectLockLegalHoldStatus",Jp="ObjectLockMode",BSe="ObjectLockRetention",Qp="ObjectLockRetainUntilDate",USe="ObjectLockRule",FSe="ObjectList",GSe="ObjectNotInActiveTierError",f7="ObjectOwnership",ZI="OptionalObjectAttributes",HSe="ObjectParts",jSe="ObjectPart",VSe="ObjectSize",h7="ObjectSizeGreaterThan",g7="ObjectSizeLessThan",zSe="OutputSchemaVersion",eT="OutputSerialization",KSe="ObjectVersion",WSe="ObjectVersionList",qSe="Objects",x7="Object",Tt="Prefix",gS="PublicAccessBlockConfiguration",JSe="PutBucketAbac",QSe="PutBucketAccelerateConfiguration",YSe="PutBucketAccelerateConfigurationRequest",XSe="PutBucketAnalyticsConfigurationRequest",ZSe="PutBucketAnalyticsConfiguration",eEe="PutBucketAbacRequest",tEe="PutBucketAclRequest",rEe="PutBucketAcl",oEe="PutBucketCors",nEe="PutBucketCorsRequest",sEe="PutBucketEncryption",iEe="PutBucketEncryptionRequest",aEe="PutBucketInventoryConfiguration",cEe="PutBucketInventoryConfigurationRequest",uEe="PutBucketIntelligentTieringConfiguration",pEe="PutBucketIntelligentTieringConfigurationRequest",dEe="PutBucketLogging",lEe="PutBucketLifecycleConfiguration",mEe="PutBucketLifecycleConfigurationOutput",fEe="PutBucketLifecycleConfigurationRequest",hEe="PutBucketLoggingRequest",gEe="PutBucketMetricsConfiguration",xEe="PutBucketMetricsConfigurationRequest",yEe="PutBucketNotificationConfiguration",SEe="PutBucketNotificationConfigurationRequest",EEe="PutBucketOwnershipControls",_Ee="PutBucketOwnershipControlsRequest",REe="PutBucketPolicy",bEe="PutBucketPolicyRequest",vEe="PutBucketReplication",CEe="PutBucketRequestPayment",IEe="PutBucketRequestPaymentRequest",TEe="PutBucketReplicationRequest",wEe="PutBucketTagging",AEe="PutBucketTaggingRequest",DEe="PutBucketVersioning",PEe="PutBucketVersioningRequest",OEe="PutBucketWebsite",kEe="PutBucketWebsiteRequest",OS="PartsCount",NEe="PartitionDateSource",$Ee="ProgressEvent",LEe="ParquetInput",MEe="PartsList",Yc="PartNumber",kS="PartNumberMarker",BEe="PutObject",UEe="PutObjectAcl",FEe="PutObjectAclOutput",GEe="PutObjectAclRequest",HEe="PutObjectLockConfiguration",jEe="PutObjectLockConfigurationOutput",VEe="PutObjectLockConfigurationRequest",zEe="PutObjectLegalHold",KEe="PutObjectLegalHoldOutput",WEe="PutObjectLegalHoldRequest",qEe="PutObjectOutput",JEe="PutObjectRequest",QEe="PutObjectRetentionOutput",YEe="PutObjectRetentionRequest",XEe="PutObjectRetention",ZEe="PutObjectTagging",e_e="PutObjectTaggingOutput",t_e="PutObjectTaggingRequest",xS="PartitionedPrefix",r_e="PutPublicAccessBlock",o_e="PutPublicAccessBlockRequest",y7="PolicyStatus",NS="Parts",$S="Part",n_e="Parquet",S7="Payer",E7="Payload",_7="Permission",R7="Policy",b7="Progress",s_e="Priority",v7="Protocol",i_e="Quiet",a_e="QueueArn",C7="QuoteCharacter",c_e="QueueConfigurationList",u_e="QueueConfigurations",I7="QueueConfiguration",T7="QuoteEscapeCharacter",p_e="QuoteFields",d_e="Queue",Mm="Rules",tT="RedirectAllRequestsTo",Ot="RequestCharged",w7="ResponseCacheControl",A7="ResponseContentDisposition",D7="ResponseContentEncoding",P7="ResponseContentLanguage",O7="ResponseContentType",yS="ReplicationConfiguration",rT="RecordDelimiter",k7="ResponseExpires",l_e="RestoreExpiryDate",LS="RecordExpiration",m_e="RecordsEvent",f_e="ReplicaKmsKeyID",h_e="ReplaceKeyPrefixWith",g_e="ReplaceKeyWith",N7="ReplicaModifications",x_e="RenameObject",y_e="RenameObjectOutput",S_e="RestoreObjectOutput",E_e="RestoreOutputPath",__e="RenameObjectRequest",R_e="RestoreObjectRequest",b_e="RestoreObject",yt="RequestPayer",Gj="RestrictPublicBuckets",SS="RequestPaymentConfiguration",$7="RequestProgress",oT="RoutingRules",v_e="ReplicationRuleAndOperator",C_e="ReplicationRuleFilter",I_e="ReplicationRule",T_e="ReplicationRules",w_e="RequestRoute",vI="RestoreRequest",L7="RoutingRule",nT="ReplicationStatus",sT="RestoreStatus",A_e="RenameSource",M7="ReplicationTime",D_e="ReplicationTimeValue",P_e="RequestToken",O_e="RetainUntilDate",ES="Range",iT="Restore",k_e="Records",B7="Redirect",_S="Retention",N_e="Role",Yp="Rule",Mo="Status",U7="StartAfter",Hj="SecretAccessKey",$_e="SseAlgorithm",L_e="StreamingBlob",F7="S3BucketDestination",Bo="StorageClass",G7="StorageClassAnalysis",M_e="StorageClassAnalysisDataExport",B_e="SessionCredentialValue",U_e="SessionCredentials",F_e="StatusCode",G_e="SkipDestinationValidation",H_e="StatsEvent",j_e="SourceIfMatch",V_e="SourceIfModifiedSince",z_e="SourceIfNoneMatch",K_e="SourceIfUnmodifiedSince",H7="SSE-KMS",j7="SseKmsEncryptedObjects",W_e="S3KeyFilter",q_e="S3Key",J_e="S3Location",Q_e="SessionMode",Y_e="SelectObjectContent",X_e="SelectObjectContentEventStream",Z_e="SelectObjectContentOutput",eRe="SelectObjectContentRequest",V7="SelectParameters",RS="SimplePrefix",z7="ScanRange",K7="SSE-S3",W7="SourceSelectionCriteria",gn="ServerSideEncryption",tRe="SSEAlgorithm",rRe="ServerSideEncryptionByDefault",bS="ServerSideEncryptionConfiguration",Ir="SSECustomerAlgorithm",ys="SSECustomerKey",Tr="SSECustomerKeyMD5",q7="SSEKMS",sa="SSEKMSEncryptionContext",Zo="SSEKMSKeyId",oRe="ServerSideEncryptionRule",nRe="ServerSideEncryptionRules",J7="SSES3",jj="SessionToken",Q7="S3TablesDestination",Y7="S3TablesDestinationResult",sRe="S3",iRe="Schedule",Xp="Size",aRe="Start",X7="Stats",cRe="Suffix",Zp="Tags",aT="TableArn",uRe="TopicArn",pRe="TargetBucket",cT="TableBucketArn",dRe="TableBucketType",uT="TagCount",lRe="TopicConfigurationList",mRe="TopicConfigurations",Z7="TopicConfiguration",fRe="TaggingDirective",pT="TransitionDefaultMinimumObjectSize",ez="TargetGrants",hRe="TargetGrant",gRe="TieringList",xRe="TransitionList",yRe="TooManyParts",tz="TableNamespace",MS="TableName",rz="TargetObjectKeyFormat",SRe="TargetPrefix",ERe="TotalPartsCount",BS="TagSet",oz="TableStatus",Ss="Tag",Ms="Tagging",nz="Tier",_Re="Tierings",sz="Tiering",RRe="Time",iz="Token",bRe="Topic",vRe="Transitions",az="Transition",Bm="Type",CRe="Uploads",IRe="UpdateBucketMetadataInventoryTableConfiguration",TRe="UpdateBucketMetadataInventoryTableConfigurationRequest",wRe="UpdateBucketMetadataJournalTableConfiguration",ARe="UpdateBucketMetadataJournalTableConfigurationRequest",za="UploadId",cz="UploadIdMarker",uz="UserMetadata",DRe="UploadPart",PRe="UploadPartCopy",ORe="UploadPartCopyOutput",kRe="UploadPartCopyRequest",NRe="UploadPartOutput",$Re="UploadPartRequest",LRe="URI",MRe="Upload",dT="Value",vS="VersioningConfiguration",dt="VersionId",pz="VersionIdMarker",BRe="Versions",URe="Version",CS="WebsiteConfiguration",FRe="WriteGetObjectResponse",GRe="WriteGetObjectResponseRequest",HRe="WriteOffsetBytes",Um="WebsiteRedirectLocation",jRe="Years",dz="accept-ranges",VRe="bucket-region",xn="client",Xc="continuation-token",US="delimiter",yn="error",lT="eventPayload",zRe="endpoint",FS="encoding-type",KRe="fetch-owner",k="http",St="httpChecksum",Nn="httpError",d="httpHeader",WRe="hostLabel",Je="httpPayload",ed="httpPrefixHeaders",j="httpQuery",lz="http://www.w3.org/2001/XMLSchema-instance",Es="id",qRe="idempotencyToken",mz="key-marker",JRe="marker",QRe="max-buckets",YRe="max-directory-buckets",mT="max-keys",XRe="max-parts",ZRe="max-uploads",Fm="prefix",GS="partNumber",ebe="part-number-marker",fz="response-cache-control",hz="response-content-disposition",gz="response-content-encoding",xz="response-content-language",yz="response-content-type",Sz="response-expires",Ez="streaming",tbe="start-after",_z="smithy.ts.sdk.synthetic.com.amazonaws.s3",Gm="uploadId",rbe="upload-id-marker",Sn="versionId",obe="version-id-marker",Rz="xsi",nbe="xmlAttribute",de="xmlFlattened",I="xmlName",bz="xmlNamespace",td="x-amz-acl",vz="x-amz-abort-date",sbe="x-amz-access-point-alias",Cz="x-amz-abort-rule-id",ibe="x-amz-archive-status",Iz="x-amz-bucket-arn",fT="x-amz-bypass-governance-retention",abe="x-amz-bucket-location-name",cbe="x-amz-bucket-location-type",ube="x-amz-bucket-object-lock-enabled",Tz="x-amz-bucket-object-lock-token",pbe="x-amz-bucket-region",hT="x-amz-checksum-algorithm",Zc="x-amz-checksum-crc32",eu="x-amz-checksum-crc32c",tu="x-amz-checksum-crc64nvme",wz="x-amz-checksum-mode",dbe="x-amz-confirm-remove-self-bucket-access",ru="x-amz-checksum-sha1",ou="x-amz-checksum-sha256",Az="x-amz-copy-source",Dz="x-amz-copy-source-if-match",Pz="x-amz-copy-source-if-modified-since",Oz="x-amz-copy-source-if-none-match",kz="x-amz-copy-source-if-unmodified-since",lbe="x-amz-create-session-mode",mbe="x-amz-copy-source-range",Nz="x-amz-copy-source-server-side-encryption-customer-algorithm",$z="x-amz-copy-source-server-side-encryption-customer-key",Lz="x-amz-copy-source-server-side-encryption-customer-key-MD5",Mz="x-amz-copy-source-version-id",rd="x-amz-checksum-type",fbe="x-amz-client-token",HS="x-amz-delete-marker",Hm="x-amz-expiration",$="x-amz-expected-bucket-owner",hbe="x-amz-fwd-error-code",gbe="x-amz-fwd-error-message",xbe="x-amz-fwd-header-Cache-Control",ybe="x-amz-fwd-header-Content-Disposition",Sbe="x-amz-fwd-header-Content-Encoding",Ebe="x-amz-fwd-header-Content-Language",_be="x-amz-fwd-header-Content-Range",Rbe="x-amz-fwd-header-Content-Type",bbe="x-amz-fwd-header-ETag",vbe="x-amz-fwd-header-Expires",Cbe="x-amz-fwd-header-Last-Modified",Ibe="x-amz-fwd-header-accept-ranges",Tbe="x-amz-fwd-header-x-amz-checksum-crc32",wbe="x-amz-fwd-header-x-amz-checksum-crc32c",Abe="x-amz-fwd-header-x-amz-checksum-crc64nvme",Dbe="x-amz-fwd-header-x-amz-checksum-sha1",Pbe="x-amz-fwd-header-x-amz-checksum-sha256",Obe="x-amz-fwd-header-x-amz-delete-marker",kbe="x-amz-fwd-header-x-amz-expiration",Nbe="x-amz-fwd-header-x-amz-missing-meta",$be="x-amz-fwd-header-x-amz-mp-parts-count",Lbe="x-amz-fwd-header-x-amz-object-lock-legal-hold",Mbe="x-amz-fwd-header-x-amz-object-lock-mode",Bbe="x-amz-fwd-header-x-amz-object-lock-retain-until-date",Ube="x-amz-fwd-header-x-amz-restore",Fbe="x-amz-fwd-header-x-amz-request-charged",Gbe="x-amz-fwd-header-x-amz-replication-status",Hbe="x-amz-fwd-header-x-amz-storage-class",jbe="x-amz-fwd-header-x-amz-server-side-encryption",Vbe="x-amz-fwd-header-x-amz-server-side-encryption-aws-kms-key-id",zbe="x-amz-fwd-header-x-amz-server-side-encryption-bucket-key-enabled",Kbe="x-amz-fwd-header-x-amz-server-side-encryption-customer-algorithm",Wbe="x-amz-fwd-header-x-amz-server-side-encryption-customer-key-MD5",qbe="x-amz-fwd-header-x-amz-tagging-count",Jbe="x-amz-fwd-header-x-amz-version-id",Qbe="x-amz-fwd-status",od="x-amz-grant-full-control",nd="x-amz-grant-read",sd="x-amz-grant-read-acp",gT="x-amz-grant-write",id="x-amz-grant-write-acp",Ybe="x-amz-if-match-initiated-time",Xbe="x-amz-if-match-last-modified-time",Zbe="x-amz-if-match-size",ad="x-amz-meta-",xT="x-amz-mfa",eve="x-amz-metadata-directive",Bz="x-amz-missing-meta",tve="x-amz-mp-object-size",rve="x-amz-max-parts",Uz="x-amz-mp-parts-count",ove="x-amz-object-attributes",jm="x-amz-object-lock-legal-hold",Vm="x-amz-object-lock-mode",zm="x-amz-object-lock-retain-until-date",nve="x-amz-object-ownership",yT="x-amz-optional-object-attributes",sve="x-amz-object-size",ive="x-amz-part-number-marker",Fz="x-amz-restore",$t="x-amz-request-charged",ave="x-amz-restore-output-path",Et="x-amz-request-payer",cve="x-amz-request-route",Gz="x-amz-replication-status",uve="x-amz-rename-source",pve="x-amz-rename-source-if-match",dve="x-amz-rename-source-if-modified-since",lve="x-amz-rename-source-if-none-match",mve="x-amz-rename-source-if-unmodified-since",fve="x-amz-request-token",Km="x-amz-storage-class",Rt="x-amz-sdk-checksum-algorithm",hve="x-amz-skip-destination-validation",Hz="x-amz-source-expected-bucket-owner",$n="x-amz-server-side-encryption",Ln="x-amz-server-side-encryption-aws-kms-key-id",Mn="x-amz-server-side-encryption-bucket-key-enabled",Ka="x-amz-server-side-encryption-context",ho="x-amz-server-side-encryption-customer-algorithm",Us="x-amz-server-side-encryption-customer-key",go="x-amz-server-side-encryption-customer-key-MD5",ST="x-amz-tagging",jz="x-amz-tagging-count",gve="x-amz-tagging-directive",ET="x-amz-transition-default-minimum-object-size",wi="x-amz-version-id",xve="x-amz-write-offset-bytes",Wm="x-amz-website-redirect-location",yve="xsi:type",l="com.amazonaws.s3",Vz=[0,l,kI,8,0],Vj=[0,l,B_e,8,0],Fs=[0,l,ys,8,0],Wa=[0,l,sa,8,0],Co=[0,l,Zo,8,0],qm=[0,l,L_e,{[Ez]:1},42],zz=[3,l,iS,0,[Mo],[0]],Sve=[3,l,qj,0,[yhe],[1]],Eve=[3,l,hfe,0,[Ot],[[0,{[d]:$t}]]],_ve=[3,l,gfe,0,[O,Ae,za,yt,N,Lxe],[[0,1],[0,1],[0,{[j]:Gm}],[0,{[d]:Et}],[0,{[d]:$}],[6,{[d]:Ybe}]]],Rve=[3,l,sS,0,[Mo],[0]],Kz=[3,l,Wc,0,[AS,Bs],[[()=>VS,{[I]:IS}],()=>ia]],bve=[3,l,Kj,0,[Bs],[0]],vve=[3,l,afe,0,[Tt,Zp],[0,[()=>aa,{[de]:1,[I]:Ss}]]],_T=[3,l,Em,0,[Cr,na,G7],[0,[()=>ODe,0],()=>GAe]],Cve=[3,l,cfe,0,[F7],[()=>Ive]],Ive=[3,l,Rfe,0,[LV,Ife,O,Tt],[0,0,0,0]],Tve=[3,l,Xj,0,[MI],[[()=>uDe,{[de]:1}]]],wve=[3,l,O,0,[Qc,Gfe,wI,II],[0,4,0,0]],Ave=[-3,l,Cfe,{[yn]:xn,[Nn]:409},[],[]];b.for(l).registerError(Ave,Wy);var Dve=[-3,l,Tfe,{[yn]:xn,[Nn]:409},[],[]];b.for(l).registerError(Dve,qy);var Pve=[3,l,wfe,0,[hge,Bm],[0,0]],Ove=[3,l,Afe,0,[Mm],[[()=>mK,{[de]:1,[I]:Yp}]]],kve=[3,l,aS,0,[JI],[[()=>Xz,0]]],Nve=[3,l,rV,0,[qo,Jo,Qo,Yo,Xo,kn],[0,0,0,0,0,0]],$ve=[3,l,the,0,[Tt],[0]],Lve=[3,l,zfe,0,[NS],[[()=>iDe,{[de]:1,[I]:$S}]]],Mve=[3,l,nhe,0,[fo,qo,Jo,Qo,Yo,Xo,Yc],[0,0,0,0,0,0,1]],Bve=[3,l,Kfe,{[I]:qfe},[lS,O,Ae,Ci,fo,qo,Jo,Qo,Yo,Xo,kn,gn,dt,Zo,Wo,Ot],[0,0,0,[0,{[d]:Hm}],0,0,0,0,0,0,0,[0,{[d]:$n}],[0,{[d]:wi}],[()=>Co,{[d]:Ln}],[2,{[d]:Mn}],[0,{[d]:$t}]]],Uve=[3,l,Jfe,0,[O,Ae,r7,za,qo,Jo,Qo,Yo,Xo,kn,mSe,yt,N,Vp,$m,Ir,ys,Tr],[[0,1],[0,1],[()=>Lve,{[Je]:1,[I]:oV}],[0,{[j]:Gm}],[0,{[d]:Zc}],[0,{[d]:eu}],[0,{[d]:tu}],[0,{[d]:ru}],[0,{[d]:ou}],[0,{[d]:rd}],[1,{[d]:tve}],[0,{[d]:Et}],[0,{[d]:$}],[0,{[d]:Jc}],[0,{[d]:zp}],[0,{[d]:ho}],[()=>Fs,{[d]:Us}],[0,{[d]:go}]]],Fve=[3,l,xV,0,[Txe,cye],[0,0]],Gve=[3,l,Hfe,0,[],[]],Hve=[3,l,Zfe,0,[sV,Ci,gV,dt,gn,Ir,Tr,Zo,sa,Wo,Ot],[[()=>Vve,16],[0,{[d]:Hm}],[0,{[d]:Mz}],[0,{[d]:wi}],[0,{[d]:$n}],[0,{[d]:ho}],[0,{[d]:go}],[()=>Co,{[d]:Ln}],[()=>Wa,{[d]:Ka}],[2,{[d]:Mn}],[0,{[d]:$t}]]],jve=[3,l,ehe,0,[Op,O,kp,Ue,Np,$p,Lp,Mp,cV,uV,pV,dV,lV,Ls,Up,Fp,Gp,Hp,Vp,$m,Ae,Kp,pSe,fRe,gn,Bo,Um,Ir,ys,Tr,Zo,sa,Wo,mV,kI,fV,yt,Ms,Jp,Qp,qp,N,AV],[[0,{[d]:td}],[0,1],[0,{[d]:Im}],[0,{[d]:hT}],[0,{[d]:Tm}],[0,{[d]:wm}],[0,{[d]:Am}],[0,{[d]:Om}],[0,{[d]:Az}],[0,{[d]:Dz}],[4,{[d]:Pz}],[0,{[d]:Oz}],[4,{[d]:kz}],[4,{[d]:Ls}],[0,{[d]:od}],[0,{[d]:nd}],[0,{[d]:sd}],[0,{[d]:id}],[0,{[d]:Jc}],[0,{[d]:zp}],[0,1],[128,{[ed]:ad}],[0,{[d]:eve}],[0,{[d]:gve}],[0,{[d]:$n}],[0,{[d]:Km}],[0,{[d]:Wm}],[0,{[d]:ho}],[()=>Fs,{[d]:Us}],[0,{[d]:go}],[()=>Co,{[d]:Ln}],[()=>Wa,{[d]:Ka}],[2,{[d]:Mn}],[0,{[d]:Nz}],[()=>Vz,{[d]:$z}],[0,{[d]:Lz}],[0,{[d]:Et}],[0,{[d]:ST}],[0,{[d]:Vm}],[5,{[d]:zm}],[0,{[d]:jm}],[0,{[d]:$}],[0,{[d]:Hz}]]],Vve=[3,l,sV,0,[fo,Ti,kn,qo,Jo,Qo,Yo,Xo],[0,4,0,0,0,0,0,0]],zve=[3,l,iV,0,[fo,Ti,qo,Jo,Qo,Yo,Xo],[0,4,0,0,0,0,0]],Kve=[3,l,cS,0,[DI],[[()=>lK,{[de]:1,[I]:PI}]]],Wve=[3,l,PI,0,[jp,pfe,mfe,yfe,Rge,cSe],[0,[64,{[de]:1,[I]:dfe}],[64,{[de]:1,[I]:xfe}],[64,{[de]:1,[I]:Sfe}],[64,{[de]:1,[I]:bge}],1]],qve=[3,l,xI,0,[SI,lS,O,Zp],[0,()=>XTe,()=>Pve,[()=>aa,0]]],Jve=[3,l,Lfe,0,[O,Gt,Ue,_I,N],[[0,1],[0,{[d]:Ft}],[0,{[d]:Rt}],[()=>ZTe,{[Je]:1,[I]:_I}],[0,{[d]:$}]]],Qve=[3,l,Bfe,0,[O,Gt,Ue,RI,N],[[0,1],[0,{[d]:Ft}],[0,{[d]:Rt}],[()=>rwe,{[Je]:1,[I]:RI}],[0,{[d]:$}]]],Yve=[3,l,Ufe,0,[lS,II],[[0,{[d]:lS}],[0,{[d]:Iz}]]],Xve=[3,l,Ffe,0,[Op,O,xI,Up,Fp,Gp,GI,Hp,LSe,f7],[[0,{[d]:td}],[0,1],[()=>qve,{[Je]:1,[I]:xI}],[0,{[d]:od}],[0,{[d]:nd}],[0,{[d]:sd}],[0,{[d]:gT}],[0,{[d]:id}],[2,{[d]:ube}],[0,{[d]:nve}]]],Zve=[3,l,Wfe,{[I]:Uxe},[Wj,Qj,O,Ae,za,gn,Ir,Tr,Zo,sa,Wo,Ot,Ue,kn],[[4,{[d]:vz}],[0,{[d]:Cz}],[0,{[I]:O}],0,0,[0,{[d]:$n}],[0,{[d]:ho}],[0,{[d]:go}],[()=>Co,{[d]:Ln}],[()=>Wa,{[d]:Ka}],[2,{[d]:Mn}],[0,{[d]:$t}],[0,{[d]:hT}],[0,{[d]:rd}]]],eCe=[3,l,Qfe,0,[Op,O,kp,Np,$p,Lp,Mp,Ls,Up,Fp,Gp,Hp,Ae,Kp,gn,Bo,Um,Ir,ys,Tr,Zo,sa,Wo,yt,Ms,Jp,Qp,qp,N,Ue,kn],[[0,{[d]:td}],[0,1],[0,{[d]:Im}],[0,{[d]:Tm}],[0,{[d]:wm}],[0,{[d]:Am}],[0,{[d]:Om}],[4,{[d]:Ls}],[0,{[d]:od}],[0,{[d]:nd}],[0,{[d]:sd}],[0,{[d]:id}],[0,1],[128,{[ed]:ad}],[0,{[d]:$n}],[0,{[d]:Km}],[0,{[d]:Wm}],[0,{[d]:ho}],[()=>Fs,{[d]:Us}],[0,{[d]:go}],[()=>Co,{[d]:Ln}],[()=>Wa,{[d]:Ka}],[2,{[d]:Mn}],[0,{[d]:Et}],[0,{[d]:ST}],[0,{[d]:Vm}],[5,{[d]:zm}],[0,{[d]:jm}],[0,{[d]:$}],[0,{[d]:hT}],[0,{[d]:rd}]]],tCe=[3,l,ihe,{[I]:ahe},[gn,Zo,sa,Wo,Bj],[[0,{[d]:$n}],[()=>Co,{[d]:Ln}],[()=>Wa,{[d]:Ka}],[2,{[d]:Mn}],[()=>kAe,{[I]:Bj}]]],rCe=[3,l,uhe,0,[Q_e,O,gn,Zo,sa,Wo],[[0,{[d]:lbe}],[0,1],[0,{[d]:$n}],[()=>Co,{[d]:Ln}],[()=>Wa,{[d]:Ka}],[2,{[d]:Mn}]]],oCe=[3,l,phe,0,[Age,ghe,T7,rT,NV,C7,_fe],[0,0,0,0,0,0,2]],nCe=[3,l,dhe,0,[p_e,T7,rT,NV,C7],[0,0,0,0,0]],sCe=[3,l,_V,0,[i7,Bp,jRe],[0,1,1]],iCe=[3,l,yI,0,[qSe,i_e],[[()=>SDe,{[de]:1,[I]:x7}],2]],aCe=[3,l,_he,0,[O,Cr,N],[[0,1],[0,{[j]:Es}],[0,{[d]:$}]]],cCe=[3,l,bhe,0,[O,N],[[0,1],[0,{[d]:$}]]],uCe=[3,l,Che,0,[O,N],[[0,1],[0,{[d]:$}]]],pCe=[3,l,Ahe,0,[O,Cr,N],[[0,1],[0,{[j]:Es}],[0,{[d]:$}]]],dCe=[3,l,The,0,[O,Cr,N],[[0,1],[0,{[j]:Es}],[0,{[d]:$}]]],lCe=[3,l,Phe,0,[O,N],[[0,1],[0,{[d]:$}]]],mCe=[3,l,khe,0,[O,N],[[0,1],[0,{[d]:$}]]],fCe=[3,l,Mhe,0,[O,N],[[0,1],[0,{[d]:$}]]],hCe=[3,l,Nhe,0,[O,Cr,N],[[0,1],[0,{[j]:Es}],[0,{[d]:$}]]],gCe=[3,l,Uhe,0,[O,N],[[0,1],[0,{[d]:$}]]],xCe=[3,l,Ghe,0,[O,N],[[0,1],[0,{[d]:$}]]],yCe=[3,l,jhe,0,[O,N],[[0,1],[0,{[d]:$}]]],SCe=[3,l,Hhe,0,[O,N],[[0,1],[0,{[d]:$}]]],ECe=[3,l,Khe,0,[O,N],[[0,1],[0,{[d]:$}]]],_Ce=[3,l,qhe,0,[O,N],[[0,1],[0,{[d]:$}]]],RCe=[3,l,rge,0,[Ae,dt,qc,tge],[0,0,2,0]],bCe=[3,l,ege,0,[Bs,Ae,dt,HV,Ti],[()=>ia,0,0,2,4]],vCe=[3,l,SV,0,[Mo],[0]],CCe=[3,l,oge,0,[qc,dt,Ot],[[2,{[d]:HS}],[0,{[d]:wi}],[0,{[d]:$t}]]],ICe=[3,l,sge,0,[O,Ae,YI,dt,yt,TI,N,Vp,Mxe,Bxe],[[0,1],[0,1],[0,{[d]:xT}],[0,{[j]:Sn}],[0,{[d]:Et}],[2,{[d]:fT}],[0,{[d]:$}],[0,{[d]:Jc}],[6,{[d]:Xbe}],[1,{[d]:Zbe}]]],TCe=[3,l,nge,{[I]:gge},[xge,Ot,OV],[[()=>aDe,{[de]:1}],[0,{[d]:$t}],[()=>pDe,{[de]:1,[I]:Nm}]]],wCe=[3,l,ige,0,[O,yI,YI,yt,TI,N,Ue],[[0,1],[()=>iCe,{[Je]:1,[I]:yI}],[0,{[d]:xT}],[0,{[d]:Et}],[2,{[d]:fT}],[0,{[d]:$}],[0,{[d]:Rt}]]],ACe=[3,l,cge,0,[dt],[[0,{[d]:wi}]]],DCe=[3,l,uge,0,[O,Ae,dt,N],[[0,1],[0,1],[0,{[j]:Sn}],[0,{[d]:$}]]],PCe=[3,l,fge,0,[O,N],[[0,1],[0,{[d]:$}]]],OCe=[3,l,wS,0,[O,ife,Bo,Kj,km,M7,s7],[0,0,0,()=>bve,()=>$Ce,()=>gAe,()=>nwe]],kCe=[3,l,RV,0,[dRe,cT,tz],[0,0,0]],NCe=[3,l,BI,0,[MI,iye,sye],[0,[()=>Co,0],0]],$Ce=[3,l,km,0,[f_e],[0]],LCe=[-3,l,Ige,{[yn]:xn,[Nn]:400},[],[]];b.for(l).registerError(LCe,Zy);var MCe=[3,l,_ge,0,[],[]],BCe=[3,l,Nm,0,[Ae,dt,hhe,gSe],[0,0,0,0]],RT=[3,l,Ege,0,[IV,TV],[0,0]],Wz=[3,l,LI,0,[Ae],[0]],UCe=[3,l,CV,0,[],[]],FCe=[3,l,wV,0,[Mo],[0]],GCe=[3,l,$V,0,[Qc,dT],[0,0]],HCe=[3,l,Hge,0,[iS],[[()=>zz,16]]],jCe=[3,l,Vge,0,[O,N],[[0,1],[0,{[d]:$}]]],VCe=[3,l,Mge,{[I]:sS},[Mo,Ot],[0,[0,{[d]:$t}]]],zCe=[3,l,Uge,0,[O,N,yt],[[0,1],[0,{[d]:$}],[0,{[d]:Et}]]],KCe=[3,l,jge,{[I]:Wc},[Bs,AS],[()=>ia,[()=>VS,{[I]:IS}]]],WCe=[3,l,zge,0,[O,N],[[0,1],[0,{[d]:$}]]],qCe=[3,l,Bge,0,[Em],[[()=>_T,16]]],JCe=[3,l,Fge,0,[O,Cr,N],[[0,1],[0,{[j]:Es}],[0,{[d]:$}]]],QCe=[3,l,qge,{[I]:cS},[DI],[[()=>lK,{[de]:1,[I]:PI}]]],YCe=[3,l,Jge,0,[O,N],[[0,1],[0,{[d]:$}]]],XCe=[3,l,Yge,0,[bS],[[()=>pK,16]]],ZCe=[3,l,Xge,0,[O,N],[[0,1],[0,{[d]:$}]]],eIe=[3,l,o0e,0,[Rm],[[()=>bT,16]]],tIe=[3,l,n0e,0,[O,Cr,N],[[0,1],[0,{[j]:Es}],[0,{[d]:$}]]],rIe=[3,l,e0e,0,[_m],[[()=>vT,16]]],oIe=[3,l,t0e,0,[O,Cr,N],[[0,1],[0,{[j]:Es}],[0,{[d]:$}]]],nIe=[3,l,a0e,{[I]:EI},[Mm,pT],[[()=>mK,{[de]:1,[I]:Yp}],[0,{[d]:ET}]]],sIe=[3,l,c0e,0,[O,N],[[0,1],[0,{[d]:$}]]],iIe=[3,l,u0e,{[I]:SI},[SI],[0]],aIe=[3,l,d0e,0,[O,N],[[0,1],[0,{[d]:$}]]],cIe=[3,l,p0e,{[I]:aS},[JI],[[()=>Xz,0]]],uIe=[3,l,l0e,0,[O,N],[[0,1],[0,{[d]:$}]]],pIe=[3,l,h0e,0,[MV],[[()=>lIe,16]]],dIe=[3,l,x0e,0,[O,N],[[0,1],[0,{[d]:$}]]],lIe=[3,l,MV,0,[YV],[()=>ewe]],mIe=[3,l,_0e,0,[BV],[[()=>hIe,16]]],fIe=[3,l,R0e,0,[O,N],[[0,1],[0,{[d]:$}]]],hIe=[3,l,BV,0,[t7,Mo,Nm],[()=>owe,0,()=>RT]],gIe=[3,l,g0e,0,[bm],[[()=>IT,16]]],xIe=[3,l,y0e,0,[O,Cr,N],[[0,1],[0,{[j]:Es}],[0,{[d]:$}]]],yIe=[3,l,v0e,0,[O,N],[[0,1],[0,{[d]:$}]]],SIe=[3,l,I0e,0,[fS],[[()=>nK,16]]],EIe=[3,l,T0e,0,[O,N],[[0,1],[0,{[d]:$}]]],_Ie=[3,l,A0e,0,[R7],[[0,16]]],RIe=[3,l,D0e,0,[O,N],[[0,1],[0,{[d]:$}]]],bIe=[3,l,O0e,0,[y7],[[()=>Cwe,16]]],vIe=[3,l,k0e,0,[O,N],[[0,1],[0,{[d]:$}]]],CIe=[3,l,$0e,0,[yS],[[()=>aK,16]]],IIe=[3,l,U0e,0,[O,N],[[0,1],[0,{[d]:$}]]],TIe=[3,l,M0e,{[I]:SS},[S7],[0]],wIe=[3,l,B0e,0,[O,N],[[0,1],[0,{[d]:$}]]],AIe=[3,l,G0e,{[I]:Ms},[BS],[[()=>aa,0]]],DIe=[3,l,H0e,0,[O,N],[[0,1],[0,{[d]:$}]]],PIe=[3,l,V0e,{[I]:vS},[Mo,e7],[0,[0,{[I]:XV}]]],OIe=[3,l,z0e,0,[O,N],[[0,1],[0,{[d]:$}]]],kIe=[3,l,W0e,{[I]:CS},[tT,VI,LI,oT],[()=>iK,()=>Jz,()=>Wz,[()=>hK,0]]],NIe=[3,l,q0e,0,[O,N],[[0,1],[0,{[d]:$}]]],$Ie=[3,l,Y0e,{[I]:Wc},[Bs,AS,Ot],[()=>ia,[()=>VS,{[I]:IS}],[0,{[d]:$t}]]],LIe=[3,l,exe,0,[O,Ae,dt,yt,N],[[0,1],[0,1],[0,{[j]:Sn}],[0,{[d]:Et}],[0,{[d]:$}]]],MIe=[3,l,X0e,{[I]:txe},[qc,Ti,dt,Ot,fo,rV,HSe,Bo,VSe],[[2,{[d]:HS}],[4,{[d]:QI}],[0,{[d]:wi}],[0,{[d]:$t}],0,()=>Nve,[()=>BIe,0],0,1]],BIe=[3,l,Z0e,0,[ERe,kS,p7,PS,Ii,NS],[[1,{[I]:OS}],0,0,1,2,[()=>bDe,{[de]:1,[I]:$S}]]],UIe=[3,l,rxe,0,[O,Ae,dt,PS,kS,Ir,ys,Tr,yt,N,wSe],[[0,1],[0,1],[0,{[j]:Sn}],[1,{[d]:rve}],[0,{[d]:ive}],[0,{[d]:ho}],[()=>Fs,{[d]:Us}],[0,{[d]:go}],[0,{[d]:Et}],[0,{[d]:$}],[64,{[d]:ove}]]],FIe=[3,l,cxe,0,[mS],[[()=>tK,{[Je]:1,[I]:mS}]]],GIe=[3,l,uxe,0,[O,Ae,dt,yt,N],[[0,1],[0,1],[0,{[j]:Sn}],[0,{[d]:Et}],[0,{[d]:$}]]],HIe=[3,l,sxe,0,[hS],[[()=>eK,16]]],jIe=[3,l,ixe,0,[O,N],[[0,1],[0,{[d]:$}]]],VIe=[3,l,pxe,0,[Cm,qc,CI,Ci,iT,Ti,Pm,fo,qo,Jo,Qo,Yo,Xo,kn,XI,dt,kp,Np,$p,Lp,OI,Mp,Ls,uS,Um,gn,Kp,Ir,Tr,Zo,Wo,Bo,Ot,nT,OS,uT,Jp,Qp,qp],[[()=>qm,16],[2,{[d]:HS}],[0,{[d]:dz}],[0,{[d]:Hm}],[0,{[d]:Fz}],[4,{[d]:QI}],[1,{[d]:Dm}],[0,{[d]:fo}],[0,{[d]:Zc}],[0,{[d]:eu}],[0,{[d]:tu}],[0,{[d]:ru}],[0,{[d]:ou}],[0,{[d]:rd}],[1,{[d]:Bz}],[0,{[d]:wi}],[0,{[d]:Im}],[0,{[d]:Tm}],[0,{[d]:wm}],[0,{[d]:Am}],[0,{[d]:aV}],[0,{[d]:Om}],[4,{[d]:Ls}],[0,{[d]:uS}],[0,{[d]:Wm}],[0,{[d]:$n}],[128,{[ed]:ad}],[0,{[d]:ho}],[0,{[d]:go}],[()=>Co,{[d]:Ln}],[2,{[d]:Mn}],[0,{[d]:Km}],[0,{[d]:$t}],[0,{[d]:Gz}],[1,{[d]:Uz}],[1,{[d]:jz}],[0,{[d]:Vm}],[5,{[d]:zm}],[0,{[d]:jm}]]],zIe=[3,l,dxe,0,[O,Vp,jV,$m,KV,Ae,ES,w7,A7,D7,P7,O7,k7,dt,Ir,ys,Tr,yt,Yc,N,nV],[[0,1],[0,{[d]:Jc}],[4,{[d]:zI}],[0,{[d]:zp}],[4,{[d]:WI}],[0,1],[0,{[d]:ES}],[0,{[j]:fz}],[0,{[j]:hz}],[0,{[j]:gz}],[0,{[j]:xz}],[0,{[j]:yz}],[6,{[j]:Sz}],[0,{[j]:Sn}],[0,{[d]:ho}],[()=>Fs,{[d]:Us}],[0,{[d]:go}],[0,{[d]:Et}],[1,{[j]:GS}],[0,{[d]:$}],[0,{[d]:wz}]]],KIe=[3,l,lxe,0,[_S],[[()=>rK,{[Je]:1,[I]:_S}]]],WIe=[3,l,mxe,0,[O,Ae,dt,yt,N],[[0,1],[0,1],[0,{[j]:Sn}],[0,{[d]:Et}],[0,{[d]:$}]]],qIe=[3,l,gxe,{[I]:Ms},[dt,BS],[[0,{[d]:wi}],[()=>aa,0]]],JIe=[3,l,yxe,0,[O,Ae,dt,N,yt],[[0,1],[0,1],[0,{[j]:Sn}],[0,{[d]:$}],[0,{[d]:Et}]]],QIe=[3,l,xxe,0,[Cm,Ot],[[()=>qm,16],[0,{[d]:$t}]]],YIe=[3,l,Sxe,0,[O,Ae,yt,N],[[0,1],[0,1],[0,{[d]:Et}],[0,{[d]:$}]]],XIe=[3,l,Rxe,0,[gS],[[()=>sK,16]]],ZIe=[3,l,bxe,0,[O,N],[[0,1],[0,{[d]:$}]]],eTe=[3,l,UV,0,[nz],[0]],tTe=[3,l,HI,0,[jI,_7],[[()=>qz,{[bz]:[Rz,lz]}],0]],qz=[3,l,jI,0,[$I,Sge,jp,LRe,Bm],[0,0,0,0,[0,{[nbe]:1,[I]:yve}]]],rTe=[3,l,Cxe,0,[II,Pfe,Dfe,wI,Efe],[[0,{[d]:Iz}],[0,{[d]:cbe}],[0,{[d]:abe}],[0,{[d]:pbe}],[2,{[d]:sbe}]]],oTe=[3,l,Ixe,0,[O,N],[[0,1],[0,{[d]:$}]]],nTe=[3,l,Axe,0,[qc,CI,Ci,iT,vfe,Ti,Pm,qo,Jo,Qo,Yo,Xo,kn,fo,XI,dt,kp,Np,$p,Lp,Mp,OI,Ls,uS,Um,gn,Kp,Ir,Tr,Zo,Wo,Bo,Ot,nT,OS,uT,Jp,Qp,qp],[[2,{[d]:HS}],[0,{[d]:dz}],[0,{[d]:Hm}],[0,{[d]:Fz}],[0,{[d]:ibe}],[4,{[d]:QI}],[1,{[d]:Dm}],[0,{[d]:Zc}],[0,{[d]:eu}],[0,{[d]:tu}],[0,{[d]:ru}],[0,{[d]:ou}],[0,{[d]:rd}],[0,{[d]:fo}],[1,{[d]:Bz}],[0,{[d]:wi}],[0,{[d]:Im}],[0,{[d]:Tm}],[0,{[d]:wm}],[0,{[d]:Am}],[0,{[d]:Om}],[0,{[d]:aV}],[4,{[d]:Ls}],[0,{[d]:uS}],[0,{[d]:Wm}],[0,{[d]:$n}],[128,{[ed]:ad}],[0,{[d]:ho}],[0,{[d]:go}],[()=>Co,{[d]:Ln}],[2,{[d]:Mn}],[0,{[d]:Km}],[0,{[d]:$t}],[0,{[d]:Gz}],[1,{[d]:Uz}],[1,{[d]:jz}],[0,{[d]:Vm}],[5,{[d]:zm}],[0,{[d]:jm}]]],sTe=[3,l,Dxe,0,[O,Vp,jV,$m,KV,Ae,ES,w7,A7,D7,P7,O7,k7,dt,Ir,ys,Tr,yt,Yc,N,nV],[[0,1],[0,{[d]:Jc}],[4,{[d]:zI}],[0,{[d]:zp}],[4,{[d]:WI}],[0,1],[0,{[d]:ES}],[0,{[j]:fz}],[0,{[j]:hz}],[0,{[j]:gz}],[0,{[j]:xz}],[0,{[j]:yz}],[6,{[j]:Sz}],[0,{[j]:Sn}],[0,{[d]:ho}],[()=>Fs,{[d]:Us}],[0,{[d]:go}],[0,{[d]:Et}],[1,{[j]:GS}],[0,{[d]:$}],[0,{[d]:wz}]]],iTe=[-3,l,jxe,{[yn]:xn,[Nn]:400},[],[]];b.for(l).registerError(iTe,oS);var Jz=[3,l,VI,0,[cRe],[0]],Qz=[3,l,qI,0,[jp,$I],[0,0]],Yz=[3,l,KI,0,[hV,fhe,WV,n_e],[()=>oCe,0,()=>bTe,()=>Rwe]],aTe=[3,l,qxe,0,[Tt,Zp],[0,[()=>aa,{[de]:1,[I]:Ss}]]],bT=[3,l,Rm,0,[Cr,na,Mo,_Re],[0,[()=>cTe,0],0,[()=>wDe,{[de]:1,[I]:sz}]]],cTe=[3,l,Qxe,0,[Tt,Ss,vm],[0,()=>cd,[()=>aTe,0]]],uTe=[-3,l,Gxe,{[yn]:xn,[Nn]:403},[Bo,Yj],[0,0]];b.for(l).registerError(uTe,Qy);var pTe=[-3,l,Vxe,{[yn]:xn,[Nn]:400},[],[]];b.for(l).registerError(pTe,eS);var dTe=[-3,l,Yxe,{[yn]:xn,[Nn]:400},[],[]];b.for(l).registerError(dTe,tS);var vT=[3,l,_m,0,[wS,kxe,na,Cr,Hxe,OSe,iRe],[[()=>lTe,0],2,()=>fTe,0,0,[()=>fDe,0],()=>gTe]],lTe=[3,l,Oxe,0,[F7],[[()=>hTe,0]]],mTe=[3,l,Nxe,0,[J7,q7],[[()=>BAe,{[I]:K7}],[()=>LAe,{[I]:H7}]]],fTe=[3,l,$xe,0,[Tt],[0]],hTe=[3,l,Kxe,0,[lfe,O,LV,Tt,BI],[0,0,0,0,[()=>mTe,0]]],gTe=[3,l,Wxe,0,[Nge],[0]],xTe=[3,l,pS,0,[NI,km],[0,()=>CT]],yTe=[3,l,zV,0,[NI,oz,Nm,MS,aT],[0,0,()=>RT,0,0]],STe=[3,l,Jxe,0,[NI,km],[0,()=>CT]],ETe=[3,l,dS,0,[LS,km],[()=>wT,()=>CT]],_Te=[3,l,qV,0,[oz,Nm,MS,aT,LS],[0,()=>RT,0,0,()=>wT]],RTe=[3,l,tye,0,[LS],[()=>wT]],bTe=[3,l,Zxe,0,[Bm],[0]],vTe=[3,l,eye,0,[rT],[0]],CTe=[3,l,Oye,0,[Cr,Pye,UI,na],[0,[0,{[I]:jfe}],[64,{[de]:1,[I]:FI}],[()=>TT,0]]],ITe=[3,l,Dye,0,[bV,Bp,vge],[5,1,2]],TTe=[3,l,rSe,0,[Ci,jp,Tt,na,Mo,vRe,ISe,d7,qj],[()=>ITe,0,0,[()=>ATe,0],0,[()=>DDe,{[de]:1,[I]:az}],[()=>yDe,{[de]:1,[I]:l7}],()=>awe,()=>Sve]],wTe=[3,l,oSe,0,[Tt,Zp,h7,g7],[0,[()=>aa,{[de]:1,[I]:Ss}],1,1]],ATe=[3,l,nSe,0,[Tt,Ss,h7,g7,vm],[0,()=>cd,1,1,[()=>wTe,0]]],DTe=[3,l,mye,{[I]:fye},[Ii,hn,Lm,zj],[2,0,0,[()=>sDe,{[de]:1,[I]:Em}]]],PTe=[3,l,hye,0,[O,hn,N],[[0,1],[0,{[j]:Xc}],[0,{[d]:$}]]],OTe=[3,l,Eye,0,[Ii,hn,Lm,VV],[2,0,0,[()=>lDe,{[de]:1,[I]:Rm}]]],kTe=[3,l,_ye,0,[O,hn,N],[[0,1],[0,{[j]:Xc}],[0,{[d]:$}]]],NTe=[3,l,xye,{[I]:Lye},[hn,GV,Ii,Lm],[0,[()=>mDe,{[de]:1,[I]:_m}],2,0]],$Te=[3,l,yye,0,[O,hn,N],[[0,1],[0,{[j]:Xc}],[0,{[d]:$}]]],LTe=[3,l,bye,{[I]:Mye},[Ii,hn,Lm,QV],[2,0,0,[()=>gDe,{[de]:1,[I]:bm}]]],MTe=[3,l,vye,0,[O,hn,N],[[0,1],[0,{[j]:Xc}],[0,{[d]:$}]]],BTe=[3,l,Cye,{[I]:uye},[AI,Bs,hn,Tt],[[()=>dK,0],()=>ia,0,0]],UTe=[3,l,Iye,0,[uSe,hn,Tt,wI],[[1,{[j]:QRe}],[0,{[j]:Xc}],[0,{[j]:Fm}],[0,{[j]:VRe}]]],FTe=[3,l,wye,{[I]:pye},[AI,hn],[[()=>dK,0],0]],GTe=[3,l,Aye,0,[hn,dSe],[[0,{[j]:Xc}],[1,{[j]:YRe}]]],HTe=[3,l,Fye,{[I]:Gye},[O,DS,cz,c7,Tt,ja,vSe,o7,Ii,CRe,TS,Va,Ot],[0,0,0,0,0,0,0,1,2,[()=>xDe,{[de]:1,[I]:MRe}],[()=>jS,{[de]:1}],0,[0,{[d]:$t}]]],jTe=[3,l,Hye,0,[O,ja,Va,DS,o7,Tt,cz,N,yt],[[0,1],[0,{[j]:US}],[0,{[j]:FS}],[0,{[j]:mz}],[1,{[j]:ZRe}],[0,{[j]:Fm}],[0,{[j]:rbe}],[0,{[d]:$}],[0,{[d]:Et}]]],VTe=[3,l,Vye,{[I]:JV},[Ii,n7,ESe,yV,Qc,Tt,ja,Wp,TS,Va,Ot],[2,0,0,[()=>fK,{[de]:1}],0,0,0,1,[()=>jS,{[de]:1}],0,[0,{[d]:$t}]]],zTe=[3,l,zye,0,[O,ja,Va,n7,Wp,Tt,yt,N,ZI],[[0,1],[0,{[j]:US}],[0,{[j]:FS}],[0,{[j]:JRe}],[1,{[j]:mT}],[0,{[j]:Fm}],[0,{[d]:Et}],[0,{[d]:$}],[64,{[d]:yT}]]],KTe=[3,l,Wye,{[I]:JV},[Ii,yV,Qc,Tt,ja,Wp,TS,Va,rye,hn,Lm,U7,Ot],[2,[()=>fK,{[de]:1}],0,0,0,1,[()=>jS,{[de]:1}],0,1,0,0,0,[0,{[d]:$t}]]],WTe=[3,l,Jye,0,[O,ja,Va,Wp,Tt,hn,Dge,U7,yt,N,ZI],[[0,1],[0,{[j]:US}],[0,{[j]:FS}],[1,{[j]:mT}],[0,{[j]:Fm}],[0,{[j]:Xc}],[2,{[j]:KRe}],[0,{[j]:tbe}],[0,{[d]:Et}],[0,{[d]:$}],[64,{[d]:yT}]]],qTe=[3,l,qye,{[I]:iSe},[Ii,DS,pz,c7,CSe,BRe,EV,Qc,Tt,ja,Wp,TS,Va,Ot],[2,0,0,0,0,[()=>EDe,{[de]:1,[I]:URe}],[()=>cDe,{[de]:1,[I]:qc}],0,0,0,1,[()=>jS,{[de]:1}],0,[0,{[d]:$t}]]],JTe=[3,l,Qye,0,[O,ja,Va,DS,Wp,Tt,pz,N,yt,ZI],[[0,1],[0,{[j]:US}],[0,{[j]:FS}],[0,{[j]:mz}],[1,{[j]:mT}],[0,{[j]:Fm}],[0,{[j]:obe}],[0,{[d]:$}],[0,{[d]:Et}],[64,{[d]:yT}]]],QTe=[3,l,Zye,{[I]:eSe},[Wj,Qj,O,Ae,za,kS,p7,PS,Ii,NS,qI,Bs,Bo,Ot,Ue,kn],[[4,{[d]:vz}],[0,{[d]:Cz}],0,0,0,0,0,1,2,[()=>RDe,{[de]:1,[I]:$S}],()=>Qz,()=>ia,0,[0,{[d]:$t}],0,0]],YTe=[3,l,tSe,0,[O,Ae,PS,kS,za,yt,N,Ir,ys,Tr],[[0,1],[0,1],[1,{[j]:XRe}],[0,{[j]:ebe}],[0,{[j]:Gm}],[0,{[d]:Et}],[0,{[d]:$}],[0,{[d]:ho}],[()=>Fs,{[d]:Us}],[0,{[d]:go}]]],XTe=[3,l,$ye,0,[Bm,Qc],[0,0]],Xz=[3,l,JI,0,[pRe,ez,SRe,rz],[0,[()=>TDe,0],0,[()=>VAe,0]]],ZTe=[3,l,_I,0,[dS,pS],[()=>ETe,()=>xTe]],ewe=[3,l,YV,0,[RV,qV,zV],[()=>kCe,()=>_Te,()=>yTe]],twe=[3,l,ZV,0,[Qc,dT],[0,0]],rwe=[3,l,RI,0,[Q7],[()=>CAe]],owe=[3,l,t7,0,[Y7],[()=>IAe]],CT=[3,l,fSe,0,[$_e,nye],[0,0]],nwe=[3,l,s7,0,[Mo,Tge],[0,()=>cK]],swe=[3,l,aSe,0,[Tt,Zp,Jj],[0,[()=>aa,{[de]:1,[I]:Ss}],0]],IT=[3,l,bm,0,[Cr,na],[0,[()=>kDe,0]]],iwe=[3,l,r7,0,[za,Ae,Xxe,Bo,Bs,qI,Ue,kn],[0,0,4,0,()=>ia,()=>Qz,0,0]],awe=[3,l,d7,0,[a7,u7],[1,1]],cwe=[3,l,l7,0,[a7,Bo,u7],[1,0,1]],uwe=[-3,l,_Se,{[yn]:xn,[Nn]:404},[],[]];b.for(l).registerError(uwe,Jy);var pwe=[-3,l,RSe,{[yn]:xn,[Nn]:404},[],[]];b.for(l).registerError(pwe,Yy);var dwe=[-3,l,bSe,{[yn]:xn,[Nn]:404},[],[]];b.for(l).registerError(dwe,zy);var lwe=[-3,l,SSe,{[yn]:xn},[],[]];b.for(l).registerError(lwe,Xy);var Zz=[3,l,bI,0,[mRe,u_e,Nye,CV],[[()=>ADe,{[de]:1,[I]:Z7}],[()=>vDe,{[de]:1,[I]:I7}],[()=>hDe,{[de]:1,[I]:Vfe}],()=>UCe]],TT=[3,l,ySe,0,[Ae],[[()=>bAe,{[I]:q_e}]]],mwe=[3,l,x7,0,[Ae,Ti,fo,Ue,kn,Xp,Bo,Bs,sT],[0,4,0,[64,{[de]:1}],0,1,0,()=>ia,()=>uK]],fwe=[-3,l,ASe,{[yn]:xn,[Nn]:403},[],[]];b.for(l).registerError(fwe,nS);var hwe=[3,l,kSe,0,[Ae,dt,fo,Bye,Xp],[0,0,0,6,1]],eK=[3,l,hS,0,[$Se,Yp],[0,()=>gwe]],tK=[3,l,MSe,0,[Mo],[0]],rK=[3,l,BSe,0,[i7,O_e],[0,5]],gwe=[3,l,USe,0,[_V],[()=>sCe]],xwe=[-3,l,GSe,{[yn]:xn,[Nn]:403},[],[]];b.for(l).registerError(xwe,Ky);var ywe=[3,l,jSe,0,[Yc,Xp,qo,Jo,Qo,Yo,Xo],[1,1,0,0,0,0,0]],Swe=[3,l,KSe,0,[fo,Ue,kn,Xp,Bo,Ae,dt,HV,Ti,Bs,sT],[0,[64,{[de]:1}],0,1,0,0,0,2,4,()=>ia,()=>uK]],Ewe=[3,l,m7,0,[sRe],[[()=>vAe,0]]],oK=[3,l,eT,0,[hV,WV],[()=>nCe,()=>vTe]],ia=[3,l,Bs,0,[$I,jp],[0,0]],nK=[3,l,fS,0,[Mm],[[()=>_De,{[de]:1,[I]:Yp}]]],_we=[3,l,DSe,0,[f7],[0]],Rwe=[3,l,LEe,0,[],[]],bwe=[3,l,$S,0,[Yc,Ti,fo,Xp,qo,Jo,Qo,Yo,Xo],[1,4,0,1,0,0,0,0,0]],vwe=[3,l,xS,{[I]:xS},[NEe],[0]],Cwe=[3,l,y7,0,[Uj],[[2,{[I]:Uj}]]],Iwe=[3,l,b7,0,[tV,Zj,eV],[1,1,1]],Twe=[3,l,$Ee,0,[vV],[[()=>Iwe,{[lT]:1}]]],sK=[3,l,gS,0,[Lj,Fj,Mj,Gj],[[2,{[I]:Lj}],[2,{[I]:Fj}],[2,{[I]:Mj}],[2,{[I]:Gj}]]],wwe=[3,l,eEe,0,[O,Gt,Ue,N,iS],[[0,1],[0,{[d]:Ft}],[0,{[d]:Rt}],[0,{[d]:$}],[()=>zz,{[Je]:1,[I]:iS}]]],Awe=[3,l,YSe,0,[O,sS,N,Ue],[[0,1],[()=>Rve,{[Je]:1,[I]:sS}],[0,{[d]:$}],[0,{[d]:Rt}]]],Dwe=[3,l,tEe,0,[Op,Wc,O,Gt,Ue,Up,Fp,Gp,GI,Hp,N],[[0,{[d]:td}],[()=>Kz,{[Je]:1,[I]:Wc}],[0,1],[0,{[d]:Ft}],[0,{[d]:Rt}],[0,{[d]:od}],[0,{[d]:nd}],[0,{[d]:sd}],[0,{[d]:gT}],[0,{[d]:id}],[0,{[d]:$}]]],Pwe=[3,l,XSe,0,[O,Cr,Em,N],[[0,1],[0,{[j]:Es}],[()=>_T,{[Je]:1,[I]:Em}],[0,{[d]:$}]]],Owe=[3,l,nEe,0,[O,cS,Gt,Ue,N],[[0,1],[()=>Kve,{[Je]:1,[I]:cS}],[0,{[d]:Ft}],[0,{[d]:Rt}],[0,{[d]:$}]]],kwe=[3,l,iEe,0,[O,Gt,Ue,bS,N],[[0,1],[0,{[d]:Ft}],[0,{[d]:Rt}],[()=>pK,{[Je]:1,[I]:bS}],[0,{[d]:$}]]],Nwe=[3,l,pEe,0,[O,Cr,N,Rm],[[0,1],[0,{[j]:Es}],[0,{[d]:$}],[()=>bT,{[Je]:1,[I]:Rm}]]],$we=[3,l,cEe,0,[O,Cr,_m,N],[[0,1],[0,{[j]:Es}],[()=>vT,{[Je]:1,[I]:_m}],[0,{[d]:$}]]],Lwe=[3,l,mEe,0,[pT],[[0,{[d]:ET}]]],Mwe=[3,l,fEe,0,[O,Ue,EI,N,pT],[[0,1],[0,{[d]:Rt}],[()=>Ove,{[Je]:1,[I]:EI}],[0,{[d]:$}],[0,{[d]:ET}]]],Bwe=[3,l,hEe,0,[O,aS,Gt,Ue,N],[[0,1],[()=>kve,{[Je]:1,[I]:aS}],[0,{[d]:Ft}],[0,{[d]:Rt}],[0,{[d]:$}]]],Uwe=[3,l,xEe,0,[O,Cr,bm,N],[[0,1],[0,{[j]:Es}],[()=>IT,{[Je]:1,[I]:bm}],[0,{[d]:$}]]],Fwe=[3,l,SEe,0,[O,bI,N,G_e],[[0,1],[()=>Zz,{[Je]:1,[I]:bI}],[0,{[d]:$}],[2,{[d]:hve}]]],Gwe=[3,l,_Ee,0,[O,Gt,N,fS,Ue],[[0,1],[0,{[d]:Ft}],[0,{[d]:$}],[()=>nK,{[Je]:1,[I]:fS}],[0,{[d]:Rt}]]],Hwe=[3,l,bEe,0,[O,Gt,Ue,she,R7,N],[[0,1],[0,{[d]:Ft}],[0,{[d]:Rt}],[2,{[d]:dbe}],[0,16],[0,{[d]:$}]]],jwe=[3,l,TEe,0,[O,Gt,Ue,yS,iz,N],[[0,1],[0,{[d]:Ft}],[0,{[d]:Rt}],[()=>aK,{[Je]:1,[I]:yS}],[0,{[d]:Tz}],[0,{[d]:$}]]],Vwe=[3,l,IEe,0,[O,Gt,Ue,SS,N],[[0,1],[0,{[d]:Ft}],[0,{[d]:Rt}],[()=>xAe,{[Je]:1,[I]:SS}],[0,{[d]:$}]]],zwe=[3,l,AEe,0,[O,Gt,Ue,Ms,N],[[0,1],[0,{[d]:Ft}],[0,{[d]:Rt}],[()=>AT,{[Je]:1,[I]:Ms}],[0,{[d]:$}]]],Kwe=[3,l,PEe,0,[O,Gt,Ue,YI,vS,N],[[0,1],[0,{[d]:Ft}],[0,{[d]:Rt}],[0,{[d]:xT}],[()=>tDe,{[Je]:1,[I]:vS}],[0,{[d]:$}]]],Wwe=[3,l,kEe,0,[O,Gt,Ue,CS,N],[[0,1],[0,{[d]:Ft}],[0,{[d]:Rt}],[()=>rDe,{[Je]:1,[I]:CS}],[0,{[d]:$}]]],qwe=[3,l,FEe,0,[Ot],[[0,{[d]:$t}]]],Jwe=[3,l,GEe,0,[Op,Wc,O,Gt,Ue,Up,Fp,Gp,GI,Hp,Ae,yt,dt,N],[[0,{[d]:td}],[()=>Kz,{[Je]:1,[I]:Wc}],[0,1],[0,{[d]:Ft}],[0,{[d]:Rt}],[0,{[d]:od}],[0,{[d]:nd}],[0,{[d]:sd}],[0,{[d]:gT}],[0,{[d]:id}],[0,1],[0,{[d]:Et}],[0,{[j]:Sn}],[0,{[d]:$}]]],Qwe=[3,l,KEe,0,[Ot],[[0,{[d]:$t}]]],Ywe=[3,l,WEe,0,[O,Ae,mS,yt,dt,Gt,Ue,N],[[0,1],[0,1],[()=>tK,{[Je]:1,[I]:mS}],[0,{[d]:Et}],[0,{[j]:Sn}],[0,{[d]:Ft}],[0,{[d]:Rt}],[0,{[d]:$}]]],Xwe=[3,l,jEe,0,[Ot],[[0,{[d]:$t}]]],Zwe=[3,l,VEe,0,[O,hS,yt,iz,Gt,Ue,N],[[0,1],[()=>eK,{[Je]:1,[I]:hS}],[0,{[d]:Et}],[0,{[d]:Tz}],[0,{[d]:Ft}],[0,{[d]:Rt}],[0,{[d]:$}]]],eAe=[3,l,qEe,0,[Ci,fo,qo,Jo,Qo,Yo,Xo,kn,gn,dt,Ir,Tr,Zo,sa,Wo,Xp,Ot],[[0,{[d]:Hm}],[0,{[d]:fo}],[0,{[d]:Zc}],[0,{[d]:eu}],[0,{[d]:tu}],[0,{[d]:ru}],[0,{[d]:ou}],[0,{[d]:rd}],[0,{[d]:$n}],[0,{[d]:wi}],[0,{[d]:ho}],[0,{[d]:go}],[()=>Co,{[d]:Ln}],[()=>Wa,{[d]:Ka}],[2,{[d]:Mn}],[1,{[d]:sve}],[0,{[d]:$t}]]],tAe=[3,l,JEe,0,[Op,Cm,O,kp,Np,$p,Lp,Pm,Gt,Mp,Ue,qo,Jo,Qo,Yo,Xo,Ls,Vp,$m,Up,Fp,Gp,Hp,Ae,HRe,Kp,gn,Bo,Um,Ir,ys,Tr,Zo,sa,Wo,yt,Ms,Jp,Qp,qp,N],[[0,{[d]:td}],[()=>qm,16],[0,1],[0,{[d]:Im}],[0,{[d]:Tm}],[0,{[d]:wm}],[0,{[d]:Am}],[1,{[d]:Dm}],[0,{[d]:Ft}],[0,{[d]:Om}],[0,{[d]:Rt}],[0,{[d]:Zc}],[0,{[d]:eu}],[0,{[d]:tu}],[0,{[d]:ru}],[0,{[d]:ou}],[4,{[d]:Ls}],[0,{[d]:Jc}],[0,{[d]:zp}],[0,{[d]:od}],[0,{[d]:nd}],[0,{[d]:sd}],[0,{[d]:id}],[0,1],[1,{[d]:xve}],[128,{[ed]:ad}],[0,{[d]:$n}],[0,{[d]:Km}],[0,{[d]:Wm}],[0,{[d]:ho}],[()=>Fs,{[d]:Us}],[0,{[d]:go}],[()=>Co,{[d]:Ln}],[()=>Wa,{[d]:Ka}],[2,{[d]:Mn}],[0,{[d]:Et}],[0,{[d]:ST}],[0,{[d]:Vm}],[5,{[d]:zm}],[0,{[d]:jm}],[0,{[d]:$}]]],rAe=[3,l,QEe,0,[Ot],[[0,{[d]:$t}]]],oAe=[3,l,YEe,0,[O,Ae,_S,yt,dt,TI,Gt,Ue,N],[[0,1],[0,1],[()=>rK,{[Je]:1,[I]:_S}],[0,{[d]:Et}],[0,{[j]:Sn}],[2,{[d]:fT}],[0,{[d]:Ft}],[0,{[d]:Rt}],[0,{[d]:$}]]],nAe=[3,l,e_e,0,[dt],[[0,{[d]:wi}]]],sAe=[3,l,t_e,0,[O,Ae,dt,Gt,Ue,Ms,N,yt],[[0,1],[0,1],[0,{[j]:Sn}],[0,{[d]:Ft}],[0,{[d]:Rt}],[()=>AT,{[Je]:1,[I]:Ms}],[0,{[d]:$}],[0,{[d]:Et}]]],iAe=[3,l,o_e,0,[O,Gt,Ue,gS,N],[[0,1],[0,{[d]:Ft}],[0,{[d]:Rt}],[()=>sK,{[Je]:1,[I]:gS}],[0,{[d]:$}]]],aAe=[3,l,I7,0,[Cr,a_e,UI,na],[0,[0,{[I]:d_e}],[64,{[de]:1,[I]:FI}],[()=>TT,0]]],wT=[3,l,LS,0,[Ci,Bp],[0,1]],cAe=[3,l,m_e,0,[E7],[[21,{[lT]:1}]]],uAe=[3,l,B7,0,[FV,Pxe,v7,h_e,g_e],[0,0,0,0,0]],iK=[3,l,tT,0,[FV,v7],[0,0]],pAe=[3,l,y_e,0,[],[]],dAe=[3,l,__e,0,[O,Ae,A_e,Qhe,Xhe,Yhe,Zhe,j_e,z_e,V_e,K_e,mhe],[[0,1],[0,1],[0,{[d]:uve}],[0,{[d]:Jc}],[0,{[d]:zp}],[4,{[d]:zI}],[4,{[d]:WI}],[0,{[d]:pve}],[0,{[d]:lve}],[6,{[d]:dve}],[6,{[d]:mve}],[0,{[d]:fbe,[qRe]:1}]]],lAe=[3,l,N7,0,[Mo],[0]],aK=[3,l,yS,0,[N_e,Mm],[0,[()=>CDe,{[de]:1,[I]:Yp}]]],mAe=[3,l,I_e,0,[jp,s_e,Tt,na,Mo,W7,wV,wS,SV],[0,1,0,[()=>hAe,0],0,()=>$Ae,()=>FCe,()=>OCe,()=>vCe]],fAe=[3,l,v_e,0,[Tt,Zp],[0,[()=>aa,{[de]:1,[I]:Ss}]]],hAe=[3,l,C_e,0,[Tt,Ss,vm],[0,()=>cd,[()=>fAe,0]]],gAe=[3,l,M7,0,[Mo,RRe],[0,()=>cK]],cK=[3,l,D_e,0,[xSe],[1]],xAe=[3,l,SS,0,[S7],[0]],yAe=[3,l,$7,0,[wge],[2]],SAe=[3,l,S_e,0,[Ot,E_e],[[0,{[d]:$t}],[0,{[d]:ave}]]],EAe=[3,l,R_e,0,[O,Ae,dt,vI,yt,Ue,N],[[0,1],[0,1],[0,{[j]:Sn}],[()=>_Ae,{[Je]:1,[I]:vI}],[0,{[d]:Et}],[0,{[d]:Rt}],[0,{[d]:$}]]],_Ae=[3,l,vI,0,[Bp,UV,Bm,nz,yge,V7,m7],[1,()=>eTe,0,0,0,()=>DAe,[()=>Ewe,0]]],uK=[3,l,sT,0,[zxe,l_e],[2,4]],RAe=[3,l,L7,0,[xV,B7],[()=>Fve,()=>uAe]],bAe=[3,l,W_e,0,[Oge],[[()=>dDe,{[de]:1,[I]:$V}]]],vAe=[3,l,J_e,0,[Ofe,Tt,BI,kfe,IS,Ms,uz,Bo],[0,0,[()=>NCe,0],0,[()=>VS,0],[()=>AT,0],[()=>PDe,0],0]],CAe=[3,l,Q7,0,[cT,MS],[0,0]],IAe=[3,l,Y7,0,[cT,MS,aT,tz],[0,0,0,0]],TAe=[3,l,z7,0,[aRe,PV],[1,1]],wAe=[3,l,Z_e,0,[E7],[[()=>NDe,16]]],AAe=[3,l,eRe,0,[O,Ae,Ir,ys,Tr,kV,DV,$7,KI,eT,z7,N],[[0,1],[0,1],[0,{[d]:ho}],[()=>Fs,{[d]:Us}],[0,{[d]:go}],0,0,()=>yAe,()=>Yz,()=>oK,()=>TAe,[0,{[d]:$}]]],DAe=[3,l,V7,0,[KI,DV,kV,eT],[()=>Yz,0,0,()=>oK]],PAe=[3,l,rRe,0,[tRe,aye],[0,[()=>Co,0]]],pK=[3,l,bS,0,[Mm],[[()=>IDe,{[de]:1,[I]:Yp}]]],OAe=[3,l,oRe,0,[bfe,Wo,Xj],[[()=>PAe,0],2,[()=>Tve,0]]],kAe=[3,l,U_e,0,[$j,Hj,jj,Ci],[[0,{[I]:$j}],[()=>Vj,{[I]:Hj}],[()=>Vj,{[I]:jj}],[4,{[I]:Ci}]]],NAe=[3,l,RS,{[I]:RS},[],[]],$Ae=[3,l,W7,0,[j7,N7],[()=>MAe,()=>lAe]],LAe=[3,l,q7,{[I]:H7},[oye],[[()=>Co,0]]],MAe=[3,l,j7,0,[Mo],[0]],BAe=[3,l,J7,{[I]:K7},[],[]],UAe=[3,l,X7,0,[tV,Zj,eV],[1,1,1]],FAe=[3,l,H_e,0,[vV],[[()=>UAe,{[lT]:1}]]],GAe=[3,l,G7,0,[Jhe],[()=>HAe]],HAe=[3,l,M_e,0,[zSe,wS],[0,()=>Cve]],cd=[3,l,Ss,0,[Ae,dT],[0,0]],AT=[3,l,Ms,0,[BS],[[()=>aa,0]]],jAe=[3,l,hRe,0,[jI,_7],[[()=>qz,{[bz]:[Rz,lz]}],0]],VAe=[3,l,rz,0,[RS,xS],[[()=>NAe,{[I]:RS}],[()=>vwe,{[I]:xS}]]],zAe=[3,l,sz,0,[Bp,Yj],[1,0]],KAe=[-3,l,yRe,{[yn]:xn,[Nn]:400},[],[]];b.for(l).registerError(KAe,rS);var WAe=[3,l,Z7,0,[Cr,uRe,UI,na],[0,[0,{[I]:bRe}],[64,{[de]:1,[I]:FI}],[()=>TT,0]]],qAe=[3,l,az,0,[bV,Bp,Bo],[5,1,0]],JAe=[3,l,TRe,0,[O,Gt,Ue,pS,N],[[0,1],[0,{[d]:Ft}],[0,{[d]:Rt}],[()=>STe,{[Je]:1,[I]:pS}],[0,{[d]:$}]]],QAe=[3,l,ARe,0,[O,Gt,Ue,dS,N],[[0,1],[0,{[d]:Ft}],[0,{[d]:Rt}],[()=>RTe,{[Je]:1,[I]:dS}],[0,{[d]:$}]]],YAe=[3,l,ORe,0,[gV,iV,gn,Ir,Tr,Zo,Wo,Ot],[[0,{[d]:Mz}],[()=>zve,16],[0,{[d]:$n}],[0,{[d]:ho}],[0,{[d]:go}],[()=>Co,{[d]:Ln}],[2,{[d]:Mn}],[0,{[d]:$t}]]],XAe=[3,l,kRe,0,[O,cV,uV,pV,dV,lV,che,Ae,Yc,za,Ir,ys,Tr,mV,kI,fV,yt,N,AV],[[0,1],[0,{[d]:Az}],[0,{[d]:Dz}],[4,{[d]:Pz}],[0,{[d]:Oz}],[4,{[d]:kz}],[0,{[d]:mbe}],[0,1],[1,{[j]:GS}],[0,{[j]:Gm}],[0,{[d]:ho}],[()=>Fs,{[d]:Us}],[0,{[d]:go}],[0,{[d]:Nz}],[()=>Vz,{[d]:$z}],[0,{[d]:Lz}],[0,{[d]:Et}],[0,{[d]:$}],[0,{[d]:Hz}]]],ZAe=[3,l,NRe,0,[gn,fo,qo,Jo,Qo,Yo,Xo,Ir,Tr,Zo,Wo,Ot],[[0,{[d]:$n}],[0,{[d]:fo}],[0,{[d]:Zc}],[0,{[d]:eu}],[0,{[d]:tu}],[0,{[d]:ru}],[0,{[d]:ou}],[0,{[d]:ho}],[0,{[d]:go}],[()=>Co,{[d]:Ln}],[2,{[d]:Mn}],[0,{[d]:$t}]]],eDe=[3,l,$Re,0,[Cm,O,Pm,Gt,Ue,qo,Jo,Qo,Yo,Xo,Ae,Yc,za,Ir,ys,Tr,yt,N],[[()=>qm,16],[0,1],[1,{[d]:Dm}],[0,{[d]:Ft}],[0,{[d]:Rt}],[0,{[d]:Zc}],[0,{[d]:eu}],[0,{[d]:tu}],[0,{[d]:ru}],[0,{[d]:ou}],[0,1],[1,{[j]:GS}],[0,{[j]:Gm}],[0,{[d]:ho}],[()=>Fs,{[d]:Us}],[0,{[d]:go}],[0,{[d]:Et}],[0,{[d]:$}]]],tDe=[3,l,vS,0,[e7,Mo],[[0,{[I]:XV}],0]],rDe=[3,l,CS,0,[LI,VI,tT,oT],[()=>Wz,()=>Jz,()=>iK,[()=>hK,0]]],oDe=[3,l,GRe,0,[w_e,P_e,Cm,F_e,IV,TV,CI,kp,Np,$p,Lp,Pm,OI,Mp,qo,Jo,Qo,Yo,Xo,qc,fo,Ls,Ci,Ti,XI,Kp,Jp,qp,Qp,OS,nT,Ot,iT,gn,Ir,Zo,Tr,Bo,uT,dt,Wo],[[0,{[WRe]:1,[d]:cve}],[0,{[d]:fve}],[()=>qm,16],[1,{[d]:Qbe}],[0,{[d]:hbe}],[0,{[d]:gbe}],[0,{[d]:Ibe}],[0,{[d]:xbe}],[0,{[d]:ybe}],[0,{[d]:Sbe}],[0,{[d]:Ebe}],[1,{[d]:Dm}],[0,{[d]:_be}],[0,{[d]:Rbe}],[0,{[d]:Tbe}],[0,{[d]:wbe}],[0,{[d]:Abe}],[0,{[d]:Dbe}],[0,{[d]:Pbe}],[2,{[d]:Obe}],[0,{[d]:bbe}],[4,{[d]:vbe}],[0,{[d]:kbe}],[4,{[d]:Cbe}],[1,{[d]:Nbe}],[128,{[ed]:ad}],[0,{[d]:Mbe}],[0,{[d]:Lbe}],[5,{[d]:Bbe}],[1,{[d]:$be}],[0,{[d]:Gbe}],[0,{[d]:Fbe}],[0,{[d]:Ube}],[0,{[d]:jbe}],[0,{[d]:Kbe}],[()=>Co,{[d]:Vbe}],[0,{[d]:Wbe}],[0,{[d]:Hbe}],[1,{[d]:qbe}],[0,{[d]:Jbe}],[2,{[d]:zbe}]]],ve="unit",nDe=[-3,_z,"S3ServiceException",0,[],[]];b.for(_z).registerError(nDe,vr);var sDe=[1,l,zj,0,[()=>_T,0]],dK=[1,l,AI,0,[()=>wve,{[I]:O}]];var jS=[1,l,rhe,0,()=>$ve],iDe=[1,l,ohe,0,()=>Mve],lK=[1,l,DI,0,[()=>Wve,0]],aDe=[1,l,pge,0,()=>RCe],cDe=[1,l,EV,0,()=>bCe],uDe=[1,l,Cge,0,[0,{[I]:MI}]],pDe=[1,l,OV,0,()=>BCe];var dDe=[1,l,Pge,0,()=>GCe],VS=[1,l,AS,0,[()=>tTe,{[I]:HI}]],lDe=[1,l,VV,0,[()=>bT,0]],mDe=[1,l,GV,0,[()=>vT,0]],fDe=[1,l,Fxe,0,[0,{[I]:kge}]],hDe=[1,l,kye,0,[()=>CTe,0]],mK=[1,l,sSe,0,[()=>TTe,0]],gDe=[1,l,QV,0,[()=>IT,0]],xDe=[1,l,hSe,0,()=>iwe],yDe=[1,l,TSe,0,()=>cwe];var SDe=[1,l,NSe,0,()=>hwe],fK=[1,l,FSe,0,[()=>mwe,0]],EDe=[1,l,WSe,0,[()=>Swe,0]];var _De=[1,l,PSe,0,()=>_we],RDe=[1,l,NS,0,()=>bwe],bDe=[1,l,MEe,0,()=>ywe],vDe=[1,l,c_e,0,[()=>aAe,0]],CDe=[1,l,T_e,0,[()=>mAe,0]],hK=[1,l,oT,0,[()=>RAe,{[I]:L7}]],IDe=[1,l,nRe,0,[()=>OAe,0]],aa=[1,l,BS,0,[()=>cd,{[I]:Ss}]],TDe=[1,l,ez,0,[()=>jAe,{[I]:HI}]],wDe=[1,l,gRe,0,()=>zAe],ADe=[1,l,lRe,0,[()=>WAe,0]],DDe=[1,l,xRe,0,()=>qAe],PDe=[1,l,uz,0,[()=>twe,{[I]:ZV}]];var ODe=[4,l,ufe,0,[Tt,Ss,vm],[0,()=>cd,[()=>vve,0]]],kDe=[4,l,lSe,0,[Tt,Ss,Jj,vm],[0,()=>cd,0,[()=>swe,0]]],NDe=[4,l,X_e,{[Ez]:1},[k_e,X7,b7,xhe,PV],[[()=>cAe,0],[()=>FAe,0],[()=>Twe,0],()=>Gve,()=>MCe]],Vxt=[9,l,ffe,{[k]:["DELETE","/{Key+}?x-id=AbortMultipartUpload",204]},()=>_ve,()=>Eve],zxt=[9,l,oV,{[k]:["POST","/{Key+}",200]},()=>Uve,()=>Bve],Kxt=[9,l,Xfe,{[k]:["PUT","/{Key+}?x-id=CopyObject",200]},()=>jve,()=>Hve],Wxt=[9,l,Nfe,{[k]:["PUT","/",200]},()=>Xve,()=>Yve],qxt=[9,l,$fe,{[St]:"-",[k]:["POST","/?metadataConfiguration",200]},()=>Jve,()=>ve],Jxt=[9,l,Mfe,{[St]:"-",[k]:["POST","/?metadataTable",200]},()=>Qve,()=>ve],Qxt=[9,l,Yfe,{[k]:["POST","/{Key+}?uploads",200]},()=>eCe,()=>Zve],gK=[9,l,lhe,{[k]:["GET","/?session",200]},()=>rCe,()=>tCe],Yxt=[9,l,She,{[k]:["DELETE","/",204]},()=>SCe,()=>ve],Xxt=[9,l,Ehe,{[k]:["DELETE","/?analytics",204]},()=>aCe,()=>ve],Zxt=[9,l,Rhe,{[k]:["DELETE","/?cors",204]},()=>cCe,()=>ve],eyt=[9,l,vhe,{[k]:["DELETE","/?encryption",204]},()=>uCe,()=>ve],tyt=[9,l,whe,{[k]:["DELETE","/?intelligent-tiering",204]},()=>pCe,()=>ve],ryt=[9,l,Ihe,{[k]:["DELETE","/?inventory",204]},()=>dCe,()=>ve],oyt=[9,l,Dhe,{[k]:["DELETE","/?lifecycle",204]},()=>lCe,()=>ve],nyt=[9,l,Ohe,{[k]:["DELETE","/?metadataConfiguration",204]},()=>mCe,()=>ve],syt=[9,l,Lhe,{[k]:["DELETE","/?metadataTable",204]},()=>fCe,()=>ve],iyt=[9,l,$he,{[k]:["DELETE","/?metrics",204]},()=>hCe,()=>ve],ayt=[9,l,Bhe,{[k]:["DELETE","/?ownershipControls",204]},()=>gCe,()=>ve],cyt=[9,l,Fhe,{[k]:["DELETE","/?policy",204]},()=>xCe,()=>ve],uyt=[9,l,Vhe,{[k]:["DELETE","/?replication",204]},()=>yCe,()=>ve],pyt=[9,l,zhe,{[k]:["DELETE","/?tagging",204]},()=>ECe,()=>ve],dyt=[9,l,Whe,{[k]:["DELETE","/?website",204]},()=>_Ce,()=>ve],xK=[9,l,dge,{[k]:["DELETE","/{Key+}?x-id=DeleteObject",204]},()=>ICe,()=>CCe],lyt=[9,l,lge,{[St]:"-",[k]:["POST","/?delete",200]},()=>wCe,()=>TCe],myt=[9,l,age,{[k]:["DELETE","/{Key+}?tagging",204]},()=>DCe,()=>ACe],fyt=[9,l,mge,{[k]:["DELETE","/?publicAccessBlock",204]},()=>PCe,()=>ve],hyt=[9,l,$ge,{[k]:["GET","/?abac",200]},()=>jCe,()=>HCe],gyt=[9,l,Lge,{[k]:["GET","/?accelerate",200]},()=>zCe,()=>VCe],xyt=[9,l,Kge,{[k]:["GET","/?acl",200]},()=>WCe,()=>KCe],yyt=[9,l,Gge,{[k]:["GET","/?analytics&x-id=GetBucketAnalyticsConfiguration",200]},()=>JCe,()=>qCe],Syt=[9,l,Wge,{[k]:["GET","/?cors",200]},()=>YCe,()=>QCe],Eyt=[9,l,Qge,{[k]:["GET","/?encryption",200]},()=>ZCe,()=>XCe],_yt=[9,l,r0e,{[k]:["GET","/?intelligent-tiering&x-id=GetBucketIntelligentTieringConfiguration",200]},()=>tIe,()=>eIe],Ryt=[9,l,Zge,{[k]:["GET","/?inventory&x-id=GetBucketInventoryConfiguration",200]},()=>oIe,()=>rIe],byt=[9,l,i0e,{[k]:["GET","/?lifecycle",200]},()=>sIe,()=>nIe],vyt=[9,l,s0e,{[k]:["GET","/?location",200]},()=>aIe,()=>iIe],Cyt=[9,l,m0e,{[k]:["GET","/?logging",200]},()=>uIe,()=>cIe],Iyt=[9,l,f0e,{[k]:["GET","/?metadataConfiguration",200]},()=>dIe,()=>pIe],Tyt=[9,l,E0e,{[k]:["GET","/?metadataTable",200]},()=>fIe,()=>mIe],wyt=[9,l,S0e,{[k]:["GET","/?metrics&x-id=GetBucketMetricsConfiguration",200]},()=>xIe,()=>gIe],Ayt=[9,l,b0e,{[k]:["GET","/?notification",200]},()=>yIe,()=>Zz],Dyt=[9,l,C0e,{[k]:["GET","/?ownershipControls",200]},()=>EIe,()=>SIe],Pyt=[9,l,w0e,{[k]:["GET","/?policy",200]},()=>RIe,()=>_Ie],Oyt=[9,l,P0e,{[k]:["GET","/?policyStatus",200]},()=>vIe,()=>bIe],kyt=[9,l,N0e,{[k]:["GET","/?replication",200]},()=>IIe,()=>CIe],Nyt=[9,l,L0e,{[k]:["GET","/?requestPayment",200]},()=>wIe,()=>TIe],$yt=[9,l,F0e,{[k]:["GET","/?tagging",200]},()=>DIe,()=>AIe],Lyt=[9,l,j0e,{[k]:["GET","/?versioning",200]},()=>OIe,()=>PIe],Myt=[9,l,K0e,{[k]:["GET","/?website",200]},()=>NIe,()=>kIe],yK=[9,l,J0e,{[St]:"-",[k]:["GET","/{Key+}?x-id=GetObject",200]},()=>zIe,()=>VIe],Byt=[9,l,Q0e,{[k]:["GET","/{Key+}?acl",200]},()=>LIe,()=>$Ie],Uyt=[9,l,oxe,{[k]:["GET","/{Key+}?attributes",200]},()=>UIe,()=>MIe],Fyt=[9,l,axe,{[k]:["GET","/{Key+}?legal-hold",200]},()=>GIe,()=>FIe],Gyt=[9,l,nxe,{[k]:["GET","/?object-lock",200]},()=>jIe,()=>HIe],Hyt=[9,l,fxe,{[k]:["GET","/{Key+}?retention",200]},()=>WIe,()=>KIe],jyt=[9,l,hxe,{[k]:["GET","/{Key+}?tagging",200]},()=>JIe,()=>qIe],Vyt=[9,l,Exe,{[k]:["GET","/{Key+}?torrent",200]},()=>YIe,()=>QIe],zyt=[9,l,_xe,{[k]:["GET","/?publicAccessBlock",200]},()=>ZIe,()=>XIe],Kyt=[9,l,vxe,{[k]:["HEAD","/",200]},()=>oTe,()=>rTe],SK=[9,l,wxe,{[k]:["HEAD","/{Key+}",200]},()=>sTe,()=>nTe],Wyt=[9,l,lye,{[k]:["GET","/?analytics&x-id=ListBucketAnalyticsConfigurations",200]},()=>PTe,()=>DTe],qyt=[9,l,Sye,{[k]:["GET","/?intelligent-tiering&x-id=ListBucketIntelligentTieringConfigurations",200]},()=>kTe,()=>OTe],Jyt=[9,l,gye,{[k]:["GET","/?inventory&x-id=ListBucketInventoryConfigurations",200]},()=>$Te,()=>NTe],Qyt=[9,l,Rye,{[k]:["GET","/?metrics&x-id=ListBucketMetricsConfigurations",200]},()=>MTe,()=>LTe],Yyt=[9,l,dye,{[k]:["GET","/?x-id=ListBuckets",200]},()=>UTe,()=>BTe],Xyt=[9,l,Tye,{[k]:["GET","/?x-id=ListDirectoryBuckets",200]},()=>GTe,()=>FTe],Zyt=[9,l,Uye,{[k]:["GET","/?uploads",200]},()=>jTe,()=>HTe],eSt=[9,l,jye,{[k]:["GET","/",200]},()=>zTe,()=>VTe],EK=[9,l,Kye,{[k]:["GET","/?list-type=2",200]},()=>WTe,()=>KTe],tSt=[9,l,Yye,{[k]:["GET","/?versions",200]},()=>JTe,()=>qTe],rSt=[9,l,Xye,{[k]:["GET","/{Key+}?x-id=ListParts",200]},()=>YTe,()=>QTe],oSt=[9,l,JSe,{[St]:"-",[k]:["PUT","/?abac",200]},()=>wwe,()=>ve],nSt=[9,l,QSe,{[St]:"-",[k]:["PUT","/?accelerate",200]},()=>Awe,()=>ve],sSt=[9,l,rEe,{[St]:"-",[k]:["PUT","/?acl",200]},()=>Dwe,()=>ve],iSt=[9,l,ZSe,{[k]:["PUT","/?analytics",200]},()=>Pwe,()=>ve],aSt=[9,l,oEe,{[St]:"-",[k]:["PUT","/?cors",200]},()=>Owe,()=>ve],cSt=[9,l,sEe,{[St]:"-",[k]:["PUT","/?encryption",200]},()=>kwe,()=>ve],uSt=[9,l,uEe,{[k]:["PUT","/?intelligent-tiering",200]},()=>Nwe,()=>ve],pSt=[9,l,aEe,{[k]:["PUT","/?inventory",200]},()=>$we,()=>ve],dSt=[9,l,lEe,{[St]:"-",[k]:["PUT","/?lifecycle",200]},()=>Mwe,()=>Lwe],lSt=[9,l,dEe,{[St]:"-",[k]:["PUT","/?logging",200]},()=>Bwe,()=>ve],mSt=[9,l,gEe,{[k]:["PUT","/?metrics",200]},()=>Uwe,()=>ve],fSt=[9,l,yEe,{[k]:["PUT","/?notification",200]},()=>Fwe,()=>ve],hSt=[9,l,EEe,{[St]:"-",[k]:["PUT","/?ownershipControls",200]},()=>Gwe,()=>ve],gSt=[9,l,REe,{[St]:"-",[k]:["PUT","/?policy",200]},()=>Hwe,()=>ve],xSt=[9,l,vEe,{[St]:"-",[k]:["PUT","/?replication",200]},()=>jwe,()=>ve],ySt=[9,l,CEe,{[St]:"-",[k]:["PUT","/?requestPayment",200]},()=>Vwe,()=>ve],SSt=[9,l,wEe,{[St]:"-",[k]:["PUT","/?tagging",200]},()=>zwe,()=>ve],ESt=[9,l,DEe,{[St]:"-",[k]:["PUT","/?versioning",200]},()=>Kwe,()=>ve],_St=[9,l,OEe,{[St]:"-",[k]:["PUT","/?website",200]},()=>Wwe,()=>ve],_K=[9,l,BEe,{[St]:"-",[k]:["PUT","/{Key+}?x-id=PutObject",200]},()=>tAe,()=>eAe],RSt=[9,l,UEe,{[St]:"-",[k]:["PUT","/{Key+}?acl",200]},()=>Jwe,()=>qwe],bSt=[9,l,zEe,{[St]:"-",[k]:["PUT","/{Key+}?legal-hold",200]},()=>Ywe,()=>Qwe],vSt=[9,l,HEe,{[St]:"-",[k]:["PUT","/?object-lock",200]},()=>Zwe,()=>Xwe],CSt=[9,l,XEe,{[St]:"-",[k]:["PUT","/{Key+}?retention",200]},()=>oAe,()=>rAe],ISt=[9,l,ZEe,{[St]:"-",[k]:["PUT","/{Key+}?tagging",200]},()=>sAe,()=>nAe],TSt=[9,l,r_e,{[St]:"-",[k]:["PUT","/?publicAccessBlock",200]},()=>iAe,()=>ve],wSt=[9,l,x_e,{[k]:["PUT","/{Key+}?renameObject",200]},()=>dAe,()=>pAe],ASt=[9,l,b_e,{[St]:"-",[k]:["POST","/{Key+}?restore",200]},()=>EAe,()=>SAe],DSt=[9,l,Y_e,{[k]:["POST","/{Key+}?select&select-type=2",200]},()=>AAe,()=>wAe],PSt=[9,l,IRe,{[St]:"-",[k]:["PUT","/?metadataInventoryTable",200]},()=>JAe,()=>ve],OSt=[9,l,wRe,{[St]:"-",[k]:["PUT","/?metadataJournalTable",200]},()=>QAe,()=>ve],kSt=[9,l,DRe,{[St]:"-",[k]:["PUT","/{Key+}?x-id=UploadPart",200]},()=>eDe,()=>ZAe],NSt=[9,l,PRe,{[k]:["PUT","/{Key+}?x-id=UploadPartCopy",200]},()=>XAe,()=>YAe],$St=[9,l,FRe,{[zRe]:["{RequestRoute}."],[k]:["POST","/WriteGetObjectResponse",200]},()=>oDe,()=>ve];var zS=class extends Y.classBuilder().ep({...xs,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions()),_i(o)]}).s("AmazonS3","CreateSession",{}).n("S3Client","CreateSessionCommand").sc(gK).build(){};var RK={name:"@aws-sdk/client-s3",description:"AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",version:"3.958.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-s3","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"yarn g:vitest run","test:browser":"node ./test/browser-build/esbuild && yarn g:vitest run -c vitest.config.browser.mts","test:browser:watch":"node ./test/browser-build/esbuild && yarn g:vitest watch -c vitest.config.browser.mts","test:e2e":"yarn g:vitest run -c vitest.config.e2e.mts && yarn test:browser","test:e2e:watch":"yarn g:vitest watch -c vitest.config.e2e.mts","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs","test:integration":"yarn g:vitest run -c vitest.config.integ.mts","test:integration:watch":"yarn g:vitest watch -c vitest.config.integ.mts","test:watch":"yarn g:vitest watch"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha1-browser":"5.2.0","@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.957.0","@aws-sdk/credential-provider-node":"3.958.0","@aws-sdk/middleware-bucket-endpoint":"3.957.0","@aws-sdk/middleware-expect-continue":"3.957.0","@aws-sdk/middleware-flexible-checksums":"3.957.0","@aws-sdk/middleware-host-header":"3.957.0","@aws-sdk/middleware-location-constraint":"3.957.0","@aws-sdk/middleware-logger":"3.957.0","@aws-sdk/middleware-recursion-detection":"3.957.0","@aws-sdk/middleware-sdk-s3":"3.957.0","@aws-sdk/middleware-ssec":"3.957.0","@aws-sdk/middleware-user-agent":"3.957.0","@aws-sdk/region-config-resolver":"3.957.0","@aws-sdk/signature-v4-multi-region":"3.957.0","@aws-sdk/types":"3.957.0","@aws-sdk/util-endpoints":"3.957.0","@aws-sdk/util-user-agent-browser":"3.957.0","@aws-sdk/util-user-agent-node":"3.957.0","@smithy/config-resolver":"^4.4.5","@smithy/core":"^3.20.0","@smithy/eventstream-serde-browser":"^4.2.7","@smithy/eventstream-serde-config-resolver":"^4.3.7","@smithy/eventstream-serde-node":"^4.2.7","@smithy/fetch-http-handler":"^5.3.8","@smithy/hash-blob-browser":"^4.2.8","@smithy/hash-node":"^4.2.7","@smithy/hash-stream-node":"^4.2.7","@smithy/invalid-dependency":"^4.2.7","@smithy/md5-js":"^4.2.7","@smithy/middleware-content-length":"^4.2.7","@smithy/middleware-endpoint":"^4.4.1","@smithy/middleware-retry":"^4.4.17","@smithy/middleware-serde":"^4.2.8","@smithy/middleware-stack":"^4.2.7","@smithy/node-config-provider":"^4.3.7","@smithy/node-http-handler":"^4.4.7","@smithy/protocol-http":"^5.3.7","@smithy/smithy-client":"^4.10.2","@smithy/types":"^4.11.0","@smithy/url-parser":"^4.2.7","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.16","@smithy/util-defaults-mode-node":"^4.2.19","@smithy/util-endpoints":"^3.2.7","@smithy/util-middleware":"^4.2.7","@smithy/util-retry":"^4.2.7","@smithy/util-stream":"^4.5.8","@smithy/util-utf8":"^4.2.0","@smithy/util-waiter":"^4.2.7",tslib:"^2.6.2"},devDependencies:{"@aws-sdk/signature-v4-crt":"3.957.0","@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"}};Qe();Kd();var LDe="AWS_S3_USE_ARN_REGION",MDe="s3_use_arn_region",bK={environmentVariableSelector:t=>Xn(t,LDe,an.ENV),configFileSelector:t=>Xn(t,MDe,an.CONFIG),default:void 0};ii();rr();Gi();Gi();var ud=class t{bytes;constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let o=7,n=Math.abs(Math.round(e));o>-1&&n>0;o--,n/=256)r[o]=n;return e<0&&vK(r),new t(r)}valueOf(){let e=this.bytes.slice(0),r=e[0]&128;return r&&vK(e),parseInt(qt(e),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function vK(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}var KS=class{toUtf8;fromUtf8;constructor(e,r){this.toUtf8=e,this.fromUtf8=r}format(e){let r=[];for(let s of Object.keys(e)){let i=this.fromUtf8(s);r.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(e[s]))}let o=new Uint8Array(r.reduce((s,i)=>s+i.byteLength,0)),n=0;for(let s of r)o.set(s,n),n+=s.byteLength;return o}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,e.value,!1),new Uint8Array(r.buffer);case"integer":let o=new DataView(new ArrayBuffer(5));return o.setUint8(0,4),o.setInt32(1,e.value,!1),new Uint8Array(o.buffer);case"long":let n=new Uint8Array(9);return n[0]=5,n.set(e.value.bytes,1),n;case"binary":let s=new DataView(new ArrayBuffer(3+e.value.byteLength));s.setUint8(0,6),s.setUint16(1,e.value.byteLength,!1);let i=new Uint8Array(s.buffer);return i.set(e.value,3),i;case"string":let a=this.fromUtf8(e.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let u=new Uint8Array(c.buffer);return u.set(a,3),u;case"timestamp":let m=new Uint8Array(9);return m[0]=8,m.set(ud.fromNumber(e.value.valueOf()).bytes,1),m;case"uuid":if(!KDe.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let f=new Uint8Array(17);return f[0]=9,f.set(Mf(e.value.replace(/\-/g,"")),1),f}}parse(e){let r={},o=0;for(;o<e.byteLength;){let n=e.getUint8(o++),s=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+o,n));switch(o+=n,e.getUint8(o++)){case 0:r[s]={type:IK,value:!0};break;case 1:r[s]={type:IK,value:!1};break;case 2:r[s]={type:BDe,value:e.getInt8(o++)};break;case 3:r[s]={type:UDe,value:e.getInt16(o,!1)},o+=2;break;case 4:r[s]={type:FDe,value:e.getInt32(o,!1)},o+=4;break;case 5:r[s]={type:GDe,value:new ud(new Uint8Array(e.buffer,e.byteOffset+o,8))},o+=8;break;case 6:let i=e.getUint16(o,!1);o+=2,r[s]={type:HDe,value:new Uint8Array(e.buffer,e.byteOffset+o,i)},o+=i;break;case 7:let a=e.getUint16(o,!1);o+=2,r[s]={type:jDe,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+o,a))},o+=a;break;case 8:r[s]={type:VDe,value:new Date(new ud(new Uint8Array(e.buffer,e.byteOffset+o,8)).valueOf())},o+=8;break;case 9:let c=new Uint8Array(e.buffer,e.byteOffset+o,16);o+=16,r[s]={type:zDe,value:`${qt(c.subarray(0,4))}-${qt(c.subarray(4,6))}-${qt(c.subarray(6,8))}-${qt(c.subarray(8,10))}-${qt(c.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return r}},CK;(function(t){t[t.boolTrue=0]="boolTrue",t[t.boolFalse=1]="boolFalse",t[t.byte=2]="byte",t[t.short=3]="short",t[t.integer=4]="integer",t[t.long=5]="long",t[t.byteArray=6]="byteArray",t[t.string=7]="string",t[t.timestamp=8]="timestamp",t[t.uuid=9]="uuid"})(CK||(CK={}));var IK="boolean",BDe="byte",UDe="short",FDe="integer",GDe="long",HDe="binary",jDe="string",VDe="timestamp",zDe="uuid",KDe=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;var TK=4,qa=TK*2,nu=4,WDe=qa+nu*2;function wK({byteLength:t,byteOffset:e,buffer:r}){if(t<WDe)throw new Error("Provided message too short to accommodate event stream message overhead");let o=new DataView(r,e,t),n=o.getUint32(0,!1);if(t!==n)throw new Error("Reported message length does not match received message length");let s=o.getUint32(TK,!1),i=o.getUint32(qa,!1),a=o.getUint32(t-nu,!1),c=new zc().update(new Uint8Array(r,e,qa));if(i!==c.digest())throw new Error(`The prelude checksum specified in the message (${i}) does not match the calculated CRC32 checksum (${c.digest()})`);if(c.update(new Uint8Array(r,e+qa,t-(qa+nu))),a!==c.digest())throw new Error(`The message checksum (${c.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(r,e+qa+nu,s),body:new Uint8Array(r,e+qa+nu+s,n-s-(qa+nu+nu))}}var WS=class{headerMarshaller;messageBuffer;isEndOfStream;constructor(e,r){this.headerMarshaller=new KS(e,r),this.messageBuffer=[],this.isEndOfStream=!1}feed(e){this.messageBuffer.push(this.decode(e))}endOfStream(){this.isEndOfStream=!0}getMessage(){let e=this.messageBuffer.pop(),r=this.isEndOfStream;return{getMessage(){return e},isEndOfStream(){return r}}}getAvailableMessages(){let e=this.messageBuffer;this.messageBuffer=[];let r=this.isEndOfStream;return{getMessages(){return e},isEndOfStream(){return r}}}encode({headers:e,body:r}){let o=this.headerMarshaller.format(e),n=o.byteLength+r.byteLength+16,s=new Uint8Array(n),i=new DataView(s.buffer,s.byteOffset,s.byteLength),a=new zc;return i.setUint32(0,n,!1),i.setUint32(4,o.byteLength,!1),i.setUint32(8,a.update(s.subarray(0,8)).digest(),!1),s.set(o,12),s.set(r,o.byteLength+12),i.setUint32(n-4,a.update(s.subarray(8,n-4)).digest(),!1),s}decode(e){let{headers:r,body:o}=wK(e);return{headers:this.headerMarshaller.parse(r),body:o}}formatHeaders(e){return this.headerMarshaller.format(e)}};var qS=class{options;constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let e of this.options.inputStream)yield this.options.decoder.decode(e)}};var JS=class{options;constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let e of this.options.messageStream)yield this.options.encoder.encode(e);this.options.includeEndFrame&&(yield new Uint8Array(0))}};var QS=class{options;constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let e of this.options.messageStream){let r=await this.options.deserializer(e);r!==void 0&&(yield r)}}};var YS=class{options;constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let e of this.options.inputStream)yield this.options.serializer(e)}};function AK(t){let e=0,r=0,o=null,n=null,s=a=>{if(typeof a!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+a);e=a,r=4,o=new Uint8Array(a),new DataView(o.buffer).setUint32(0,a,!1)},i=async function*(){let a=t[Symbol.asyncIterator]();for(;;){let{value:c,done:u}=await a.next();if(u){if(e)if(e===r)yield o;else throw new Error("Truncated event message received.");else return;return}let m=c.length,f=0;for(;f<m;){if(!o){let g=m-f;n||(n=new Uint8Array(4));let _=Math.min(4-r,g);if(n.set(c.slice(f,f+_),r),r+=_,f+=_,r<4)break;s(new DataView(n.buffer).getUint32(0,!1)),n=null}let h=Math.min(e-r,m-f);o.set(c.slice(f,f+h),r),r+=h,f+=h,e&&e===r&&(yield o,o=null,e=0,r=0)}}};return{[Symbol.asyncIterator]:i}}function DK(t,e){return async function(r){let{value:o}=r.headers[":message-type"];if(o==="error"){let n=new Error(r.headers[":error-message"].value||"UnknownError");throw n.name=r.headers[":error-code"].value,n}else if(o==="exception"){let n=r.headers[":exception-type"].value,s={[n]:r},i=await t(s);if(i.$unknown){let a=new Error(e(r.body));throw a.name=n,a}throw i[n]}else if(o==="event"){let n={[r.headers[":event-type"].value]:r},s=await t(n);return s.$unknown?void 0:s}else throw Error(`Unrecognizable event type: ${r.headers[":event-type"].value}`)}}var XS=class{eventStreamCodec;utfEncoder;constructor({utf8Encoder:e,utf8Decoder:r}){this.eventStreamCodec=new WS(e,r),this.utfEncoder=e}deserialize(e,r){let o=AK(e);return new QS({messageStream:new qS({inputStream:o,decoder:this.eventStreamCodec}),deserializer:DK(r,this.utfEncoder)})}serialize(e,r){return new JS({messageStream:new YS({inputStream:e,serializer:r}),encoder:this.eventStreamCodec,includeEndFrame:!0})}};import{Readable as qDe}from"stream";async function*PK(t){let e=!1,r=!1,o=new Array;for(t.on("error",n=>{if(e||(e=!0),n)throw n}),t.on("data",n=>{o.push(n)}),t.on("end",()=>{e=!0});!r;){let n=await new Promise(s=>setTimeout(()=>s(o.shift()),0));n&&(yield n),r=e&&o.length===0}}var ZS=class{universalMarshaller;constructor({utf8Encoder:e,utf8Decoder:r}){this.universalMarshaller=new XS({utf8Decoder:r,utf8Encoder:e})}deserialize(e,r){let o=typeof e[Symbol.asyncIterator]=="function"?e:PK(e);return this.universalMarshaller.deserialize(o,r)}serialize(e,r){return qDe.from(this.universalMarshaller.serialize(e,r))}};var OK=t=>new ZS(t);ai();wt();import{Writable as JDe}from"stream";var eE=class extends JDe{hash;constructor(e,r){super(r),this.hash=e}_write(e,r,o){try{this.hash.update(Fo(e))}catch(n){return o(n)}o()}};var kK=(t,e)=>{if(e.readableFlowing!==null)throw new Error("Unable to calculate hash for flowing readable stream");let r=new t,o=new eE(r);return e.pipe(o),new Promise((n,s)=>{e.on("error",i=>{o.end(),s(i)}),o.on("error",s),o.on("finish",()=>{r.digest().then(n).catch(s)})})};Rr();Vo();Vn();U();ci();ui();Zn();Qe();Yn();U();Jn();Kt();ga();wt();var NK=t=>({apiVersion:"2006-03-01",base64Decoder:t?.base64Decoder??st,base64Encoder:t?.base64Encoder??we,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??Vy,extensions:t?.extensions??[],getAwsChunkedEncodingStream:t?.getAwsChunkedEncodingStream??tP,httpAuthSchemeProvider:t?.httpAuthSchemeProvider??Oj,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new vt},{schemeId:"aws.auth#sigv4a",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4a"),signer:new Ld}],logger:t?.logger??new Mt,protocol:t?.protocol??bh,protocolSettings:t?.protocolSettings??{defaultNamespace:"com.amazonaws.s3",xmlNamespace:"http://s3.amazonaws.com/doc/2006-03-01/",version:"2006-03-01",serviceTarget:"AmazonS3"},sdkStreamMixin:t?.sdkStreamMixin??vu,serviceId:t?.serviceId??"S3",signerConstructor:t?.signerConstructor??Tp,signingEscapePath:t?.signingEscapePath??!1,urlParser:t?.urlParser??Lt,useArnRegion:t?.useArnRegion??void 0,utf8Decoder:t?.utf8Decoder??it,utf8Encoder:t?.utf8Encoder??Xe});var $K=t=>{jr(process.version);let e=so(t),r=()=>e().then(Hr),o=NK(t);Ur(process.version);let n={profile:t?.profile,logger:o.logger};return{...o,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??F(Fr,n),bodyLengthChecker:t?.bodyLengthChecker??no,credentialDefaultProvider:t?.credentialDefaultProvider??ks,defaultUserAgentProvider:t?.defaultUserAgentProvider??ro({serviceId:o.serviceId,clientVersion:RK.version}),disableS3ExpressSessionAuth:t?.disableS3ExpressSessionAuth??F(LC,n),eventStreamSerdeProvider:t?.eventStreamSerdeProvider??OK,maxAttempts:t?.maxAttempts??F(Xr,t),md5:t?.md5??Qt.bind(null,"md5"),region:t?.region??F(Jt,{...fr,...n}),requestChecksumCalculation:t?.requestChecksumCalculation??F(S8,n),requestHandler:Wt.create(t?.requestHandler??r),responseChecksumValidation:t?.responseChecksumValidation??F(E8,n),retryMode:t?.retryMode??F({...eo,default:async()=>(await r()).retryMode||hr},t),sha1:t?.sha1??Qt.bind(null,"sha1"),sha256:t?.sha256??Qt.bind(null,"sha256"),sigv4aSigningRegionSet:t?.sigv4aSigningRegionSet??F(qN,n),streamCollector:t?.streamCollector??ur,streamHasher:t?.streamHasher??kK,useArnRegion:t?.useArnRegion??F(bK,n),useDualstackEndpoint:t?.useDualstackEndpoint??F(Wr,n),useFipsEndpoint:t?.useFipsEndpoint??F(qr,n),userAgentAppId:t?.userAgentAppId??F(oo,n)}};ws();Oe();U();var LK=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,o=t.credentials;return{setHttpAuthScheme(n){let s=e.findIndex(i=>i.schemeId===n.schemeId);s===-1?e.push(n):e.splice(s,1,n)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(n){r=n},httpAuthSchemeProvider(){return r},setCredentials(n){o=n},credentials(){return o}}},MK=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()});var BK=(t,e)=>{let r=Object.assign(io(t),Vr(t),Ar(t),LK(t));return e.forEach(o=>o.configure(r)),Object.assign(t,ao(r),zr(r),Dr(r),MK(r))};var tE=class extends Nt{config;constructor(...[e]){let r=$K(e||{});super(r),this.initConfig=r;let o=Nj(r),n=Mr(o),s=M8(n),i=Zr(s),a=Jr(i),c=a,u=Yr(c),m=rH(u),f=kj(m),h=Y8(f,{session:[()=>this,zS]}),g=BK(h,e?.extensions||[]);this.config=g,this.middlewareStack.use(Lr(this.config)),this.middlewareStack.use(Kr(this.config)),this.middlewareStack.use(to(this.config)),this.middlewareStack.use(Qr(this.config)),this.middlewareStack.use(Pr(this.config)),this.middlewareStack.use(Or(this.config)),this.middlewareStack.use(kr(this.config)),this.middlewareStack.use(Nr(this.config,{httpAuthSchemeParametersProvider:Aj,identityProviderConfigProvider:async _=>new dr({"aws.auth#sigv4":_.credentials,"aws.auth#sigv4a":_.credentials})})),this.middlewareStack.use($r(this.config)),this.middlewareStack.use(tH(this.config)),this.middlewareStack.use(x8(this.config)),this.middlewareStack.use(G8(this.config)),this.middlewareStack.use(MC(this.config)),this.middlewareStack.use(BC(this.config))}destroy(){super.destroy()}};function QDe(t){return e=>async r=>{let o={...r.input},n=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(let s of n){let i=o[s.target];if(i){let a;typeof i=="string"?XDe(i,t)?a=t.base64Decoder(i):(a=t.utf8Decoder(i),o[s.target]=t.base64Encoder(a)):(a=ArrayBuffer.isView(i)?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i),o[s.target]=t.base64Encoder(a));let c=new t.md5;c.update(a),o[s.hash]=t.base64Encoder(await c.digest())}}return e({...r,input:o})}}var YDe={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},pd=t=>({applyToStack:e=>{e.add(QDe(t),YDe)}});function XDe(t,e){if(!/^(?:[A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t))return!1;try{return e.base64Decoder(t).length===32}catch{return!1}}xe();U();var rE=class extends Y.classBuilder().ep({...xs,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions()),_i(o)]}).s("AmazonS3","DeleteObject",{}).n("S3Client","DeleteObjectCommand").sc(xK).build(){};xe();U();var oE=class extends Y.classBuilder().ep({...xs,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions()),Py(o,{requestChecksumRequired:!1,requestValidationModeMember:"ChecksumMode",responseAlgorithms:["CRC64NVME","CRC32","CRC32C","SHA256","SHA1"]}),pd(o),Oy(o)]}).s("AmazonS3","GetObject",{}).n("S3Client","GetObjectCommand").sc(yK).build(){};xe();U();var Jm=class extends Y.classBuilder().ep({...xs,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions()),_i(o),pd(o),Oy(o)]}).s("AmazonS3","HeadObject",{}).n("S3Client","HeadObjectCommand").sc(SK).build(){};xe();U();var nE=class extends Y.classBuilder().ep({...xs,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions()),_i(o)]}).s("AmazonS3","ListObjectsV2",{}).n("S3Client","ListObjectsV2Command").sc(EK).build(){};xe();U();var sE=class extends Y.classBuilder().ep({...xs,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions()),Py(o,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),B8(o),_i(o),pd(o)]}).s("AmazonS3","PutObject",{}).n("S3Client","PutObjectCommand").sc(_K).build(){};var ZDe=S.object({name:S.string().min(1),version:S.string().min(1),type:S.enum(["dedicated","shared"]),description:S.string().optional(),parameters:S.array(S.object({name:S.string(),type:S.string(),description:S.string().optional(),required:S.boolean().default(!1)})).optional(),tags:S.record(S.string()).optional(),createdAt:S.string(),updatedAt:S.string()}),ePe=S.object({bucketName:S.string().min(1),key:S.string().min(1),content:S.string().min(1),contentType:S.string().default("application/x-yaml"),metadata:S.record(S.string()).optional(),tags:S.record(S.string()).optional(),serverSideEncryption:S.string().default("AES256")}),PT=class{client;config;bucketName;region;constructor(e,r){this.config=wr(),this.bucketName=e,this.region=r||this.config.aws.region,this.client=new tE({region:this.region,maxAttempts:3})}async uploadTemplate(e){try{let r=ePe.parse(e);y.info("Uploading CloudFormation template to S3",{bucket:r.bucketName,key:r.key,size:r.content.length});let o=new sE({Bucket:r.bucketName,Key:r.key,Body:r.content,ContentType:r.contentType,Metadata:r.metadata,ServerSideEncryption:r.serverSideEncryption}),n=await this.client.send(o),s=`https://${r.bucketName}.s3.${this.region}.amazonaws.com/${r.key}`;return y.info("CloudFormation template uploaded successfully",{bucket:r.bucketName,key:r.key,url:s,versionId:n.VersionId,etag:n.ETag}),{url:s,...n.VersionId&&{versionId:n.VersionId}}}catch(r){throw y.error("Failed to upload CloudFormation template",{error:r instanceof Error?r.message:"Unknown error",bucket:e.bucketName,key:e.key}),r}}async downloadTemplate(e,r){try{y.info("Downloading CloudFormation template from S3",{bucket:this.bucketName,key:e,versionId:r});let o=new oE({Bucket:this.bucketName,Key:e,VersionId:r}),n=await this.client.send(o);if(!n.Body)throw new Error("Template content is empty");let s=await n.Body.transformToString();return y.info("CloudFormation template downloaded successfully",{bucket:this.bucketName,key:e,size:s.length,contentType:n.ContentType}),{content:s,metadata:n.Metadata||{}}}catch(o){throw y.error("Failed to download CloudFormation template",{error:o instanceof Error?o.message:"Unknown error",bucket:this.bucketName,key:e,versionId:r}),o}}async listTemplates(e,r,o){try{y.info("Listing CloudFormation templates from S3",{bucket:this.bucketName,prefix:e,maxKeys:r});let n=new nE({Bucket:this.bucketName,Prefix:e,MaxKeys:r||100,ContinuationToken:o}),s=await this.client.send(n),i=[];if(s.Contents){for(let a of s.Contents)if(a.Key&&a.LastModified&&a.Size!==void 0)try{let c=new Jm({Bucket:this.bucketName,Key:a.Key}),u=await this.client.send(c),m=this.parseTemplateMetadata(u.Metadata||{}),f=`https://${this.bucketName}.s3.${this.region}.amazonaws.com/${a.Key}`;i.push({key:a.Key,url:f,metadata:m,size:a.Size,lastModified:a.LastModified,etag:a.ETag||"",...u.VersionId&&{versionId:u.VersionId}})}catch(c){y.warn("Failed to get metadata for template",{key:a.Key,error:c instanceof Error?c.message:"Unknown error"})}}return y.info("CloudFormation templates listed successfully",{bucket:this.bucketName,count:i.length,hasMore:!!s.NextContinuationToken}),{templates:i,totalCount:s.KeyCount||0,...s.NextContinuationToken&&{continuationToken:s.NextContinuationToken}}}catch(n){throw y.error("Failed to list CloudFormation templates",{error:n instanceof Error?n.message:"Unknown error",bucket:this.bucketName,prefix:e}),n}}async getTemplateInfo(e,r){try{let o=new Jm({Bucket:this.bucketName,Key:e,VersionId:r}),n=await this.client.send(o),s=this.parseTemplateMetadata(n.Metadata||{}),i=`https://${this.bucketName}.s3.${this.region}.amazonaws.com/${e}`;return{key:e,url:i,metadata:s,size:n.ContentLength||0,lastModified:n.LastModified||new Date,etag:n.ETag||"",...n.VersionId&&{versionId:n.VersionId}}}catch(o){return y.error("Failed to get template info",{error:o instanceof Error?o.message:"Unknown error",bucket:this.bucketName,key:e,versionId:r}),null}}async deleteTemplate(e,r){try{y.info("Deleting CloudFormation template from S3",{bucket:this.bucketName,key:e,versionId:r});let o=new rE({Bucket:this.bucketName,Key:e,VersionId:r});return await this.client.send(o),y.info("CloudFormation template deleted successfully",{bucket:this.bucketName,key:e,versionId:r}),!0}catch(o){return y.error("Failed to delete CloudFormation template",{error:o instanceof Error?o.message:"Unknown error",bucket:this.bucketName,key:e,versionId:r}),!1}}async createTemplateVersion(e,r,o){try{let n=new Date().toISOString().replace(/[:.]/g,"-"),s=`${e.replace(/\.(yaml|yml|json)$/,"")}-${n}.$1`,i={bucketName:this.bucketName,key:s,content:r,contentType:"application/x-yaml",serverSideEncryption:"AES256",metadata:{"original-key":e,"version-timestamp":n,...o}};return await this.uploadTemplate(i)}catch(n){throw y.error("Failed to create template version",{error:n instanceof Error?n.message:"Unknown error",sourceKey:e}),n}}async validateTemplateFormat(e){let r=[];try{return e.trim().startsWith("{")?JSON.parse(e):!e.includes("AWSTemplateFormatVersion")&&!e.includes("Resources")&&r.push("Template must contain AWSTemplateFormatVersion or Resources section"),e.includes("Resources")||r.push("Template must contain a Resources section"),{valid:r.length===0,errors:r}}catch(o){return r.push(`Template format error: ${o instanceof Error?o.message:"Invalid format"}`),{valid:!1,errors:r}}}parseTemplateMetadata(e){try{let r={name:e["template-name"]||"Unknown",version:e["template-version"]||"1.0.0",type:e["template-type"]||"dedicated",description:e["template-description"],createdAt:e["created-at"]||new Date().toISOString(),updatedAt:e["updated-at"]||new Date().toISOString()};if(e["template-parameters"])try{r.parameters=JSON.parse(e["template-parameters"])}catch{}if(e["template-tags"])try{r.tags=JSON.parse(e["template-tags"])}catch{}return ZDe.parse(r)}catch{return{name:"Unknown",version:"1.0.0",type:"dedicated",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}}},DT=new Map;function UK(t,e){let r=`${t}-${e||"default"}`;return DT.has(r)||DT.set(r,new PT(t,e)),DT.get(r)}var tPe=S.object({targetAccountId:S.string().regex(/^\d{12}$/,"Must be a valid 12-digit AWS account ID"),region:S.string().min(1),roleName:S.string().min(1),externalId:S.string().optional(),sessionName:S.string().min(1).max(64),durationSeconds:S.number().min(900).max(43200).default(3600)}),rPe=S.object({allowedAccountIds:S.array(S.string().regex(/^\d{12}$/)).min(1),requireExternalId:S.boolean().default(!0),maxSessionDuration:S.number().min(900).max(43200).default(3600)}),kT=class{stsClient;config;validationConfig;constructor(e,r){this.config=wr(),this.validationConfig=rPe.parse(e);let o=r||this.config.aws.region;this.stsClient=new ra({region:o,maxAttempts:3})}async assumeRole(e){try{let r=tPe.parse(e);if(!this.validationConfig.allowedAccountIds.includes(r.targetAccountId))throw new Error(`Target account ${r.targetAccountId} is not in the allowed accounts list`);if(this.validationConfig.requireExternalId&&!r.externalId)throw new Error("External ID is required for cross-account role assumption");let o=`arn:aws:iam::${r.targetAccountId}:role/${r.roleName}`;y.info("Attempting cross-account role assumption",{targetAccountId:r.targetAccountId,roleArn:o,sessionName:r.sessionName,region:r.region,hasExternalId:!!r.externalId});let n=await this.getCurrentIdentity(),s=new Rp({RoleArn:o,RoleSessionName:r.sessionName,ExternalId:r.externalId,DurationSeconds:Math.min(r.durationSeconds,this.validationConfig.maxSessionDuration)}),i=await this.stsClient.send(s);if(!i.Credentials||!i.AssumedRoleUser)throw new Error("Failed to assume role: No credentials or assumed role user returned");let a={accountId:r.targetAccountId,roleArn:o,sessionName:r.sessionName,credentials:{accessKeyId:i.Credentials.AccessKeyId,secretAccessKey:i.Credentials.SecretAccessKey,sessionToken:i.Credentials.SessionToken,expiration:i.Credentials.Expiration},assumedRoleUser:{assumedRoleId:i.AssumedRoleUser.AssumedRoleId,arn:i.AssumedRoleUser.Arn}};return y.info("Cross-account role assumption successful",{sourceAccount:n.accountId,sourceArn:n.arn,targetAccountId:r.targetAccountId,assumedRoleArn:a.assumedRoleUser.arn,assumedRoleId:a.assumedRoleUser.assumedRoleId,sessionExpiration:a.credentials.expiration,correlationId:this.generateCorrelationId()}),a}catch(r){throw y.error("Cross-account role assumption failed",{error:r instanceof Error?r.message:"Unknown error",targetAccountId:e.targetAccountId,roleName:e.roleName,correlationId:this.generateCorrelationId()}),r}}async validateRole(e){try{let r={...e,durationSeconds:900,sessionName:`${e.sessionName}-validation`},o=await this.assumeRole(r);return y.info("Cross-account role validation successful",{targetAccountId:e.targetAccountId,roleName:e.roleName,assumedRoleId:o.assumedRoleUser.assumedRoleId}),{valid:!0}}catch(r){let o=r instanceof Error?r.message:"Unknown validation error";return y.warn("Cross-account role validation failed",{targetAccountId:e.targetAccountId,roleName:e.roleName,error:o}),{valid:!1,error:o}}}generateRoleArn(e,r){if(!/^\d{12}$/.test(e))throw new Error("Invalid AWS account ID format");return`arn:aws:iam::${e}:role/${r}`}generateStandardRoleName(e){let r=this.config.cloudformation.crossAccountRolePrefix;return e?`${r}-${e}`:r}async getCurrentIdentity(){try{let e=new bp({}),r=await this.stsClient.send(e);return{accountId:r.Account,arn:r.Arn,userId:r.UserId}}catch(e){throw y.error("Failed to get current AWS identity",{error:e instanceof Error?e.message:"Unknown error"}),new Error("Unable to determine current AWS identity")}}generateCorrelationId(){return`cross-account-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}isSessionValid(e){return e.credentials.expiration>new Date}getSessionTimeRemaining(e){let r=new Date,o=e.credentials.expiration;return o<=r?0:Math.floor((o.getTime()-r.getTime())/1e3)}createAssumedRoleSTSClient(e,r){let o=r||this.config.aws.region;return new ra({region:o,credentials:{accessKeyId:e.credentials.accessKeyId,secretAccessKey:e.credentials.secretAccessKey,sessionToken:e.credentials.sessionToken},maxAttempts:3})}};function oPe(t,e){let r={allowedAccountIds:t,requireExternalId:wr().stage==="prod",maxSessionDuration:3600};return new kT(r,e)}var OT=null;function iE(t,e){if(!OT){if(!t||t.length===0)throw new Error("Allowed account IDs must be provided for cross-account role manager initialization");OT=oPe(t,e)}return OT}var nPe=S.object({template_key:S.string().min(1).optional(),cross_account_config:S.object({target_account_id:S.string().regex(/^\d{12}$/,"Must be a valid 12-digit AWS account ID"),role_name:S.string().min(1),external_id:S.string().optional()}).optional(),parameters:S.array(S.object({ParameterKey:S.string(),ParameterValue:S.string()})).optional(),tags:S.array(S.object({Key:S.string(),Value:S.string()})).optional()}),NT=async(t,e)=>{try{let r=t.params.id;if(!r){H(e,"ValidationError","Cluster ID is required",t.correlationId);return}y.info("Processing cluster deployment request",{correlationId:t.correlationId,clusterId:r,requestedBy:t.context.staff_id,requestedByEmail:t.context.email});let o=nPe.safeParse(t.body||{});if(!o.success){y.warn("Cluster deployment validation failed",{correlationId:t.correlationId,clusterId:r,errors:o.error.errors}),H(e,"ValidationError","Invalid cluster deployment data",t.correlationId,{validationErrors:o.error.errors});return}let{template_key:n,cross_account_config:s,parameters:i,tags:a}=o.data,c=await ie.getCluster(r,t.correlationId);if(!c.found||!c.cluster){y.warn("Cluster not found for deployment",{correlationId:t.correlationId,clusterId:r}),H(e,"NotFound","Cluster not found",t.correlationId);return}let u=c.cluster;if(u.status==="deploying"){y.warn("Cluster deployment already in progress",{correlationId:t.correlationId,clusterId:r,currentStatus:u.status}),H(e,"Conflict","Cluster deployment already in progress",t.correlationId);return}await ie.updateCluster(r,{status:"deploying",deployment_status:"DEPLOYMENT_INITIATED"},t.correlationId);try{let m=wr(),f=n||`${u.type}-cluster-template.yaml`,g=await UK(m.s3.templateBucket).getTemplateInfo(f);if(!g)throw new Error(`Template not found: ${f}`);let _=`control-plane-${u.name}-${r.substring(0,8)}`,R=AE(u.cidr),T=[{ParameterKey:"EnvironmentName",ParameterValue:u.name},{ParameterKey:"VpcCIDR",ParameterValue:u.cidr},{ParameterKey:"PublicSubnet1CIDR",ParameterValue:R.public[0]},{ParameterKey:"PublicSubnet2CIDR",ParameterValue:R.public[1]},{ParameterKey:"PublicSubnet3CIDR",ParameterValue:R.public[2]},{ParameterKey:"PrivateAppSubnet1CIDR",ParameterValue:R.privateApp[0]},{ParameterKey:"PrivateAppSubnet2CIDR",ParameterValue:R.privateApp[1]},{ParameterKey:"PrivateAppSubnet3CIDR",ParameterValue:R.privateApp[2]},{ParameterKey:"PrivateDBSubnet1CIDR",ParameterValue:R.privateDB[0]},{ParameterKey:"PrivateDBSubnet2CIDR",ParameterValue:R.privateDB[1]},{ParameterKey:"PrivateDBSubnet3CIDR",ParameterValue:R.privateDB[2]}],M={stackName:_,templateUrl:g.url,parameters:[...T,...i||[]],tags:[{Key:"ClusterId",Value:u.cluster_id},{Key:"ClusterName",Value:u.name},{Key:"ClusterType",Value:u.type},{Key:"ManagedBy",Value:"ControlPlaneAPI"},...a||[]],capabilities:["CAPABILITY_IAM","CAPABILITY_NAMED_IAM"],timeoutInMinutes:60},G=Ey(u.region),te;if(s){y.info("Initiating cross-account cluster deployment",{correlationId:t.correlationId,clusterId:r,targetAccountId:s.target_account_id,stackName:_});let Ye=iE([],u.region),Ht={targetAccountId:s.target_account_id,region:u.region,roleName:s.role_name,externalId:s.external_id,sessionName:`cluster-deployment-${r.substring(0,8)}`,durationSeconds:3600},En=await Ye.assumeRole(Ht),Fe={roleArn:En.roleArn,sessionName:En.sessionName,externalId:s.external_id};te=await G.deployStack(M,Fe)}else y.info("Initiating same-account cluster deployment",{correlationId:t.correlationId,clusterId:r,stackName:_}),te=await G.deployStack(M);await ie.updateCluster(r,{status:te.status==="CREATE_FAILED"?"failed":"deploying",deployment_status:te.status,deployment_id:te.stackId},t.correlationId),y.info("Cluster deployment initiated successfully",{correlationId:t.correlationId,clusterId:r,stackId:te.stackId,stackName:_,status:te.status,clusterName:u.name,environment:u.environment,vpcCidr:u.cidr,calculatedSubnets:R}),e.status(200).json({success:!0,data:{cluster_id:r,deployment_id:te.stackId,stack_name:_,status:te.status,template_url:g.url,initiated_at:new Date().toISOString()},timestamp:new Date().toISOString()})}catch(m){await ie.updateCluster(r,{status:"failed",deployment_status:"DEPLOYMENT_FAILED"},t.correlationId),y.error("Cluster deployment failed",{correlationId:t.correlationId,clusterId:r,error:m instanceof Error?m.message:"Unknown deployment error"}),H(e,"InternalError",`Cluster deployment failed: ${m instanceof Error?m.message:"Unknown error"}`,t.correlationId)}}catch(r){y.error("Cluster deployment handler error",{correlationId:t.correlationId,clusterId:t.params.id,error:r instanceof Error?r.message:"Unknown error"}),H(e,"InternalError","Cluster deployment failed",t.correlationId)}};var sPe=S.object({cross_account_config:S.string().optional().transform(t=>{if(t)try{return JSON.parse(t)}catch{return}}).pipe(S.object({target_account_id:S.string().regex(/^\d{12}$/),role_name:S.string().min(1),external_id:S.string().optional()}).optional()),include_events:S.string().optional().transform(t=>t==="true")}),$T=async(t,e)=>{try{let r=t.params.id;if(!r){H(e,"ValidationError","Cluster ID is required",t.correlationId);return}y.info("Processing cluster status request",{correlationId:t.correlationId,clusterId:r,requestedBy:t.context.staff_id,requestedByEmail:t.context.email});let o=sPe.safeParse(t.query);if(!o.success){y.warn("Cluster status query validation failed",{correlationId:t.correlationId,clusterId:r,errors:o.error.errors}),H(e,"ValidationError","Invalid query parameters",t.correlationId,{validationErrors:o.error.errors});return}let{cross_account_config:n,include_events:s}=o.data,i=await ie.getCluster(r,t.correlationId);if(!i.found||!i.cluster){y.warn("Cluster not found for status check",{correlationId:t.correlationId,clusterId:r}),H(e,"NotFound","Cluster not found",t.correlationId);return}let a=i.cluster;if(!a.deployment_id){y.info("Cluster status retrieved (no deployment)",{correlationId:t.correlationId,clusterId:r,status:a.status}),e.status(200).json({success:!0,data:{cluster_id:r,cluster_status:a.status,deployment_status:a.deployment_status||"NOT_DEPLOYED",deployment_id:null,stack_outputs:a.stack_outputs||{},last_updated:a.updated_at,deployed_at:a.deployed_at},timestamp:new Date().toISOString()});return}try{let c=Ey(a.region),u,m=[];if(n){y.info("Checking cross-account cluster deployment status",{correlationId:t.correlationId,clusterId:r,targetAccountId:n.target_account_id,deploymentId:a.deployment_id});let _=iE([],a.region),R={targetAccountId:n.target_account_id,region:a.region,roleName:n.role_name,externalId:n.external_id,sessionName:`status-check-${r.substring(0,8)}`,durationSeconds:3600},T=await _.assumeRole(R),M={roleArn:T.roleArn,sessionName:T.sessionName,externalId:n.external_id};u=await c.getStackStatus(a.deployment_id,M),s&&u&&(m=await c.getStackEvents(a.deployment_id,M))}else y.info("Checking same-account cluster deployment status",{correlationId:t.correlationId,clusterId:r,deploymentId:a.deployment_id}),u=await c.getStackStatus(a.deployment_id),s&&u&&(m=await c.getStackEvents(a.deployment_id));if(!u){y.warn("CloudFormation stack not found",{correlationId:t.correlationId,clusterId:r,deploymentId:a.deployment_id}),await ie.updateCluster(r,{status:"failed",deployment_status:"STACK_NOT_FOUND"},t.correlationId),e.status(200).json({success:!0,data:{cluster_id:r,cluster_status:"failed",deployment_status:"STACK_NOT_FOUND",deployment_id:a.deployment_id,stack_outputs:{},last_updated:new Date().toISOString(),deployed_at:a.deployed_at,error:"CloudFormation stack not found"},timestamp:new Date().toISOString()});return}let f=a.status,h=a.deployed_at;u.status==="CREATE_COMPLETE"||u.status==="UPDATE_COMPLETE"?(f="deployed",h=h||new Date().toISOString()):u.status?.includes("FAILED")||u.status?.includes("ROLLBACK")?f="failed":u.status?.includes("IN_PROGRESS")&&(f="deploying"),(f!==a.status||u.status!==a.deployment_status||u.outputs&&JSON.stringify(u.outputs)!==JSON.stringify(a.stack_outputs))&&await ie.updateCluster(r,{status:f,deployment_status:u.status,stack_outputs:u.outputs||a.stack_outputs||{},...h&&h!==a.deployed_at&&{deployed_at:h}},t.correlationId),y.info("Cluster status retrieved successfully",{correlationId:t.correlationId,clusterId:r,clusterStatus:f,deploymentStatus:u.status}),e.status(200).json({success:!0,data:{cluster_id:r,cluster_status:f,deployment_status:u.status,deployment_id:a.deployment_id,stack_outputs:u.outputs||{},last_updated:new Date().toISOString(),deployed_at:h,...s&&m.length>0&&{recent_events:m.slice(0,10).map(g=>({timestamp:g.Timestamp,resource_type:g.ResourceType,logical_resource_id:g.LogicalResourceId,resource_status:g.ResourceStatus,resource_status_reason:g.ResourceStatusReason}))}},timestamp:new Date().toISOString()})}catch(c){y.error("Failed to get CloudFormation stack status",{correlationId:t.correlationId,clusterId:r,deploymentId:a.deployment_id,error:c instanceof Error?c.message:"Unknown status error"}),e.status(200).json({success:!0,data:{cluster_id:r,cluster_status:a.status,deployment_status:a.deployment_status||"STATUS_CHECK_FAILED",deployment_id:a.deployment_id,stack_outputs:a.stack_outputs||{},last_updated:a.updated_at,deployed_at:a.deployed_at,error:`Failed to check deployment status: ${c instanceof Error?c.message:"Unknown error"}`},timestamp:new Date().toISOString()})}}catch(r){y.error("Cluster status handler error",{correlationId:t.correlationId,clusterId:t.params.id,error:r instanceof Error?r.message:"Unknown error"}),H(e,"InternalError","Failed to get cluster status",t.correlationId)}};function FK(t){t.get("/clusters",vn(),Ws,nC),t.post("/clusters",vn(),Ws,Rn({body:bf}),sC),t.post("/clusters/:id/deploy",vn(),Ws,NT),t.get("/clusters/:id/status",vn(),Ws,$T)}var ca=null;function iPe(){if(ca)return ca;y.info("Initializing Lambda function with internal routing");try{return ca=Cw(),CG(ca),IG(ca),TG(ca),FK(ca),y.info("Router initialized successfully with all routes registered"),ca}catch(t){throw y.error("Failed to initialize router",{error:t}),t}}var ebt=async(t,e)=>{e.callbackWaitsForEmptyEventLoop=!1;try{let r=iPe(),o=t.requestContext?.requestId||"unknown",n=t.httpMethod||t.requestContext?.http?.method||"UNKNOWN",s=t.path||t.rawPath||"/";y.info("Processing request",{method:n,path:s,correlationId:o,coldStart:!ca});let i=await r.handle(t,e);return y.info("Request processed successfully",{statusCode:i.statusCode,correlationId:o}),i}catch(r){let o=t.requestContext?.requestId||"unknown";return y.error("Unhandled error in Lambda handler",{error:r instanceof Error?r.message:String(r),stack:r instanceof Error?r.stack:void 0,correlationId:o}),{statusCode:500,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","X-Correlation-ID":o},body:JSON.stringify({error:{code:"InternalError",message:"Internal server error",correlationId:o},timestamp:new Date().toISOString()})}}};export{ebt as handler};
//# sourceMappingURL=index.mjs.map
