var FK=Object.create;var aE=Object.defineProperty;var GK=Object.getOwnPropertyDescriptor;var HK=Object.getOwnPropertyNames;var jK=Object.getPrototypeOf,VK=Object.prototype.hasOwnProperty;var p=(t,e)=>()=>(t&&(e=t(t=0)),e);var dd=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),En=(t,e)=>{for(var r in e)aE(t,r,{get:e[r],enumerable:!0})},zK=(t,e,r,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of HK(e))!VK.call(t,n)&&n!==r&&aE(t,n,{get:()=>e[n],enumerable:!(o=GK(e,n))||o.enumerable});return t};var KK=(t,e,r)=>(r=t!=null?FK(jK(t)):{},zK(e||!t||!t.__esModule?aE(r,"default",{value:t,enumerable:!0}):r,t));var Tw=p(()=>{});var ww,Aw=p(()=>{(function(t){t.HEADER="header",t.QUERY="query"})(ww||(ww={}))});var Dw,Ow=p(()=>{(function(t){t.HEADER="header",t.QUERY="query"})(Dw||(Dw={}))});var Pw=p(()=>{});var kw=p(()=>{});var Nw=p(()=>{});var $w=p(()=>{});var Lw=p(()=>{Aw();Ow();Pw();kw();Nw();$w()});var Mw=p(()=>{});var Bw=p(()=>{});var Uw=p(()=>{});var Fw=p(()=>{});var Gw=p(()=>{});var Hw=p(()=>{});var jw=p(()=>{});var Vw=p(()=>{Gw();Hw();jw()});var zw=p(()=>{});var Kw=p(()=>{});var Su,Ww=p(()=>{(function(t){t.HTTP="http",t.HTTPS="https"})(Su||(Su={}))});var qw=p(()=>{});var Jw=p(()=>{});var Qw=p(()=>{});var Yw=p(()=>{});var Xw=p(()=>{});var Zw=p(()=>{qw();Jw();Qw();Yw();Xw()});var eA=p(()=>{});var Eu,tA=p(()=>{(function(t){t.MD5="md5",t.CRC32="crc32",t.CRC32C="crc32c",t.SHA1="sha1",t.SHA256="sha256"})(Eu||(Eu={}))});var rA=p(()=>{});var oA=p(()=>{});var nA=p(()=>{rA();oA();tA()});var sA=p(()=>{});var iA,aA=p(()=>{(function(t){t[t.HEADER=0]="HEADER",t[t.TRAILER=1]="TRAILER"})(iA||(iA={}))});var cA=p(()=>{});var uA=p(()=>{});var pA=p(()=>{});var dA=p(()=>{});var lA=p(()=>{});var mA=p(()=>{uA();pA();dA();lA()});var fA=p(()=>{});var vd,hA=p(()=>{vd="__smithy_context"});var gA=p(()=>{});var $i,xA=p(()=>{(function(t){t.PROFILE="profile",t.SSO_SESSION="sso-session",t.SERVICES="services"})($i||($i={}))});var yA=p(()=>{});var SA=p(()=>{});var EA=p(()=>{});var _A=p(()=>{});var RA=p(()=>{});var bA=p(()=>{});var CA=p(()=>{});var vA=p(()=>{});var IA=p(()=>{});var TA=p(()=>{});var wA=p(()=>{});var AA=p(()=>{});var DA=p(()=>{});var OA=p(()=>{});var PA,kA=p(()=>{(function(t){t.HTTP_0_9="http/0.9",t.HTTP_1_0="http/1.0",t.TDS_8_0="tds/8.0"})(PA||(PA={}))});var NA=p(()=>{});var $A=p(()=>{});var LA=p(()=>{});var MA=p(()=>{});var BA=p(()=>{});var UA=p(()=>{});var FA=p(()=>{});var fa=p(()=>{Tw();Lw();Mw();Bw();Uw();Fw();Vw();zw();Kw();Ww();Zw();eA();nA();sA();aA();cA();mA();fA();hA();gA();xA();yA();SA();EA();_A();RA();bA();CA();vA();IA();TA();wA();AA();DA();OA();kA();NA();$A();LA();MA();BA();UA();FA()});var nt,GA=p(()=>{fa();nt=t=>t[vd]||(t[vd]={})});var ge,HA=p(()=>{ge=t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e}});var Zt=p(()=>{GA();HA()});var Ar,Dr,QA=p(()=>{Ar=t=>({setHttpHandler(e){t.httpHandler=e},httpHandler(){return t.httpHandler},updateHttpClientConfig(e,r){t.httpHandler?.updateHttpClientConfig(e,r)},httpHandlerConfigs(){return t.httpHandler.httpHandlerConfigs()}}),Dr=t=>({httpHandler:t.httpHandler()})});var YA=p(()=>{QA()});var XA=p(()=>{});var ZA=p(()=>{});var eD=p(()=>{});function Yq(t){return Object.keys(t).reduce((e,r)=>{let o=t[r];return{...e,[r]:Array.isArray(o)?[...o]:o}},{})}var me,tD=p(()=>{me=class t{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){let r=new t({...e,headers:{...e.headers}});return r.query&&(r.query=Yq(r.query)),r}static isInstance(e){if(!e)return!1;let r=e;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return t.clone(this)}}});var To,rD=p(()=>{To=class{statusCode;reason;headers;body;constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let r=e;return typeof r.statusCode=="number"&&typeof r.headers=="object"}}});var oD=p(()=>{});var nD=p(()=>{});var Pe=p(()=>{YA();XA();ZA();eD();tD();rD();oD();nD()});var iD=dd((L1e,sD)=>{function Li(t){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:t}),this.done=!1}Li.prototype.next=function(){if(this.done)return{done:!0};var t=this._next();return t.done&&(this.done=!0),t};typeof Symbol<"u"&&(Li.prototype[Symbol.iterator]=function(){return this});Li.of=function(){var t=arguments,e=t.length,r=0;return new Li(function(){return r>=e?{done:!0}:{done:!1,value:t[r++]}})};Li.empty=function(){var t=new Li(null);return t.done=!0,t};Li.is=function(t){return t instanceof Li?!0:typeof t=="object"&&t!==null&&typeof t.next=="function"};sD.exports=Li});var AE=dd((M1e,pD)=>{var aD=typeof ArrayBuffer<"u",cD=typeof Symbol<"u";function uD(t,e){var r,o,n,s,i;if(!t)throw new Error("obliterator/forEach: invalid iterable.");if(typeof e!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(t)||aD&&ArrayBuffer.isView(t)||typeof t=="string"||t.toString()==="[object Arguments]"){for(n=0,s=t.length;n<s;n++)e(t[n],n);return}if(typeof t.forEach=="function"){t.forEach(e);return}if(cD&&Symbol.iterator in t&&typeof t.next!="function"&&(t=t[Symbol.iterator]()),typeof t.next=="function"){for(r=t,n=0;i=r.next(),i.done!==!0;)e(i.value,n),n++;return}for(o in t)t.hasOwnProperty(o)&&e(t[o],o)}uD.forEachWithNullKeys=function(t,e){var r,o,n,s,i;if(!t)throw new Error("obliterator/forEachWithNullKeys: invalid iterable.");if(typeof e!="function")throw new Error("obliterator/forEachWithNullKeys: expecting a callback.");if(Array.isArray(t)||aD&&ArrayBuffer.isView(t)||typeof t=="string"||t.toString()==="[object Arguments]"){for(n=0,s=t.length;n<s;n++)e(t[n],null);return}if(t instanceof Set){t.forEach(function(a){e(a,null)});return}if(typeof t.forEach=="function"){t.forEach(e);return}if(cD&&Symbol.iterator in t&&typeof t.next!="function"&&(t=t[Symbol.iterator]()),typeof t.next=="function"){for(r=t,n=0;i=r.next(),i.done!==!0;)e(i.value,null),n++;return}for(o in t)t.hasOwnProperty(o)&&e(t[o],o)};pD.exports=uD});var DE=dd(qs=>{var Xq=Math.pow(2,8)-1,Zq=Math.pow(2,16)-1,eJ=Math.pow(2,32)-1,tJ=Math.pow(2,7)-1,rJ=Math.pow(2,15)-1,oJ=Math.pow(2,31)-1;qs.getPointerArray=function(t){var e=t-1;return e<=Xq?Uint8Array:e<=Zq?Uint16Array:e<=eJ?Uint32Array:Float64Array};qs.getSignedPointerArray=function(t){var e=t-1;return e<=tJ?Int8Array:e<=rJ?Int16Array:e<=oJ?Int32Array:Float64Array};qs.getNumberType=function(t){return t===(t|0)?Math.sign(t)===-1?t<=127&&t>=-128?Int8Array:t<=32767&&t>=-32768?Int16Array:Int32Array:t<=255?Uint8Array:t<=65535?Uint16Array:Uint32Array:Float64Array};var nJ={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};qs.getMinimalRepresentation=function(t,e){var r=null,o=0,n,s,i,a,c;for(a=0,c=t.length;a<c;a++)i=e?e(t[a]):t[a],s=qs.getNumberType(i),n=nJ[s.name],n>o&&(o=n,r=s);return r};qs.isTypedArray=function(t){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(t)};qs.concat=function(){var t=0,e,r,o;for(e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=new arguments[0].constructor(t);for(e=0,r=0;e<o;e++)n.set(arguments[e],r),r+=arguments[e].length;return n};qs.indices=function(t){for(var e=qs.getPointerArray(t),r=new e(t),o=0;o<t;o++)r[o]=o;return r}});var mD=dd(Td=>{var dD=AE(),lD=DE();function sJ(t){return Array.isArray(t)||lD.isTypedArray(t)}function OE(t){if(typeof t.length=="number")return t.length;if(typeof t.size=="number")return t.size}function iJ(t){var e=OE(t),r=typeof e=="number"?new Array(e):[],o=0;return dD(t,function(n){r[o++]=n}),r}function aJ(t){var e=OE(t),r=typeof e=="number"?lD.getPointerArray(e):Array,o=typeof e=="number"?new Array(e):[],n=typeof e=="number"?new r(e):[],s=0;return dD(t,function(i){o[s]=i,n[s]=s++}),[o,n]}Td.isArrayLike=sJ;Td.guessLength=OE;Td.toArray=iJ;Td.toArrayWithIndices=aJ});var hD=dd((F1e,fD)=>{var PE=iD(),cJ=AE(),uJ=DE(),pJ=mD();function cr(t,e,r){if(arguments.length<2&&(r=t,t=null,e=null),this.capacity=r,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-cache: capacity should be positive number.");var o=uJ.getPointerArray(r);this.forward=new o(r),this.backward=new o(r),this.K=typeof t=="function"?new t(r):new Array(r),this.V=typeof e=="function"?new e(r):new Array(r),this.size=0,this.head=0,this.tail=0,this.items={}}cr.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}};cr.prototype.splayOnTop=function(t){var e=this.head;if(this.head===t)return this;var r=this.backward[t],o=this.forward[t];return this.tail===t?this.tail=r:this.backward[o]=r,this.forward[r]=o,this.backward[e]=t,this.head=t,this.forward[t]=e,this};cr.prototype.set=function(t,e){var r=this.items[t];if(typeof r<"u"){this.splayOnTop(r),this.V[r]=e;return}this.size<this.capacity?r=this.size++:(r=this.tail,this.tail=this.backward[r],delete this.items[this.K[r]]),this.items[t]=r,this.K[r]=t,this.V[r]=e,this.forward[r]=this.head,this.backward[this.head]=r,this.head=r};cr.prototype.setpop=function(t,e){var r=null,o=null,n=this.items[t];return typeof n<"u"?(this.splayOnTop(n),r=this.V[n],this.V[n]=e,{evicted:!1,key:t,value:r}):(this.size<this.capacity?n=this.size++:(n=this.tail,this.tail=this.backward[n],r=this.V[n],o=this.K[n],delete this.items[this.K[n]]),this.items[t]=n,this.K[n]=t,this.V[n]=e,this.forward[n]=this.head,this.backward[this.head]=n,this.head=n,o?{evicted:!0,key:o,value:r}:null)};cr.prototype.has=function(t){return t in this.items};cr.prototype.get=function(t){var e=this.items[t];if(!(typeof e>"u"))return this.splayOnTop(e),this.V[e]};cr.prototype.peek=function(t){var e=this.items[t];if(!(typeof e>"u"))return this.V[e]};cr.prototype.forEach=function(t,e){e=arguments.length>1?e:this;for(var r=0,o=this.size,n=this.head,s=this.K,i=this.V,a=this.forward;r<o;)t.call(e,i[n],s[n],this),n=a[n],r++};cr.prototype.keys=function(){var t=0,e=this.size,r=this.head,o=this.K,n=this.forward;return new PE(function(){if(t>=e)return{done:!0};var s=o[r];return t++,t<e&&(r=n[r]),{done:!1,value:s}})};cr.prototype.values=function(){var t=0,e=this.size,r=this.head,o=this.V,n=this.forward;return new PE(function(){if(t>=e)return{done:!0};var s=o[r];return t++,t<e&&(r=n[r]),{done:!1,value:s}})};cr.prototype.entries=function(){var t=0,e=this.size,r=this.head,o=this.K,n=this.V,s=this.forward;return new PE(function(){if(t>=e)return{done:!0};var i=o[r],a=n[r];return t++,t<e&&(r=s[r]),{done:!1,value:[i,a]}})};typeof Symbol<"u"&&(cr.prototype[Symbol.iterator]=cr.prototype.entries);cr.prototype.inspect=function(){for(var t=new Map,e=this.entries(),r;r=e.next(),!r.done;)t.set(r.value[0],r.value[1]);return Object.defineProperty(t,"constructor",{value:cr,enumerable:!1}),t};typeof Symbol<"u"&&(cr.prototype[Symbol.for("nodejs.util.inspect.custom")]=cr.prototype.inspect);cr.from=function(t,e,r,o){if(arguments.length<2){if(o=pJ.guessLength(t),typeof o!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(o=e,e=null,r=null);var n=new cr(e,r,o);return cJ(t,function(s,i){n.set(i,s)}),n};fD.exports=cr});var dJ,lJ,Or,Js=p(()=>{Pe();dJ=t=>e=>async r=>{if(!me.isInstance(r.request))return e(r);let{request:o}=r,{handlerProtocol:n=""}=t.requestHandler.metadata||{};if(n.indexOf("h2")>=0&&!o.headers[":authority"])delete o.headers.host,o.headers[":authority"]=o.hostname+(o.port?":"+o.port:"");else if(!o.headers.host){let s=o.hostname;o.port!=null&&(s+=`:${o.port}`),o.headers.host=s}return e(r)},lJ={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Or=t=>({applyToStack:e=>{e.add(dJ(t),lJ)}})});var mJ,fJ,Pr,yD=p(()=>{mJ=()=>(t,e)=>async r=>{try{let o=await t(r),{clientName:n,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=e,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:u}=a,m=c??e.inputFilterSensitiveLog,f=u??e.outputFilterSensitiveLog,{$metadata:h,...g}=o.output;return i?.info?.({clientName:n,commandName:s,input:m(r.input),output:f(g),metadata:h}),o}catch(o){let{clientName:n,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=e,{overrideInputFilterSensitiveLog:c}=a,u=c??e.inputFilterSensitiveLog;throw i?.error?.({clientName:n,commandName:s,input:u(r.input),error:o,metadata:o.$metadata}),o}},fJ={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Pr=t=>({applyToStack:e=>{e.add(mJ(),fJ)}})});var Qs=p(()=>{yD()});var SD,ED=p(()=>{SD={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"}});var wd,kE,wf,NE,$E,Af,_D=p(()=>{wd={REQUEST_ID:Symbol.for("_AWS_LAMBDA_REQUEST_ID"),X_RAY_TRACE_ID:Symbol.for("_AWS_LAMBDA_X_RAY_TRACE_ID"),TENANT_ID:Symbol.for("_AWS_LAMBDA_TENANT_ID")},kE=["true","1"].includes(process.env?.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA??"");kE||(globalThis.awslambda=globalThis.awslambda||{});wf=class{static PROTECTED_KEYS=wd;isProtectedKey(e){return Object.values(wd).includes(e)}getRequestId(){return this.get(wd.REQUEST_ID)??"-"}getXRayTraceId(){return this.get(wd.X_RAY_TRACE_ID)}getTenantId(){return this.get(wd.TENANT_ID)}},NE=class extends wf{currentContext;getContext(){return this.currentContext}hasContext(){return this.currentContext!==void 0}get(e){return this.currentContext?.[e]}set(e,r){if(this.isProtectedKey(e))throw new Error(`Cannot modify protected Lambda context field: ${String(e)}`);this.currentContext=this.currentContext||{},this.currentContext[e]=r}run(e,r){return this.currentContext=e,r()}},$E=class t extends wf{als;static async create(){let e=new t,r=await import("node:async_hooks");return e.als=new r.AsyncLocalStorage,e}getContext(){return this.als.getStore()}hasContext(){return this.als.getStore()!==void 0}get(e){return this.als.getStore()?.[e]}set(e,r){if(this.isProtectedKey(e))throw new Error(`Cannot modify protected Lambda context field: ${String(e)}`);let o=this.als.getStore();if(!o)throw new Error("No context available");o[e]=r}run(e,r){return this.als.run(e,r)}};(function(t){let e=null;async function r(){return e||(e=(async()=>{let n="AWS_LAMBDA_MAX_CONCURRENCY"in process.env?await $E.create():new NE;return!kE&&globalThis.awslambda?.InvokeStore?globalThis.awslambda.InvokeStore:(!kE&&globalThis.awslambda&&(globalThis.awslambda.InvokeStore=n),n)})()),e}t.getInstanceAsync=r,t._testing=process.env.AWS_LAMBDA_BENCHMARK_MODE==="1"?{reset:()=>{e=null,globalThis.awslambda?.InvokeStore&&delete globalThis.awslambda.InvokeStore,globalThis.awslambda={}}}:void 0})(Af||(Af={}))});var LE,hJ,gJ,RD,ME=p(()=>{_D();Pe();LE="X-Amzn-Trace-Id",hJ="AWS_LAMBDA_FUNCTION_NAME",gJ="_X_AMZN_TRACE_ID",RD=()=>t=>async e=>{let{request:r}=e;if(!me.isInstance(r))return t(e);let o=Object.keys(r.headers??{}).find(m=>m.toLowerCase()===LE.toLowerCase())??LE;if(r.headers.hasOwnProperty(o))return t(e);let n=process.env[hJ],s=process.env[gJ],c=(await Af.getInstanceAsync())?.getXRayTraceId()??s,u=m=>typeof m=="string"&&m.length>0;return u(n)&&u(c)&&(r.headers[LE]=c),t({...e,request:r})}});var kr,bD=p(()=>{ED();ME();kr=t=>({applyToStack:e=>{e.add(RD(),SD)}})});var Ys=p(()=>{bD();ME()});var CD=p(()=>{});var vD,ID=p(()=>{vD=(t,e)=>{if(!e||e.length===0)return t;let r=[];for(let o of e)for(let n of t)n.schemeId.split("#")[1]===o&&r.push(n);for(let o of t)r.find(({schemeId:n})=>n===o.schemeId)||r.push(o);return r}});function xJ(t){let e=new Map;for(let r of t)e.set(r.schemeId,r);return e}var TD,BE=p(()=>{Zt();ID();TD=(t,e)=>(r,o)=>async n=>{let s=t.httpAuthSchemeProvider(await e.httpAuthSchemeParametersProvider(t,o,n.input)),i=t.authSchemePreference?await t.authSchemePreference():[],a=vD(s,i),c=xJ(t.httpAuthSchemes),u=nt(o),m=[];for(let f of a){let h=c.get(f.schemeId);if(!h){m.push(`HttpAuthScheme \`${f.schemeId}\` was not enabled for this service.`);continue}let g=h.identityProvider(await e.identityProviderConfigProvider(t));if(!g){m.push(`HttpAuthScheme \`${f.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:_={},signingProperties:b={}}=f.propertiesExtractor?.(t,o)||{};f.identityProperties=Object.assign(f.identityProperties||{},_),f.signingProperties=Object.assign(f.signingProperties||{},b),u.selectedHttpAuthScheme={httpAuthOption:f,identity:await g(f.identityProperties),signer:h.signer};break}if(!u.selectedHttpAuthScheme)throw new Error(m.join(`
`));return r(n)}});var yJ,Nr,wD=p(()=>{BE();yJ={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},Nr=(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r})=>({applyToStack:o=>{o.addRelativeTo(TD(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r}),yJ)}})});var AD=p(()=>{});var DD=p(()=>{});var Df,OD=p(()=>{Df={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var UE=p(()=>{AD();OD();DD()});var _$e,PD=p(()=>{UE();_$e={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:Df.name}});var kD=p(()=>{BE();wD();PD()});var SJ,EJ,ND,FE=p(()=>{Pe();Zt();SJ=t=>e=>{throw e},EJ=(t,e)=>{},ND=t=>(e,r)=>async o=>{if(!me.isInstance(o.request))return e(o);let s=nt(r).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:a,signer:c}=s,u=await e({...o,request:await c.sign(o.request,a,i)}).catch((c.errorHandler||SJ)(i));return(c.successHandler||EJ)(u.response,i),u}});var GE,$r,$D=p(()=>{FE();GE={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},$r=t=>({applyToStack:e=>{e.addRelativeTo(ND(t),GE)}})});var LD=p(()=>{FE();$D()});var Mi,MD=p(()=>{Mi=t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e}});function Bi(t,e,r,o,n){return async function*(i,a,...c){let u=a,m=i.startingToken??u[r],f=!0,h;for(;f;){if(u[r]=m,n&&(u[n]=u[n]??i.pageSize),i.client instanceof t)h=await _J(e,i.client,a,i.withCommand,...c);else throw new Error(`Invalid client, expected instance of ${t.name}`);yield h;let g=m;m=RJ(h,o),f=!!(m&&(!i.stopOnSameToken||m!==g))}return void 0}}var _J,RJ,BD=p(()=>{_J=async(t,e,r,o=s=>s,...n)=>{let s=new t(r);return s=o(s)??s,await e.send(s,...n)};RJ=(t,e)=>{let r=t,o=e.split(".");for(let n of o){if(!r||typeof r!="object")return;r=r[n]}return r}});var _u,Of=p(()=>{_u=t=>typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]"});import{Buffer as HE}from"buffer";var Ui,Ru,fc=p(()=>{Of();Ui=(t,e=0,r=t.byteLength-e)=>{if(!_u(t))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof t} (${t})`);return HE.from(t,e,r)},Ru=(t,e)=>{if(typeof t!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof t} (${t})`);return e?HE.from(t,e):HE.from(t)}});var bJ,st,UD=p(()=>{fc();bJ=/^[A-Za-z0-9+/]*={0,2}$/,st=t=>{if(t.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!bJ.exec(t))throw new TypeError("Invalid base64 string.");let e=Ru(t,"base64");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}});var it,jE=p(()=>{fc();it=t=>{let e=Ru(t,"utf8");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT)}});var Fo,FD=p(()=>{jE();Fo=t=>typeof t=="string"?it(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)});var Xe,GD=p(()=>{fc();Xe=t=>{if(typeof t=="string")return t;if(typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return Ui(t.buffer,t.byteOffset,t.byteLength).toString("utf8")}});var wt=p(()=>{jE();FD();GD()});var we,HD=p(()=>{fc();wt();we=t=>{let e;if(typeof t=="string"?e=it(t):e=t,typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return Ui(e.buffer,e.byteOffset,e.byteLength).toString("base64")}});var Kt=p(()=>{UD();HD()});var bu,jD=p(()=>{Kt();wt();bu=class t extends Uint8Array{static fromString(e,r="utf-8"){if(typeof e=="string")return r==="base64"?t.mutate(st(e)):t.mutate(it(e));throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}static mutate(e){return Object.setPrototypeOf(e,t.prototype),e}transformToString(e="utf-8"){return e==="base64"?we(this):Xe(this)}}});import{Duplex as CJ}from"stream";var Pf,VE=p(()=>{Kt();Pf=class extends CJ{expectedChecksum;checksumSourceLocation;checksum;source;base64Encoder;constructor({expectedChecksum:e,checksum:r,source:o,checksumSourceLocation:n,base64Encoder:s}){if(super(),typeof o.pipe=="function")this.source=o;else throw new Error(`@smithy/util-stream: unsupported source type ${o?.constructor?.name??o} in ChecksumStream.`);this.base64Encoder=s??we,this.expectedChecksum=e,this.checksum=r,this.checksumSourceLocation=n,this.source.pipe(this)}_read(e){}_write(e,r,o){try{this.checksum.update(e),this.push(e)}catch(n){return o(n)}return o()}async _final(e){try{let r=await this.checksum.digest(),o=this.base64Encoder(r);if(this.expectedChecksum!==o)return e(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${o}" in response header "${this.checksumSourceLocation}".`))}catch(r){return e(r)}return this.push(null),e()}}});var Cn,VD,ha=p(()=>{Cn=t=>typeof ReadableStream=="function"&&(t?.constructor?.name===ReadableStream.name||t instanceof ReadableStream),VD=t=>typeof Blob=="function"&&(t?.constructor?.name===Blob.name||t instanceof Blob)});var vJ,kf,zD=p(()=>{vJ=typeof ReadableStream=="function"?ReadableStream:function(){},kf=class extends vJ{}});var KD,WD=p(()=>{Kt();ha();zD();KD=({expectedChecksum:t,checksum:e,source:r,checksumSourceLocation:o,base64Encoder:n})=>{if(!Cn(r))throw new Error(`@smithy/util-stream: unsupported source type ${r?.constructor?.name??r} in ChecksumStream.`);let s=n??we;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let i=new TransformStream({start(){},async transform(c,u){e.update(c),u.enqueue(c)},async flush(c){let u=await e.digest(),m=s(u);if(t!==m){let f=new Error(`Checksum mismatch: expected "${t}" but received "${m}" in response header "${o}".`);c.error(f)}else c.terminate()}});r.pipeThrough(i);let a=i.readable;return Object.setPrototypeOf(a,kf.prototype),a}});function qD(t){return typeof ReadableStream=="function"&&Cn(t.source)?KD(t):new Pf(t)}var JD=p(()=>{ha();VE();WD()});var hc,zE=p(()=>{hc=class{allocByteArray;byteLength=0;byteArrays=[];constructor(e){this.allocByteArray=e}push(e){this.byteArrays.push(e),this.byteLength+=e.byteLength}flush(){if(this.byteArrays.length===1){let o=this.byteArrays[0];return this.reset(),o}let e=this.allocByteArray(this.byteLength),r=0;for(let o=0;o<this.byteArrays.length;++o){let n=this.byteArrays[o];e.set(n,r),r+=n.byteLength}return this.reset(),e}reset(){this.byteArrays=[],this.byteLength=0}}});function QD(t,e,r){let o=t.getReader(),n=!1,s=0,i=["",new hc(u=>new Uint8Array(u))],a=-1,c=async u=>{let{value:m,done:f}=await o.read(),h=m;if(f){if(a!==-1){let g=gc(i,a);Fi(g)>0&&u.enqueue(g)}u.close()}else{let g=WE(h,!1);if(a!==g&&(a>=0&&u.enqueue(gc(i,a)),a=g),a===-1){u.enqueue(h);return}let _=Fi(h);s+=_;let b=Fi(i[a]);if(_>=e&&b===0)u.enqueue(h);else{let T=KE(i,a,h);!n&&s>e*2&&(n=!0,r?.warn(`@smithy/util-stream - stream chunk size ${_} is below threshold of ${e}, automatically buffering.`)),T>=e?u.enqueue(gc(i,a)):await c(u)}}};return new ReadableStream({pull:c})}function KE(t,e,r){switch(e){case 0:return t[0]+=r,Fi(t[0]);case 1:case 2:return t[e].push(r),Fi(t[e])}}function gc(t,e){switch(e){case 0:let r=t[0];return t[0]="",r;case 1:case 2:return t[e].flush()}throw new Error(`@smithy/util-stream - invalid index ${e} given to flush()`)}function Fi(t){return t?.byteLength??t?.length??0}function WE(t,e=!0){return e&&typeof Buffer<"u"&&t instanceof Buffer?2:t instanceof Uint8Array?1:typeof t=="string"?0:-1}var YD=p(()=>{zE()});import{Readable as IJ}from"node:stream";function XD(t,e,r){if(Cn(t))return QD(t,e,r);let o=new IJ({read(){}}),n=!1,s=0,i=["",new hc(c=>new Uint8Array(c)),new hc(c=>Buffer.from(new Uint8Array(c)))],a=-1;return t.on("data",c=>{let u=WE(c,!0);if(a!==u&&(a>=0&&o.push(gc(i,a)),a=u),a===-1){o.push(c);return}let m=Fi(c);s+=m;let f=Fi(i[a]);if(m>=e&&f===0)o.push(c);else{let h=KE(i,a,c);!n&&s>e*2&&(n=!0,r?.warn(`@smithy/util-stream - stream chunk size ${m} is below threshold of ${e}, automatically buffering.`)),h>=e&&o.push(gc(i,a))}}),t.on("end",()=>{if(a!==-1){let c=gc(i,a);Fi(c)>0&&o.push(c)}o.push(null)}),o}var ZD=p(()=>{zE();YD();ha()});import{Readable as TJ}from"stream";var eO,tO=p(()=>{eO=(t,e)=>{let{base64Encoder:r,bodyLengthChecker:o,checksumAlgorithmFn:n,checksumLocationName:s,streamHasher:i}=e,a=r!==void 0&&n!==void 0&&s!==void 0&&i!==void 0,c=a?i(n,t):void 0,u=new TJ({read:()=>{}});return t.on("data",m=>{let f=o(m)||0;u.push(`${f.toString(16)}\r
`),u.push(m),u.push(`\r
`)}),t.on("end",async()=>{if(u.push(`0\r
`),a){let m=r(await c);u.push(`${s}:${m}\r
`),u.push(`\r
`)}u.push(null)}),u}});async function rO(t,e){let r=0,o=[],n=t.getReader(),s=!1;for(;!s;){let{done:c,value:u}=await n.read();if(u&&(o.push(u),r+=u?.byteLength??0),r>=e)break;s=c}n.releaseLock();let i=new Uint8Array(Math.min(e,r)),a=0;for(let c of o){if(c.byteLength>i.byteLength-a){i.set(c.subarray(0,i.byteLength-a),a);break}else i.set(c,a);a+=c.length}return i}var oO=p(()=>{});import{Writable as wJ}from"stream";var nO,qE,sO=p(()=>{oO();ha();nO=(t,e)=>Cn(t)?rO(t,e):new Promise((r,o)=>{let n=new qE;n.limit=e,t.pipe(n),t.on("error",s=>{n.end(),o(s)}),n.on("error",o),n.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.buffers));r(s)})}),qE=class extends wJ{buffers=[];limit=1/0;bytesBuffered=0;_write(e,r,o){if(this.buffers.push(e),this.bytesBuffered+=e.byteLength??0,this.bytesBuffered>=this.limit){let n=this.bytesBuffered-this.limit,s=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=s.subarray(0,s.byteLength-n),this.emit("finish")}o()}}});var Xs,AJ,iO=p(()=>{Xs=t=>encodeURIComponent(t).replace(/[!'()*]/g,AJ),AJ=t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`});var aO=p(()=>{});var Nf=p(()=>{iO();aO()});function cO(t){let e=[];for(let r of Object.keys(t).sort()){let o=t[r];if(r=Xs(r),Array.isArray(o))for(let n=0,s=o.length;n<s;n++)e.push(`${r}=${Xs(o[n])}`);else{let n=r;(o||typeof o=="string")&&(n+=`=${Xs(o)}`),e.push(n)}}return e.join("&")}var uO=p(()=>{Nf()});var pO,dO=p(()=>{pO=["ECONNRESET","EPIPE","ETIMEDOUT"]});var lO,mO=p(()=>{lO=t=>{let e={};for(let r of Object.keys(t)){let o=t[r];e[r]=Array.isArray(o)?o.join(","):o}return e}});var er,xc=p(()=>{er={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t)}});var fO,hO,gO=p(()=>{xc();fO=1e3,hO=(t,e,r=0)=>{if(!r)return-1;let o=n=>{let s=er.setTimeout(()=>{t.destroy(),e(Object.assign(new Error(`@smithy/node-http-handler - the request socket did not establish a connection with the server within the configured timeout of ${r} ms.`),{name:"TimeoutError"}))},r-n),i=a=>{a?.connecting?a.on("connect",()=>{er.clearTimeout(s)}):er.clearTimeout(s)};t.socket?i(t.socket):t.on("socket",i)};return r<2e3?(o(0),0):er.setTimeout(o.bind(null,fO),fO)}});var xO,yO=p(()=>{xc();xO=(t,e,r=0,o,n)=>r?er.setTimeout(()=>{let s=`@smithy/node-http-handler - [${o?"ERROR":"WARN"}] a request has exceeded the configured ${r} ms requestTimeout.`;if(o){let i=Object.assign(new Error(s),{name:"TimeoutError",code:"ETIMEDOUT"});t.destroy(i),e(i)}else s+=" Init client requestHandler with throwOnRequestTimeout=true to turn this into an error.",n?.warn?.(s)},r):-1});var DJ,SO,EO=p(()=>{xc();DJ=3e3,SO=(t,{keepAlive:e,keepAliveMsecs:r},o=DJ)=>{if(e!==!0)return-1;let n=()=>{t.socket?t.socket.setKeepAlive(e,r||0):t.on("socket",s=>{s.setKeepAlive(e,r||0)})};return o===0?(n(),0):er.setTimeout(n,o)}});var _O,RO,bO=p(()=>{xc();_O=3e3,RO=(t,e,r=0)=>{let o=n=>{let s=r-n,i=()=>{t.destroy(),e(Object.assign(new Error(`@smithy/node-http-handler - the request socket timed out after ${r} ms of inactivity (configured by client requestHandler).`),{name:"TimeoutError"}))};t.socket?(t.socket.setTimeout(s,i),t.on("close",()=>t.socket?.removeListener("timeout",i))):t.setTimeout(s,i)};return 0<r&&r<6e3?(o(0),0):er.setTimeout(o.bind(null,r===0?0:_O),_O)}});import{Readable as OJ}from"stream";async function vO(t,e,r=CO,o=!1){let n=e.headers??{},s=n.Expect||n.expect,i=-1,a=!0;!o&&s==="100-continue"&&(a=await Promise.race([new Promise(c=>{i=Number(er.setTimeout(()=>c(!0),Math.max(CO,r)))}),new Promise(c=>{t.on("continue",()=>{er.clearTimeout(i),c(!0)}),t.on("response",()=>{er.clearTimeout(i),c(!1)}),t.on("error",()=>{er.clearTimeout(i),c(!1)})})])),a&&PJ(t,e.body)}function PJ(t,e){if(e instanceof OJ){e.pipe(t);return}if(e){if(Buffer.isBuffer(e)||typeof e=="string"){t.end(e);return}let r=e;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){t.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}t.end(Buffer.from(e));return}t.end()}var CO,IO=p(()=>{xc();CO=6e3});import{Agent as JE,request as kJ}from"http";import{Agent as QE,request as NJ}from"https";var Wt,TO=p(()=>{Pe();uO();dO();mO();gO();yO();EO();bO();xc();IO();Wt=class t{config;configProvider;socketWarningTimestamp=0;externalAgent=!1;metadata={handlerProtocol:"http/1.1"};static create(e){return typeof e?.handle=="function"?e:new t(e)}static checkSocketUsage(e,r,o=console){let{sockets:n,requests:s,maxSockets:i}=e;if(typeof i!="number"||i===1/0||Date.now()-15e3<r)return r;if(n&&s)for(let c in n){let u=n[c]?.length??0,m=s[c]?.length??0;if(u>=i&&m>=2*i)return o?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${u} and ${m} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}constructor(e){this.configProvider=new Promise((r,o)=>{typeof e=="function"?e().then(n=>{r(this.resolveDefaultConfig(n))}).catch(o):r(this.resolveDefaultConfig(e))})}resolveDefaultConfig(e){let{requestTimeout:r,connectionTimeout:o,socketTimeout:n,socketAcquisitionWarningTimeout:s,httpAgent:i,httpsAgent:a,throwOnRequestTimeout:c}=e||{},u=!0,m=50;return{connectionTimeout:o,requestTimeout:r,socketTimeout:n,socketAcquisitionWarningTimeout:s,throwOnRequestTimeout:c,httpAgent:i instanceof JE||typeof i?.destroy=="function"?(this.externalAgent=!0,i):new JE({keepAlive:u,maxSockets:m,...i}),httpsAgent:a instanceof QE||typeof a?.destroy=="function"?(this.externalAgent=!0,a):new QE({keepAlive:u,maxSockets:m,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(e,{abortSignal:r,requestTimeout:o}={}){return this.config||(this.config=await this.configProvider),new Promise((n,s)=>{let i=this.config,a,c=[],u=async Ye=>{await a,c.forEach(er.clearTimeout),n(Ye)},m=async Ye=>{await a,c.forEach(er.clearTimeout),s(Ye)};if(r?.aborted){let Ye=new Error("Request aborted");Ye.name="AbortError",m(Ye);return}let f=e.protocol==="https:",h=e.headers??{},g=(h.Expect??h.expect)==="100-continue",_=f?i.httpsAgent:i.httpAgent;g&&!this.externalAgent&&(_=new(f?QE:JE)({keepAlive:!1,maxSockets:1/0})),c.push(er.setTimeout(()=>{this.socketWarningTimestamp=t.checkSocketUsage(_,this.socketWarningTimestamp,i.logger)},i.socketAcquisitionWarningTimeout??(i.requestTimeout??2e3)+(i.connectionTimeout??1e3)));let b=cO(e.query||{}),T;if(e.username!=null||e.password!=null){let Ye=e.username??"",Bn=e.password??"";T=`${Ye}:${Bn}`}let M=e.path;b&&(M+=`?${b}`),e.fragment&&(M+=`#${e.fragment}`);let U=e.hostname??"";U[0]==="["&&U.endsWith("]")?U=e.hostname.slice(1,-1):U=e.hostname;let ie={headers:e.headers,host:U,method:e.method,path:M,port:e.port,agent:_,auth:T},Qe=(f?NJ:kJ)(ie,Ye=>{let Bn=new To({statusCode:Ye.statusCode||-1,reason:Ye.statusMessage,headers:lO(Ye.headers),body:Ye});u({response:Bn})});if(Qe.on("error",Ye=>{pO.includes(Ye.code)?m(Object.assign(Ye,{name:"TimeoutError"})):m(Ye)}),r){let Ye=()=>{Qe.destroy();let Bn=new Error("Request aborted");Bn.name="AbortError",m(Bn)};if(typeof r.addEventListener=="function"){let Bn=r;Bn.addEventListener("abort",Ye,{once:!0}),Qe.once("close",()=>Bn.removeEventListener("abort",Ye))}else r.onabort=Ye}let Lt=o??i.requestTimeout;c.push(hO(Qe,m,i.connectionTimeout)),c.push(xO(Qe,m,Lt,i.throwOnRequestTimeout,i.logger??console)),c.push(RO(Qe,m,i.socketTimeout));let Mn=ie.agent;typeof Mn=="object"&&"keepAlive"in Mn&&c.push(SO(Qe,{keepAlive:Mn.keepAlive,keepAliveMsecs:Mn.keepAliveMsecs})),a=vO(Qe,e,Lt,this.externalAgent).catch(Ye=>(c.forEach(er.clearTimeout),s(Ye)))})}updateHttpClientConfig(e,r){this.config=void 0,this.configProvider=this.configProvider.then(o=>({...o,[e]:r}))}httpHandlerConfigs(){return this.config??{}}}});var wO=p(()=>{});import{Writable as $J}from"stream";var $f,AO=p(()=>{$f=class extends $J{bufferedBytes=[];_write(e,r,o){this.bufferedBytes.push(e),o()}}});async function MJ(t){let e=[],r=t.getReader(),o=!1,n=0;for(;!o;){let{done:a,value:c}=await r.read();c&&(e.push(c),n+=c.length),o=a}let s=new Uint8Array(n),i=0;for(let a of e)s.set(a,i),i+=a.length;return s}var ur,LJ,DO=p(()=>{AO();ur=t=>LJ(t)?MJ(t):new Promise((e,r)=>{let o=new $f;t.pipe(o),t.on("error",n=>{o.end(),r(n)}),o.on("error",r),o.on("finish",function(){let n=new Uint8Array(Buffer.concat(this.bufferedBytes));e(n)})}),LJ=t=>typeof ReadableStream=="function"&&t instanceof ReadableStream});var Vn=p(()=>{TO();wO();DO()});var OO=p(()=>{});async function BJ(t){let e=await FJ(t),r=st(e);return new Uint8Array(r)}async function UJ(t){let e=[],r=t.getReader(),o=!1,n=0;for(;!o;){let{done:a,value:c}=await r.read();c&&(e.push(c),n+=c.length),o=a}let s=new Uint8Array(n),i=0;for(let a of e)s.set(a,i),i+=a.length;return s}function FJ(t){return new Promise((e,r)=>{let o=new FileReader;o.onloadend=()=>{if(o.readyState!==2)return r(new Error("Reader aborted too early"));let n=o.result??"",s=n.indexOf(","),i=s>-1?s+1:n.length;e(n.substring(i))},o.onabort=()=>r(new Error("Read aborted")),o.onerror=()=>r(o.error),o.readAsDataURL(t)})}var PO,kO=p(()=>{Kt();PO=async t=>typeof Blob=="function"&&t instanceof Blob||t.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await t.arrayBuffer()):BJ(t):UJ(t)});var NO=p(()=>{OO();kO()});function Lf(t){if(t.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let e=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2){let o=t.slice(r,r+2).toLowerCase();if(o in YE)e[r/2]=YE[o];else throw new Error(`Cannot decode unrecognized sequence ${o} as hexadecimal`)}return e}function qt(t){let e="";for(let r=0;r<t.byteLength;r++)e+=$O[t[r]];return e}var $O,YE,Gi=p(()=>{$O={},YE={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),$O[t]=e,YE[e]=t}});var LO,BO,MO,UO=p(()=>{NO();Kt();Gi();wt();ha();LO="The stream has already been transformed.",BO=t=>{if(!MO(t)&&!Cn(t)){let n=t?.__proto__?.constructor?.name||t;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${n}`)}let e=!1,r=async()=>{if(e)throw new Error(LO);return e=!0,await PO(t)},o=n=>{if(typeof n.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return n.stream()};return Object.assign(t,{transformToByteArray:r,transformToString:async n=>{let s=await r();if(n==="base64")return we(s);if(n==="hex")return qt(s);if(n===void 0||n==="utf8"||n==="utf-8")return Xe(s);if(typeof TextDecoder=="function")return new TextDecoder(n).decode(s);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(e)throw new Error(LO);if(e=!0,MO(t))return o(t);if(Cn(t))return t;throw new Error(`Cannot transform payload to web stream, got ${t}`)}})},MO=t=>typeof Blob=="function"&&t instanceof Blob});import{Readable as XE}from"stream";var FO,Cu,GO=p(()=>{Vn();fc();UO();FO="The stream has already been transformed.",Cu=t=>{if(!(t instanceof XE))try{return BO(t)}catch{let n=t?.__proto__?.constructor?.name||t;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${n}`)}let e=!1,r=async()=>{if(e)throw new Error(FO);return e=!0,await ur(t)};return Object.assign(t,{transformToByteArray:r,transformToString:async o=>{let n=await r();return o===void 0||Buffer.isEncoding(o)?Ui(n.buffer,n.byteOffset,n.byteLength).toString(o):new TextDecoder(o).decode(n)},transformToWebStream:()=>{if(e)throw new Error(FO);if(t.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof XE.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return e=!0,XE.toWeb(t)}})}});async function HO(t){return typeof t.stream=="function"&&(t=t.stream()),t.tee()}var jO=p(()=>{});import{PassThrough as VO}from"stream";async function zO(t){if(Cn(t)||VD(t))return HO(t);let e=new VO,r=new VO;return t.pipe(e),t.pipe(r),[e,r]}var KO=p(()=>{jO();ha()});var ga=p(()=>{jD();VE();JD();ZD();tO();sO();GO();KO();ha()});var rn,Mf=p(()=>{ga();rn=async(t=new Uint8Array,e)=>{if(t instanceof Uint8Array)return bu.mutate(t);if(!t)return bu.mutate(new Uint8Array);let r=e.streamCollector(t);return bu.mutate(await r)}});function vu(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}var ZE=p(()=>{});var xa,e_=p(()=>{xa=t=>typeof t=="function"?t():t});var Bf,Uf=p(()=>{Bf=(t,e,r,o,n)=>({name:e,namespace:t,traits:r,input:o,output:n})});var WO,t_,qO=p(()=>{Pe();Zt();Uf();WO=t=>(e,r)=>async o=>{let{response:n}=await e(o),{operationSchema:s}=nt(r),[,i,a,c,u,m]=s??[];try{let f=await t.protocol.deserializeResponse(Bf(i,a,c,u,m),{...t,...r},n);return{response:n,output:f}}catch(f){if(Object.defineProperty(f,"$response",{value:n,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in f)){let h="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{f.message+=`
  `+h}catch{!r.logger||r.logger?.constructor?.name==="NoOpLogger"?console.warn(h):r.logger?.warn?.(h)}typeof f.$responseBodyText<"u"&&f.$response&&(f.$response.body=f.$responseBodyText);try{if(To.isInstance(n)){let{headers:g={}}=n,_=Object.entries(g);f.$metadata={httpStatusCode:n.statusCode,requestId:t_(/^x-[\w-]+-request-?id$/,_),extendedRequestId:t_(/^x-[\w-]+-id-2$/,_),cfId:t_(/^x-[\w-]+-cf-id$/,_)}}}catch{}}throw f}},t_=(t,e)=>(e.find(([r])=>r.match(t))||[void 0,void 0])[1]});var JO,QO=p(()=>{Zt();Uf();JO=t=>(e,r)=>async o=>{let{operationSchema:n}=nt(r),[,s,i,a,c,u]=n??[],m=r.endpointV2?.url&&t.urlParser?async()=>t.urlParser(r.endpointV2.url):t.endpoint,f=await t.protocol.serializeRequest(Bf(s,i,a,c,u),o.input,{...t,...r,endpoint:m});return e({...o,request:f})}});function Lr(t){return{applyToStack:e=>{e.add(JO(t),HJ),e.add(WO(t),GJ),t.protocol.setSerdeContext(t)}}}var GJ,HJ,YO=p(()=>{qO();QO();GJ={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},HJ={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var zn,yc=p(()=>{zn=class{name;namespace;traits;static assign(e,r){return Object.assign(e,r)}static[Symbol.hasInstance](e){let r=this.prototype.isPrototypeOf(e);return!r&&typeof e=="object"&&e!==null?e.symbol===this.symbol:r}getName(){return this.namespace+"#"+this.name}}});var XO,ZO=p(()=>{yc();XO=class t extends zn{static symbol=Symbol.for("@smithy/lis");name;traits;valueSchema;symbol=t.symbol}});var eP,tP=p(()=>{yc();eP=class t extends zn{static symbol=Symbol.for("@smithy/map");name;traits;keySchema;valueSchema;symbol=t.symbol}});var rP,oP=p(()=>{yc();rP=class t extends zn{static symbol=Symbol.for("@smithy/ope");name;traits;input;output;symbol=t.symbol}});var Ff,r_=p(()=>{yc();Ff=class t extends zn{static symbol=Symbol.for("@smithy/str");name;traits;memberNames;memberList;symbol=t.symbol}});var nP,sP=p(()=>{r_();nP=class t extends Ff{static symbol=Symbol.for("@smithy/err");ctor;symbol=t.symbol}});function Hi(t){if(typeof t=="object")return t;t=t|0;let e={},r=0;for(let o of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(t>>r++&1)===1&&(e[o]=1);return e}var o_=p(()=>{});function Ad(t,e){if(t instanceof ne)return Object.assign(t,{memberName:e,_isMemberSchema:!0});let r=ne;return new r(t,e)}var ne,n_,jJ,iP=p(()=>{e_();o_();ne=class t{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=t.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(e,r){this.ref=e,this.memberName=r;let o=[],n=e,s=e;for(this._isMemberSchema=!1;n_(n);)o.push(n[1]),n=n[0],s=xa(n),this._isMemberSchema=!0;if(o.length>0){this.memberTraits={};for(let i=o.length-1;i>=0;--i){let a=o[i];Object.assign(this.memberTraits,Hi(a))}}else this.memberTraits=0;if(s instanceof t){let i=this.memberTraits;Object.assign(this,s),this.memberTraits=Object.assign({},i,s.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=r??s.memberName;return}if(this.schema=xa(s),jJ(this.schema)?(this.name=`${this.schema[1]}#${this.schema[2]}`,this.traits=this.schema[3]):(this.name=this.memberName??String(s),this.traits=0),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](e){let r=this.prototype.isPrototypeOf(e);return!r&&typeof e=="object"&&e!==null?e.symbol===this.symbol:r}static of(e){let r=xa(e);if(r instanceof t)return r;if(n_(r)){let[o,n]=r;if(o instanceof t)return Object.assign(o.getMergedTraits(),Hi(n)),o;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(e,null,2)}.`)}return new t(r)}getSchema(){let e=this.schema;return e[0]===0?e[4]:e}getName(e=!1){let{name:r}=this;return!e&&r&&r.includes("#")?r.split("#")[1]:r||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){let e=this.getSchema();return typeof e=="number"?e>=64&&e<128:e[0]===1}isMapSchema(){let e=this.getSchema();return typeof e=="number"?e>=128&&e<=255:e[0]===2}isStructSchema(){let r=this.getSchema()[0];return r===3||r===-3||r===4}isUnionSchema(){return this.getSchema()[0]===4}isBlobSchema(){let e=this.getSchema();return e===21||e===42}isTimestampSchema(){let e=this.getSchema();return typeof e=="number"&&e>=4&&e<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){let{streaming:e}=this.getMergedTraits();return!!e||this.getSchema()===42}isIdempotencyToken(){let e=s=>(s&4)===4||!!s?.idempotencyToken,{normalizedTraits:r,traits:o,memberTraits:n}=this;return e(r)||e(o)||e(n)}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return Hi(this.memberTraits)}getOwnTraits(){return Hi(this.traits)}getKeySchema(){let[e,r]=[this.isDocumentSchema(),this.isMapSchema()];if(!e&&!r)throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let o=this.getSchema(),n=e?15:o[4]??0;return Ad([n,0],"key")}getValueSchema(){let e=this.getSchema(),[r,o,n]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],s=typeof e=="number"?63&e:e&&typeof e=="object"&&(o||n)?e[3+e[0]]:r?15:void 0;if(s!=null)return Ad([s,0],o?"value":"member");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(e){let r=this.getSchema();if(this.isStructSchema()&&r[4].includes(e)){let o=r[4].indexOf(e),n=r[5][o];return Ad(n_(n)?n:[n,0],e)}if(this.isDocumentSchema())return Ad([15,0],e);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${e}.`)}getMemberSchemas(){let e={};try{for(let[r,o]of this.structIterator())e[r]=o}catch{}return e}getEventStreamMember(){if(this.isStructSchema()){for(let[e,r]of this.structIterator())if(r.isStreaming()&&r.isStructSchema())return e}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");let e=this.getSchema();for(let r=0;r<e[4].length;++r)yield[e[4][r],Ad([e[5][r],0],e[4][r])]}};n_=t=>Array.isArray(t)&&t.length===2,jJ=t=>Array.isArray(t)&&t.length>=5});var aP,cP=p(()=>{yc();aP=class t extends zn{static symbol=Symbol.for("@smithy/sim");name;schemaRef;traits;symbol=t.symbol}});var uP=p(()=>{});var R,pP=p(()=>{R=class t{namespace;schemas;exceptions;static registries=new Map;constructor(e,r=new Map,o=new Map){this.namespace=e,this.schemas=r,this.exceptions=o}static for(e){return t.registries.has(e)||t.registries.set(e,new t(e)),t.registries.get(e)}register(e,r){let o=this.normalizeShapeId(e);t.for(o.split("#")[0]).schemas.set(o,r)}getSchema(e){let r=this.normalizeShapeId(e);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}registerError(e,r){let o=e,n=t.for(o[1]);n.schemas.set(o[1]+"#"+o[2],o),n.exceptions.set(o,r)}getErrorCtor(e){let r=e;return t.for(r[1]).exceptions.get(r)}getBaseException(){for(let e of this.exceptions.keys())if(Array.isArray(e)){let[,r,o]=e,n=r+"#"+o;if(n.startsWith("smithy.ts.sdk.synthetic.")&&n.endsWith("ServiceException"))return e}}find(e){return[...this.schemas.values()].find(e)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(e){return e.includes("#")?e:this.namespace+"#"+e}}});var ve=p(()=>{e_();YO();ZO();tP();oP();Uf();sP();iP();yc();cP();r_();uP();o_();pP()});var dP=p(()=>{});var s_,VJ,lP,zJ,mP,fP,hP,KJ,gP,xP,WJ,Gf,Iu,yP,qJ,JJ,i_=p(()=>{s_=t=>{if(t!=null){if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return String(e)!==String(t)&&JJ.warn(qJ(`Expected number but observed string: ${t}`)),e}if(typeof t=="number")return t;throw new TypeError(`Expected number, got ${typeof t}: ${t}`)}},VJ=Math.ceil(34028234663852886e22),lP=t=>{let e=s_(t);if(e!==void 0&&!Number.isNaN(e)&&e!==1/0&&e!==-1/0&&Math.abs(e)>VJ)throw new TypeError(`Expected 32-bit float, got ${t}`);return e},zJ=t=>{if(t!=null){if(Number.isInteger(t)&&!Number.isNaN(t))return t;throw new TypeError(`Expected integer, got ${typeof t}: ${t}`)}},mP=t=>hP(t,16),fP=t=>hP(t,8),hP=(t,e)=>{let r=zJ(t);if(r!==void 0&&KJ(r,e)!==r)throw new TypeError(`Expected ${e}-bit integer, got ${t}`);return r},KJ=(t,e)=>{switch(e){case 32:return Int32Array.of(t)[0];case 16:return Int16Array.of(t)[0];case 8:return Int8Array.of(t)[0]}},gP=t=>s_(typeof t=="string"?Gf(t):t),xP=t=>lP(typeof t=="string"?Gf(t):t),WJ=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Gf=t=>{let e=t.match(WJ);if(e===null||e[0].length!==t.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(t)},Iu=t=>mP(typeof t=="string"?Gf(t):t),yP=t=>fP(typeof t=="string"?Gf(t):t),qJ=t=>String(new TypeError(t).stack||t).split(`
`).slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join(`
`),JJ={warn:console.warn}});function ji(t){let e=t.getUTCFullYear(),r=t.getUTCMonth(),o=t.getUTCDay(),n=t.getUTCDate(),s=t.getUTCHours(),i=t.getUTCMinutes(),a=t.getUTCSeconds(),c=n<10?`0${n}`:`${n}`,u=s<10?`0${s}`:`${s}`,m=i<10?`0${i}`:`${i}`,f=a<10?`0${a}`:`${a}`;return`${QJ[o]}, ${c} ${c_[r]} ${e} ${u}:${m}:${f} GMT`}var QJ,c_,YJ,SP,XJ,EP,ZJ,eQ,tQ,Hf,_P,Dd,rQ,oQ,nQ,a_,sQ,iQ,aQ,Zs,cQ,uQ,Tu,RP=p(()=>{i_();QJ=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],c_=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];YJ=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),SP=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let e=YJ.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");let[r,o,n,s,i,a,c,u]=e,m=Iu(Tu(o)),f=Zs(n,"month",1,12),h=Zs(s,"day",1,31);return Dd(m,f,h,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:u})},XJ=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),EP=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let e=XJ.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");let[r,o,n,s,i,a,c,u,m]=e,f=Iu(Tu(o)),h=Zs(n,"month",1,12),g=Zs(s,"day",1,31),_=Dd(f,h,g,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:u});return m.toUpperCase()!="Z"&&_.setTime(_.getTime()-uQ(m)),_},ZJ=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),eQ=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),tQ=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),Hf=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let e=ZJ.exec(t);if(e){let[r,o,n,s,i,a,c,u]=e;return Dd(Iu(Tu(s)),a_(n),Zs(o,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:u})}if(e=eQ.exec(t),e){let[r,o,n,s,i,a,c,u]=e;return nQ(Dd(rQ(s),a_(n),Zs(o,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:u}))}if(e=tQ.exec(t),e){let[r,o,n,s,i,a,c,u]=e;return Dd(Iu(Tu(u)),a_(o),Zs(n.trimLeft(),"day",1,31),{hours:s,minutes:i,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},_P=t=>{if(t==null)return;let e;if(typeof t=="number")e=t;else if(typeof t=="string")e=gP(t);else if(typeof t=="object"&&t.tag===1)e=t.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(e)||e===1/0||e===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(e*1e3))},Dd=(t,e,r,o)=>{let n=e-1;return iQ(t,n,r),new Date(Date.UTC(t,n,r,Zs(o.hours,"hour",0,23),Zs(o.minutes,"minute",0,59),Zs(o.seconds,"seconds",0,60),cQ(o.fractionalMilliseconds)))},rQ=t=>{let e=new Date().getUTCFullYear(),r=Math.floor(e/100)*100+Iu(Tu(t));return r<e?r+100:r},oQ=50*365*24*60*60*1e3,nQ=t=>t.getTime()-new Date().getTime()>oQ?new Date(Date.UTC(t.getUTCFullYear()-100,t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds())):t,a_=t=>{let e=c_.indexOf(t);if(e<0)throw new TypeError(`Invalid month: ${t}`);return e+1},sQ=[31,28,31,30,31,30,31,31,30,31,30,31],iQ=(t,e,r)=>{let o=sQ[e];if(e===1&&aQ(t)&&(o=29),r>o)throw new TypeError(`Invalid day for ${c_[e]} in ${t}: ${r}`)},aQ=t=>t%4===0&&(t%100!==0||t%400===0),Zs=(t,e,r,o)=>{let n=yP(Tu(t));if(n<r||n>o)throw new TypeError(`${e} must be between ${r} and ${o}, inclusive`);return n},cQ=t=>t==null?0:xP("0."+t)*1e3,uQ=t=>{let e=t[0],r=1;if(e=="+")r=1;else if(e=="-")r=-1;else throw new TypeError(`Offset direction, ${e}, must be "+" or "-"`);let o=Number(t.substring(1,3)),n=Number(t.substring(4,6));return r*(o*60+n)*60*1e3},Tu=t=>{let e=0;for(;e<t.length-1&&t.charAt(e)==="0";)e++;return e===0?t:t.slice(e)}});import bP from"crypto";var u_,CP=p(()=>{u_=bP.randomUUID.bind(bP)});var wo,bs,vP=p(()=>{CP();wo=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0")),bs=()=>{if(u_)return u_();let t=new Uint8Array(16);return crypto.getRandomValues(t),t[6]=t[6]&15|64,t[8]=t[8]&63|128,wo[t[0]]+wo[t[1]]+wo[t[2]]+wo[t[3]]+"-"+wo[t[4]]+wo[t[5]]+"-"+wo[t[6]]+wo[t[7]]+"-"+wo[t[8]]+wo[t[9]]+"-"+wo[t[10]]+wo[t[11]]+wo[t[12]]+wo[t[13]]+wo[t[14]]+wo[t[15]]}});var p_=p(()=>{vP()});var IP=p(()=>{p_()});var on,TP=p(()=>{on=function(e){return Object.assign(new String(e),{deserializeJSON(){return JSON.parse(String(e))},toString(){return String(e)},toJSON(){return String(e)}})};on.from=t=>t&&typeof t=="object"&&(t instanceof on||"deserializeJSON"in t)?t:typeof t=="string"||Object.getPrototypeOf(t)===String.prototype?on(String(t)):on(JSON.stringify(t));on.fromObject=on.from});function wP(t){return(t.includes(",")||t.includes('"'))&&(t=`"${t.replace(/"/g,'\\"')}"`),t}var AP=p(()=>{});function Vi(t,e,r){let o=Number(t);if(o<e||o>r)throw new Error(`Value ${o} out of range [${e}, ${r}]`)}var d_,l_,m_,DP,OP,pQ,dQ,lQ,mQ,fQ,PP,kP,NP,$P=p(()=>{d_="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",l_="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",m_="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",DP="(\\d?\\d)",OP="(\\d{4})",pQ=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),dQ=new RegExp(`^${d_}, ${DP} ${l_} ${OP} ${m_} GMT$`),lQ=new RegExp(`^${d_}, ${DP}-${l_}-(\\d\\d) ${m_} GMT$`),mQ=new RegExp(`^${d_} ${l_} ( [1-9]|\\d\\d) ${m_} ${OP}$`),fQ=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],PP=t=>{if(t==null)return;let e=NaN;if(typeof t=="number")e=t;else if(typeof t=="string"){if(!/^-?\d*\.?\d+$/.test(t))throw new TypeError("parseEpochTimestamp - numeric string invalid.");e=Number.parseFloat(t)}else typeof t=="object"&&t.tag===1&&(e=t.value);if(isNaN(e)||Math.abs(e)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(e*1e3))},kP=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC3339 timestamps must be strings");let e=pQ.exec(t);if(!e)throw new TypeError(`Invalid RFC3339 timestamp format ${t}`);let[,r,o,n,s,i,a,,c,u]=e;Vi(o,1,12),Vi(n,1,31),Vi(s,0,23),Vi(i,0,59),Vi(a,0,60);let m=new Date(Date.UTC(Number(r),Number(o)-1,Number(n),Number(s),Number(i),Number(a),Number(c)?Math.round(parseFloat(`0.${c}`)*1e3):0));if(m.setUTCFullYear(Number(r)),u.toUpperCase()!="Z"){let[,f,h,g]=/([+-])(\d\d):(\d\d)/.exec(u)||[void 0,"+",0,0],_=f==="-"?1:-1;m.setTime(m.getTime()+_*(Number(h)*60*60*1e3+Number(g)*60*1e3))}return m},NP=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC7231 timestamps must be strings.");let e,r,o,n,s,i,a,c;if((c=dQ.exec(t))?[,e,r,o,n,s,i,a]=c:(c=lQ.exec(t))?([,e,r,o,n,s,i,a]=c,o=(Number(o)+1900).toString()):(c=mQ.exec(t))&&([,r,e,n,s,i,a,o]=c),o&&i){let u=Date.UTC(Number(o),fQ.indexOf(r),Number(e),Number(n),Number(s),Number(i),a?Math.round(parseFloat(`0.${a}`)*1e3):0);Vi(e,1,31),Vi(n,0,23),Vi(s,0,59),Vi(i,0,60);let m=new Date(u);return m.setUTCFullYear(Number(o)),m}throw new TypeError(`Invalid RFC7231 date-time value ${t}.`)}});function LP(t,e,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let o=t.split(e);if(r===1)return o;let n=[],s="";for(let i=0;i<o.length;i++)s===""?s=o[i]:s+=e+o[i],(i+1)%r===0&&(n.push(s),s="");return s!==""&&n.push(s),n}var MP=p(()=>{});var jf,BP=p(()=>{jf=t=>{let e=t.length,r=[],o=!1,n,s=0;for(let i=0;i<e;++i){let a=t[i];switch(a){case'"':n!=="\\"&&(o=!o);break;case",":o||(r.push(t.slice(s,i)),s=i+1);break;default:}n=a}return r.push(t.slice(s)),r.map(i=>{i=i.trim();let a=i.length;return a<2?i:(i[0]==='"'&&i[a-1]==='"'&&(i=i.slice(1,a-1)),i.replace(/\\"/g,'"'))})}});var UP,pr,FP=p(()=>{UP=/^-?\d*(\.\d+)?$/,pr=class t{string;type;constructor(e,r){if(this.string=e,this.type=r,!UP.test(e))throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}toString(){return this.string}static[Symbol.hasInstance](e){if(!e||typeof e!="object")return!1;let r=e;return t.prototype.isPrototypeOf(e)||r.type==="bigDecimal"&&UP.test(r.string)}}});var Cs=p(()=>{dP();RP();IP();TP();i_();AP();$P();MP();BP();FP()});var ei,wu=p(()=>{ei=class{serdeContext;setSerdeContext(e){this.serdeContext=e}}});var f_,GP=p(()=>{wt();f_=class{marshaller;serializer;deserializer;serdeContext;defaultContentType;constructor({marshaller:e,serializer:r,deserializer:o,serdeContext:n,defaultContentType:s}){this.marshaller=e,this.serializer=r,this.deserializer=o,this.serdeContext=n,this.defaultContentType=s}async serializeEventStream({eventStream:e,requestSchema:r,initialRequest:o}){let n=this.marshaller,s=r.getEventStreamMember(),i=r.getMemberSchema(s),a=this.serializer,c=this.defaultContentType,u=Symbol("initialRequestMarker"),m={async*[Symbol.asyncIterator](){if(o){let f={":event-type":{type:"string",value:"initial-request"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:c}};a.write(r,o);let h=a.flush();yield{[u]:!0,headers:f,body:h}}for await(let f of e)yield f}};return n.serialize(m,f=>{if(f[u])return{headers:f.headers,body:f.body};let h=Object.keys(f).find(U=>U!=="__type")??"",{additionalHeaders:g,body:_,eventType:b,explicitPayloadContentType:T}=this.writeEventBody(h,i,f);return{headers:{":event-type":{type:"string",value:b},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:T??c},...g},body:_}})}async deserializeEventStream({response:e,responseSchema:r,initialResponseContainer:o}){let n=this.marshaller,s=r.getEventStreamMember(),a=r.getMemberSchema(s).getMemberSchemas(),c=Symbol("initialResponseMarker"),u=n.deserialize(e.body,async h=>{let g=Object.keys(h).find(b=>b!=="__type")??"",_=h[g].body;if(g==="initial-response"){let b=await this.deserializer.read(r,_);return delete b[s],{[c]:!0,...b}}else if(g in a){let b=a[g];if(b.isStructSchema()){let T={},M=!1;for(let[U,ie]of b.structIterator()){let{eventHeader:le,eventPayload:Qe}=ie.getMergedTraits();if(M=M||!!(le||Qe),Qe)ie.isBlobSchema()?T[U]=_:ie.isStringSchema()?T[U]=(this.serdeContext?.utf8Encoder??Xe)(_):ie.isStructSchema()&&(T[U]=await this.deserializer.read(ie,_));else if(le){let Lt=h[g].headers[U]?.value;Lt!=null&&(ie.isNumericSchema()?Lt&&typeof Lt=="object"&&"bytes"in Lt?T[U]=BigInt(Lt.toString()):T[U]=Number(Lt):T[U]=Lt)}}if(M)return{[g]:T}}return{[g]:await this.deserializer.read(b,_)}}else return{$unknown:h}}),m=u[Symbol.asyncIterator](),f=await m.next();if(f.done)return u;if(f.value?.[c]){if(!r)throw new Error("@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.");for(let[h,g]of Object.entries(f.value))o[h]=g}return{async*[Symbol.asyncIterator](){for(f?.value?.[c]||(yield f.value);;){let{done:h,value:g}=await m.next();if(h)break;yield g}}}}writeEventBody(e,r,o){let n=this.serializer,s=e,i=null,a,c=r.getSchema()[4].includes(e),u={};if(c){let h=r.getMemberSchema(e);if(h.isStructSchema()){for(let[g,_]of h.structIterator()){let{eventHeader:b,eventPayload:T}=_.getMergedTraits();if(T)i=g;else if(b){let M=o[e][g],U="binary";_.isNumericSchema()?(-2)**31<=M&&M<=2**31-1?U="integer":U="long":_.isTimestampSchema()?U="timestamp":_.isStringSchema()?U="string":_.isBooleanSchema()&&(U="boolean"),M!=null&&(u[g]={type:U,value:M},delete o[e][g])}}if(i!==null){let g=h.getMemberSchema(i);g.isBlobSchema()?a="application/octet-stream":g.isStringSchema()&&(a="text/plain"),n.write(g,o[e][i])}else n.write(h,o[e])}else throw new Error("@smithy/core/event-streams - non-struct member not supported in event stream union.")}else{let[h,g]=o[e];s=h,n.write(15,g)}let m=n.flush();return{body:typeof m=="string"?(this.serdeContext?.utf8Decoder??it)(m):m,eventType:s,explicitPayloadContentType:a,additionalHeaders:u}}}});var HP={};En(HP,{EventStreamSerde:()=>f_});var jP=p(()=>{GP()});var Au,Vf=p(()=>{ve();Pe();wu();Au=class extends ei{options;constructor(e){super(),this.options=e}getRequestType(){return me}getResponseType(){return To}setSerdeContext(e){this.serdeContext=e,this.serializer.setSerdeContext(e),this.deserializer.setSerdeContext(e),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(e)}updateServiceEndpoint(e,r){if("url"in r){e.protocol=r.url.protocol,e.hostname=r.url.hostname,e.port=r.url.port?Number(r.url.port):void 0,e.path=r.url.pathname,e.fragment=r.url.hash||void 0,e.username=r.url.username||void 0,e.password=r.url.password||void 0,e.query||(e.query={});for(let[o,n]of r.url.searchParams.entries())e.query[o]=n;return e}else return e.protocol=r.protocol,e.hostname=r.hostname,e.port=r.port?Number(r.port):void 0,e.path=r.path,e.query={...r.query},e}setHostPrefix(e,r,o){let n=ne.of(r.input),s=Hi(r.traits??{});if(s.endpoint){let i=s.endpoint?.[0];if(typeof i=="string"){let a=[...n.structIterator()].filter(([,c])=>c.getMergedTraits().hostLabel);for(let[c]of a){let u=o[c];if(typeof u!="string")throw new Error(`@smithy/core/schema - ${c} in input must be a string as hostLabel.`);i=i.replace(`{${c}}`,u)}e.hostname=i+e.hostname}}}deserializeMetadata(e){return{httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:e,requestSchema:r,initialRequest:o}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:e,requestSchema:r,initialRequest:o})}async deserializeEventStream({response:e,responseSchema:r,initialResponseContainer:o}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:e,responseSchema:r,initialResponseContainer:o})}async loadEventStreamCapability(){let{EventStreamSerde:e}=await Promise.resolve().then(()=>(jP(),HP));return new e({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(e,r,o,n,s){return[]}getEventStreamMarshaller(){let e=this.serdeContext;if(!e.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return e.eventStreamMarshaller}}});var Du,VP=p(()=>{ve();Cs();Pe();ga();Mf();ZE();Vf();Du=class extends Au{async serializeRequest(e,r,o){let n={...r??{}},s=this.serializer,i={},a={},c=await o.endpoint(),u=ne.of(e?.input),m=u.getSchema(),f=!1,h,g=new me({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:i,headers:a,body:void 0});if(c){this.updateServiceEndpoint(g,c),this.setHostPrefix(g,e,n);let _=Hi(e.traits);if(_.http){g.method=_.http[0];let[b,T]=_.http[1].split("?");g.path=="/"?g.path=b:g.path+=b;let M=new URLSearchParams(T??"");Object.assign(i,Object.fromEntries(M))}}for(let[_,b]of u.structIterator()){let T=b.getMergedTraits()??{},M=n[_];if(!(M==null&&!b.isIdempotencyToken()))if(T.httpPayload)b.isStreaming()?b.isStructSchema()?n[_]&&(h=await this.serializeEventStream({eventStream:n[_],requestSchema:u})):h=M:(s.write(b,M),h=s.flush()),delete n[_];else if(T.httpLabel){s.write(b,M);let U=s.flush();g.path.includes(`{${_}+}`)?g.path=g.path.replace(`{${_}+}`,U.split("/").map(vu).join("/")):g.path.includes(`{${_}}`)&&(g.path=g.path.replace(`{${_}}`,vu(U))),delete n[_]}else if(T.httpHeader)s.write(b,M),a[T.httpHeader.toLowerCase()]=String(s.flush()),delete n[_];else if(typeof T.httpPrefixHeaders=="string"){for(let[U,ie]of Object.entries(M)){let le=T.httpPrefixHeaders+U;s.write([b.getValueSchema(),{httpHeader:le}],ie),a[le.toLowerCase()]=s.flush()}delete n[_]}else T.httpQuery||T.httpQueryParams?(this.serializeQuery(b,M,i),delete n[_]):f=!0}return f&&n&&(s.write(m,n),h=s.flush()),g.headers=a,g.query=i,g.body=h,g}serializeQuery(e,r,o){let n=this.serializer,s=e.getMergedTraits();if(s.httpQueryParams){for(let[i,a]of Object.entries(r))if(!(i in o)){let c=e.getValueSchema();Object.assign(c.getMergedTraits(),{...s,httpQuery:i,httpQueryParams:void 0}),this.serializeQuery(c,a,o)}return}if(e.isListSchema()){let i=!!e.getMergedTraits().sparse,a=[];for(let c of r){n.write([e.getValueSchema(),s],c);let u=n.flush();(i||u!==void 0)&&a.push(u)}o[s.httpQuery]=a}else n.write([e,s],r),o[s.httpQuery]=n.flush()}async deserializeResponse(e,r,o){let n=this.deserializer,s=ne.of(e.output),i={};if(o.statusCode>=300){let c=await rn(o.body,r);throw c.byteLength>0&&Object.assign(i,await n.read(15,c)),await this.handleError(e,r,o,i,this.deserializeMetadata(o)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let c in o.headers){let u=o.headers[c];delete o.headers[c],o.headers[c.toLowerCase()]=u}let a=await this.deserializeHttpMessage(s,r,o,i);if(a.length){let c=await rn(o.body,r);if(c.byteLength>0){let u=await n.read(s,c);for(let m of a)i[m]=u[m]}}else a.discardResponseBody&&await rn(o.body,r);return i.$metadata=this.deserializeMetadata(o),i}async deserializeHttpMessage(e,r,o,n,s){let i;n instanceof Set?i=s:i=n;let a=!0,c=this.deserializer,u=ne.of(e),m=[];for(let[f,h]of u.structIterator()){let g=h.getMemberTraits();if(g.httpPayload){if(a=!1,h.isStreaming())h.isStructSchema()?i[f]=await this.deserializeEventStream({response:o,responseSchema:u}):i[f]=Cu(o.body);else if(o.body){let b=await rn(o.body,r);b.byteLength>0&&(i[f]=await c.read(h,b))}}else if(g.httpHeader){let _=String(g.httpHeader).toLowerCase(),b=o.headers[_];if(b!=null)if(h.isListSchema()){let T=h.getValueSchema();T.getMergedTraits().httpHeader=_;let M;T.isTimestampSchema()&&T.getSchema()===4?M=LP(b,",",2):M=jf(b);let U=[];for(let ie of M)U.push(await c.read(T,ie.trim()));i[f]=U}else i[f]=await c.read(h,b)}else if(g.httpPrefixHeaders!==void 0){i[f]={};for(let[_,b]of Object.entries(o.headers))if(_.startsWith(g.httpPrefixHeaders)){let T=h.getValueSchema();T.getMergedTraits().httpHeader=_,i[f][_.slice(g.httpPrefixHeaders.length)]=await c.read(T,b)}}else g.httpResponseCode?i[f]=o.statusCode:m.push(f)}return m.discardResponseBody=a,m}}});var Ou,zP=p(()=>{ve();Pe();Mf();Vf();Ou=class extends Au{async serializeRequest(e,r,o){let n=this.serializer,s={},i={},a=await o.endpoint(),c=ne.of(e?.input),u=c.getSchema(),m,f=new me({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:s,headers:i,body:void 0});a&&(this.updateServiceEndpoint(f,a),this.setHostPrefix(f,e,r));let h={...r};if(r){let g=c.getEventStreamMember();if(g){if(h[g]){let _={};for(let[b,T]of c.structIterator())b!==g&&h[b]&&(n.write(T,h[b]),_[b]=n.flush());m=await this.serializeEventStream({eventStream:h[g],requestSchema:c,initialRequest:_})}}else n.write(u,h),m=n.flush()}return f.headers=i,f.query=s,f.body=m,f.method="POST",f}async deserializeResponse(e,r,o){let n=this.deserializer,s=ne.of(e.output),i={};if(o.statusCode>=300){let c=await rn(o.body,r);throw c.byteLength>0&&Object.assign(i,await n.read(15,c)),await this.handleError(e,r,o,i,this.deserializeMetadata(o)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let c in o.headers){let u=o.headers[c];delete o.headers[c],o.headers[c.toLowerCase()]=u}let a=s.getEventStreamMember();if(a)i[a]=await this.deserializeEventStream({response:o,responseSchema:s,initialResponseContainer:i});else{let c=await rn(o.body,r);c.byteLength>0&&Object.assign(i,await n.read(s,c))}return i.$metadata=this.deserializeMetadata(o),i}}});var KP=p(()=>{});var WP=p(()=>{});function Kn(t,e){if(e.timestampFormat.useTrait&&t.isTimestampSchema()&&(t.getSchema()===5||t.getSchema()===6||t.getSchema()===7))return t.getSchema();let{httpLabel:r,httpPrefixHeaders:o,httpHeader:n,httpQuery:s}=t.getMergedTraits();return(e.httpBindings?typeof o=="string"||n?6:s||r?5:void 0:void 0)??e.timestampFormat.default}var zf=p(()=>{});var Pu,h_=p(()=>{ve();Cs();Kt();wt();wu();zf();Pu=class extends ei{settings;constructor(e){super(),this.settings=e}read(e,r){let o=ne.of(e);if(o.isListSchema())return jf(r).map(n=>this.read(o.getValueSchema(),n));if(o.isBlobSchema())return(this.serdeContext?.base64Decoder??st)(r);if(o.isTimestampSchema())switch(Kn(o,this.settings)){case 5:return kP(r);case 6:return NP(r);case 7:return PP(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(o.isStringSchema()){let n=o.getMergedTraits().mediaType,s=r;if(n)return o.getMergedTraits().httpHeader&&(s=this.base64ToUtf8(s)),(n==="application/json"||n.endsWith("+json"))&&(s=on.from(s)),s}return o.isNumericSchema()?Number(r):o.isBigIntegerSchema()?BigInt(r):o.isBigDecimalSchema()?new pr(r,"bigDecimal"):o.isBooleanSchema()?String(r).toLowerCase()==="true":r}base64ToUtf8(e){return(this.serdeContext?.utf8Encoder??Xe)((this.serdeContext?.base64Decoder??st)(e))}}});var ku,qP=p(()=>{ve();wt();wu();h_();ku=class extends ei{codecDeserializer;stringDeserializer;constructor(e,r){super(),this.codecDeserializer=e,this.stringDeserializer=new Pu(r)}setSerdeContext(e){this.stringDeserializer.setSerdeContext(e),this.codecDeserializer.setSerdeContext(e),this.serdeContext=e}read(e,r){let o=ne.of(e),n=o.getMergedTraits(),s=this.serdeContext?.utf8Encoder??Xe;if(n.httpHeader||n.httpResponseCode)return this.stringDeserializer.read(o,s(r));if(n.httpPayload){if(o.isBlobSchema()){let i=this.serdeContext?.utf8Decoder??it;return typeof r=="string"?i(r):r}else if(o.isStringSchema())return"byteLength"in r?s(r):r}return this.codecDeserializer.read(o,r)}}});var Kf,g_=p(()=>{ve();Cs();Kt();wu();zf();Kf=class extends ei{settings;stringBuffer="";constructor(e){super(),this.settings=e}write(e,r){let o=ne.of(e);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(o.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${o.getName(!0)}`);switch(Kn(o,this.settings)){case 5:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case 6:this.stringBuffer=ji(r);break;case 7:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(o.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??we)(r);return}if(o.isListSchema()&&Array.isArray(r)){let i="";for(let a of r){this.write([o.getValueSchema(),o.getMergedTraits()],a);let c=this.flush(),u=o.getValueSchema().isTimestampSchema()?c:wP(c);i!==""&&(i+=", "),i+=u}this.stringBuffer=i;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let n=o.getMergedTraits().mediaType,s=r;if(n&&((n==="application/json"||n.endsWith("+json"))&&(s=on.from(s)),o.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??we)(s.toString());return}this.stringBuffer=r;break;default:o.isIdempotencyToken()?this.stringBuffer=bs():this.stringBuffer=String(r)}}flush(){let e=this.stringBuffer;return this.stringBuffer="",e}}});var Nu,JP=p(()=>{ve();g_();Nu=class{codecSerializer;stringSerializer;buffer;constructor(e,r,o=new Kf(r)){this.codecSerializer=e,this.stringSerializer=o}setSerdeContext(e){this.codecSerializer.setSerdeContext(e),this.stringSerializer.setSerdeContext(e)}write(e,r){let o=ne.of(e),n=o.getMergedTraits();if(n.httpHeader||n.httpLabel||n.httpQuery){this.stringSerializer.write(o,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(o,r)}flush(){if(this.buffer!==void 0){let e=this.buffer;return this.buffer=void 0,e}return this.codecSerializer.flush()}}});var vs=p(()=>{Mf();ZE();VP();Vf();zP();WP();KP();h_();qP();JP();g_();zf();wu()});var QP=p(()=>{});function YP(t,e,r){t.__smithy_context?t.__smithy_context.features||(t.__smithy_context.features={}):t.__smithy_context={features:{}},t.__smithy_context.features[e]=r}var XP=p(()=>{});var dr,ZP=p(()=>{dr=class{authSchemes=new Map;constructor(e){for(let[r,o]of Object.entries(e))o!==void 0&&this.authSchemes.set(r,o)}getIdentityProvider(e){return this.authSchemes.get(e)}}});var ek=p(()=>{});var tk=p(()=>{});var Ao,rk=p(()=>{Ao=class{async sign(e,r,o){return e}}});var ok=p(()=>{ek();tk();rk()});var hQ,nk,x_,sk,ik=p(()=>{hQ=t=>function(r){return x_(r)&&r.expiration.getTime()-Date.now()<t},nk=hQ(3e5),x_=t=>t.expiration!==void 0,sk=(t,e,r)=>{if(t===void 0)return;let o=typeof t!="function"?async()=>Promise.resolve(t):t,n,s,i,a=!1,c=async u=>{s||(s=o(u));try{n=await s,i=!0,a=!1}finally{s=void 0}return n};return e===void 0?async u=>((!i||u?.forceRefresh)&&(n=await c(u)),n):async u=>((!i||u?.forceRefresh)&&(n=await c(u)),a?n:r(n)?(e(n)&&await c(u),n):(a=!0,n))}});var ak=p(()=>{ZP();ok();ik()});var At=p(()=>{CD();kD();LD();MD();BD();QP();XP();ak()});function gQ(t){return t===void 0?!0:typeof t=="string"&&t.length<=50}function Mr(t){let e=Mi(t.userAgentAppId??y_),{customUserAgent:r}=t;return Object.assign(t,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:async()=>{let o=await e();if(!gQ(o)){let n=t.logger?.constructor?.name==="NoOpLogger"||!t.logger?console:t.logger;typeof o!="string"?n?.warn("userAgentAppId must be a string or undefined."):o.length>50&&n?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return o}})}var y_,ck=p(()=>{At();y_=void 0});var lr,uk=p(()=>{lr=class{capacity;data=new Map;parameters=[];constructor({size:e,params:r}){this.capacity=e??50,r&&(this.parameters=r)}get(e,r){let o=this.hash(e);if(o===!1)return r();if(!this.data.has(o)){if(this.data.size>this.capacity+10){let n=this.data.keys(),s=0;for(;;){let{value:i,done:a}=n.next();if(this.data.delete(i),a||++s>10)break}}this.data.set(o,r())}return this.data.get(o)}size(){return this.data.size}hash(e){let r="",{parameters:o}=this;if(o.length===0)return!1;for(let n of o){let s=String(e[n]??"");if(s.includes("|;"))return!1;r+=s+"|;"}return r}}});var xQ,Od,S_=p(()=>{xQ=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),Od=t=>xQ.test(t)||t.startsWith("[")&&t.endsWith("]")});var yQ,Sc,E_=p(()=>{yQ=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Sc=(t,e=!1)=>{if(!e)return yQ.test(t);let r=t.split(".");for(let o of r)if(!Sc(o))return!1;return!0}});var jt,Wf=p(()=>{jt={}});var zi,pk=p(()=>{zi="endpoints"});function Wn(t){return typeof t!="object"||t==null?t:"ref"in t?`$${Wn(t.ref)}`:"fn"in t?`${t.fn}(${(t.argv||[]).map(Wn).join(", ")})`:JSON.stringify(t,null,2)}var dk=p(()=>{});var Pd=p(()=>{pk();dk()});var kt,lk=p(()=>{kt=class extends Error{constructor(e){super(e),this.name="EndpointError"}}});var mk=p(()=>{});var fk=p(()=>{});var hk=p(()=>{});var gk=p(()=>{});var xk=p(()=>{});var yk=p(()=>{});var qn=p(()=>{lk();mk();fk();hk();gk();xk();yk()});var Sk,Ek=p(()=>{Sk=(t,e)=>t===e});var _k,Rk=p(()=>{qn();_k=t=>{let e=t.split("."),r=[];for(let o of e){let n=o.indexOf("[");if(n!==-1){if(o.indexOf("]")!==o.length-1)throw new kt(`Path: '${t}' does not end with ']'`);let s=o.slice(n+1,-1);if(Number.isNaN(parseInt(s)))throw new kt(`Invalid array index: '${s}' in path: '${t}'`);n!==0&&r.push(o.slice(0,n)),r.push(s)}else r.push(o)}return r}});var qf,bk=p(()=>{qn();Rk();qf=(t,e)=>_k(e).reduce((r,o)=>{if(typeof r!="object")throw new kt(`Index '${o}' in '${e}' not found in '${JSON.stringify(t)}'`);return Array.isArray(r)?r[parseInt(o)]:r[o]},t)});var Ck,vk=p(()=>{Ck=t=>t!=null});var Ik,Tk=p(()=>{Ik=t=>!t});var __,wk,Ak=p(()=>{fa();S_();__={[Su.HTTP]:80,[Su.HTTPS]:443},wk=t=>{let e=(()=>{try{if(t instanceof URL)return t;if(typeof t=="object"&&"hostname"in t){let{hostname:h,port:g,protocol:_="",path:b="",query:T={}}=t,M=new URL(`${_}//${h}${g?`:${g}`:""}${b}`);return M.search=Object.entries(T).map(([U,ie])=>`${U}=${ie}`).join("&"),M}return new URL(t)}catch{return null}})();if(!e)return console.error(`Unable to parse ${JSON.stringify(t)} as a whatwg URL.`),null;let r=e.href,{host:o,hostname:n,pathname:s,protocol:i,search:a}=e;if(a)return null;let c=i.slice(0,-1);if(!Object.values(Su).includes(c))return null;let u=Od(n),m=r.includes(`${o}:${__[c]}`)||typeof t=="string"&&t.includes(`${o}:${__[c]}`),f=`${o}${m?`:${__[c]}`:""}`;return{scheme:c,authority:f,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:u}}});var Dk,Ok=p(()=>{Dk=(t,e)=>t===e});var Pk,kk=p(()=>{Pk=(t,e,r,o)=>e>=r||t.length<r?null:o?t.substring(t.length-r,t.length-e):t.substring(e,r)});var Nk,$k=p(()=>{Nk=t=>encodeURIComponent(t).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)});var R_=p(()=>{Ek();bk();vk();E_();Tk();Ak();Ok();kk();$k()});var Lk,Mk=p(()=>{R_();Lk={booleanEquals:Sk,getAttr:qf,isSet:Ck,isValidHostLabel:Sc,not:Ik,parseURL:wk,stringEquals:Dk,substring:Pk,uriEncode:Nk}});var Jf,b_=p(()=>{R_();Jf=(t,e)=>{let r=[],o={...e.endpointParams,...e.referenceRecord},n=0;for(;n<t.length;){let s=t.indexOf("{",n);if(s===-1){r.push(t.slice(n));break}r.push(t.slice(n,s));let i=t.indexOf("}",s);if(i===-1){r.push(t.slice(s));break}t[s+1]==="{"&&t[i+1]==="}"&&(r.push(t.slice(s+1,i)),n=i+2);let a=t.substring(s+1,i);if(a.includes("#")){let[c,u]=a.split("#");r.push(qf(o[c],u))}else r.push(o[a]);n=i+1}return r.join("")}});var Bk,Uk=p(()=>{Bk=({ref:t},e)=>({...e.endpointParams,...e.referenceRecord})[t]});var Ec,Qf,Fk,kd=p(()=>{qn();Wf();Mk();b_();Uk();Ec=(t,e,r)=>{if(typeof t=="string")return Jf(t,r);if(t.fn)return Fk.callFunction(t,r);if(t.ref)return Bk(t,r);throw new kt(`'${e}': ${String(t)} is not a string, function or reference.`)},Qf=({fn:t,argv:e},r)=>{let o=e.map(s=>["boolean","number"].includes(typeof s)?s:Fk.evaluateExpression(s,"arg",r)),n=t.split(".");return n[0]in jt&&n[1]!=null?jt[n[0]][n[1]](...o):Lk[t](...o)},Fk={evaluateExpression:Ec,callFunction:Qf}});var Gk=p(()=>{kd()});var Hk,jk=p(()=>{Pd();qn();Gk();Hk=({assign:t,...e},r)=>{if(t&&t in r.referenceRecord)throw new kt(`'${t}' is already defined in Reference Record.`);let o=Qf(e,r);return r.logger?.debug?.(`${zi} evaluateCondition: ${Wn(e)} = ${Wn(o)}`),{result:o===""?!0:!!o,...t!=null&&{toAssign:{name:t,value:o}}}}});var $u,Yf=p(()=>{Pd();jk();$u=(t=[],e)=>{let r={};for(let o of t){let{result:n,toAssign:s}=Hk(o,{...e,referenceRecord:{...e.referenceRecord,...r}});if(!n)return{result:n};s&&(r[s.name]=s.value,e.logger?.debug?.(`${zi} assign: ${s.name} := ${Wn(s.value)}`))}return{result:!0,referenceRecord:r}}});var Vk,zk=p(()=>{qn();kd();Vk=(t,e)=>Object.entries(t).reduce((r,[o,n])=>({...r,[o]:n.map(s=>{let i=Ec(s,"Header value entry",e);if(typeof i!="string")throw new kt(`Header '${o}' value '${i}' is not a string`);return i})}),{})});var C_,Kk,Wk,qk=p(()=>{qn();b_();C_=(t,e)=>Object.entries(t).reduce((r,[o,n])=>({...r,[o]:Wk.getEndpointProperty(n,e)}),{}),Kk=(t,e)=>{if(Array.isArray(t))return t.map(r=>Kk(r,e));switch(typeof t){case"string":return Jf(t,e);case"object":if(t===null)throw new kt(`Unexpected endpoint property: ${t}`);return Wk.getEndpointProperties(t,e);case"boolean":return t;default:throw new kt(`Unexpected endpoint property type: ${typeof t}`)}},Wk={getEndpointProperty:Kk,getEndpointProperties:C_}});var Jk,Qk=p(()=>{qn();kd();Jk=(t,e)=>{let r=Ec(t,"Endpoint URL",e);if(typeof r=="string")try{return new URL(r)}catch(o){throw console.error(`Failed to construct URL with ${r}`,o),o}throw new kt(`Endpoint URL must be a string, got ${typeof r}`)}});var Yk,Xk=p(()=>{Pd();Yf();zk();qk();Qk();Yk=(t,e)=>{let{conditions:r,endpoint:o}=t,{result:n,referenceRecord:s}=$u(r,e);if(!n)return;let i={...e,referenceRecord:{...e.referenceRecord,...s}},{url:a,properties:c,headers:u}=o;return e.logger?.debug?.(`${zi} Resolving endpoint from template: ${Wn(o)}`),{...u!=null&&{headers:Vk(u,i)},...c!=null&&{properties:C_(c,i)},url:Jk(a,i)}}});var Zk,eN=p(()=>{qn();Yf();kd();Zk=(t,e)=>{let{conditions:r,error:o}=t,{result:n,referenceRecord:s}=$u(r,e);if(n)throw new kt(Ec(o,"Error",{...e,referenceRecord:{...e.referenceRecord,...s}}))}});var v_,SQ,tN,rN=p(()=>{qn();Yf();Xk();eN();v_=(t,e)=>{for(let r of t)if(r.type==="endpoint"){let o=Yk(r,e);if(o)return o}else if(r.type==="error")Zk(r,e);else if(r.type==="tree"){let o=tN.evaluateTreeRule(r,e);if(o)return o}else throw new kt(`Unknown endpoint rule: ${r}`);throw new kt("Rules evaluation failed")},SQ=(t,e)=>{let{conditions:r,rules:o}=t,{result:n,referenceRecord:s}=$u(r,e);if(n)return tN.evaluateRules(o,{...e,referenceRecord:{...e.referenceRecord,...s}})},tN={evaluateRules:v_,evaluateTreeRule:SQ}});var oN=p(()=>{Wf();rN()});var Br,nN=p(()=>{Pd();qn();oN();Br=(t,e)=>{let{endpointParams:r,logger:o}=e,{parameters:n,rules:s}=t;e.logger?.debug?.(`${zi} Initial EndpointParams: ${Wn(r)}`);let i=Object.entries(n).filter(([,u])=>u.default!=null).map(([u,m])=>[u,m.default]);if(i.length>0)for(let[u,m]of i)r[u]=r[u]??m;let a=Object.entries(n).filter(([,u])=>u.required).map(([u])=>u);for(let u of a)if(r[u]==null)throw new kt(`Missing required parameter: '${u}'`);let c=v_(s,{endpointParams:r,logger:o,referenceRecord:{}});return e.logger?.debug?.(`${zi} Resolved endpoint: ${Wn(c)}`),c}});var nn=p(()=>{uk();S_();E_();Wf();nN();qn()});var I_=p(()=>{nn()});var T_,sN=p(()=>{nn();I_();T_=(t,e=!1)=>{if(e){for(let r of t.split("."))if(!T_(r))return!1;return!0}return!(!Sc(t)||t.length<3||t.length>63||t!==t.toLowerCase()||Od(t))}});var iN,EQ,aN,cN=p(()=>{iN=":",EQ="/",aN=t=>{let e=t.split(iN);if(e.length<6)return null;let[r,o,n,s,i,...a]=e;if(r!=="arn"||o===""||n===""||a.join(iN)==="")return null;let c=a.map(u=>u.split(EQ)).flat();return{partition:o,service:n,region:s,accountId:i,resourceId:c}}});var pN,uN=p(()=>{pN={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"},"us-isob-west-1":{description:"US ISOB West"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],version:"1.1"}});var RQ,bQ,dN,lN,w_=p(()=>{uN();RQ=pN,bQ="",dN=t=>{let{partitions:e}=RQ;for(let o of e){let{regions:n,outputs:s}=o;for(let[i,a]of Object.entries(n))if(i===t)return{...s,...a}}for(let o of e){let{regionRegex:n,outputs:s}=o;if(new RegExp(n).test(t))return{...s}}let r=e.find(o=>o.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},lN=()=>bQ});var _r,mN=p(()=>{nn();sN();cN();w_();_r={isVirtualHostableS3Bucket:T_,parseArn:aN,partition:dN};jt.aws=_r});function fN(t){let e={};if(t=t.replace(/^\?/,""),t)for(let r of t.split("&")){let[o,n=null]=r.split("=");o=decodeURIComponent(o),n&&(n=decodeURIComponent(n)),o in e?Array.isArray(e[o])?e[o].push(n):e[o]=[e[o],n]:e[o]=n}return e}var hN=p(()=>{});var Mt,Jn=p(()=>{hN();Mt=t=>{if(typeof t=="string")return Mt(new URL(t));let{hostname:e,pathname:r,port:o,protocol:n,search:s}=t,i;return s&&(i=fN(s)),{hostname:e,port:o?parseInt(o):void 0,protocol:n,path:r,query:i}}});var gN=p(()=>{});var xN=p(()=>{});var yN=p(()=>{});var SN=p(()=>{});var EN=p(()=>{});var _N=p(()=>{});var RN=p(()=>{});var bN=p(()=>{});var CN=p(()=>{yN();SN();EN();_N();RN();bN()});var Is=p(()=>{mN();w_();I_();gN();xN();CN()});var vN,Ur,IN=p(()=>{vN={warningEmitted:!1},Ur=t=>{t&&!vN.warningEmitted&&parseInt(t.substring(1,t.indexOf(".")))<20&&(vN.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js ${t} in January 2026.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/c895JFp`))}});function $e(t,e,r){return t.$source||(t.$source={}),t.$source[e]=r,t}var TN=p(()=>{});function Dt(t,e,r){t.__aws_sdk_context?t.__aws_sdk_context.features||(t.__aws_sdk_context.features={}):t.__aws_sdk_context={features:{}},t.__aws_sdk_context.features[e]=r}var wN=p(()=>{});var AN=p(()=>{});var yo=p(()=>{IN();TN();wN();AN()});var A_,DN=p(()=>{Pe();A_=t=>To.isInstance(t)?t.headers?.date??t.headers?.Date:void 0});var Lu,D_=p(()=>{Lu=t=>new Date(Date.now()+t)});var ON,PN=p(()=>{D_();ON=(t,e)=>Math.abs(Lu(e).getTime()-t)>=3e5});var O_,kN=p(()=>{PN();O_=(t,e)=>{let r=Date.parse(t);return ON(r,e)?r-Date.now():e}});var P_=p(()=>{DN();D_();kN()});var Nd,Xf,Ct,k_=p(()=>{Pe();P_();Nd=(t,e)=>{if(!e)throw new Error(`Property \`${t}\` is not resolved for AWS SDK SigV4Auth`);return e},Xf=async t=>{let e=Nd("context",t.context),r=Nd("config",t.config),o=e.endpointV2?.properties?.authSchemes?.[0],s=await Nd("signer",r.signer)(o),i=t?.signingRegion,a=t?.signingRegionSet,c=t?.signingName;return{config:r,signer:s,signingRegion:i,signingRegionSet:a,signingName:c}},Ct=class{async sign(e,r,o){if(!me.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let n=await Xf(o),{config:s,signer:i}=n,{signingRegion:a,signingName:c}=n,u=o.context;if(u?.authSchemes?.length??0>1){let[f,h]=u.authSchemes;f?.name==="sigv4a"&&h?.name==="sigv4"&&(a=h?.signingRegion??a,c=h?.signingName??c)}return await i.sign(e,{signingDate:Lu(s.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(e){return r=>{let o=r.ServerTime??A_(r.$response);if(o){let n=Nd("config",e.config),s=n.systemClockOffset;n.systemClockOffset=O_(o,n.systemClockOffset),n.systemClockOffset!==s&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(e,r){let o=A_(e);if(o){let n=Nd("config",r.config);n.systemClockOffset=O_(o,n.systemClockOffset)}}}});var $d,NN=p(()=>{Pe();P_();k_();$d=class extends Ct{async sign(e,r,o){if(!me.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:n,signer:s,signingRegion:i,signingRegionSet:a,signingName:c}=await Xf(o),m=(await n.sigv4aSigningRegionSet?.()??a??[i]).join(",");return await s.sign(e,{signingDate:Lu(n.systemClockOffset),signingRegion:m,signingService:c})}}});var N_,$N=p(()=>{N_=t=>typeof t=="string"&&t.length>0?t.split(",").map(e=>e.trim()):[]});var LN,$_=p(()=>{LN=t=>`AWS_BEARER_TOKEN_${t.replace(/[\s-]/g,"_").toUpperCase()}`});var MN,BN,Fr,UN=p(()=>{$N();$_();MN="AWS_AUTH_SCHEME_PREFERENCE",BN="auth_scheme_preference",Fr={environmentVariableSelector:(t,e)=>{if(e?.signingName&&LN(e.signingName)in t)return["httpBearerAuth"];if(MN in t)return N_(t[MN])},configFileSelector:t=>{if(BN in t)return N_(t[BN])},default:[]}});var Go,Ld=p(()=>{Go=class t extends Error{name="ProviderError";tryNextLink;constructor(e,r=!0){let o,n=!0;typeof r=="boolean"?(o=void 0,n=r):r!=null&&typeof r=="object"&&(o=r.logger,n=r.tryNextLink??!0),super(e),this.tryNextLink=n,Object.setPrototypeOf(this,t.prototype),o?.debug?.(`@smithy/property-provider ${n?"->":"(!)"} ${e}`)}static from(e,r=!0){return Object.assign(new this(e.message,r),e)}}});var Q,FN=p(()=>{Ld();Q=class t extends Go{name="CredentialsProviderError";constructor(e,r=!0){super(e,r),Object.setPrototypeOf(this,t.prototype)}}});var Qn,GN=p(()=>{Ld();Qn=class t extends Go{name="TokenProviderError";constructor(e,r=!0){super(e,r),Object.setPrototypeOf(this,t.prototype)}}});var Mu,HN=p(()=>{Ld();Mu=(...t)=>async()=>{if(t.length===0)throw new Go("No providers in chain");let e;for(let r of t)try{return await r()}catch(o){if(e=o,o?.tryNextLink)continue;throw o}throw e}});var jN,VN=p(()=>{jN=t=>()=>Promise.resolve(t)});var Zf,zN=p(()=>{Zf=(t,e,r)=>{let o,n,s,i=!1,a=async()=>{n||(n=t());try{o=await n,s=!0,i=!1}finally{n=void 0}return o};return e===void 0?async c=>((!s||c?.forceRefresh)&&(o=await a()),o):async c=>((!s||c?.forceRefresh)&&(o=await a()),i?o:r&&!r(o)?(i=!0,o):(e(o)&&await a(),o))}});var ct=p(()=>{FN();Ld();GN();HN();VN();zN()});var KN,WN,qN=p(()=>{At();ct();KN=t=>(t.sigv4aSigningRegionSet=Mi(t.sigv4aSigningRegionSet),t),WN={environmentVariableSelector(t){if(t.AWS_SIGV4A_SIGNING_REGION_SET)return t.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(e=>e.trim());throw new Go("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(t){if(t.sigv4a_signing_region_set)return(t.sigv4a_signing_region_set??"").split(",").map(e=>e.trim());throw new Go("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var JN,QN,L_,YN,XN,M_,B_,U_,F_,CQ,ZN,e3,Md,t3,r3,o3,n3,eh,s3,i3,a3,G_,c3,ya=p(()=>{JN="X-Amz-Algorithm",QN="X-Amz-Credential",L_="X-Amz-Date",YN="X-Amz-SignedHeaders",XN="X-Amz-Expires",M_="X-Amz-Signature",B_="X-Amz-Security-Token",U_="authorization",F_=L_.toLowerCase(),CQ="date",ZN=[U_,F_,CQ],e3=M_.toLowerCase(),Md="x-amz-content-sha256",t3=B_.toLowerCase(),r3={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},o3=/^proxy-/,n3=/^sec-/,eh="AWS4-HMAC-SHA256",s3="AWS4-HMAC-SHA256-PAYLOAD",i3="UNSIGNED-PAYLOAD",a3=50,G_="aws4_request",c3=60*60*24*7});var th,H_,rh,p3,u3,j_=p(()=>{Gi();wt();ya();th={},H_=[],rh=(t,e,r)=>`${t}/${e}/${r}/${G_}`,p3=async(t,e,r,o,n)=>{let s=await u3(t,e.secretAccessKey,e.accessKeyId),i=`${r}:${o}:${n}:${qt(s)}:${e.sessionToken}`;if(i in th)return th[i];for(H_.push(i);H_.length>a3;)delete th[H_.shift()];let a=`AWS4${e.secretAccessKey}`;for(let c of[r,o,n,G_])a=await u3(t,a,c);return th[i]=a},u3=(t,e,r)=>{let o=new t(e);return o.update(Fo(r)),o.digest()}});var V_,d3=p(()=>{ya();V_=({headers:t},e,r)=>{let o={};for(let n of Object.keys(t).sort()){if(t[n]==null)continue;let s=n.toLowerCase();(s in r3||e?.has(s)||o3.test(s)||n3.test(s))&&(!r||r&&!r.has(s))||(o[s]=t[n].trim().replace(/\s+/g," "))}return o}});var oh,l3=p(()=>{Of();Gi();wt();ya();oh=async({headers:t,body:e},r)=>{for(let o of Object.keys(t))if(o.toLowerCase()===Md)return t[o];if(e==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof e=="string"||ArrayBuffer.isView(e)||_u(e)){let o=new r;return o.update(Fo(e)),qt(await o.digest())}return i3}});function f3(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}var nh,m3,vQ,z_,h3=p(()=>{Gi();wt();nh=class{format(e){let r=[];for(let s of Object.keys(e)){let i=it(s);r.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(e[s]))}let o=new Uint8Array(r.reduce((s,i)=>s+i.byteLength,0)),n=0;for(let s of r)o.set(s,n),n+=s.byteLength;return o}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,e.value,!1),new Uint8Array(r.buffer);case"integer":let o=new DataView(new ArrayBuffer(5));return o.setUint8(0,4),o.setInt32(1,e.value,!1),new Uint8Array(o.buffer);case"long":let n=new Uint8Array(9);return n[0]=5,n.set(e.value.bytes,1),n;case"binary":let s=new DataView(new ArrayBuffer(3+e.value.byteLength));s.setUint8(0,6),s.setUint16(1,e.value.byteLength,!1);let i=new Uint8Array(s.buffer);return i.set(e.value,3),i;case"string":let a=it(e.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let u=new Uint8Array(c.buffer);return u.set(a,3),u;case"timestamp":let m=new Uint8Array(9);return m[0]=8,m.set(z_.fromNumber(e.value.valueOf()).bytes,1),m;case"uuid":if(!vQ.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let f=new Uint8Array(17);return f[0]=9,f.set(Lf(e.value.replace(/\-/g,"")),1),f}}};(function(t){t[t.boolTrue=0]="boolTrue",t[t.boolFalse=1]="boolFalse",t[t.byte=2]="byte",t[t.short=3]="short",t[t.integer=4]="integer",t[t.long=5]="long",t[t.byteArray=6]="byteArray",t[t.string=7]="string",t[t.timestamp=8]="timestamp",t[t.uuid=9]="uuid"})(m3||(m3={}));vQ=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,z_=class t{bytes;constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let o=7,n=Math.abs(Math.round(e));o>-1&&n>0;o--,n/=256)r[o]=n;return e<0&&f3(r),new t(r)}valueOf(){let e=this.bytes.slice(0),r=e[0]&128;return r&&f3(e),parseInt(qt(e),16)*(r?-1:1)}toString(){return String(this.valueOf())}}});var g3,x3=p(()=>{g3=(t,e)=>{t=t.toLowerCase();for(let r of Object.keys(e))if(t===r.toLowerCase())return!0;return!1}});var y3,S3=p(()=>{Pe();y3=(t,e={})=>{let{headers:r,query:o={}}=me.clone(t);for(let n of Object.keys(r)){let s=n.toLowerCase();(s.slice(0,6)==="x-amz-"&&!e.unhoistableHeaders?.has(s)||e.hoistableHeaders?.has(s))&&(o[n]=r[n],delete r[n])}return{...t,headers:r,query:o}}});var K_,E3=p(()=>{Pe();ya();K_=t=>{t=me.clone(t);for(let e of Object.keys(t.headers))ZN.indexOf(e.toLowerCase())>-1&&delete t.headers[e];return t}});var _3,R3=p(()=>{Nf();ya();_3=({query:t={}})=>{let e=[],r={};for(let o of Object.keys(t)){if(o.toLowerCase()===e3)continue;let n=Xs(o);e.push(n);let s=t[o];typeof s=="string"?r[n]=`${n}=${Xs(s)}`:Array.isArray(s)&&(r[n]=s.slice(0).reduce((i,a)=>i.concat([`${n}=${Xs(a)}`]),[]).sort().join("&"))}return e.sort().map(o=>r[o]).filter(o=>o).join("&")}});var b3,IQ,C3=p(()=>{b3=t=>IQ(t).toISOString().replace(/\.\d{3}Z$/,"Z"),IQ=t=>typeof t=="number"?new Date(t*1e3):typeof t=="string"?Number(t)?new Date(Number(t)*1e3):new Date(t):t});var sh,v3=p(()=>{Gi();Zt();Nf();wt();R3();C3();sh=class{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:e,credentials:r,region:o,service:n,sha256:s,uriEscapePath:i=!0}){this.service=n,this.sha256=s,this.uriEscapePath=i,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=ge(o),this.credentialProvider=ge(r)}createCanonicalRequest(e,r,o){let n=Object.keys(r).sort();return`${e.method}
${this.getCanonicalPath(e)}
${_3(e)}
${n.map(s=>`${s}:${r[s]}`).join(`
`)}

${n.join(";")}
${o}`}async createStringToSign(e,r,o,n){let s=new this.sha256;s.update(Fo(o));let i=await s.digest();return`${n}
${e}
${r}
${qt(i)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let r=[];for(let s of e.split("/"))s?.length!==0&&s!=="."&&(s===".."?r.pop():r.push(s));let o=`${e?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&e?.endsWith("/")?"/":""}`;return Xs(o).replace(/%2F/g,"/")}return e}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(e){let r=b3(e).replace(/[\-:]/g,"");return{longDate:r,shortDate:r.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(";")}}});var _c,I3=p(()=>{Gi();wt();ya();j_();d3();l3();h3();x3();S3();E3();v3();_c=class extends sh{headerFormatter=new nh;constructor({applyChecksum:e,credentials:r,region:o,service:n,sha256:s,uriEscapePath:i=!0}){super({applyChecksum:e,credentials:r,region:o,service:n,sha256:s,uriEscapePath:i})}async presign(e,r={}){let{signingDate:o=new Date,expiresIn:n=3600,unsignableHeaders:s,unhoistableHeaders:i,signableHeaders:a,hoistableHeaders:c,signingRegion:u,signingService:m}=r,f=await this.credentialProvider();this.validateResolvedCredentials(f);let h=u??await this.regionProvider(),{longDate:g,shortDate:_}=this.formatDate(o);if(n>c3)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let b=rh(_,h,m??this.service),T=y3(K_(e),{unhoistableHeaders:i,hoistableHeaders:c});f.sessionToken&&(T.query[B_]=f.sessionToken),T.query[JN]=eh,T.query[QN]=`${f.accessKeyId}/${b}`,T.query[L_]=g,T.query[XN]=n.toString(10);let M=V_(T,s,a);return T.query[YN]=this.getCanonicalHeaderList(M),T.query[M_]=await this.getSignature(g,b,this.getSigningKey(f,h,_,m),this.createCanonicalRequest(T,M,await oh(e,this.sha256))),T}async sign(e,r){return typeof e=="string"?this.signString(e,r):e.headers&&e.payload?this.signEvent(e,r):e.message?this.signMessage(e,r):this.signRequest(e,r)}async signEvent({headers:e,payload:r},{signingDate:o=new Date,priorSignature:n,signingRegion:s,signingService:i}){let a=s??await this.regionProvider(),{shortDate:c,longDate:u}=this.formatDate(o),m=rh(c,a,i??this.service),f=await oh({headers:{},body:r},this.sha256),h=new this.sha256;h.update(e);let g=qt(await h.digest()),_=[s3,u,m,n,g,f].join(`
`);return this.signString(_,{signingDate:o,signingRegion:a,signingService:i})}async signMessage(e,{signingDate:r=new Date,signingRegion:o,signingService:n}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:r,signingRegion:o,signingService:n,priorSignature:e.priorSignature}).then(i=>({message:e.message,signature:i}))}async signString(e,{signingDate:r=new Date,signingRegion:o,signingService:n}={}){let s=await this.credentialProvider();this.validateResolvedCredentials(s);let i=o??await this.regionProvider(),{shortDate:a}=this.formatDate(r),c=new this.sha256(await this.getSigningKey(s,i,a,n));return c.update(Fo(e)),qt(await c.digest())}async signRequest(e,{signingDate:r=new Date,signableHeaders:o,unsignableHeaders:n,signingRegion:s,signingService:i}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let c=s??await this.regionProvider(),u=K_(e),{longDate:m,shortDate:f}=this.formatDate(r),h=rh(f,c,i??this.service);u.headers[F_]=m,a.sessionToken&&(u.headers[t3]=a.sessionToken);let g=await oh(u,this.sha256);!g3(Md,u.headers)&&this.applyChecksum&&(u.headers[Md]=g);let _=V_(u,n,o),b=await this.getSignature(m,h,this.getSigningKey(a,c,f,i),this.createCanonicalRequest(u,_,g));return u.headers[U_]=`${eh} Credential=${a.accessKeyId}/${h}, SignedHeaders=${this.getCanonicalHeaderList(_)}, Signature=${b}`,u}async getSignature(e,r,o,n){let s=await this.createStringToSign(e,r,n,eh),i=new this.sha256(await o);return i.update(Fo(s)),qt(await i.digest())}getSigningKey(e,r,o,n){return p3(this.sha256,e,o,r,n||this.service)}}});var W_,T3=p(()=>{W_={SignatureV4a:null}});var ih=p(()=>{I3();ya();j_();T3()});function TQ(t,{credentials:e,credentialDefaultProvider:r}){let o;return e?e?.memoized?o=e:o=sk(e,nk,x_):r?o=Mi(r(Object.assign({},t,{parentClientConfig:t}))):o=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},o.memoized=!0,o}function wQ(t,e){if(e.configBound)return e;let r=async o=>e({...o,callerClientConfig:t});return r.memoized=e.memoized,r.configBound=!0,r}var Gr,w3=p(()=>{yo();At();ih();Gr=t=>{let e=t.credentials,r=!!t.credentials,o;Object.defineProperty(t,"credentials",{set(u){u&&u!==e&&u!==o&&(r=!0),e=u;let m=TQ(t,{credentials:e,credentialDefaultProvider:t.credentialDefaultProvider}),f=wQ(t,m);r&&!f.attributed?(o=async h=>f(h).then(g=>$e(g,"CREDENTIALS_CODE","e")),o.memoized=f.memoized,o.configBound=f.configBound,o.attributed=!0):o=f},get(){return o},enumerable:!0,configurable:!0}),t.credentials=e;let{signingEscapePath:n=!0,systemClockOffset:s=t.systemClockOffset||0,sha256:i}=t,a;return t.signer?a=Mi(t.signer):t.regionInfoProvider?a=()=>Mi(t.region)().then(async u=>[await t.regionInfoProvider(u,{useFipsEndpoint:await t.useFipsEndpoint(),useDualstackEndpoint:await t.useDualstackEndpoint()})||{},u]).then(([u,m])=>{let{signingRegion:f,signingService:h}=u;t.signingRegion=t.signingRegion||f||m,t.signingName=t.signingName||h||t.serviceId;let g={...t,credentials:t.credentials,region:t.signingRegion,service:t.signingName,sha256:i,uriEscapePath:n},_=t.signerConstructor||_c;return new _(g)}):a=async u=>{u=Object.assign({},{name:"sigv4",signingName:t.signingName||t.defaultSigningName,signingRegion:await Mi(t.region)(),properties:{}},u);let m=u.signingRegion,f=u.signingName;t.signingRegion=t.signingRegion||m,t.signingName=t.signingName||f||t.serviceId;let h={...t,credentials:t.credentials,region:t.signingRegion,service:t.signingName,sha256:i,uriEscapePath:n},g=t.signerConstructor||_c;return new g(h)},Object.assign(t,{systemClockOffset:s,signingEscapePath:n,signer:a})}});var A3=p(()=>{k_();NN();UN();qN();w3()});var D3=p(()=>{A3();$_()});var Rc,Sa,Bu,O3,P3,k3=p(()=>{Rc=(t,e)=>{let r=[];if(t&&r.push(t),e)for(let o of e)r.push(o);return r},Sa=(t,e)=>`${t||"anonymous"}${e&&e.length>0?` (a.k.a. ${e.join(",")})`:""}`,Bu=()=>{let t=[],e=[],r=!1,o=new Set,n=f=>f.sort((h,g)=>O3[g.step]-O3[h.step]||P3[g.priority||"normal"]-P3[h.priority||"normal"]),s=f=>{let h=!1,g=_=>{let b=Rc(_.name,_.aliases);if(b.includes(f)){h=!0;for(let T of b)o.delete(T);return!1}return!0};return t=t.filter(g),e=e.filter(g),h},i=f=>{let h=!1,g=_=>{if(_.middleware===f){h=!0;for(let b of Rc(_.name,_.aliases))o.delete(b);return!1}return!0};return t=t.filter(g),e=e.filter(g),h},a=f=>(t.forEach(h=>{f.add(h.middleware,{...h})}),e.forEach(h=>{f.addRelativeTo(h.middleware,{...h})}),f.identifyOnResolve?.(m.identifyOnResolve()),f),c=f=>{let h=[];return f.before.forEach(g=>{g.before.length===0&&g.after.length===0?h.push(g):h.push(...c(g))}),h.push(f),f.after.reverse().forEach(g=>{g.before.length===0&&g.after.length===0?h.push(g):h.push(...c(g))}),h},u=(f=!1)=>{let h=[],g=[],_={};return t.forEach(T=>{let M={...T,before:[],after:[]};for(let U of Rc(M.name,M.aliases))_[U]=M;h.push(M)}),e.forEach(T=>{let M={...T,before:[],after:[]};for(let U of Rc(M.name,M.aliases))_[U]=M;g.push(M)}),g.forEach(T=>{if(T.toMiddleware){let M=_[T.toMiddleware];if(M===void 0){if(f)return;throw new Error(`${T.toMiddleware} is not found when adding ${Sa(T.name,T.aliases)} middleware ${T.relation} ${T.toMiddleware}`)}T.relation==="after"&&M.after.push(T),T.relation==="before"&&M.before.push(T)}}),n(h).map(c).reduce((T,M)=>(T.push(...M),T),[])},m={add:(f,h={})=>{let{name:g,override:_,aliases:b}=h,T={step:"initialize",priority:"normal",middleware:f,...h},M=Rc(g,b);if(M.length>0){if(M.some(U=>o.has(U))){if(!_)throw new Error(`Duplicate middleware name '${Sa(g,b)}'`);for(let U of M){let ie=t.findIndex(Qe=>Qe.name===U||Qe.aliases?.some(Lt=>Lt===U));if(ie===-1)continue;let le=t[ie];if(le.step!==T.step||T.priority!==le.priority)throw new Error(`"${Sa(le.name,le.aliases)}" middleware with ${le.priority} priority in ${le.step} step cannot be overridden by "${Sa(g,b)}" middleware with ${T.priority} priority in ${T.step} step.`);t.splice(ie,1)}}for(let U of M)o.add(U)}t.push(T)},addRelativeTo:(f,h)=>{let{name:g,override:_,aliases:b}=h,T={middleware:f,...h},M=Rc(g,b);if(M.length>0){if(M.some(U=>o.has(U))){if(!_)throw new Error(`Duplicate middleware name '${Sa(g,b)}'`);for(let U of M){let ie=e.findIndex(Qe=>Qe.name===U||Qe.aliases?.some(Lt=>Lt===U));if(ie===-1)continue;let le=e[ie];if(le.toMiddleware!==T.toMiddleware||le.relation!==T.relation)throw new Error(`"${Sa(le.name,le.aliases)}" middleware ${le.relation} "${le.toMiddleware}" middleware cannot be overridden by "${Sa(g,b)}" middleware ${T.relation} "${T.toMiddleware}" middleware.`);e.splice(ie,1)}}for(let U of M)o.add(U)}e.push(T)},clone:()=>a(Bu()),use:f=>{f.applyToStack(m)},remove:f=>typeof f=="string"?s(f):i(f),removeByTag:f=>{let h=!1,g=_=>{let{tags:b,name:T,aliases:M}=_;if(b&&b.includes(f)){let U=Rc(T,M);for(let ie of U)o.delete(ie);return h=!0,!1}return!0};return t=t.filter(g),e=e.filter(g),h},concat:f=>{let h=a(Bu());return h.use(f),h.identifyOnResolve(r||h.identifyOnResolve()||(f.identifyOnResolve?.()??!1)),h},applyToStack:a,identify:()=>u(!0).map(f=>{let h=f.step??f.relation+" "+f.toMiddleware;return Sa(f.name,f.aliases)+" - "+h}),identifyOnResolve(f){return typeof f=="boolean"&&(r=f),r},resolve:(f,h)=>{for(let g of u().map(_=>_.middleware).reverse())f=g(f,h);return r&&console.log(m.identify()),f}};return m},O3={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},P3={high:3,normal:2,low:1}});var q_=p(()=>{k3()});var Nt,N3=p(()=>{q_();Nt=class{config;middlewareStack=Bu();initConfig;handlers;constructor(e){this.config=e;let{protocol:r,protocolSettings:o}=e;o&&typeof r=="function"&&(e.protocol=new r(o))}send(e,r,o){let n=typeof r!="function"?r:void 0,s=typeof r=="function"?r:o,i=n===void 0&&this.config.cacheMiddleware===!0,a;if(i){this.handlers||(this.handlers=new WeakMap);let c=this.handlers;c.has(e.constructor)?a=c.get(e.constructor):(a=e.resolveMiddleware(this.middlewareStack,this.config,n),c.set(e.constructor,a))}else delete this.handlers,a=e.resolveMiddleware(this.middlewareStack,this.config,n);if(s)a(e).then(c=>s(null,c.output),c=>s(c)).catch(()=>{});else return a(e).then(c=>c.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}}});var $3=p(()=>{vs()});function ah(t,e){if(e==null)return e;let r=ne.of(t);if(r.getMergedTraits().sensitive)return J_;if(r.isListSchema()){if(!!r.getValueSchema().getMergedTraits().sensitive)return J_}else if(r.isMapSchema()){if(!!r.getKeySchema().getMergedTraits().sensitive||!!r.getValueSchema().getMergedTraits().sensitive)return J_}else if(r.isStructSchema()&&typeof e=="object"){let o=e,n={};for(let[s,i]of r.structIterator())o[s]!=null&&(n[s]=ah(i,o[s]));return n}return e}var J_,L3=p(()=>{ve();J_="***SensitiveInformation***"});var Y,Q_,M3=p(()=>{q_();fa();L3();Y=class{middlewareStack=Bu();schema;static classBuilder(){return new Q_}resolveMiddlewareWithContext(e,r,o,{middlewareFn:n,clientName:s,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:u,additionalContext:m,CommandCtor:f}){for(let T of n.bind(this)(f,e,r,o))this.middlewareStack.use(T);let h=e.concat(this.middlewareStack),{logger:g}=r,_={logger:g,clientName:s,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[vd]:{commandInstance:this,...u},...m},{requestHandler:b}=r;return h.resolve(T=>b.handle(T.request,o||{}),_)}},Q_=class{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,r,o={}){return this._smithyContext={service:e,operation:r,...o},this}c(e={}){return this._additionalContext=e,this}n(e,r){return this._clientName=e,this._commandName=r,this}f(e=o=>o,r=o=>o){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=r,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}sc(e){return this._operationSchema=e,this._smithyContext.operationSchema=e,this}build(){let e=this,r;return r=class extends Y{input;static getEndpointParameterInstructions(){return e._ep}constructor(...[o]){super(),this.input=o??{},e._init(this),this.schema=e._operationSchema}resolveMiddleware(o,n,s){let i=e._operationSchema,a=i?.[4]??i?.input,c=i?.[5]??i?.output;return this.resolveMiddlewareWithContext(o,n,s,{CommandCtor:r,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog??(i?ah.bind(null,a):u=>u),outputFilterSensitiveLog:e._outputFilterSensitiveLog??(i?ah.bind(null,c):u=>u),smithyContext:e._smithyContext,additionalContext:e._additionalContext})}serialize=e._serializer;deserialize=e._deserializer}}}});var B3=p(()=>{});var Ea,U3=p(()=>{Ea=(t,e)=>{for(let r of Object.keys(t)){let o=t[r],n=async function(i,a,c){let u=new o(i);if(typeof a=="function")this.send(u,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(u,a||{},c)}else return this.send(u,a)},s=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");e.prototype[s]=n}}});var mr,Y_,F3=p(()=>{mr=class t extends Error{$fault;$response;$retryable;$metadata;constructor(e){super(e.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}static isInstance(e){if(!e)return!1;let r=e;return t.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](e){if(!e)return!1;let r=e;return this===t?t.isInstance(e):t.isInstance(e)?r.name&&this.name?this.prototype.isPrototypeOf(e)||r.name===this.name:this.prototype.isPrototypeOf(e):!1}},Y_=(t,e={})=>{Object.entries(e).filter(([,o])=>o!==void 0).forEach(([o,n])=>{(t[o]==null||t[o]==="")&&(t[o]=n)});let r=t.message||t.Message||"UnknownError";return t.message=r,delete t.Message,t}});var G3=p(()=>{});var Hr,H3=p(()=>{Hr=t=>{switch(t){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}}});var j3,jr,V3=p(()=>{j3=!1,jr=t=>{t&&!j3&&parseInt(t.substring(1,t.indexOf(".")))<16&&(j3=!0)}});var z3=p(()=>{});var K3,W3,q3=p(()=>{fa();K3=t=>{let e=[];for(let r in Eu){let o=Eu[r];t[o]!==void 0&&e.push({algorithmId:()=>o,checksumConstructor:()=>t[o]})}return{addChecksumAlgorithm(r){e.push(r)},checksumAlgorithms(){return e}}},W3=t=>{let e={};return t.checksumAlgorithms().forEach(r=>{e[r.algorithmId()]=r.checksumConstructor()}),e}});var J3,Q3,Y3=p(()=>{J3=t=>({setRetryStrategy(e){t.retryStrategy=e},retryStrategy(){return t.retryStrategy}}),Q3=t=>{let e={};return e.retryStrategy=t.retryStrategy(),e}});var Vr,zr,X3=p(()=>{q3();Y3();Vr=t=>Object.assign(K3(t),J3(t)),zr=t=>Object.assign(W3(t),Q3(t))});var Z3=p(()=>{X3()});var e1=p(()=>{});var X_,t1=p(()=>{X_=t=>{let e="#text";for(let r in t)t.hasOwnProperty(r)&&t[r][e]!==void 0?t[r]=t[r][e]:typeof t[r]=="object"&&t[r]!==null&&(t[r]=X_(t[r]));return t}});var r1=p(()=>{});var Bt,o1=p(()=>{Bt=class{trace(){}debug(){}info(){}warn(){}error(){}}});var n1=p(()=>{});var s1=p(()=>{});var i1=p(()=>{});var Bd,a1=p(()=>{Bd=t=>{if(t==null)return{};if(Array.isArray(t))return t.filter(e=>e!=null).map(Bd);if(typeof t=="object"){let e={};for(let r of Object.keys(t))t[r]!=null&&(e[r]=Bd(t[r]));return e}return t}});var F=p(()=>{N3();$3();M3();B3();U3();G3();H3();V3();F3();z3();Z3();e1();t1();r1();o1();n1();s1();i1();a1();Cs()});var ti,Ud=p(()=>{ve();F();ti=class{queryCompat;constructor(e=!1){this.queryCompat=e}resolveRestContentType(e,r){let o=r.getMemberSchemas(),n=Object.values(o).find(s=>!!s.getMergedTraits().httpPayload);if(n){let s=n.getMergedTraits().mediaType;return s||(n.isStringSchema()?"text/plain":n.isBlobSchema()?"application/octet-stream":e)}else if(!r.isUnitSchema()&&Object.values(o).find(i=>{let{httpQuery:a,httpQueryParams:c,httpHeader:u,httpLabel:m,httpPrefixHeaders:f}=i.getMergedTraits();return!a&&!c&&!u&&!m&&f===void 0}))return e}async getErrorSchemaOrThrowBaseException(e,r,o,n,s,i){let a=r,c=e;e.includes("#")&&([a,c]=e.split("#"));let u={$metadata:s,$fault:o.statusCode<500?"client":"server"},m=R.for(a);try{return{errorSchema:i?.(m,c)??m.getSchema(e),errorMetadata:u}}catch{n.message=n.message??n.Message??"UnknownError";let h=R.for("smithy.ts.sdk.synthetic."+a),g=h.getBaseException();if(g){let _=h.getErrorCtor(g)??Error;throw this.decorateServiceException(Object.assign(new _({name:c}),u),n)}throw this.decorateServiceException(Object.assign(new Error(c),u),n)}}decorateServiceException(e,r={}){if(this.queryCompat){let o=e.Message??r.Message,n=Y_(e,r);o&&(n.message=o),n.Error={...n.Error,Type:n.Error.Type,Code:n.Error.Code,Message:n.Error.message??n.Error.Message??o};let s=n.$metadata.requestId;return s&&(n.RequestId=s),n}return Y_(e,r)}setQueryCompatError(e,r){let o=r.headers?.["x-amzn-query-error"];if(e!==void 0&&o!=null){let[n,s]=o.split(";"),i=Object.entries(e),a={Code:n,Type:s};Object.assign(e,a);for(let[c,u]of i)a[c==="message"?"Message":c]=u;delete a.__type,e.Error=a}}queryCompatOutput(e,r){e.Error&&(r.Error=e.Error),e.Type&&(r.Type=e.Type),e.Code&&(r.Code=e.Code)}findQueryCompatibleError(e,r){try{return e.getSchema(r)}catch{return e.find(n=>ne.of(n).getMergedTraits().awsQueryError?.[0]===r)}}}});var c1=p(()=>{});var u1=p(()=>{});var Do,_a=p(()=>{Do=class{serdeContext;setSerdeContext(e){this.serdeContext=e}}});function*Uu(t,e){if(t.isUnitSchema())return;let r=t.getSchema();for(let o=0;o<r[4].length;++o){let n=r[4][o],s=r[5][o],i=new ne([s,0],n);!(n in e)&&!i.isIdempotencyToken()||(yield[n,i])}}function*p1(t,e,r){if(t.isUnitSchema())return;let o=t.getSchema(),n=Object.keys(e).filter(s=>s!=="__type").length;for(let s=0;s<o[4].length&&n!==0;++s){let i=o[4][s],a=o[5][s],c=new ne([a,0],i),u=i;r&&(u=c.getMergedTraits()[r]??i),u in e&&(yield[i,c],n-=1)}}var Fd=p(()=>{ve()});var Fu,Z_=p(()=>{Fu=class{from;to;keys;constructor(e,r){this.from=e,this.to=r,this.keys=new Set(Object.keys(this.from).filter(o=>o!=="__type"))}mark(e){this.keys.delete(e)}hasUnknown(){return this.keys.size===1&&Object.keys(this.to).length===0}writeUnknown(){if(this.hasUnknown()){let e=this.keys.values().next().value,r=this.from[e];this.to.$unknown=[e,r]}}}});function d1(t,e,r){if(r?.source){let o=r.source;if(typeof e=="number"&&(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER||o!==String(e)))return o.includes(".")?new pr(o,"bigDecimal"):BigInt(o)}return e}var l1=p(()=>{Cs()});var m1,f1=p(()=>{F();wt();m1=(t,e)=>rn(t,e).then(r=>(e?.utf8Encoder??Xe)(r))});var h1,ch,Gd=p(()=>{f1();h1=(t,e)=>m1(t,e).then(r=>{if(r.length)try{return JSON.parse(r)}catch(o){throw o?.name==="SyntaxError"&&Object.defineProperty(o,"$responseBodyText",{value:r}),o}return{}}),ch=(t,e)=>{let r=(s,i)=>Object.keys(s).find(a=>a.toLowerCase()===i.toLowerCase()),o=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},n=r(t.headers,"x-amzn-errortype");if(n!==void 0)return o(t.headers[n]);if(e&&typeof e=="object"){let s=r(e,"code");if(s&&e[s]!==void 0)return o(e[s]);if(e.__type!==void 0)return o(e.__type)}}});var Gu,eR=p(()=>{vs();ve();Cs();Kt();_a();Fd();Z_();l1();Gd();Gu=class extends Do{settings;constructor(e){super(),this.settings=e}async read(e,r){return this._read(e,typeof r=="string"?JSON.parse(r,d1):await h1(r,this.serdeContext))}readObject(e,r){return this._read(e,r)}_read(e,r){let o=r!==null&&typeof r=="object",n=ne.of(e);if(o){if(n.isStructSchema()){let i=n.isUnionSchema(),a={},c;i&&(c=new Fu(r,a));for(let[u,m]of p1(n,r,this.settings.jsonName?"jsonName":!1)){let f=this.settings.jsonName?m.getMergedTraits().jsonName??u:u;i&&c.mark(f),r[f]!=null&&(a[u]=this._read(m,r[f]))}return i&&c.writeUnknown(),a}if(Array.isArray(r)&&n.isListSchema()){let i=n.getValueSchema(),a=[],c=!!n.getMergedTraits().sparse;for(let u of r)(c||u!=null)&&a.push(this._read(i,u));return a}if(n.isMapSchema()){let i=n.getValueSchema(),a={},c=!!n.getMergedTraits().sparse;for(let[u,m]of Object.entries(r))(c||m!=null)&&(a[u]=this._read(i,m));return a}}if(n.isBlobSchema()&&typeof r=="string")return st(r);let s=n.getMergedTraits().mediaType;if(n.isStringSchema()&&typeof r=="string"&&s)return s==="application/json"||s.endsWith("+json")?on.from(r):r;if(n.isTimestampSchema()&&r!=null)switch(Kn(n,this.settings)){case 5:return EP(r);case 6:return Hf(r);case 7:return _P(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(n.isBigDecimalSchema()&&r!=null){if(r instanceof pr)return r;let i=r;return i.type==="bigDecimal"&&"string"in i?new pr(i.string,i.type):new pr(String(r),"bigDecimal")}if(n.isNumericSchema()&&typeof r=="string"){switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return r}if(n.isDocumentSchema())if(o){let i=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof pr?i[a]=c:i[a]=this._read(n,c);return i}else return structuredClone(r);return r}}});var g1,uh,x1=p(()=>{Cs();g1="\u039D",uh=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(e,r)=>{if(r instanceof pr){let o=`${g1+"nv"+this.counter++}_`+r.string;return this.values.set(`"${o}"`,r.string),o}if(typeof r=="bigint"){let o=r.toString(),n=`${g1+"b"+this.counter++}_`+o;return this.values.set(`"${n}"`,o),n}return r}}replaceInJson(e){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return e;for(let[r,o]of this.values)e=e.replace(r,o);return e}}});var Hu,tR=p(()=>{vs();ve();Cs();Kt();_a();Fd();x1();Hu=class extends Do{settings;buffer;useReplacer=!1;rootSchema;constructor(e){super(),this.settings=e}write(e,r){this.rootSchema=ne.of(e),this.buffer=this._write(this.rootSchema,r)}writeDiscriminatedDocument(e,r){this.write(e,r),typeof this.buffer=="object"&&(this.buffer.__type=ne.of(e).getName(!0))}flush(){let{rootSchema:e,useReplacer:r}=this;if(this.rootSchema=void 0,this.useReplacer=!1,e?.isStructSchema()||e?.isDocumentSchema()){if(!r)return JSON.stringify(this.buffer);let o=new uh;return o.replaceInJson(JSON.stringify(this.buffer,o.createReplacer(),0))}return this.buffer}_write(e,r,o){let n=r!==null&&typeof r=="object",s=ne.of(e);if(n){if(s.isStructSchema()){let i={};for(let[a,c]of Uu(s,r)){let u=this._write(c,r[a],s);if(u!==void 0){let m=c.getMergedTraits().jsonName,f=this.settings.jsonName?m??a:a;i[f]=u}}if(s.isUnionSchema()&&Object.keys(i).length===0){let{$unknown:a}=r;if(Array.isArray(a)){let[c,u]=a;i[c]=this._write(15,u)}}return i}if(Array.isArray(r)&&s.isListSchema()){let i=s.getValueSchema(),a=[],c=!!s.getMergedTraits().sparse;for(let u of r)(c||u!=null)&&a.push(this._write(i,u));return a}if(s.isMapSchema()){let i=s.getValueSchema(),a={},c=!!s.getMergedTraits().sparse;for(let[u,m]of Object.entries(r))(c||m!=null)&&(a[u]=this._write(i,m));return a}if(r instanceof Uint8Array&&(s.isBlobSchema()||s.isDocumentSchema()))return s===this.rootSchema?r:(this.serdeContext?.base64Encoder??we)(r);if(r instanceof Date&&(s.isTimestampSchema()||s.isDocumentSchema()))switch(Kn(s,this.settings)){case 5:return r.toISOString().replace(".000Z","Z");case 6:return ji(r);case 7:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}r instanceof pr&&(this.useReplacer=!0)}if(!(r===null&&o?.isStructSchema())){if(s.isStringSchema()){if(typeof r>"u"&&s.isIdempotencyToken())return bs();let i=s.getMergedTraits().mediaType;return r!=null&&i&&(i==="application/json"||i.endsWith("+json"))?on.from(r):r}if(typeof r=="number"&&s.isNumericSchema())return Math.abs(r)===1/0||isNaN(r)?String(r):r;if(typeof r=="string"&&s.isBlobSchema())return s===this.rootSchema?r:(this.serdeContext?.base64Encoder??we)(r);if(typeof r=="bigint"&&(this.useReplacer=!0),s.isDocumentSchema())if(n){let i=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof pr?(this.useReplacer=!0,i[a]=c):i[a]=this._write(s,c);return i}else return structuredClone(r);return r}}}});var Ra,ph=p(()=>{_a();eR();tR();Ra=class extends Do{settings;constructor(e){super(),this.settings=e}createSerializer(){let e=new Hu(this.settings);return e.setSerdeContext(this.serdeContext),e}createDeserializer(){let e=new Gu(this.settings);return e.setSerdeContext(this.serdeContext),e}}});var dh,rR=p(()=>{vs();ve();Ud();ph();Gd();dh=class extends Ou{serializer;deserializer;serviceTarget;codec;mixin;awsQueryCompatible;constructor({defaultNamespace:e,serviceTarget:r,awsQueryCompatible:o,jsonCodec:n}){super({defaultNamespace:e}),this.serviceTarget=r,this.codec=n??new Ra({timestampFormat:{useTrait:!0,default:7},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!o,this.mixin=new ti(this.awsQueryCompatible)}async serializeRequest(e,r,o){let n=await super.serializeRequest(e,r,o);return n.path.endsWith("/")||(n.path+="/"),Object.assign(n.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${e.name}`}),this.awsQueryCompatible&&(n.headers["x-amzn-query-mode"]="true"),(xa(e.input)==="unit"||!n.body)&&(n.body="{}"),n}getPayloadCodec(){return this.codec}async handleError(e,r,o,n,s){this.awsQueryCompatible&&this.mixin.setQueryCompatError(n,o);let i=ch(o,n)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,o,n,s,this.awsQueryCompatible?this.mixin.findQueryCompatibleError:void 0),u=ne.of(a),m=n.message??n.Message??"Unknown",f=R.for(a[1]).getErrorCtor(a)??Error,h=new f(m),g={};for(let[_,b]of u.structIterator())n[_]!=null&&(g[_]=this.codec.createDeserializer().readObject(b,n[_]));throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(n,g),this.mixin.decorateServiceException(Object.assign(h,c,{$fault:u.getMergedTraits().error,message:m},g),n)}}});var lh,y1=p(()=>{rR();lh=class extends dh{constructor({defaultNamespace:e,serviceTarget:r,awsQueryCompatible:o,jsonCodec:n}){super({defaultNamespace:e,serviceTarget:r,awsQueryCompatible:o,jsonCodec:n})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var S1=p(()=>{});var ba,E1=p(()=>{vs();ve();Ud();ph();Gd();ba=class extends Du{serializer;deserializer;codec;mixin=new ti;constructor({defaultNamespace:e}){super({defaultNamespace:e});let r={timestampFormat:{useTrait:!0,default:7},httpBindings:!0,jsonName:!0};this.codec=new Ra(r),this.serializer=new Nu(this.codec.createSerializer(),r),this.deserializer=new ku(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(e){this.codec.setSerdeContext(e),super.setSerdeContext(e)}async serializeRequest(e,r,o){let n=await super.serializeRequest(e,r,o),s=ne.of(e.input);if(!n.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),s);i&&(n.headers["content-type"]=i)}return n.body==null&&n.headers["content-type"]===this.getDefaultContentType()&&(n.body="{}"),n}async deserializeResponse(e,r,o){let n=await super.deserializeResponse(e,r,o),s=ne.of(e.output);for(let[i,a]of s.structIterator())a.getMemberTraits().httpPayload&&!(i in n)&&(n[i]=null);return n}async handleError(e,r,o,n,s){let i=ch(o,n)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,o,n,s),u=ne.of(a),m=n.message??n.Message??"Unknown",f=R.for(a[1]).getErrorCtor(a)??Error,h=new f(m);await this.deserializeHttpMessage(a,r,o,n);let g={};for(let[_,b]of u.structIterator()){let T=b.getMergedTraits().jsonName??_;g[_]=this.codec.createDeserializer().readObject(b,n[T])}throw this.mixin.decorateServiceException(Object.assign(h,c,{$fault:u.getMergedTraits().error,message:m},g),n)}getDefaultContentType(){return"application/json"}}});var _1=p(()=>{});function R1(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}var b1=p(()=>{});function C1(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}var v1=p(()=>{});var bc,oR=p(()=>{v1();bc=class{value;constructor(e){this.value=e}toString(){return C1(""+this.value)}}});var sn,I1=p(()=>{b1();oR();sn=class t{name;children;attributes={};static of(e,r,o){let n=new t(e);return r!==void 0&&n.addChildNode(new bc(r)),o!==void 0&&n.withName(o),n}constructor(e,r=[]){this.name=e,this.children=r}withName(e){return this.name=e,this}addAttribute(e,r){return this.attributes[e]=r,this}addChildNode(e){return this.children.push(e),this}removeAttribute(e){return delete this.attributes[e],this}n(e){return this.name=e,this}c(e){return this.children.push(e),this}a(e,r){return r!=null&&(this.attributes[e]=r),this}cc(e,r,o=r){if(e[r]!=null){let n=t.of(r,e[r]).withName(o);this.c(n)}}l(e,r,o,n){e[r]!=null&&n().map(i=>{i.withName(o),this.c(i)})}lc(e,r,o,n){if(e[r]!=null){let s=n(),i=new t(o);s.map(a=>{i.c(a)}),this.c(i)}}toString(){let e=!!this.children.length,r=`<${this.name}`,o=this.attributes;for(let n of Object.keys(o)){let s=o[n];s!=null&&(r+=` ${n}="${R1(""+s)}"`)}return r+=e?`>${this.children.map(n=>n.toString()).join("")}</${this.name}>`:"/>"}}});function mh(t,e){let r=[],o=e.exec(t);for(;o;){let n=[];n.startIndex=e.lastIndex-o[0].length;let s=o.length;for(let i=0;i<s;i++)n.push(o[i]);r.push(n),o=e.exec(t)}return r}function w1(t){return typeof t<"u"}var T1,AQ,DQ,OQ,Hd,fh=p(()=>{"use strict";T1=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",AQ=T1+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",DQ="["+T1+"]["+AQ+"]*",OQ=new RegExp("^"+DQ+"$");Hd=function(t){let e=OQ.exec(t);return!(e===null||typeof e>"u")}});function k1(t,e){e=Object.assign({},PQ,e);let r=[],o=!1,n=!1;t[0]==="\uFEFF"&&(t=t.substr(1));for(let s=0;s<t.length;s++)if(t[s]==="<"&&t[s+1]==="?"){if(s+=2,s=D1(t,s),s.err)return s}else if(t[s]==="<"){let i=s;if(s++,t[s]==="!"){s=O1(t,s);continue}else{let a=!1;t[s]==="/"&&(a=!0,s++);let c="";for(;s<t.length&&t[s]!==">"&&t[s]!==" "&&t[s]!=="	"&&t[s]!==`
`&&t[s]!=="\r";s++)c+=t[s];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),s--),!FQ(c)){let f;return c.trim().length===0?f="Invalid space after '<'.":f="Tag '"+c+"' is an invalid name.",tr("InvalidTag",f,Ho(t,s))}let u=$Q(t,s);if(u===!1)return tr("InvalidAttr","Attributes for '"+c+"' have open quote.",Ho(t,s));let m=u.value;if(s=u.index,m[m.length-1]==="/"){let f=s-m.length;m=m.substring(0,m.length-1);let h=P1(m,e);if(h===!0)o=!0;else return tr(h.err.code,h.err.msg,Ho(t,f+h.err.line))}else if(a)if(u.tagClosed){if(m.trim().length>0)return tr("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",Ho(t,i));if(r.length===0)return tr("InvalidTag","Closing tag '"+c+"' has not been opened.",Ho(t,i));{let f=r.pop();if(c!==f.tagName){let h=Ho(t,f.tagStartPos);return tr("InvalidTag","Expected closing tag '"+f.tagName+"' (opened in line "+h.line+", col "+h.col+") instead of closing tag '"+c+"'.",Ho(t,i))}r.length==0&&(n=!0)}}else return tr("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",Ho(t,s));else{let f=P1(m,e);if(f!==!0)return tr(f.err.code,f.err.msg,Ho(t,s-m.length+f.err.line));if(n===!0)return tr("InvalidXml","Multiple possible root nodes found.",Ho(t,s));e.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:i}),o=!0}for(s++;s<t.length;s++)if(t[s]==="<")if(t[s+1]==="!"){s++,s=O1(t,s);continue}else if(t[s+1]==="?"){if(s=D1(t,++s),s.err)return s}else break;else if(t[s]==="&"){let f=BQ(t,s);if(f==-1)return tr("InvalidChar","char '&' is not expected.",Ho(t,s));s=f}else if(n===!0&&!A1(t[s]))return tr("InvalidXml","Extra text at the end",Ho(t,s));t[s]==="<"&&s--}}else{if(A1(t[s]))continue;return tr("InvalidChar","char '"+t[s]+"' is not expected.",Ho(t,s))}if(o){if(r.length==1)return tr("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",Ho(t,r[0].tagStartPos));if(r.length>0)return tr("InvalidXml","Invalid '"+JSON.stringify(r.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return tr("InvalidXml","Start tag expected.",1);return!0}function A1(t){return t===" "||t==="	"||t===`
`||t==="\r"}function D1(t,e){let r=e;for(;e<t.length;e++)if(t[e]=="?"||t[e]==" "){let o=t.substr(r,e-r);if(e>5&&o==="xml")return tr("InvalidXml","XML declaration allowed only at the start of the document.",Ho(t,e));if(t[e]=="?"&&t[e+1]==">"){e++;break}else continue}return e}function O1(t,e){if(t.length>e+5&&t[e+1]==="-"&&t[e+2]==="-"){for(e+=3;e<t.length;e++)if(t[e]==="-"&&t[e+1]==="-"&&t[e+2]===">"){e+=2;break}}else if(t.length>e+8&&t[e+1]==="D"&&t[e+2]==="O"&&t[e+3]==="C"&&t[e+4]==="T"&&t[e+5]==="Y"&&t[e+6]==="P"&&t[e+7]==="E"){let r=1;for(e+=8;e<t.length;e++)if(t[e]==="<")r++;else if(t[e]===">"&&(r--,r===0))break}else if(t.length>e+9&&t[e+1]==="["&&t[e+2]==="C"&&t[e+3]==="D"&&t[e+4]==="A"&&t[e+5]==="T"&&t[e+6]==="A"&&t[e+7]==="["){for(e+=8;e<t.length;e++)if(t[e]==="]"&&t[e+1]==="]"&&t[e+2]===">"){e+=2;break}}return e}function $Q(t,e){let r="",o="",n=!1;for(;e<t.length;e++){if(t[e]===kQ||t[e]===NQ)o===""?o=t[e]:o!==t[e]||(o="");else if(t[e]===">"&&o===""){n=!0;break}r+=t[e]}return o!==""?!1:{value:r,index:e,tagClosed:n}}function P1(t,e){let r=mh(t,LQ),o={};for(let n=0;n<r.length;n++){if(r[n][1].length===0)return tr("InvalidAttr","Attribute '"+r[n][2]+"' has no space in starting.",jd(r[n]));if(r[n][3]!==void 0&&r[n][4]===void 0)return tr("InvalidAttr","Attribute '"+r[n][2]+"' is without value.",jd(r[n]));if(r[n][3]===void 0&&!e.allowBooleanAttributes)return tr("InvalidAttr","boolean attribute '"+r[n][2]+"' is not allowed.",jd(r[n]));let s=r[n][2];if(!UQ(s))return tr("InvalidAttr","Attribute '"+s+"' is an invalid name.",jd(r[n]));if(!o.hasOwnProperty(s))o[s]=1;else return tr("InvalidAttr","Attribute '"+s+"' is repeated.",jd(r[n]))}return!0}function MQ(t,e){let r=/\d/;for(t[e]==="x"&&(e++,r=/[\da-fA-F]/);e<t.length;e++){if(t[e]===";")return e;if(!t[e].match(r))break}return-1}function BQ(t,e){if(e++,t[e]===";")return-1;if(t[e]==="#")return e++,MQ(t,e);let r=0;for(;e<t.length;e++,r++)if(!(t[e].match(/\w/)&&r<20)){if(t[e]===";")break;return-1}return e}function tr(t,e,r){return{err:{code:t,msg:e,line:r.line||r,col:r.col}}}function UQ(t){return Hd(t)}function FQ(t){return Hd(t)}function Ho(t,e){let r=t.substring(0,e).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function jd(t){return t.startIndex+t[1].length}var PQ,kQ,NQ,LQ,N1=p(()=>{"use strict";fh();PQ={allowBooleanAttributes:!1,unpairedTags:[]};kQ='"',NQ="'";LQ=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g")});var GQ,$1,L1=p(()=>{GQ={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,e,r){return t},captureMetaData:!1},$1=function(t){return Object.assign({},GQ,t)}});var hh,vn,gh=p(()=>{"use strict";typeof Symbol!="function"?hh="@@xmlMetadata":hh=Symbol("XML Node Metadata");vn=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,r){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:r})}addChild(e,r){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child}),r!==void 0&&(this.child[this.child.length-1][hh]={startIndex:r})}static getMetaDataSymbol(){return hh}}});function nR(t,e){let r={};if(t[e+3]==="O"&&t[e+4]==="C"&&t[e+5]==="T"&&t[e+6]==="Y"&&t[e+7]==="P"&&t[e+8]==="E"){e=e+9;let o=1,n=!1,s=!1,i="";for(;e<t.length;e++)if(t[e]==="<"&&!s){if(n&&Cc(t,"!ENTITY",e)){e+=7;let a,c;[a,c,e]=HQ(t,e+1),c.indexOf("&")===-1&&(r[a]={regx:RegExp(`&${a};`,"g"),val:c})}else if(n&&Cc(t,"!ELEMENT",e)){e+=8;let{index:a}=VQ(t,e+1);e=a}else if(n&&Cc(t,"!ATTLIST",e))e+=8;else if(n&&Cc(t,"!NOTATION",e)){e+=9;let{index:a}=jQ(t,e+1);e=a}else if(Cc(t,"!--",e))s=!0;else throw new Error("Invalid DOCTYPE");o++,i=""}else if(t[e]===">"){if(s?t[e-1]==="-"&&t[e-2]==="-"&&(s=!1,o--):o--,o===0)break}else t[e]==="["?n=!0:i+=t[e];if(o!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:e}}function HQ(t,e){e=Ca(t,e);let r="";for(;e<t.length&&!/\s/.test(t[e])&&t[e]!=='"'&&t[e]!=="'";)r+=t[e],e++;if(sR(r),e=Ca(t,e),t.substring(e,e+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(t[e]==="%")throw new Error("Parameter entities are not supported");let o="";return[e,o]=xh(t,e,"entity"),e--,[r,o,e]}function jQ(t,e){e=Ca(t,e);let r="";for(;e<t.length&&!/\s/.test(t[e]);)r+=t[e],e++;sR(r),e=Ca(t,e);let o=t.substring(e,e+6).toUpperCase();if(o!=="SYSTEM"&&o!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${o}"`);e+=o.length,e=Ca(t,e);let n=null,s=null;if(o==="PUBLIC")[e,n]=xh(t,e,"publicIdentifier"),e=Ca(t,e),(t[e]==='"'||t[e]==="'")&&([e,s]=xh(t,e,"systemIdentifier"));else if(o==="SYSTEM"&&([e,s]=xh(t,e,"systemIdentifier"),!s))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:r,publicIdentifier:n,systemIdentifier:s,index:--e}}function xh(t,e,r){let o="",n=t[e];if(n!=='"'&&n!=="'")throw new Error(`Expected quoted string, found "${n}"`);for(e++;e<t.length&&t[e]!==n;)o+=t[e],e++;if(t[e]!==n)throw new Error(`Unterminated ${r} value`);return e++,[e,o]}function VQ(t,e){e=Ca(t,e);let r="";for(;e<t.length&&!/\s/.test(t[e]);)r+=t[e],e++;if(!sR(r))throw new Error(`Invalid element name: "${r}"`);e=Ca(t,e);let o="";if(t[e]==="E"&&Cc(t,"MPTY",e))e+=4;else if(t[e]==="A"&&Cc(t,"NY",e))e+=2;else if(t[e]==="("){for(e++;e<t.length&&t[e]!==")";)o+=t[e],e++;if(t[e]!==")")throw new Error("Unterminated content model")}else throw new Error(`Invalid Element Expression, found "${t[e]}"`);return{elementName:r,contentModel:o.trim(),index:e}}function Cc(t,e,r){for(let o=0;o<e.length;o++)if(e[o]!==t[r+o+1])return!1;return!0}function sR(t){if(Hd(t))return t;throw new Error(`Invalid entity name ${t}`)}var Ca,M1=p(()=>{fh();Ca=(t,e)=>{for(;e<t.length&&/\s/.test(t[e]);)e++;return e}});function iR(t,e={}){if(e=Object.assign({},WQ,e),!t||typeof t!="string")return t;let r=t.trim();if(e.skipLike!==void 0&&e.skipLike.test(r))return t;if(t==="0")return 0;if(e.hex&&zQ.test(r))return YQ(r,16);if(r.includes("e")||r.includes("E"))return JQ(t,r,e);{let o=KQ.exec(r);if(o){let n=o[1]||"",s=o[2],i=QQ(o[3]),a=n?t[s.length+1]===".":t[s.length]===".";if(!e.leadingZeros&&(s.length>1||s.length===1&&!a))return t;{let c=Number(r),u=String(c);if(c===0)return c;if(u.search(/[eE]/)!==-1)return e.eNotation?c:t;if(r.indexOf(".")!==-1)return u==="0"||u===i||u===`${n}${i}`?c:t;let m=s?i:r;return s?m===u||n+m===u?c:t:m===u||m===n+u?c:t}}else return t}}function JQ(t,e,r){if(!r.eNotation)return t;let o=e.match(qQ);if(o){let n=o[1]||"",s=o[3].indexOf("e")===-1?"E":"e",i=o[2],a=n?t[i.length+1]===s:t[i.length]===s;return i.length>1&&a?t:i.length===1&&(o[3].startsWith(`.${s}`)||o[3][0]===s)?Number(e):r.leadingZeros&&!a?(e=(o[1]||"")+o[3],Number(e)):t}else return t}function QQ(t){return t&&t.indexOf(".")!==-1&&(t=t.replace(/0+$/,""),t==="."?t="0":t[0]==="."?t="0"+t:t[t.length-1]==="."&&(t=t.substring(0,t.length-1))),t}function YQ(t,e){if(parseInt)return parseInt(t,e);if(Number.parseInt)return Number.parseInt(t,e);if(window&&window.parseInt)return window.parseInt(t,e);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}var zQ,KQ,WQ,qQ,B1=p(()=>{zQ=/^[-+]?0x[a-fA-F0-9]+$/,KQ=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,WQ={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};qQ=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/});function aR(t){return typeof t=="function"?t:Array.isArray(t)?e=>{for(let r of t)if(typeof r=="string"&&e===r||r instanceof RegExp&&r.test(e))return!0}:()=>!1}var U1=p(()=>{});function XQ(t){let e=Object.keys(t);for(let r=0;r<e.length;r++){let o=e[r];this.lastEntities[o]={regex:new RegExp("&"+o+";","g"),val:t[o]}}}function ZQ(t,e,r,o,n,s,i){if(t!==void 0&&(this.options.trimValues&&!o&&(t=t.trim()),t.length>0)){i||(t=this.replaceEntitiesValue(t));let a=this.options.tagValueProcessor(e,t,r,n,s);return a==null?t:typeof a!=typeof t||a!==t?a:this.options.trimValues?uR(t,this.options.parseTagValue,this.options.numberParseOptions):t.trim()===t?uR(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function eY(t){if(this.options.removeNSPrefix){let e=t.split(":"),r=t.charAt(0)==="/"?"/":"";if(e[0]==="xmlns")return"";e.length===2&&(t=r+e[1])}return t}function rY(t,e,r){if(this.options.ignoreAttributes!==!0&&typeof t=="string"){let o=mh(t,tY),n=o.length,s={};for(let i=0;i<n;i++){let a=this.resolveNameSpace(o[i][1]);if(this.ignoreAttributesFn(a,e))continue;let c=o[i][4],u=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(u=this.options.transformAttributeName(u)),u==="__proto__"&&(u="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);let m=this.options.attributeValueProcessor(a,c,e);m==null?s[u]=c:typeof m!=typeof c||m!==c?s[u]=m:s[u]=uR(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[u]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){let i={};return i[this.options.attributesGroupName]=s,i}return s}}function nY(t,e,r,o){this.options.captureMetaData||(o=void 0);let n=this.options.updateTag(e.tagname,r,e[":@"]);n===!1||(typeof n=="string"&&(e.tagname=n),t.addChild(e,o))}function iY(t,e,r,o){return t&&(o===void 0&&(o=e.child.length===0),t=this.parseTextData(t,e.tagname,r,!1,e[":@"]?Object.keys(e[":@"]).length!==0:!1,o),t!==void 0&&t!==""&&e.add(this.options.textNodeName,t),t=""),t}function aY(t,e,r){let o="*."+r;for(let n in t){let s=t[n];if(o===s||e===s)return!0}return!1}function cY(t,e,r=">"){let o,n="";for(let s=e;s<t.length;s++){let i=t[s];if(o)i===o&&(o="");else if(i==='"'||i==="'")o=i;else if(i===r[0])if(r[1]){if(t[s+1]===r[1])return{data:n,index:s}}else return{data:n,index:s};else i==="	"&&(i=" ");n+=i}}function vc(t,e,r,o){let n=t.indexOf(e,r);if(n===-1)throw new Error(o);return n+e.length-1}function cR(t,e,r,o=">"){let n=cY(t,e+1,o);if(!n)return;let s=n.data,i=n.index,a=s.search(/\s/),c=s,u=!0;a!==-1&&(c=s.substring(0,a),s=s.substring(a+1).trimStart());let m=c;if(r){let f=c.indexOf(":");f!==-1&&(c=c.substr(f+1),u=c!==n.data.substr(f+1))}return{tagName:c,tagExp:s,closeIndex:i,attrExpPresent:u,rawTagName:m}}function uY(t,e,r){let o=r,n=1;for(;r<t.length;r++)if(t[r]==="<")if(t[r+1]==="/"){let s=vc(t,">",r,`${e} is not closed`);if(t.substring(r+2,s).trim()===e&&(n--,n===0))return{tagContent:t.substring(o,r),i:s};r=s}else if(t[r+1]==="?")r=vc(t,"?>",r+1,"StopNode is not closed.");else if(t.substr(r+1,3)==="!--")r=vc(t,"-->",r+3,"StopNode is not closed.");else if(t.substr(r+1,2)==="![")r=vc(t,"]]>",r,"StopNode is not closed.")-2;else{let s=cR(t,r,">");s&&((s&&s.tagName)===e&&s.tagExp[s.tagExp.length-1]!=="/"&&n++,r=s.closeIndex)}}function uR(t,e,r){if(e&&typeof t=="string"){let o=t.trim();return o==="true"?!0:o==="false"?!1:iR(t,r)}else return w1(t)?t:""}var Vd,tY,oY,sY,F1=p(()=>{"use strict";fh();gh();M1();B1();U1();Vd=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(r,o)=>String.fromCodePoint(Number.parseInt(o,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(r,o)=>String.fromCodePoint(Number.parseInt(o,16))}},this.addExternalEntities=XQ,this.parseXml=oY,this.parseTextData=ZQ,this.resolveNameSpace=eY,this.buildAttributesMap=rY,this.isItStopNode=aY,this.replaceEntitiesValue=sY,this.readStopNodeData=uY,this.saveTextToParentTag=iY,this.addChild=nY,this.ignoreAttributesFn=aR(this.options.ignoreAttributes)}};tY=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");oY=function(t){t=t.replace(/\r\n?/g,`
`);let e=new vn("!xml"),r=e,o="",n="";for(let s=0;s<t.length;s++)if(t[s]==="<")if(t[s+1]==="/"){let a=vc(t,">",s,"Closing Tag is not closed."),c=t.substring(s+2,a).trim();if(this.options.removeNSPrefix){let f=c.indexOf(":");f!==-1&&(c=c.substr(f+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(o=this.saveTextToParentTag(o,r,n));let u=n.substring(n.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let m=0;u&&this.options.unpairedTags.indexOf(u)!==-1?(m=n.lastIndexOf(".",n.lastIndexOf(".")-1),this.tagsNodeStack.pop()):m=n.lastIndexOf("."),n=n.substring(0,m),r=this.tagsNodeStack.pop(),o="",s=a}else if(t[s+1]==="?"){let a=cR(t,s,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(o=this.saveTextToParentTag(o,r,n),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new vn(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,n,a.tagName)),this.addChild(r,c,n,s)}s=a.closeIndex+1}else if(t.substr(s+1,3)==="!--"){let a=vc(t,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){let c=t.substring(s+4,a-2);o=this.saveTextToParentTag(o,r,n),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}s=a}else if(t.substr(s+1,2)==="!D"){let a=nR(t,s);this.docTypeEntities=a.entities,s=a.i}else if(t.substr(s+1,2)==="!["){let a=vc(t,"]]>",s,"CDATA is not closed.")-2,c=t.substring(s+9,a);o=this.saveTextToParentTag(o,r,n);let u=this.parseTextData(c,r.tagname,n,!0,!1,!0,!0);u==null&&(u=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]):r.add(this.options.textNodeName,u),s=a+2}else{let a=cR(t,s,this.options.removeNSPrefix),c=a.tagName,u=a.rawTagName,m=a.tagExp,f=a.attrExpPresent,h=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&o&&r.tagname!=="!xml"&&(o=this.saveTextToParentTag(o,r,n,!1));let g=r;g&&this.options.unpairedTags.indexOf(g.tagname)!==-1&&(r=this.tagsNodeStack.pop(),n=n.substring(0,n.lastIndexOf("."))),c!==e.tagname&&(n+=n?"."+c:c);let _=s;if(this.isItStopNode(this.options.stopNodes,n,c)){let b="";if(m.length>0&&m.lastIndexOf("/")===m.length-1)c[c.length-1]==="/"?(c=c.substr(0,c.length-1),n=n.substr(0,n.length-1),m=c):m=m.substr(0,m.length-1),s=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)s=a.closeIndex;else{let M=this.readStopNodeData(t,u,h+1);if(!M)throw new Error(`Unexpected end of ${u}`);s=M.i,b=M.tagContent}let T=new vn(c);c!==m&&f&&(T[":@"]=this.buildAttributesMap(m,n,c)),b&&(b=this.parseTextData(b,c,n,!0,f,!0,!0)),n=n.substr(0,n.lastIndexOf(".")),T.add(this.options.textNodeName,b),this.addChild(r,T,n,_)}else{if(m.length>0&&m.lastIndexOf("/")===m.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),n=n.substr(0,n.length-1),m=c):m=m.substr(0,m.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let b=new vn(c);c!==m&&f&&(b[":@"]=this.buildAttributesMap(m,n,c)),this.addChild(r,b,n,_),n=n.substr(0,n.lastIndexOf("."))}else{let b=new vn(c);this.tagsNodeStack.push(r),c!==m&&f&&(b[":@"]=this.buildAttributesMap(m,n,c)),this.addChild(r,b,n,_),r=b}o="",s=h}}else o+=t[s];return e.child};sY=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){let r=this.docTypeEntities[e];t=t.replace(r.regx,r.val)}for(let e in this.lastEntities){let r=this.lastEntities[e];t=t.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){let r=this.htmlEntities[e];t=t.replace(r.regex,r.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t}});function dR(t,e){return G1(t,e)}function G1(t,e,r){let o,n={};for(let s=0;s<t.length;s++){let i=t[s],a=pY(i),c="";if(r===void 0?c=a:c=r+"."+a,a===e.textNodeName)o===void 0?o=i[a]:o+=""+i[a];else{if(a===void 0)continue;if(i[a]){let u=G1(i[a],e,c),m=lY(u,e);i[pR]!==void 0&&(u[pR]=i[pR]),i[":@"]?dY(u,i[":@"],c,e):Object.keys(u).length===1&&u[e.textNodeName]!==void 0&&!e.alwaysCreateTextNode?u=u[e.textNodeName]:Object.keys(u).length===0&&(e.alwaysCreateTextNode?u[e.textNodeName]="":u=""),n[a]!==void 0&&n.hasOwnProperty(a)?(Array.isArray(n[a])||(n[a]=[n[a]]),n[a].push(u)):e.isArray(a,c,m)?n[a]=[u]:n[a]=u}}}return typeof o=="string"?o.length>0&&(n[e.textNodeName]=o):o!==void 0&&(n[e.textNodeName]=o),n}function pY(t){let e=Object.keys(t);for(let r=0;r<e.length;r++){let o=e[r];if(o!==":@")return o}}function dY(t,e,r,o){if(e){let n=Object.keys(e),s=n.length;for(let i=0;i<s;i++){let a=n[i];o.isArray(a,r+"."+a,!0,!0)?t[a]=[e[a]]:t[a]=e[a]}}}function lY(t,e){let{textNodeName:r}=e,o=Object.keys(t).length;return!!(o===0||o===1&&(t[r]||typeof t[r]=="boolean"||t[r]===0))}var pR,H1=p(()=>{"use strict";gh();pR=vn.getMetaDataSymbol()});var ju,j1=p(()=>{L1();F1();H1();N1();gh();ju=class{constructor(e){this.externalEntities={},this.options=$1(e)}parse(e,r){if(typeof e!="string")if(e.toString)e=e.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let s=k1(e,r);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}let o=new Vd(this.options);o.addExternalEntities(this.externalEntities);let n=o.parseXml(e);return this.options.preserveOrder||n===void 0?n:dR(n,this.options)}addEntity(e,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(e.indexOf("&")!==-1||e.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=r}static getMetaDataSymbol(){return vn.getMetaDataSymbol()}}});var V1=p(()=>{"use strict";j1()});function mR(t){return lR.parse(t,!0)}var lR,z1=p(()=>{V1();lR=new ju({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(t,e)=>e.trim()===""&&e.includes(`
`)?"":void 0});lR.addEntity("#xD","\r");lR.addEntity("#10",`
`)});var fR=p(()=>{I1();oR();z1()});var Vu,yh=p(()=>{fR();vs();ve();F();wt();_a();Z_();Vu=class extends Do{settings;stringDeserializer;constructor(e){super(),this.settings=e,this.stringDeserializer=new Pu(e)}setSerdeContext(e){this.serdeContext=e,this.stringDeserializer.setSerdeContext(e)}read(e,r,o){let n=ne.of(e),s=n.getMemberSchemas();if(n.isStructSchema()&&n.isMemberSchema()&&!!Object.values(s).find(u=>!!u.getMemberTraits().eventPayload)){let u={},m=Object.keys(s)[0];return s[m].isBlobSchema()?u[m]=r:u[m]=this.read(s[m],r),u}let a=(this.serdeContext?.utf8Encoder??Xe)(r),c=this.parseXml(a);return this.readSchema(e,o?c[o]:c)}readSchema(e,r){let o=ne.of(e);if(o.isUnitSchema())return;let n=o.getMergedTraits();if(o.isListSchema()&&!Array.isArray(r))return this.readSchema(o,[r]);if(r==null)return r;if(typeof r=="object"){let s=!!n.sparse,i=!!n.xmlFlattened;if(o.isListSchema()){let c=o.getValueSchema(),u=[],m=c.getMergedTraits().xmlName??"member",f=i?r:(r[0]??r)[m],h=Array.isArray(f)?f:[f];for(let g of h)(g!=null||s)&&u.push(this.readSchema(c,g));return u}let a={};if(o.isMapSchema()){let c=o.getKeySchema(),u=o.getValueSchema(),m;i?m=Array.isArray(r)?r:[r]:m=Array.isArray(r.entry)?r.entry:[r.entry];let f=c.getMergedTraits().xmlName??"key",h=u.getMergedTraits().xmlName??"value";for(let g of m){let _=g[f],b=g[h];(b!=null||s)&&(a[_]=this.readSchema(u,b))}return a}if(o.isStructSchema()){let c=o.isUnionSchema(),u;c&&(u=new Fu(r,a));for(let[m,f]of o.structIterator()){let h=f.getMergedTraits(),g=h.httpPayload?h.xmlName??f.getName():f.getMemberTraits().xmlName??m;c&&u.mark(g),r[g]!=null&&(a[m]=this.readSchema(f,r[g]))}return c&&u.writeUnknown(),a}if(o.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${o.getName(!0)}`)}return o.isListSchema()?[]:o.isMapSchema()||o.isStructSchema()?{}:this.stringDeserializer.read(o,r)}parseXml(e){if(e.length){let r;try{r=mR(e)}catch(i){throw i&&typeof i=="object"&&Object.defineProperty(i,"$responseBodyText",{value:e}),i}let o="#text",n=Object.keys(r)[0],s=r[n];return s[o]&&(s[n]=s[o],delete s[o]),X_(s)}return{}}}});var Sh,K1=p(()=>{vs();ve();Cs();F();Kt();_a();Fd();Sh=class extends Do{settings;buffer;constructor(e){super(),this.settings=e}write(e,r,o=""){this.buffer===void 0&&(this.buffer="");let n=ne.of(e);if(o&&!o.endsWith(".")&&(o+="."),n.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(o),this.writeValue((this.serdeContext?.base64Encoder??we)(r)));else if(n.isBooleanSchema()||n.isNumericSchema()||n.isStringSchema())r!=null?(this.writeKey(o),this.writeValue(String(r))):n.isIdempotencyToken()&&(this.writeKey(o),this.writeValue(bs()));else if(n.isBigIntegerSchema())r!=null&&(this.writeKey(o),this.writeValue(String(r)));else if(n.isBigDecimalSchema())r!=null&&(this.writeKey(o),this.writeValue(r instanceof pr?r.string:String(r)));else if(n.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(o),Kn(n,this.settings)){case 5:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue(ji(r));break;case 7:this.writeValue(String(r.getTime()/1e3));break}}else if(n.isDocumentSchema())Array.isArray(r)?this.write(79,r,o):r instanceof Date?this.write(4,r,o):r instanceof Uint8Array?this.write(21,r,o):r&&typeof r=="object"?this.write(143,r,o):(this.writeKey(o),this.writeValue(String(r)));else if(n.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(o),this.writeValue(""));else{let s=n.getValueSchema(),i=this.settings.flattenLists||n.getMergedTraits().xmlFlattened,a=1;for(let c of r){if(c==null)continue;let u=this.getKey("member",s.getMergedTraits().xmlName),m=i?`${o}${a}`:`${o}${u}.${a}`;this.write(s,c,m),++a}}}else if(n.isMapSchema()){if(r&&typeof r=="object"){let s=n.getKeySchema(),i=n.getValueSchema(),a=n.getMergedTraits().xmlFlattened,c=1;for(let[u,m]of Object.entries(r)){if(m==null)continue;let f=this.getKey("key",s.getMergedTraits().xmlName),h=a?`${o}${c}.${f}`:`${o}entry.${c}.${f}`,g=this.getKey("value",i.getMergedTraits().xmlName),_=a?`${o}${c}.${g}`:`${o}entry.${c}.${g}`;this.write(s,u,h),this.write(i,m,_),++c}}}else if(n.isStructSchema()){if(r&&typeof r=="object"){let s=!1;for(let[i,a]of Uu(n,r)){if(r[i]==null&&!a.isIdempotencyToken())continue;let c=this.getKey(i,a.getMergedTraits().xmlName),u=`${o}${c}`;this.write(a,r[i],u),s=!0}if(!s&&n.isUnionSchema()){let{$unknown:i}=r;if(Array.isArray(i)){let[a,c]=i,u=`${o}${a}`;this.write(15,c,u)}}}}else if(!n.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${n.getName(!0)}`)}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let e=this.buffer;return delete this.buffer,e}getKey(e,r){let o=r??e;return this.settings.capitalizeKeys?o[0].toUpperCase()+o.slice(1):o}writeKey(e){e.endsWith(".")&&(e=e.slice(0,e.length-1)),this.buffer+=`&${vu(e)}=`}writeValue(e){this.buffer+=vu(e)}}});var ri,W1=p(()=>{vs();ve();Ud();yh();K1();ri=class extends Ou{options;serializer;deserializer;mixin=new ti;constructor(e){super({defaultNamespace:e.defaultNamespace}),this.options=e;let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:e.xmlNamespace,serviceNamespace:e.defaultNamespace,serializeEmptyLists:!0};this.serializer=new Sh(r),this.deserializer=new Vu(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(e){this.serializer.setSerdeContext(e),this.deserializer.setSerdeContext(e)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(e,r,o){let n=await super.serializeRequest(e,r,o);n.path.endsWith("/")||(n.path+="/"),Object.assign(n.headers,{"content-type":"application/x-www-form-urlencoded"}),(xa(e.input)==="unit"||!n.body)&&(n.body="");let s=e.name.split("#")[1]??e.name;return n.body=`Action=${s}&Version=${this.options.version}`+n.body,n.body.endsWith("&")&&(n.body=n.body.slice(-1)),n}async deserializeResponse(e,r,o){let n=this.deserializer,s=ne.of(e.output),i={};if(o.statusCode>=300){let f=await rn(o.body,r);f.byteLength>0&&Object.assign(i,await n.read(15,f)),await this.handleError(e,r,o,i,this.deserializeMetadata(o))}for(let f in o.headers){let h=o.headers[f];delete o.headers[f],o.headers[f.toLowerCase()]=h}let a=e.name.split("#")[1]??e.name,c=s.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,u=await rn(o.body,r);return u.byteLength>0&&Object.assign(i,await n.read(s,u,c)),{$metadata:this.deserializeMetadata(o),...i}}useNestedResult(){return!0}async handleError(e,r,o,n,s){let i=this.loadQueryErrorCode(o,n)??"Unknown",a=this.loadQueryError(n),c=this.loadQueryErrorMessage(n);a.message=c,a.Error={Type:a.Type,Code:a.Code,Message:c};let{errorSchema:u,errorMetadata:m}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,o,a,s,this.mixin.findQueryCompatibleError),f=ne.of(u),h=R.for(u[1]).getErrorCtor(u)??Error,g=new h(c),_={Type:a.Error.Type,Code:a.Error.Code,Error:a.Error};for(let[b,T]of f.structIterator()){let M=T.getMergedTraits().xmlName??b,U=a[M]??n[M];_[b]=this.deserializer.readSchema(T,U)}throw this.mixin.decorateServiceException(Object.assign(g,m,{$fault:f.getMergedTraits().error,message:c},_),n)}loadQueryErrorCode(e,r){let o=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(o!==void 0)return o;if(e.statusCode==404)return"NotFound"}loadQueryError(e){return e.Errors?.[0]?.Error??e.Errors?.Error??e.Error}loadQueryErrorMessage(e){let r=this.loadQueryError(e);return r?.message??r?.Message??e.message??e.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var q1=p(()=>{});var J1,hR=p(()=>{J1=(t,e)=>{if(e?.Error?.Code!==void 0)return e.Error.Code;if(e?.Code!==void 0)return e.Code;if(t.statusCode==404)return"NotFound"}});var Eh,gR=p(()=>{fR();vs();ve();Cs();F();Kt();_a();Fd();Eh=class extends Do{settings;stringBuffer;byteBuffer;buffer;constructor(e){super(),this.settings=e}write(e,r){let o=ne.of(e);if(o.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(o.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??st)(r);else{this.buffer=this.writeStruct(o,r,void 0);let n=o.getMergedTraits();n.httpPayload&&!n.xmlName&&this.buffer.withName(o.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let e=this.buffer;return this.settings.xmlNamespace&&(e?.attributes?.xmlns||e.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,e.toString()}writeStruct(e,r,o){let n=e.getMergedTraits(),s=e.isMemberSchema()&&!n.httpPayload?e.getMemberTraits().xmlName??e.getMemberName():n.xmlName??e.getName();if(!s||!e.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${e.getName(!0)}.`);let i=sn.of(s),[a,c]=this.getXmlnsAttribute(e,o);for(let[m,f]of Uu(e,r)){let h=r[m];if(h!=null||f.isIdempotencyToken()){if(f.getMergedTraits().xmlAttribute){i.addAttribute(f.getMergedTraits().xmlName??m,this.writeSimple(f,h));continue}if(f.isListSchema())this.writeList(f,h,i,c);else if(f.isMapSchema())this.writeMap(f,h,i,c);else if(f.isStructSchema())i.addChildNode(this.writeStruct(f,h,c));else{let g=sn.of(f.getMergedTraits().xmlName??f.getMemberName());this.writeSimpleInto(f,h,g,c),i.addChildNode(g)}}}let{$unknown:u}=r;if(u&&e.isUnionSchema()&&Array.isArray(u)&&Object.keys(r).length===1){let[m,f]=u,h=sn.of(m);if(typeof f!="string")if(r instanceof sn||r instanceof bc)i.addChildNode(r);else throw new Error("@aws-sdk - $unknown union member in XML requires value of type string, @aws-sdk/xml-builder::XmlNode or XmlText.");this.writeSimpleInto(0,f,h,c),i.addChildNode(h)}return c&&i.addAttribute(a,c),i}writeList(e,r,o,n){if(!e.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${e.getName(!0)}`);let s=e.getMergedTraits(),i=e.getValueSchema(),a=i.getMergedTraits(),c=!!a.sparse,u=!!s.xmlFlattened,[m,f]=this.getXmlnsAttribute(e,n),h=(g,_)=>{if(i.isListSchema())this.writeList(i,Array.isArray(_)?_:[_],g,f);else if(i.isMapSchema())this.writeMap(i,_,g,f);else if(i.isStructSchema()){let b=this.writeStruct(i,_,f);g.addChildNode(b.withName(u?s.xmlName??e.getMemberName():a.xmlName??"member"))}else{let b=sn.of(u?s.xmlName??e.getMemberName():a.xmlName??"member");this.writeSimpleInto(i,_,b,f),g.addChildNode(b)}};if(u)for(let g of r)(c||g!=null)&&h(o,g);else{let g=sn.of(s.xmlName??e.getMemberName());f&&g.addAttribute(m,f);for(let _ of r)(c||_!=null)&&h(g,_);o.addChildNode(g)}}writeMap(e,r,o,n,s=!1){if(!e.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${e.getName(!0)}`);let i=e.getMergedTraits(),a=e.getKeySchema(),u=a.getMergedTraits().xmlName??"key",m=e.getValueSchema(),f=m.getMergedTraits(),h=f.xmlName??"value",g=!!f.sparse,_=!!i.xmlFlattened,[b,T]=this.getXmlnsAttribute(e,n),M=(U,ie,le)=>{let Qe=sn.of(u,ie),[Lt,Mn]=this.getXmlnsAttribute(a,T);Mn&&Qe.addAttribute(Lt,Mn),U.addChildNode(Qe);let Ye=sn.of(h);m.isListSchema()?this.writeList(m,le,Ye,T):m.isMapSchema()?this.writeMap(m,le,Ye,T,!0):m.isStructSchema()?Ye=this.writeStruct(m,le,T):this.writeSimpleInto(m,le,Ye,T),U.addChildNode(Ye)};if(_){for(let[U,ie]of Object.entries(r))if(g||ie!=null){let le=sn.of(i.xmlName??e.getMemberName());M(le,U,ie),o.addChildNode(le)}}else{let U;s||(U=sn.of(i.xmlName??e.getMemberName()),T&&U.addAttribute(b,T),o.addChildNode(U));for(let[ie,le]of Object.entries(r))if(g||le!=null){let Qe=sn.of("entry");M(Qe,ie,le),(s?o:U).addChildNode(Qe)}}}writeSimple(e,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let o=ne.of(e),n=null;if(r&&typeof r=="object")if(o.isBlobSchema())n=(this.serdeContext?.base64Encoder??we)(r);else if(o.isTimestampSchema()&&r instanceof Date)switch(Kn(o,this.settings)){case 5:n=r.toISOString().replace(".000Z","Z");break;case 6:n=ji(r);break;case 7:n=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),n=ji(r);break}else{if(o.isBigDecimalSchema()&&r)return r instanceof pr?r.string:String(r);throw o.isMapSchema()||o.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${o.getName(!0)}`)}if((o.isBooleanSchema()||o.isNumericSchema()||o.isBigIntegerSchema()||o.isBigDecimalSchema())&&(n=String(r)),o.isStringSchema()&&(r===void 0&&o.isIdempotencyToken()?n=bs():n=String(r)),n===null)throw new Error(`Unhandled schema-value pair ${o.getName(!0)}=${r}`);return n}writeSimpleInto(e,r,o,n){let s=this.writeSimple(e,r),i=ne.of(e),a=new bc(s),[c,u]=this.getXmlnsAttribute(i,n);u&&o.addAttribute(c,u),o.addChildNode(a)}getXmlnsAttribute(e,r){let o=e.getMergedTraits(),[n,s]=o.xmlNamespace??[];return s&&s!==r?[n?`xmlns:${n}`:"xmlns",s]:[void 0,void 0]}}});var _h,xR=p(()=>{_a();yh();gR();_h=class extends Do{settings;constructor(e){super(),this.settings=e}createSerializer(){let e=new Eh(this.settings);return e.setSerdeContext(this.serdeContext),e}createDeserializer(){let e=new Vu(this.settings);return e.setSerdeContext(this.serdeContext),e}}});var Rh,Q1=p(()=>{vs();ve();Ud();hR();xR();Rh=class extends Du{codec;serializer;deserializer;mixin=new ti;constructor(e){super(e);let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!0,xmlNamespace:e.xmlNamespace,serviceNamespace:e.defaultNamespace};this.codec=new _h(r),this.serializer=new Nu(this.codec.createSerializer(),r),this.deserializer=new ku(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(e,r,o){let n=await super.serializeRequest(e,r,o),s=ne.of(e.input);if(!n.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),s);i&&(n.headers["content-type"]=i)}return typeof n.body=="string"&&n.headers["content-type"]===this.getDefaultContentType()&&!n.body.startsWith("<?xml ")&&!this.hasUnstructuredPayloadBinding(s)&&(n.body='<?xml version="1.0" encoding="UTF-8"?>'+n.body),n}async deserializeResponse(e,r,o){return super.deserializeResponse(e,r,o)}async handleError(e,r,o,n,s){let i=J1(o,n)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,o,n,s),u=ne.of(a),m=n.Error?.message??n.Error?.Message??n.message??n.Message??"Unknown",f=R.for(a[1]).getErrorCtor(a)??Error,h=new f(m);await this.deserializeHttpMessage(a,r,o,n);let g={};for(let[_,b]of u.structIterator()){let T=b.getMergedTraits().xmlName??_,M=n.Error?.[T]??n[T];g[_]=this.codec.createDeserializer().readSchema(b,M)}throw this.mixin.decorateServiceException(Object.assign(h,c,{$fault:u.getMergedTraits().error,message:m},g),n)}getDefaultContentType(){return"application/xml"}hasUnstructuredPayloadBinding(e){for(let[,r]of e.structIterator())if(r.getMergedTraits().httpPayload)return!(r.isStructSchema()||r.isMapSchema()||r.isListSchema());return!1}}});var Yn=p(()=>{c1();u1();y1();S1();rR();E1();ph();eR();tR();_1();Gd();q1();W1();Q1();xR();yh();gR();hR()});var Je=p(()=>{yo();D3();Yn()});async function Y1(t,e,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&Dt(t,"PROTOCOL_RPC_V2_CBOR","M"),typeof e.retryStrategy=="function"){let s=await e.retryStrategy();typeof s.acquireInitialRetryToken=="function"?s.constructor?.name?.includes("Adaptive")?Dt(t,"RETRY_MODE_ADAPTIVE","F"):Dt(t,"RETRY_MODE_STANDARD","E"):Dt(t,"RETRY_MODE_LEGACY","D")}if(typeof e.accountIdEndpointMode=="function"){let s=t.endpointV2;switch(String(s?.url?.hostname).match(mY)&&Dt(t,"ACCOUNT_ID_ENDPOINT","O"),await e.accountIdEndpointMode?.()){case"disabled":Dt(t,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":Dt(t,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":Dt(t,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let n=t.__smithy_context?.selectedHttpAuthScheme?.identity;if(n?.$source){let s=n;s.accountId&&Dt(t,"RESOLVED_ACCOUNT_ID","T");for(let[i,a]of Object.entries(s.$source??{}))Dt(t,i,a)}}var mY,X1=p(()=>{Je();mY=/\d{12}\.ddb/});var yR,bh,SR,Ch,Z1,e$,ER,t$=p(()=>{yR="user-agent",bh="x-amz-user-agent",SR=" ",Ch="/",Z1=/[^!$%&'*+\-.^_`|~\w]/g,e$=/[^!$%&'*+\-.^_`|~\w#]/g,ER="-"});function r$(t){let e="";for(let r in t){let o=t[r];if(e.length+o.length+1<=1024){e.length?e+=","+o:e+=o;continue}break}return e}var o$=p(()=>{});var fY,vh,hY,Kr,n$=p(()=>{Is();Pe();X1();t$();o$();fY=t=>(e,r)=>async o=>{let{request:n}=o;if(!me.isInstance(n))return e(o);let{headers:s}=n,i=r?.userAgent?.map(vh)||[],a=(await t.defaultUserAgentProvider()).map(vh);await Y1(r,t,o);let c=r;a.push(`m/${r$(Object.assign({},r.__smithy_context?.features,c.__aws_sdk_context?.features))}`);let u=t?.customUserAgent?.map(vh)||[],m=await t.userAgentAppId();m&&a.push(vh(["app",`${m}`]));let f=lN(),h=(f?[f]:[]).concat([...a,...i,...u]).join(SR),g=[...a.filter(_=>_.startsWith("aws-sdk-")),...u].join(SR);return t.runtime!=="browser"?(g&&(s[bh]=s[bh]?`${s[yR]} ${g}`:g),s[yR]=h):s[bh]=h,e({...o,request:n})},vh=t=>{let e=t[0].split(Ch).map(i=>i.replace(Z1,ER)).join(Ch),r=t[1]?.replace(e$,ER),o=e.indexOf(Ch),n=e.substring(0,o),s=e.substring(o+1);return n==="api"&&(s=s.toLowerCase()),[n,s,r].filter(i=>i&&i.length>0).reduce((i,a,c)=>{switch(c){case 0:return a;case 1:return`${i}/${a}`;default:return`${i}#${a}`}},"")},hY={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Kr=t=>({applyToStack:e=>{e.add(fY(t),hY)}})});var Ts=p(()=>{ck();n$()});var Xn,s$=p(()=>{Xn=(t,e,r)=>{if(e in t){if(t[e]==="true")return!0;if(t[e]==="false")return!1;throw new Error(`Cannot load ${r} "${e}". Expected "true" or "false", got ${t[e]}.`)}}});var i$=p(()=>{});var an,a$=p(()=>{(function(t){t.ENV="env",t.CONFIG="shared config entry"})(an||(an={}))});var zd=p(()=>{s$();i$();a$()});var gY,xY,Wr,c$=p(()=>{zd();gY="AWS_USE_DUALSTACK_ENDPOINT",xY="use_dualstack_endpoint",Wr={environmentVariableSelector:t=>Xn(t,gY,an.ENV),configFileSelector:t=>Xn(t,xY,an.CONFIG),default:!1}});var yY,SY,qr,u$=p(()=>{zd();yY="AWS_USE_FIPS_ENDPOINT",SY="use_fips_endpoint",qr={environmentVariableSelector:t=>Xn(t,yY,an.ENV),configFileSelector:t=>Xn(t,SY,an.CONFIG),default:!1}});var p$=p(()=>{});var d$=p(()=>{});var l$=p(()=>{c$();u$();p$();d$()});var EY,_Y,Jt,fr,m$=p(()=>{EY="AWS_REGION",_Y="region",Jt={environmentVariableSelector:t=>t[EY],configFileSelector:t=>t[_Y],default:()=>{throw new Error("Region is missing")}},fr={preferredFile:"credentials"}});var f$,h$,g$=p(()=>{nn();f$=new Set,h$=(t,e=Sc)=>{if(!f$.has(t)&&!e(t))if(t==="*")console.warn('@smithy/config-resolver WARN - Please use the caller region instead of "*". See "sigv4a" in https://github.com/aws/aws-sdk-js-v3/blob/main/supplemental-docs/CLIENTS.md.');else throw new Error(`Region not accepted: region="${t}" is not a valid hostname component.`);else f$.add(t)}});var Ih,_R=p(()=>{Ih=t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips"))});var x$,y$=p(()=>{_R();x$=t=>Ih(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t});var Jr,S$=p(()=>{g$();y$();_R();Jr=t=>{let{region:e,useFipsEndpoint:r}=t;if(!e)throw new Error("Region is missing");return Object.assign(t,{region:async()=>{let o=typeof e=="function"?await e():e,n=x$(o);return h$(n),n},useFipsEndpoint:async()=>{let o=typeof e=="string"?e:await e();return Ih(o)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})}});var E$=p(()=>{m$();S$()});var _$=p(()=>{});var R$=p(()=>{});var b$=p(()=>{});var C$=p(()=>{_$();R$();b$()});var rr=p(()=>{l$();E$();C$()});function RY(t){return e=>async r=>{let o=r.request;if(me.isInstance(o)){let{body:n,headers:s}=o;if(n&&Object.keys(s).map(i=>i.toLowerCase()).indexOf(v$)===-1)try{let i=t(n);o.headers={...o.headers,[v$]:String(i)}}catch{}}return e({...r,request:o})}}var v$,bY,Qr,oi=p(()=>{Pe();v$="content-length";bY={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Qr=t=>({applyToStack:e=>{e.add(RY(t.bodyLengthChecker),bY)}})});var I$,CY,vY,IY,TY,wY,T$=p(()=>{I$=async t=>{let e=t?.Bucket||"";if(typeof t.Bucket=="string"&&(t.Bucket=e.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),wY(e)){if(t.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!TY(e)||e.indexOf(".")!==-1&&!String(t.Endpoint).startsWith("http:")||e.toLowerCase()!==e||e.length<3)&&(t.ForcePathStyle=!0);return t.DisableMultiRegionAccessPoints&&(t.disableMultiRegionAccessPoints=!0,t.DisableMRAP=!0),t},CY=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,vY=/(\d+\.){3}\d+/,IY=/\.\./,TY=t=>CY.test(t)&&!vY.test(t)&&!IY.test(t),wY=t=>{let[e,r,o,,,n]=t.split(":"),s=e==="arn"&&t.split(":").length>=6,i=!!(s&&r&&o&&n);if(s&&!i)throw new Error(`Invalid ARN: ${t} was an invalid ARN.`);return i}});var w$=p(()=>{T$()});var A$,D$=p(()=>{A$=(t,e,r,o=!1)=>{let n=async()=>{let s;return o?s=r.clientContextParams?.[t]??r[t]??r[e]:s=r[t]??r[e],typeof s=="function"?s():s};return t==="credentialScope"||e==="CredentialScope"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.credentialScope??s?.CredentialScope}:t==="accountId"||e==="AccountId"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.accountId??s?.AccountId}:t==="endpoint"||e==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let s=await n();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){let{protocol:i,hostname:a,port:c,path:u}=s;return`${i}//${a}${c?":"+c:""}${u}`}}return s}:n}});function Th(t){try{let e=new Set(Array.from(t.match(/([A-Z_]){3,}/g)??[]));return e.delete("CONFIG"),e.delete("CONFIG_PREFIX_SEPARATOR"),e.delete("ENV"),[...e].join(", ")}catch{return t}}var RR=p(()=>{});var O$,P$=p(()=>{ct();RR();O$=(t,e)=>async()=>{try{let r=t(process.env,e);if(r===void 0)throw new Error;return r}catch(r){throw new Q(r.message||`Not found in ENV: ${Th(t.toString())}`,{logger:e?.logger})}}});import{homedir as AY}from"os";import{sep as DY}from"path";var bR,OY,va,zu=p(()=>{bR={},OY=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",va=()=>{let{HOME:t,USERPROFILE:e,HOMEPATH:r,HOMEDRIVE:o=`C:${DY}`}=process.env;if(t)return t;if(e)return e;if(r)return`${o}${r}`;let n=OY();return bR[n]||(bR[n]=AY()),bR[n]}});var CR,PY,cn,k$=p(()=>{CR="AWS_PROFILE",PY="default",cn=t=>t.profile||process.env[CR]||PY});import{createHash as kY}from"crypto";import{join as NY}from"path";var wh,vR=p(()=>{zu();wh=t=>{let r=kY("sha1").update(t).digest("hex");return NY(va(),".aws","sso","cache",`${r}.json`)}});import{readFile as $Y}from"fs/promises";var Kd,Wd,IR=p(()=>{vR();Kd={},Wd=async t=>{if(Kd[t])return Kd[t];let e=wh(t),r=await $Y(e,"utf8");return JSON.parse(r)}});var In,Ah=p(()=>{In="."});var N$,$$=p(()=>{fa();Ah();N$=t=>Object.entries(t).filter(([e])=>{let r=e.indexOf(In);return r===-1?!1:Object.values($i).includes(e.substring(0,r))}).reduce((e,[r,o])=>{let n=r.indexOf(In),s=r.substring(0,n)===$i.PROFILE?r.substring(n+1):r;return e[s]=o,e},{...t.default&&{default:t.default}})});import{join as LY}from"path";var MY,Dh,TR=p(()=>{zu();MY="AWS_CONFIG_FILE",Dh=()=>process.env[MY]||LY(va(),".aws","config")});import{join as BY}from"path";var UY,L$,M$=p(()=>{zu();UY="AWS_SHARED_CREDENTIALS_FILE",L$=()=>process.env[UY]||BY(va(),".aws","credentials")});var FY,GY,qd,wR=p(()=>{fa();Ah();FY=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,GY=["__proto__","profile __proto__"],qd=t=>{let e={},r,o;for(let n of t.split(/\r?\n/)){let s=n.split(/(^|\s)[;#]/)[0].trim();if(s[0]==="["&&s[s.length-1]==="]"){r=void 0,o=void 0;let a=s.substring(1,s.length-1),c=FY.exec(a);if(c){let[,u,,m]=c;Object.values($i).includes(u)&&(r=[u,m].join(In))}else r=a;if(GY.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=s.indexOf("=");if(![0,-1].includes(a)){let[c,u]=[s.substring(0,a).trim(),s.substring(a+1).trim()];if(u==="")o=c;else{o&&n.trimStart()===n&&(o=void 0),e[r]=e[r]||{};let m=o?[o,c].join(In):c;e[r][m]=u}}}}return e}});import{readFile as HY}from"node:fs/promises";var AR,Jd,Ia,Qd=p(()=>{AR={},Jd={},Ia=(t,e)=>Jd[t]!==void 0?Jd[t]:((!AR[t]||e?.ignoreCache)&&(AR[t]=HY(t,"utf8")),AR[t])});import{join as B$}from"path";var U$,Oh,Ph=p(()=>{$$();TR();M$();zu();wR();Qd();Ah();U$=()=>({}),Oh=async(t={})=>{let{filepath:e=L$(),configFilepath:r=Dh()}=t,o=va(),n="~/",s=e;e.startsWith(n)&&(s=B$(o,e.slice(2)));let i=r;r.startsWith(n)&&(i=B$(o,r.slice(2)));let a=await Promise.all([Ia(i,{ignoreCache:t.ignoreCache}).then(qd).then(N$).catch(U$),Ia(s,{ignoreCache:t.ignoreCache}).then(qd).catch(U$)]);return{configFile:a[0],credentialsFile:a[1]}}});var F$,G$=p(()=>{fa();Ph();F$=t=>Object.entries(t).filter(([e])=>e.startsWith($i.SSO_SESSION+In)).reduce((e,[r,o])=>({...e,[r.substring(r.indexOf(In)+1)]:o}),{})});var jY,kh,H$=p(()=>{TR();G$();wR();Qd();jY=()=>({}),kh=async(t={})=>Ia(t.configFilepath??Dh()).then(qd).then(F$).catch(jY)});var j$,V$=p(()=>{j$=(...t)=>{let e={};for(let r of t)for(let[o,n]of Object.entries(r))e[o]!==void 0?Object.assign(e[o],n):e[o]=n;return e}});var ni,z$=p(()=>{Ph();V$();ni=async t=>{let e=await Oh(t);return j$(e.configFile,e.credentialsFile)}});var Yd,K$=p(()=>{IR();Qd();Yd={getFileRecord(){return Jd},interceptFile(t,e){Jd[t]=Promise.resolve(e)},getTokenRecord(){return Kd},interceptToken(t,e){Kd[t]=e}}});var W$=p(()=>{});var jo=p(()=>{zu();k$();vR();IR();Ph();H$();z$();K$();W$();Qd()});var q$,J$=p(()=>{ct();jo();RR();q$=(t,{preferredFile:e="config",...r}={})=>async()=>{let o=cn(r),{configFile:n,credentialsFile:s}=await Oh(r),i=s[o]||{},a=n[o]||{},c=e==="config"?{...i,...a}:{...a,...i};try{let m=t(c,e==="config"?n:s);if(m===void 0)throw new Error;return m}catch(u){throw new Q(u.message||`Not found in config files w/ profile [${o}]: ${Th(t.toString())}`,{logger:r.logger})}}});var VY,Q$,Y$=p(()=>{ct();VY=t=>typeof t=="function",Q$=t=>VY(t)?async()=>await t():jN(t)});var G,X$=p(()=>{ct();P$();J$();Y$();G=({environmentVariableSelector:t,configFileSelector:e,default:r},o={})=>{let{signingName:n,logger:s}=o;return Zf(Mu(O$(t,{signingName:n,logger:s}),q$(e,o),Q$(r)))}});var Vo=p(()=>{X$()});var Z$,eL,tL,rL=p(()=>{jo();Z$="AWS_ENDPOINT_URL",eL="endpoint_url",tL=t=>({environmentVariableSelector:e=>{let r=t.split(" ").map(s=>s.toUpperCase()),o=e[[Z$,...r].join("_")];if(o)return o;let n=e[Z$];if(n)return n},configFileSelector:(e,r)=>{if(r&&e.services){let n=r[["services",e.services].join(In)];if(n){let s=t.split(" ").map(a=>a.toLowerCase()),i=n[[s.join("_"),eL].join(In)];if(i)return i}}let o=e[eL];if(o)return o},default:void 0})});var Nh,DR=p(()=>{Vo();rL();Nh=async t=>G(tL(t??""))()});var $h,Lh=p(()=>{Jn();$h=t=>typeof t=="object"?"url"in t?Mt(t.url):t:Mt(t)});var oL,OR,PR=p(()=>{w$();D$();DR();Lh();oL=async(t,e,r,o)=>{if(!r.isCustomEndpoint){let i;r.serviceConfiguredEndpoint?i=await r.serviceConfiguredEndpoint():i=await Nh(r.serviceId),i&&(r.endpoint=()=>Promise.resolve($h(i)),r.isCustomEndpoint=!0)}let n=await OR(t,e,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(n,o)},OR=async(t,e,r)=>{let o={},n=e?.getEndpointParameterInstructions?.()||{};for(let[s,i]of Object.entries(n))switch(i.type){case"staticContextParams":o[s]=i.value;break;case"contextParams":o[s]=t[i.name];break;case"clientContextParams":case"builtInParams":o[s]=await A$(i.name,s,r,i.type!=="builtInParams")();break;case"operationContextParams":o[s]=i.get(t);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}return Object.keys(n).length===0&&Object.assign(o,r),String(r.serviceId).toLowerCase()==="s3"&&await I$(o),o}});var nL=p(()=>{PR();Lh()});var sL,kR=p(()=>{At();Zt();PR();sL=({config:t,instructions:e})=>(r,o)=>async n=>{t.isCustomEndpoint&&YP(o,"ENDPOINT_OVERRIDE","N");let s=await oL(n.input,{getEndpointParameterInstructions(){return e}},{...t},o);o.endpointV2=s,o.authSchemes=s.properties?.authSchemes;let i=o.authSchemes?.[0];if(i){o.signing_region=i.signingRegion,o.signing_service=i.signingName;let c=nt(o)?.selectedHttpAuthScheme?.httpAuthOption;c&&(c.signingProperties=Object.assign(c.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return r({...n})}});var zY,ee,iL=p(()=>{UE();kR();zY={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:Df.name},ee=(t,e)=>({applyToStack:r=>{r.addRelativeTo(sL({config:t,instructions:e}),zY)}})});var Yr,aL=p(()=>{Zt();DR();Lh();Yr=t=>{let e=t.tls??!0,{endpoint:r,useDualstackEndpoint:o,useFipsEndpoint:n}=t,s=r!=null?async()=>$h(await ge(r)()):void 0,a=Object.assign(t,{endpoint:s,tls:e,isCustomEndpoint:!!r,useDualstackEndpoint:ge(o??!1),useFipsEndpoint:ge(n??!1)}),c;return a.serviceConfiguredEndpoint=async()=>(t.serviceId&&!c&&(c=Nh(t.serviceId)),c),a}});var cL=p(()=>{});var uL=p(()=>{});var xe=p(()=>{nL();kR();iL();aL();cL();uL()});var Ki,Ku,hr,Mh=p(()=>{(function(t){t.STANDARD="standard",t.ADAPTIVE="adaptive"})(Ki||(Ki={}));Ku=3,hr=Ki.STANDARD});var pL,dL,lL,mL,fL,hL=p(()=>{pL=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],dL=["TimeoutError","RequestTimeout","RequestTimeoutException"],lL=[500,502,503,504],mL=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],fL=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"]});var KY,WY,qY,Bh,Uh,gL,NR=p(()=>{hL();KY=t=>t?.$retryable!==void 0,WY=t=>t.$metadata?.clockSkewCorrected,qY=t=>{let e=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return t&&t instanceof TypeError?e.has(t.message):!1},Bh=t=>t.$metadata?.httpStatusCode===429||pL.includes(t.name)||t.$retryable?.throttling==!0,Uh=(t,e=0)=>KY(t)||WY(t)||dL.includes(t.name)||mL.includes(t?.code||"")||fL.includes(t?.code||"")||lL.includes(t.$metadata?.httpStatusCode||0)||qY(t)||t.cause!==void 0&&e<=10&&Uh(t.cause,e+1),gL=t=>{if(t.$metadata?.httpStatusCode!==void 0){let e=t.$metadata.httpStatusCode;return 500<=e&&e<=599&&!Uh(t)}return!1}});var Fh,$R=p(()=>{NR();Fh=class t{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(e){this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){let r=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise(o=>t.setTimeoutFn(o,r))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){let e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}let r=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=e}updateClientSendingRate(e){let r;if(this.updateMeasuredRate(),Bh(e)){let n=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=n,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(n),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let o=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(o)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let e=this.getCurrentTimeInSeconds(),r=Math.floor(e*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let o=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(o*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(e){return parseFloat(e.toFixed(8))}}});var xL,yL,SL=p(()=>{xL="amz-sdk-invocation-id",yL="amz-sdk-request"});var _L,RL=p(()=>{_L=()=>{let t=100;return{computeNextBackoffDelay:o=>Math.floor(Math.min(2e4,Math.random()*2**o*t)),setDelayBase:o=>{t=o}}}});var LR,bL=p(()=>{LR=({retryDelay:t,retryCount:e,retryCost:r})=>({getRetryCount:()=>e,getRetryDelay:()=>Math.min(2e4,t),getRetryCost:()=>r})});var Wu,MR=p(()=>{Mh();RL();bL();Wu=class{maxAttempts;mode=Ki.STANDARD;capacity=500;retryBackoffStrategy=_L();maxAttemptsProvider;constructor(e){this.maxAttempts=e,this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}async acquireInitialRetryToken(e){return LR({retryDelay:100,retryCount:0})}async refreshRetryTokenForRetry(e,r){let o=await this.getMaxAttempts();if(this.shouldRetry(e,r,o)){let n=r.errorType;this.retryBackoffStrategy.setDelayBase(n==="THROTTLING"?500:100);let s=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),i=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,s):s,a=this.getCapacityCost(n);return this.capacity-=a,LR({retryDelay:i,retryCount:e.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(500,this.capacity+(e.getRetryCost()??1))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Ku}`),Ku}}shouldRetry(e,r,o){return e.getRetryCount()+1<o&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(e){return e==="TRANSIENT"?10:5}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}}});var Gh,CL=p(()=>{Mh();$R();MR();Gh=class{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=Ki.ADAPTIVE;constructor(e,r){this.maxAttemptsProvider=e;let{rateLimiter:o}=r??{};this.rateLimiter=o??new Fh,this.standardRetryStrategy=new Wu(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(e,r)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}}});var vL=p(()=>{});var IL=p(()=>{});var Zn=p(()=>{CL();vL();$R();MR();Mh();SL();IL()});var TL=p(()=>{});var wL=p(()=>{});var AL,DL=p(()=>{AL=t=>t instanceof Error?t:t instanceof Object?Object.assign(new Error,t):typeof t=="string"?new Error(t):new Error(`AWS SDK error wrapper for ${t}`)});var OL=p(()=>{});var PL=p(()=>{});var kL,NL,Xr,Zr,YY,XY,eo,$L=p(()=>{Zt();Zn();kL="AWS_MAX_ATTEMPTS",NL="max_attempts",Xr={environmentVariableSelector:t=>{let e=t[kL];if(!e)return;let r=parseInt(e);if(Number.isNaN(r))throw new Error(`Environment variable ${kL} mast be a number, got "${e}"`);return r},configFileSelector:t=>{let e=t[NL];if(!e)return;let r=parseInt(e);if(Number.isNaN(r))throw new Error(`Shared config file entry ${NL} mast be a number, got "${e}"`);return r},default:Ku},Zr=t=>{let{retryStrategy:e,retryMode:r,maxAttempts:o}=t,n=ge(o??Ku);return Object.assign(t,{maxAttempts:n,retryStrategy:async()=>e||(await ge(r)()===Ki.ADAPTIVE?new Gh(n):new Wu(n))})},YY="AWS_RETRY_MODE",XY="retry_mode",eo={environmentVariableSelector:t=>t[YY],configFileSelector:t=>t[XY],default:hr}});var LL=p(()=>{});import{Readable as ZY}from"stream";var ML,BL=p(()=>{ML=t=>t?.body instanceof ZY||typeof ReadableStream<"u"&&t?.body instanceof ReadableStream});var eX,tX,rX,oX,nX,to,sX,UL=p(()=>{Pe();NR();F();Zn();p_();BL();DL();eX=t=>(e,r)=>async o=>{let n=await t.retryStrategy(),s=await t.maxAttempts();if(tX(n)){n=n;let i=await n.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,u=0,{request:m}=o,f=me.isInstance(m);for(f&&(m.headers[xL]=bs());;)try{f&&(m.headers[yL]=`attempt=${c+1}; max=${s}`);let{response:h,output:g}=await e(o);return n.recordSuccess(i),g.$metadata.attempts=c+1,g.$metadata.totalRetryDelay=u,{response:h,output:g}}catch(h){let g=rX(h);if(a=AL(h),f&&ML(m))throw(r.logger instanceof Bt?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{i=await n.refreshRetryTokenForRetry(i,g)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=u,a}c=i.getRetryCount();let _=i.getRetryDelay();u+=_,await new Promise(b=>setTimeout(b,_))}}else return n=n,n?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",n.mode]]),n.retry(e,o)},tX=t=>typeof t.acquireInitialRetryToken<"u"&&typeof t.refreshRetryTokenForRetry<"u"&&typeof t.recordSuccess<"u",rX=t=>{let e={error:t,errorType:oX(t)},r=sX(t.$response);return r&&(e.retryAfterHint=r),e},oX=t=>Bh(t)?"THROTTLING":Uh(t)?"TRANSIENT":gL(t)?"SERVER_ERROR":"CLIENT_ERROR",nX={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},to=t=>({applyToStack:e=>{e.add(eX(t),nX)}}),sX=t=>{if(!To.isInstance(t))return;let e=Object.keys(t.headers).find(s=>s.toLowerCase()==="retry-after");if(!e)return;let r=t.headers[e],o=Number(r);return Number.isNaN(o)?new Date(r):new Date(o*1e3)}});var Rr=p(()=>{PL();OL();$L();TL();LL();wL();UL()});var Tg,wg,CM,vM,IM,TM,YR,wM=p(()=>{yo();ct();Tg="AWS_ACCESS_KEY_ID",wg="AWS_SECRET_ACCESS_KEY",CM="AWS_SESSION_TOKEN",vM="AWS_CREDENTIAL_EXPIRATION",IM="AWS_CREDENTIAL_SCOPE",TM="AWS_ACCOUNT_ID",YR=t=>async()=>{t?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let e=process.env[Tg],r=process.env[wg],o=process.env[CM],n=process.env[vM],s=process.env[IM],i=process.env[TM];if(e&&r){let a={accessKeyId:e,secretAccessKey:r,...o&&{sessionToken:o},...n&&{expiration:new Date(n)},...s&&{credentialScope:s},...i&&{accountId:i}};return $e(a,"CREDENTIALS_ENV_VARS","g"),a}throw new Q("Unable to find environment variable credentials.",{logger:t?.logger})}});var AM={};En(AM,{ENV_ACCOUNT_ID:()=>TM,ENV_CREDENTIAL_SCOPE:()=>IM,ENV_EXPIRATION:()=>vM,ENV_KEY:()=>Tg,ENV_SECRET:()=>wg,ENV_SESSION:()=>CM,fromEnv:()=>YR});var XR=p(()=>{wM()});import{Buffer as vte}from"buffer";import{request as Ite}from"http";function Ta(t){return new Promise((e,r)=>{let o=Ite({method:"GET",...t,hostname:t.hostname?.replace(/^\[(.+)\]$/,"$1")});o.on("error",n=>{r(Object.assign(new Go("Unable to connect to instance metadata service"),n)),o.destroy()}),o.on("timeout",()=>{r(new Go("TimeoutError from instance metadata service")),o.destroy()}),o.on("response",n=>{let{statusCode:s=400}=n;(s<200||300<=s)&&(r(Object.assign(new Go("Error response received from instance metadata service"),{statusCode:s})),o.destroy());let i=[];n.on("data",a=>{i.push(a)}),n.on("end",()=>{e(vte.concat(i)),o.destroy()})}),o.end()})}var Ag=p(()=>{ct()});var Dg,Og,ZR=p(()=>{Dg=t=>!!t&&typeof t=="object"&&typeof t.AccessKeyId=="string"&&typeof t.SecretAccessKey=="string"&&typeof t.Token=="string"&&typeof t.Expiration=="string",Og=t=>({accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,sessionToken:t.Token,expiration:new Date(t.Expiration),...t.AccountId&&{accountId:t.AccountId}})});var TWe,wWe,rl,Pg=p(()=>{TWe=1e3,wWe=0,rl=({maxRetries:t=0,timeout:e=1e3})=>({maxRetries:t,timeout:e})});var ol,eb=p(()=>{ol=(t,e)=>{let r=t();for(let o=0;o<e;o++)r=r.catch(t);return r}});import{parse as Tte}from"url";var kg,Ng,tb,wte,Ate,Dte,Ote,Pte,kte,DM=p(()=>{ct();Ag();ZR();Pg();eb();kg="AWS_CONTAINER_CREDENTIALS_FULL_URI",Ng="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",tb="AWS_CONTAINER_AUTHORIZATION_TOKEN",wte=(t={})=>{let{timeout:e,maxRetries:r}=rl(t);return()=>ol(async()=>{let o=await kte({logger:t.logger}),n=JSON.parse(await Ate(e,o));if(!Dg(n))throw new Q("Invalid response received from instance metadata service.",{logger:t.logger});return Og(n)},r)},Ate=async(t,e)=>(process.env[tb]&&(e.headers={...e.headers,Authorization:process.env[tb]}),(await Ta({...e,timeout:t})).toString()),Dte="169.254.170.2",Ote={localhost:!0,"127.0.0.1":!0},Pte={"http:":!0,"https:":!0},kte=async({logger:t})=>{if(process.env[Ng])return{hostname:Dte,path:process.env[Ng]};if(process.env[kg]){let e=Tte(process.env[kg]);if(!e.hostname||!(e.hostname in Ote))throw new Q(`${e.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:t});if(!e.protocol||!(e.protocol in Pte))throw new Q(`${e.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:t});return{...e,port:e.port?parseInt(e.port,10):void 0}}throw new Q(`The container metadata credential provider cannot be used unless the ${Ng} or ${kg} environment variable is set`,{tryNextLink:!1,logger:t})}});var $g,OM=p(()=>{ct();$g=class t extends Q{tryNextLink;name="InstanceMetadataV1FallbackError";constructor(e,r=!0){super(e,r),this.tryNextLink=r,Object.setPrototypeOf(this,t.prototype)}}});var Dc,rb=p(()=>{(function(t){t.IPv4="http://169.254.169.254",t.IPv6="http://[fd00:ec2::254]"})(Dc||(Dc={}))});var Nte,$te,PM,kM=p(()=>{Nte="AWS_EC2_METADATA_SERVICE_ENDPOINT",$te="ec2_metadata_service_endpoint",PM={environmentVariableSelector:t=>t[Nte],configFileSelector:t=>t[$te],default:void 0}});var wa,ob=p(()=>{(function(t){t.IPv4="IPv4",t.IPv6="IPv6"})(wa||(wa={}))});var Lte,Mte,NM,$M=p(()=>{ob();Lte="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",Mte="ec2_metadata_service_endpoint_mode",NM={environmentVariableSelector:t=>t[Lte],configFileSelector:t=>t[Mte],default:wa.IPv4}});var Lg,Bte,Ute,nb=p(()=>{Vo();Jn();rb();kM();ob();$M();Lg=async()=>Mt(await Bte()||await Ute()),Bte=async()=>G(PM)(),Ute=async()=>{let t=await G(NM)();switch(t){case wa.IPv4:return Dc.IPv4;case wa.IPv6:return Dc.IPv6;default:throw new Error(`Unsupported endpoint mode: ${t}. Select from ${Object.values(wa)}`)}}});var Fte,sb,LM=p(()=>{Fte="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",sb=(t,e)=>{let r=300+Math.floor(Math.random()*300),o=new Date(Date.now()+r*1e3);e.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(o)}.
For more information, please visit: `+Fte);let n=t.originalExpiration??t.expiration;return{...t,...n?{originalExpiration:n}:{},expiration:o}}});var MM,BM=p(()=>{LM();MM=(t,e={})=>{let r=e?.logger||console,o;return async()=>{let n;try{n=await t(),n.expiration&&n.expiration.getTime()<Date.now()&&(n=sb(n,r))}catch(s){if(o)r.warn("Credential renew failed: ",s),n=sb(o,r);else throw s}return o=n,n}}});var GM,Gte,ib,UM,FM,Hte,jte,Vte,zte,Kte,HM=p(()=>{Vo();ct();OM();Ag();ZR();Pg();eb();nb();BM();GM="/latest/meta-data/iam/security-credentials/",Gte="/latest/api/token",ib="AWS_EC2_METADATA_V1_DISABLED",UM="ec2_metadata_v1_disabled",FM="x-aws-ec2-metadata-token",Hte=(t={})=>MM(jte(t),{logger:t.logger}),jte=(t={})=>{let e=!1,{logger:r,profile:o}=t,{timeout:n,maxRetries:s}=rl(t),i=async(a,c)=>{if(e||c.headers?.[FM]==null){let f=!1,h=!1,g=await G({environmentVariableSelector:_=>{let b=_[ib];if(h=!!b&&b!=="false",b===void 0)throw new Q(`${ib} not set in env, checking config file next.`,{logger:t.logger});return h},configFileSelector:_=>{let b=_[UM];return f=!!b&&b!=="false",f},default:!1},{profile:o})();if(t.ec2MetadataV1Disabled||g){let _=[];throw t.ec2MetadataV1Disabled&&_.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),f&&_.push(`config file profile (${UM})`),h&&_.push(`process environment variable (${ib})`),new $g(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${_.join(", ")}].`)}}let m=(await ol(async()=>{let f;try{f=await zte(c)}catch(h){throw h.statusCode===401&&(e=!1),h}return f},a)).trim();return ol(async()=>{let f;try{f=await Kte(m,c,t)}catch(h){throw h.statusCode===401&&(e=!1),h}return f},a)};return async()=>{let a=await Lg();if(e)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),i(s,{...a,timeout:n});{let c;try{c=(await Vte({...a,timeout:n})).toString()}catch(u){if(u?.statusCode===400)throw Object.assign(u,{message:"EC2 Metadata token request returned error"});return(u.message==="TimeoutError"||[403,404,405].includes(u.statusCode))&&(e=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),i(s,{...a,timeout:n})}return i(s,{...a,headers:{[FM]:c},timeout:n})}}},Vte=async t=>Ta({...t,path:Gte,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),zte=async t=>(await Ta({...t,path:GM})).toString(),Kte=async(t,e,r)=>{let o=JSON.parse((await Ta({...e,path:GM+t})).toString());if(!Dg(o))throw new Q("Invalid response received from instance metadata service.",{logger:r.logger});return Og(o)}});var jM=p(()=>{});var nl={};En(nl,{DEFAULT_MAX_RETRIES:()=>wWe,DEFAULT_TIMEOUT:()=>TWe,ENV_CMDS_AUTH_TOKEN:()=>tb,ENV_CMDS_FULL_URI:()=>kg,ENV_CMDS_RELATIVE_URI:()=>Ng,Endpoint:()=>Dc,fromContainerMetadata:()=>wte,fromInstanceMetadata:()=>Hte,getInstanceMetadataEndpoint:()=>Lg,httpRequest:()=>Ta,providerConfigFromInit:()=>rl});var sl=p(()=>{DM();HM();Pg();jM();Ag();nb();rb()});var Wte,qte,Jte,VM,zM=p(()=>{ct();Wte="169.254.170.2",qte="169.254.170.23",Jte="[fd00:ec2::23]",VM=(t,e)=>{if(t.protocol!=="https:"&&!(t.hostname===Wte||t.hostname===qte||t.hostname===Jte)){if(t.hostname.includes("[")){if(t.hostname==="[::1]"||t.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(t.hostname==="localhost")return;let r=t.hostname.split("."),o=n=>{let s=parseInt(n,10);return 0<=s&&s<=255};if(r[0]==="127"&&o(r[1])&&o(r[2])&&o(r[3])&&r.length===4)return}throw new Q(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:e})}}});function KM(t){return new me({protocol:t.protocol,hostname:t.hostname,port:Number(t.port),path:t.pathname,query:Array.from(t.searchParams.entries()).reduce((e,[r,o])=>(e[r]=o,e),{}),fragment:t.hash})}async function WM(t,e){let o=await Cu(t.body).transformToString();if(t.statusCode===200){let n=JSON.parse(o);if(typeof n.AccessKeyId!="string"||typeof n.SecretAccessKey!="string"||typeof n.Token!="string"||typeof n.Expiration!="string")throw new Q("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:e});return{accessKeyId:n.AccessKeyId,secretAccessKey:n.SecretAccessKey,sessionToken:n.Token,expiration:SP(n.Expiration)}}if(t.statusCode>=400&&t.statusCode<500){let n={};try{n=JSON.parse(o)}catch{}throw Object.assign(new Q(`Server responded with status: ${t.statusCode}`,{logger:e}),{Code:n.Code,Message:n.Message})}throw new Q(`Server responded with status: ${t.statusCode}`,{logger:e})}var qM=p(()=>{ct();Pe();F();ga()});var JM,QM=p(()=>{JM=(t,e,r)=>async()=>{for(let o=0;o<e;++o)try{return await t()}catch{await new Promise(s=>setTimeout(s,r))}return await t()}});import Qte from"fs/promises";var Yte,Xte,Zte,ere,tre,YM,XM=p(()=>{yo();Vn();ct();zM();qM();QM();Yte="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",Xte="http://169.254.170.2",Zte="AWS_CONTAINER_CREDENTIALS_FULL_URI",ere="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",tre="AWS_CONTAINER_AUTHORIZATION_TOKEN",YM=(t={})=>{t.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let e,r=t.awsContainerCredentialsRelativeUri??process.env[Yte],o=t.awsContainerCredentialsFullUri??process.env[Zte],n=t.awsContainerAuthorizationToken??process.env[tre],s=t.awsContainerAuthorizationTokenFile??process.env[ere],i=t.logger?.constructor?.name==="NoOpLogger"||!t.logger?.warn?console.warn:t.logger.warn.bind(t.logger);if(r&&o&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),i("awsContainerCredentialsFullUri will take precedence.")),n&&s&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),i("awsContainerAuthorizationToken will take precedence.")),o)e=o;else if(r)e=`${Xte}${r}`;else throw new Q(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:t.logger});let a=new URL(e);VM(a,t.logger);let c=Wt.create({requestTimeout:t.timeout??1e3,connectionTimeout:t.timeout??1e3});return JM(async()=>{let u=KM(a);n?u.headers.Authorization=n:s&&(u.headers.Authorization=(await Qte.readFile(s)).toString());try{let m=await c.handle(u);return WM(m.response).then(f=>$e(f,"CREDENTIALS_HTTP","z"))}catch(m){throw new Q(String(m),{logger:t.logger})}},t.maxRetries??3,t.timeout??1e3)}});var ab={};En(ab,{fromHttp:()=>YM});var cb=p(()=>{XM()});var ub,pb=p(()=>{ub=t=>t&&(typeof t.sso_start_url=="string"||typeof t.sso_account_id=="string"||typeof t.sso_session=="string"||typeof t.sso_region=="string"||typeof t.sso_role_name=="string")});var r2=p(()=>{});var Yu,Mg=p(()=>{Yu="To refresh this SSO session run 'aws sso login' with the corresponding profile."});function ore(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function nre(t){return{schemeId:"smithy.api#noAuth"}}var o2,n2,s2,db=p(()=>{Je();Zt();o2=async(t,e,r)=>({operation:nt(e).operation,region:await ge(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});n2=t=>{let e=[];switch(t.operation){case"CreateToken":{e.push(nre(t));break}default:e.push(ore(t))}return e},s2=t=>{let e=Gr(t);return Object.assign(e,{authSchemePreference:ge(t.authSchemePreference??[])})}});var i2,a2,lb=p(()=>{i2=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),a2={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var Xu,Bg=p(()=>{Xu={name:"@aws-sdk/nested-clients",version:"3.958.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},sideEffects:!1,author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.957.0","@aws-sdk/middleware-host-header":"3.957.0","@aws-sdk/middleware-logger":"3.957.0","@aws-sdk/middleware-recursion-detection":"3.957.0","@aws-sdk/middleware-user-agent":"3.957.0","@aws-sdk/region-config-resolver":"3.957.0","@aws-sdk/types":"3.957.0","@aws-sdk/util-endpoints":"3.957.0","@aws-sdk/util-user-agent-browser":"3.957.0","@aws-sdk/util-user-agent-node":"3.957.0","@smithy/config-resolver":"^4.4.5","@smithy/core":"^3.20.0","@smithy/fetch-http-handler":"^5.3.8","@smithy/hash-node":"^4.2.7","@smithy/invalid-dependency":"^4.2.7","@smithy/middleware-content-length":"^4.2.7","@smithy/middleware-endpoint":"^4.4.1","@smithy/middleware-retry":"^4.4.17","@smithy/middleware-serde":"^4.2.8","@smithy/middleware-stack":"^4.2.7","@smithy/node-config-provider":"^4.3.7","@smithy/node-http-handler":"^4.4.7","@smithy/protocol-http":"^5.3.7","@smithy/smithy-client":"^4.10.2","@smithy/types":"^4.11.0","@smithy/url-parser":"^4.2.7","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.16","@smithy/util-defaults-mode-node":"^4.2.19","@smithy/util-endpoints":"^3.2.7","@smithy/util-middleware":"^4.2.7","@smithy/util-retry":"^4.2.7","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./signin.d.ts","./signin.js","./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/signin/runtimeConfig":"./dist-es/submodules/signin/runtimeConfig.browser","./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./package.json":"./package.json","./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"},"./signin":{types:"./dist-types/submodules/signin/index.d.ts",module:"./dist-es/submodules/signin/index.js",node:"./dist-cjs/submodules/signin/index.js",import:"./dist-es/submodules/signin/index.js",require:"./dist-cjs/submodules/signin/index.js"}}}});var c2,u2=p(()=>{c2={isCrtAvailable:!1}});var p2,d2=p(()=>{u2();p2=()=>c2.isCrtAvailable?["md/crt-avail"]:null});import{platform as ire,release as are}from"os";import{env as l2,versions as cre}from"process";var ro,m2=p(()=>{d2();ro=({serviceId:t,clientVersion:e})=>async r=>{let o=[["aws-sdk-js",e],["ua","2.1"],[`os/${ire()}`,are()],["lang/js"],["md/nodejs",`${cre.node}`]],n=p2();n&&o.push(n),t&&o.push([`api/${t}`,e]),l2.AWS_EXECUTION_ENV&&o.push([`exec-env/${l2.AWS_EXECUTION_ENV}`]);let s=await r?.userAgentAppId?.();return s?[...o,[`app/${s}`]]:[...o]}});var ure,pre,dre,oo,f2=p(()=>{Ts();ure="AWS_SDK_UA_APP_ID",pre="sdk_ua_app_id",dre="sdk-ua-app-id",oo={environmentVariableSelector:t=>t[ure],configFileSelector:t=>t[pre]??t[dre],default:y_}});var ii=p(()=>{m2();f2()});import{Buffer as lre}from"buffer";import{createHash as mre,createHmac as fre}from"crypto";function h2(t,e){return lre.isBuffer(t)?t:typeof t=="string"?Ru(t,e):ArrayBuffer.isView(t)?Ui(t.buffer,t.byteOffset,t.byteLength):Ui(t)}var Qt,ai=p(()=>{fc();wt();Qt=class{algorithmIdentifier;secret;hash;constructor(e,r){this.algorithmIdentifier=e,this.secret=r,this.reset()}update(e,r){this.hash.update(Fo(h2(e,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?fre(this.algorithmIdentifier,h2(this.secret)):mre(this.algorithmIdentifier)}}});import{fstatSync as hre,lstatSync as gre,ReadStream as xre}from"node:fs";var no,g2=p(()=>{no=t=>{if(!t)return 0;if(typeof t=="string")return Buffer.byteLength(t);if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.size=="number")return t.size;if(typeof t.start=="number"&&typeof t.end=="number")return t.end+1-t.start;if(t instanceof xre){if(t.path!=null)return gre(t.path).size;if(typeof t.fd=="number")return hre(t.fd).size}throw new Error(`Body Length computation failed for ${t}`)}});var ci=p(()=>{g2()});var x2,mb,fb,y2,S2,E2,_2=p(()=>{x2="AWS_EXECUTION_ENV",mb="AWS_REGION",fb="AWS_DEFAULT_REGION",y2="AWS_EC2_METADATA_DISABLED",S2=["in-region","cross-region","mobile","standard","legacy"],E2="/latest/meta-data/placement/region"});var yre,Sre,R2,b2=p(()=>{yre="AWS_DEFAULTS_MODE",Sre="defaults_mode",R2={environmentVariableSelector:t=>t[yre],configFileSelector:t=>t[Sre],default:"legacy"}});var so,Ere,_re,C2=p(()=>{rr();Vo();ct();_2();b2();so=({region:t=G(Jt),defaultsMode:e=G(R2)}={})=>Zf(async()=>{let r=typeof e=="function"?await e():e;switch(r?.toLowerCase()){case"auto":return Ere(t);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${S2.join(", ")}, got ${r}`)}}),Ere=async t=>{if(t){let e=typeof t=="function"?await t():t,r=await _re();return r?e===r?"in-region":"cross-region":"standard"}return"standard"},_re=async()=>{if(process.env[x2]&&(process.env[mb]||process.env[fb]))return process.env[mb]??process.env[fb];if(!process.env[y2])try{let{getInstanceMetadataEndpoint:t,httpRequest:e}=await Promise.resolve().then(()=>(sl(),nl)),r=await t();return(await e({...r,path:E2})).toString()}catch{}}});var ui=p(()=>{C2()});var N2,ts,rs,tp,v2,il,Zu,ep,Wi,hb,gb,I2,T2,w2,$2,L2,es,A2,M2,D2,O2,P2,k2,Rre,B2,U2=p(()=>{N2="required",ts="fn",rs="argv",tp="ref",v2="isSet",il="booleanEquals",Zu="error",ep="endpoint",Wi="tree",hb="PartitionResult",gb="getAttr",I2={[N2]:!1,type:"string"},T2={[N2]:!0,default:!1,type:"boolean"},w2={[tp]:"Endpoint"},$2={[ts]:il,[rs]:[{[tp]:"UseFIPS"},!0]},L2={[ts]:il,[rs]:[{[tp]:"UseDualStack"},!0]},es={},A2={[ts]:gb,[rs]:[{[tp]:hb},"supportsFIPS"]},M2={[tp]:hb},D2={[ts]:il,[rs]:[!0,{[ts]:gb,[rs]:[M2,"supportsDualStack"]}]},O2=[$2],P2=[L2],k2=[{[tp]:"Region"}],Rre={version:"1.0",parameters:{Region:I2,UseDualStack:T2,UseFIPS:T2,Endpoint:I2},rules:[{conditions:[{[ts]:v2,[rs]:[w2]}],rules:[{conditions:O2,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Zu},{conditions:P2,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Zu},{endpoint:{url:w2,properties:es,headers:es},type:ep}],type:Wi},{conditions:[{[ts]:v2,[rs]:k2}],rules:[{conditions:[{[ts]:"aws.partition",[rs]:k2,assign:hb}],rules:[{conditions:[$2,L2],rules:[{conditions:[{[ts]:il,[rs]:[!0,A2]},D2],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:es,headers:es},type:ep}],type:Wi},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Zu}],type:Wi},{conditions:O2,rules:[{conditions:[{[ts]:il,[rs]:[A2,!0]}],rules:[{conditions:[{[ts]:"stringEquals",[rs]:[{[ts]:gb,[rs]:[M2,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:es,headers:es},type:ep},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:es,headers:es},type:ep}],type:Wi},{error:"FIPS is enabled but this partition does not support FIPS",type:Zu}],type:Wi},{conditions:P2,rules:[{conditions:[D2],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:es,headers:es},type:ep}],type:Wi},{error:"DualStack is enabled but this partition does not support DualStack",type:Zu}],type:Wi},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:es,headers:es},type:ep}],type:Wi}],type:Wi},{error:"Invalid Configuration: Missing Region",type:Zu}]},B2=Rre});var bre,F2,G2=p(()=>{Is();nn();U2();bre=new lr({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),F2=(t,e={})=>bre.get(t,()=>Br(B2,{endpointParams:t,logger:e.logger}));jt.aws=_r});var H2,j2=p(()=>{Je();Yn();At();F();Jn();Kt();wt();db();G2();H2=t=>({apiVersion:"2019-06-10",base64Decoder:t?.base64Decoder??st,base64Encoder:t?.base64Encoder??we,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??F2,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??n2,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new Ct},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Ao}],logger:t?.logger??new Bt,protocol:t?.protocol??ba,protocolSettings:t?.protocolSettings??{defaultNamespace:"com.amazonaws.ssooidc",version:"2019-06-10",serviceTarget:"AWSSSOOIDCService"},serviceId:t?.serviceId??"SSO OIDC",urlParser:t?.urlParser??Mt,utf8Decoder:t?.utf8Decoder??it,utf8Encoder:t?.utf8Encoder??Xe})});var V2,z2=p(()=>{Bg();Je();ii();rr();ai();Rr();Vo();Vn();F();ci();ui();Zn();j2();V2=t=>{jr(process.version);let e=so(t),r=()=>e().then(Hr),o=H2(t);Ur(process.version);let n={profile:t?.profile,logger:o.logger};return{...o,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??G(Fr,n),bodyLengthChecker:t?.bodyLengthChecker??no,defaultUserAgentProvider:t?.defaultUserAgentProvider??ro({serviceId:o.serviceId,clientVersion:Xu.version}),maxAttempts:t?.maxAttempts??G(Xr,t),region:t?.region??G(Jt,{...fr,...n}),requestHandler:Wt.create(t?.requestHandler??r),retryMode:t?.retryMode??G({...eo,default:async()=>(await r()).retryMode||hr},t),sha256:t?.sha256??Qt.bind(null,"sha256"),streamCollector:t?.streamCollector??ur,useDualstackEndpoint:t?.useDualstackEndpoint??G(Wr,n),useFipsEndpoint:t?.useFipsEndpoint??G(qr,n),userAgentAppId:t?.userAgentAppId??G(oo,n)}}});var io,ao,K2=p(()=>{io=t=>({setRegion(e){t.region=e},region(){return t.region}}),ao=t=>({region:t.region()})});var W2=p(()=>{});function q2(t={}){return G({...Jt,async default(){return Cre.silence||console.warn("@aws-sdk - WARN - default STS region of us-east-1 used. See @aws-sdk/credential-providers README and set a region explicitly."),"us-east-1"}},{...fr,...t})}var Cre,J2=p(()=>{rr();Vo();Cre={silence:!1}});var ws=p(()=>{K2();W2();J2()});var Q2,Y2,X2=p(()=>{Q2=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,o=t.credentials;return{setHttpAuthScheme(n){let s=e.findIndex(i=>i.schemeId===n.schemeId);s===-1?e.push(n):e.splice(s,1,n)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(n){r=n},httpAuthSchemeProvider(){return r},setCredentials(n){o=n},credentials(){return o}}},Y2=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()})});var Z2,e4=p(()=>{ws();Pe();F();X2();Z2=(t,e)=>{let r=Object.assign(io(t),Vr(t),Ar(t),Q2(t));return e.forEach(o=>o.configure(r)),Object.assign(t,ao(r),zr(r),Dr(r),Y2(r))}});var al,xb=p(()=>{Js();Qs();Ys();Ts();rr();At();ve();oi();xe();Rr();F();db();lb();z2();e4();al=class extends Nt{config;constructor(...[e]){let r=V2(e||{});super(r),this.initConfig=r;let o=i2(r),n=Mr(o),s=Zr(n),i=Jr(s),a=i,c=Yr(a),u=s2(c),m=Z2(u,e?.extensions||[]);this.config=m,this.middlewareStack.use(Lr(this.config)),this.middlewareStack.use(Kr(this.config)),this.middlewareStack.use(to(this.config)),this.middlewareStack.use(Qr(this.config)),this.middlewareStack.use(Or(this.config)),this.middlewareStack.use(Pr(this.config)),this.middlewareStack.use(kr(this.config)),this.middlewareStack.use(Nr(this.config,{httpAuthSchemeParametersProvider:o2,identityProviderConfigProvider:async f=>new dr({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use($r(this.config))}destroy(){super.destroy()}}});var co,Ug=p(()=>{F();co=class t extends mr{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}}});var cl,ul,pl,dl,ll,ml,fl,hl,gl,xl,yl,yb=p(()=>{Ug();cl=class t extends co{name="AccessDeniedException";$fault="client";error;reason;error_description;constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.reason=e.reason,this.error_description=e.error_description}},ul=class t extends co{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(e){super({name:"AuthorizationPendingException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},pl=class t extends co{name="ExpiredTokenException";$fault="client";error;error_description;constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},dl=class t extends co{name="InternalServerException";$fault="server";error;error_description;constructor(e){super({name:"InternalServerException",$fault:"server",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},ll=class t extends co{name="InvalidClientException";$fault="client";error;error_description;constructor(e){super({name:"InvalidClientException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},ml=class t extends co{name="InvalidGrantException";$fault="client";error;error_description;constructor(e){super({name:"InvalidGrantException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},fl=class t extends co{name="InvalidRequestException";$fault="client";error;reason;error_description;constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.reason=e.reason,this.error_description=e.error_description}},hl=class t extends co{name="InvalidScopeException";$fault="client";error;error_description;constructor(e){super({name:"InvalidScopeException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},gl=class t extends co{name="SlowDownException";$fault="client";error;error_description;constructor(e){super({name:"SlowDownException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},xl=class t extends co{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(e){super({name:"UnauthorizedClientException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},yl=class t extends co{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(e){super({name:"UnsupportedGrantTypeException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}}});var vre,Ire,Tre,wre,Are,Dre,Ore,Pre,kre,Nre,$re,Lre,Mre,Bre,Ure,Fre,Gre,Hre,jre,Vre,pi,zre,Kre,Wre,qre,Jre,Yt,Qre,As,Yre,Xre,Ds,Zre,t4,r4,eoe,toe,roe,o4,ooe,ut,noe,soe,ioe,aoe,n4,s4,i4,a4,c4,u4,p4,d4,l4,m4,f4,h4,g4,x4,y4,Sb,Eb=p(()=>{ve();yb();Ug();vre="AccessDeniedException",Ire="AuthorizationPendingException",Tre="AccessToken",wre="ClientSecret",Are="CreateToken",Dre="CreateTokenRequest",Ore="CreateTokenResponse",Pre="CodeVerifier",kre="ExpiredTokenException",Nre="InvalidClientException",$re="InvalidGrantException",Lre="InvalidRequestException",Mre="InternalServerException",Bre="InvalidScopeException",Ure="IdToken",Fre="RefreshToken",Gre="SlowDownException",Hre="UnauthorizedClientException",jre="UnsupportedGrantTypeException",Vre="accessToken",pi="client",zre="clientId",Kre="clientSecret",Wre="codeVerifier",qre="code",Jre="deviceCode",Yt="error",Qre="expiresIn",As="error_description",Yre="grantType",Xre="http",Ds="httpError",Zre="idToken",t4="reason",r4="refreshToken",eoe="redirectUri",toe="scope",roe="server",o4="smithy.ts.sdk.synthetic.com.amazonaws.ssooidc",ooe="tokenType",ut="com.amazonaws.ssooidc",noe=[0,ut,Tre,8,0],soe=[0,ut,wre,8,0],ioe=[0,ut,Pre,8,0],aoe=[0,ut,Ure,8,0],n4=[0,ut,Fre,8,0],s4=[-3,ut,vre,{[Yt]:pi,[Ds]:400},[Yt,t4,As],[0,0,0]];R.for(ut).registerError(s4,cl);i4=[-3,ut,Ire,{[Yt]:pi,[Ds]:400},[Yt,As],[0,0]];R.for(ut).registerError(i4,ul);a4=[3,ut,Dre,0,[zre,Kre,Yre,Jre,qre,r4,toe,eoe,Wre],[0,[()=>soe,0],0,0,0,[()=>n4,0],64,0,[()=>ioe,0]]],c4=[3,ut,Ore,0,[Vre,ooe,Qre,r4,Zre],[[()=>noe,0],0,1,[()=>n4,0],[()=>aoe,0]]],u4=[-3,ut,kre,{[Yt]:pi,[Ds]:400},[Yt,As],[0,0]];R.for(ut).registerError(u4,pl);p4=[-3,ut,Mre,{[Yt]:roe,[Ds]:500},[Yt,As],[0,0]];R.for(ut).registerError(p4,dl);d4=[-3,ut,Nre,{[Yt]:pi,[Ds]:401},[Yt,As],[0,0]];R.for(ut).registerError(d4,ll);l4=[-3,ut,$re,{[Yt]:pi,[Ds]:400},[Yt,As],[0,0]];R.for(ut).registerError(l4,ml);m4=[-3,ut,Lre,{[Yt]:pi,[Ds]:400},[Yt,t4,As],[0,0,0]];R.for(ut).registerError(m4,fl);f4=[-3,ut,Bre,{[Yt]:pi,[Ds]:400},[Yt,As],[0,0]];R.for(ut).registerError(f4,hl);h4=[-3,ut,Gre,{[Yt]:pi,[Ds]:400},[Yt,As],[0,0]];R.for(ut).registerError(h4,gl);g4=[-3,ut,Hre,{[Yt]:pi,[Ds]:400},[Yt,As],[0,0]];R.for(ut).registerError(g4,xl);x4=[-3,ut,jre,{[Yt]:pi,[Ds]:400},[Yt,As],[0,0]];R.for(ut).registerError(x4,yl);y4=[-3,o4,"SSOOIDCServiceException",0,[],[]];R.for(o4).registerError(y4,co);Sb=[9,ut,Are,{[Xre]:["POST","/token",200]},()=>a4,()=>c4]});var Sl,_b=p(()=>{xe();F();lb();Eb();Sl=class extends Y.classBuilder().ep(a2).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").sc(Sb).build(){}});var coe,Fg,S4=p(()=>{F();_b();xb();coe={CreateTokenCommand:Sl},Fg=class extends al{};Ea(coe,Fg)});var E4=p(()=>{_b()});var uoe,poe,_4=p(()=>{uoe={KMS_ACCESS_DENIED:"KMS_AccessDeniedException"},poe={KMS_DISABLED_KEY:"KMS_DisabledException",KMS_INVALID_KEY_USAGE:"KMS_InvalidKeyUsageException",KMS_INVALID_STATE:"KMS_InvalidStateException",KMS_KEY_NOT_FOUND:"KMS_NotFoundException"}});var R4=p(()=>{});var Rb={};En(Rb,{$Command:()=>Y,AccessDeniedException:()=>cl,AccessDeniedException$:()=>s4,AccessDeniedExceptionReason:()=>uoe,AuthorizationPendingException:()=>ul,AuthorizationPendingException$:()=>i4,CreateToken$:()=>Sb,CreateTokenCommand:()=>Sl,CreateTokenRequest$:()=>a4,CreateTokenResponse$:()=>c4,ExpiredTokenException:()=>pl,ExpiredTokenException$:()=>u4,InternalServerException:()=>dl,InternalServerException$:()=>p4,InvalidClientException:()=>ll,InvalidClientException$:()=>d4,InvalidGrantException:()=>ml,InvalidGrantException$:()=>l4,InvalidRequestException:()=>fl,InvalidRequestException$:()=>m4,InvalidRequestExceptionReason:()=>poe,InvalidScopeException:()=>hl,InvalidScopeException$:()=>f4,SSOOIDC:()=>Fg,SSOOIDCClient:()=>al,SSOOIDCServiceException:()=>co,SSOOIDCServiceException$:()=>y4,SlowDownException:()=>gl,SlowDownException$:()=>h4,UnauthorizedClientException:()=>xl,UnauthorizedClientException$:()=>g4,UnsupportedGrantTypeException:()=>yl,UnsupportedGrantTypeException$:()=>x4,__Client:()=>Nt});var bb=p(()=>{xb();S4();E4();Eb();_4();yb();R4();Ug()});var b4,C4=p(()=>{b4=async(t,e={},r)=>{let{SSOOIDCClient:o}=await Promise.resolve().then(()=>(bb(),Rb)),n=i=>e.clientConfig?.[i]??e.parentClientConfig?.[i]??r?.[i];return new o(Object.assign({},e.clientConfig??{},{region:t??e.clientConfig?.region,logger:n("logger"),userAgentAppId:n("userAgentAppId")}))}});var v4,I4=p(()=>{C4();v4=async(t,e,r={},o)=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>(bb(),Rb));return(await b4(e,r,o)).send(new n({clientId:t.clientId,clientSecret:t.clientSecret,refreshToken:t.refreshToken,grantType:"refresh_token"}))}});var Cb,T4=p(()=>{ct();Mg();Cb=t=>{if(t.expiration&&t.expiration.getTime()<Date.now())throw new Qn(`Token is expired. ${Yu}`,!1)}});var Da,w4=p(()=>{ct();Mg();Da=(t,e,r=!1)=>{if(typeof e>"u")throw new Qn(`Value not present for '${t}' in SSO Token${r?". Cannot refresh":""}. ${Yu}`,!1)}});import{promises as doe}from"fs";var loe,A4,D4=p(()=>{jo();({writeFile:loe}=doe),A4=(t,e)=>{let r=wh(t),o=JSON.stringify(e,null,2);return loe(r,o)}});var O4,P4,k4=p(()=>{ct();jo();Mg();I4();T4();w4();D4();O4=new Date(0),P4=(t={})=>async({callerClientConfig:e}={})=>{t.logger?.debug("@aws-sdk/token-providers - fromSso");let r=await ni(t),o=cn({profile:t.profile??e?.profile}),n=r[o];if(n){if(!n.sso_session)throw new Qn(`Profile '${o}' is missing required property 'sso_session'.`)}else throw new Qn(`Profile '${o}' could not be found in shared credentials file.`,!1);let s=n.sso_session,a=(await kh(t))[s];if(!a)throw new Qn(`Sso session '${s}' could not be found in shared credentials file.`,!1);for(let _ of["sso_start_url","sso_region"])if(!a[_])throw new Qn(`Sso session '${s}' is missing required property '${_}'.`,!1);let c=a.sso_start_url,u=a.sso_region,m;try{m=await Wd(s)}catch{throw new Qn(`The SSO session token associated with profile=${o} was not found or is invalid. ${Yu}`,!1)}Da("accessToken",m.accessToken),Da("expiresAt",m.expiresAt);let{accessToken:f,expiresAt:h}=m,g={token:f,expiration:new Date(h)};if(g.expiration.getTime()-Date.now()>3e5)return g;if(Date.now()-O4.getTime()<30*1e3)return Cb(g),g;Da("clientId",m.clientId,!0),Da("clientSecret",m.clientSecret,!0),Da("refreshToken",m.refreshToken,!0);try{O4.setTime(Date.now());let _=await v4(m,u,t,e);Da("accessToken",_.accessToken),Da("expiresIn",_.expiresIn);let b=new Date(Date.now()+_.expiresIn*1e3);try{await A4(s,{...m,accessToken:_.accessToken,expiresAt:b.toISOString(),refreshToken:_.refreshToken})}catch{}return{token:_.accessToken,expiration:b}}catch{return Cb(g),g}}});var N4=p(()=>{});var $4=p(()=>{});var L4=p(()=>{r2();k4();N4();$4()});function foe(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function Gg(t){return{schemeId:"smithy.api#noAuth"}}var M4,B4,U4,vb=p(()=>{Je();Zt();M4=async(t,e,r)=>({operation:nt(e).operation,region:await ge(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});B4=t=>{let e=[];switch(t.operation){case"GetRoleCredentials":{e.push(Gg(t));break}case"ListAccountRoles":{e.push(Gg(t));break}case"ListAccounts":{e.push(Gg(t));break}case"Logout":{e.push(Gg(t));break}default:e.push(foe(t))}return e},U4=t=>{let e=Gr(t);return Object.assign(e,{authSchemePreference:ge(t.authSchemePreference??[])})}});var F4,Oa,rp=p(()=>{F4=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),Oa={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var H4,G4=p(()=>{H4={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.958.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.957.0","@aws-sdk/middleware-host-header":"3.957.0","@aws-sdk/middleware-logger":"3.957.0","@aws-sdk/middleware-recursion-detection":"3.957.0","@aws-sdk/middleware-user-agent":"3.957.0","@aws-sdk/region-config-resolver":"3.957.0","@aws-sdk/types":"3.957.0","@aws-sdk/util-endpoints":"3.957.0","@aws-sdk/util-user-agent-browser":"3.957.0","@aws-sdk/util-user-agent-node":"3.957.0","@smithy/config-resolver":"^4.4.5","@smithy/core":"^3.20.0","@smithy/fetch-http-handler":"^5.3.8","@smithy/hash-node":"^4.2.7","@smithy/invalid-dependency":"^4.2.7","@smithy/middleware-content-length":"^4.2.7","@smithy/middleware-endpoint":"^4.4.1","@smithy/middleware-retry":"^4.4.17","@smithy/middleware-serde":"^4.2.8","@smithy/middleware-stack":"^4.2.7","@smithy/node-config-provider":"^4.3.7","@smithy/node-http-handler":"^4.4.7","@smithy/protocol-http":"^5.3.7","@smithy/smithy-client":"^4.10.2","@smithy/types":"^4.11.0","@smithy/url-parser":"^4.2.7","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.16","@smithy/util-defaults-mode-node":"^4.2.19","@smithy/util-endpoints":"^3.2.7","@smithy/util-middleware":"^4.2.7","@smithy/util-retry":"^4.2.7","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var X4,ns,ss,sp,j4,El,op,np,qi,Ib,Tb,V4,z4,K4,Z4,eB,os,W4,tB,q4,J4,Q4,Y4,goe,rB,oB=p(()=>{X4="required",ns="fn",ss="argv",sp="ref",j4="isSet",El="booleanEquals",op="error",np="endpoint",qi="tree",Ib="PartitionResult",Tb="getAttr",V4={[X4]:!1,type:"string"},z4={[X4]:!0,default:!1,type:"boolean"},K4={[sp]:"Endpoint"},Z4={[ns]:El,[ss]:[{[sp]:"UseFIPS"},!0]},eB={[ns]:El,[ss]:[{[sp]:"UseDualStack"},!0]},os={},W4={[ns]:Tb,[ss]:[{[sp]:Ib},"supportsFIPS"]},tB={[sp]:Ib},q4={[ns]:El,[ss]:[!0,{[ns]:Tb,[ss]:[tB,"supportsDualStack"]}]},J4=[Z4],Q4=[eB],Y4=[{[sp]:"Region"}],goe={version:"1.0",parameters:{Region:V4,UseDualStack:z4,UseFIPS:z4,Endpoint:V4},rules:[{conditions:[{[ns]:j4,[ss]:[K4]}],rules:[{conditions:J4,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:op},{conditions:Q4,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:op},{endpoint:{url:K4,properties:os,headers:os},type:np}],type:qi},{conditions:[{[ns]:j4,[ss]:Y4}],rules:[{conditions:[{[ns]:"aws.partition",[ss]:Y4,assign:Ib}],rules:[{conditions:[Z4,eB],rules:[{conditions:[{[ns]:El,[ss]:[!0,W4]},q4],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:os,headers:os},type:np}],type:qi},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:op}],type:qi},{conditions:J4,rules:[{conditions:[{[ns]:El,[ss]:[W4,!0]}],rules:[{conditions:[{[ns]:"stringEquals",[ss]:[{[ns]:Tb,[ss]:[tB,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:os,headers:os},type:np},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:os,headers:os},type:np}],type:qi},{error:"FIPS is enabled but this partition does not support FIPS",type:op}],type:qi},{conditions:Q4,rules:[{conditions:[q4],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:os,headers:os},type:np}],type:qi},{error:"DualStack is enabled but this partition does not support DualStack",type:op}],type:qi},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:os,headers:os},type:np}],type:qi}],type:qi},{error:"Invalid Configuration: Missing Region",type:op}]},rB=goe});var xoe,nB,sB=p(()=>{Is();nn();oB();xoe=new lr({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),nB=(t,e={})=>xoe.get(t,()=>Br(rB,{endpointParams:t,logger:e.logger}));jt.aws=_r});var iB,aB=p(()=>{Je();Yn();At();F();Jn();Kt();wt();vb();sB();iB=t=>({apiVersion:"2019-06-10",base64Decoder:t?.base64Decoder??st,base64Encoder:t?.base64Encoder??we,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??nB,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??B4,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new Ct},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Ao}],logger:t?.logger??new Bt,protocol:t?.protocol??ba,protocolSettings:t?.protocolSettings??{defaultNamespace:"com.amazonaws.sso",version:"2019-06-10",serviceTarget:"SWBPortalService"},serviceId:t?.serviceId??"SSO",urlParser:t?.urlParser??Mt,utf8Decoder:t?.utf8Decoder??it,utf8Encoder:t?.utf8Encoder??Xe})});var cB,uB=p(()=>{G4();Je();ii();rr();ai();Rr();Vo();Vn();F();ci();ui();Zn();aB();cB=t=>{jr(process.version);let e=so(t),r=()=>e().then(Hr),o=iB(t);Ur(process.version);let n={profile:t?.profile,logger:o.logger};return{...o,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??G(Fr,n),bodyLengthChecker:t?.bodyLengthChecker??no,defaultUserAgentProvider:t?.defaultUserAgentProvider??ro({serviceId:o.serviceId,clientVersion:H4.version}),maxAttempts:t?.maxAttempts??G(Xr,t),region:t?.region??G(Jt,{...fr,...n}),requestHandler:Wt.create(t?.requestHandler??r),retryMode:t?.retryMode??G({...eo,default:async()=>(await r()).retryMode||hr},t),sha256:t?.sha256??Qt.bind(null,"sha256"),streamCollector:t?.streamCollector??ur,useDualstackEndpoint:t?.useDualstackEndpoint??G(Wr,n),useFipsEndpoint:t?.useFipsEndpoint??G(qr,n),userAgentAppId:t?.userAgentAppId??G(oo,n)}}});var pB,dB,lB=p(()=>{pB=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,o=t.credentials;return{setHttpAuthScheme(n){let s=e.findIndex(i=>i.schemeId===n.schemeId);s===-1?e.push(n):e.splice(s,1,n)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(n){r=n},httpAuthSchemeProvider(){return r},setCredentials(n){o=n},credentials(){return o}}},dB=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()})});var mB,fB=p(()=>{ws();Pe();F();lB();mB=(t,e)=>{let r=Object.assign(io(t),Vr(t),Ar(t),pB(t));return e.forEach(o=>o.configure(r)),Object.assign(t,ao(r),zr(r),Dr(r),dB(r))}});var di,_l=p(()=>{Js();Qs();Ys();Ts();rr();At();ve();oi();xe();Rr();F();vb();rp();uB();fB();di=class extends Nt{config;constructor(...[e]){let r=cB(e||{});super(r),this.initConfig=r;let o=F4(r),n=Mr(o),s=Zr(n),i=Jr(s),a=i,c=Yr(a),u=U4(c),m=mB(u,e?.extensions||[]);this.config=m,this.middlewareStack.use(Lr(this.config)),this.middlewareStack.use(Kr(this.config)),this.middlewareStack.use(to(this.config)),this.middlewareStack.use(Qr(this.config)),this.middlewareStack.use(Or(this.config)),this.middlewareStack.use(Pr(this.config)),this.middlewareStack.use(kr(this.config)),this.middlewareStack.use(Nr(this.config,{httpAuthSchemeParametersProvider:M4,identityProviderConfigProvider:async f=>new dr({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use($r(this.config))}destroy(){super.destroy()}}});var Ji,wb=p(()=>{F();Ji=class t extends mr{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}}});var Hg,jg,Vg,zg,Ab=p(()=>{wb();Hg=class t extends Ji{name="InvalidRequestException";$fault="client";constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},jg=class t extends Ji{name="ResourceNotFoundException";$fault="client";constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Vg=class t extends Ji{name="TooManyRequestsException";$fault="client";constructor(e){super({name:"TooManyRequestsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},zg=class t extends Ji{name="UnauthorizedException";$fault="client";constructor(e){super({name:"UnauthorizedException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}}});var yoe,Soe,Eoe,_oe,Roe,boe,Coe,voe,Ioe,Toe,woe,Aoe,Doe,Ooe,Poe,koe,Noe,$oe,Loe,Moe,Boe,Uoe,Foe,Kg,Goe,Hoe,joe,Wg,hB,qg,Jg,Voe,zoe,Qg,Yg,Xg,Oc,Zg,gB,xB,e0,yB,Koe,Woe,SB,qoe,EB,Joe,Qoe,t0,vt,r0,Yoe,Xoe,Zoe,ene,tne,rne,one,nne,sne,ine,ane,cne,une,pne,dne,lne,mne,fne,hne,gne,_B,RB,bB,CB,ip=p(()=>{ve();Ab();wb();yoe="AccountInfo",Soe="AccountListType",Eoe="AccessTokenType",_oe="GetRoleCredentials",Roe="GetRoleCredentialsRequest",boe="GetRoleCredentialsResponse",Coe="InvalidRequestException",voe="Logout",Ioe="ListAccounts",Toe="ListAccountsRequest",woe="ListAccountRolesRequest",Aoe="ListAccountRolesResponse",Doe="ListAccountsResponse",Ooe="ListAccountRoles",Poe="LogoutRequest",koe="RoleCredentials",Noe="RoleInfo",$oe="RoleListType",Loe="ResourceNotFoundException",Moe="SecretAccessKeyType",Boe="SessionTokenType",Uoe="TooManyRequestsException",Foe="UnauthorizedException",Kg="accountId",Goe="accessKeyId",Hoe="accountList",joe="accountName",Wg="accessToken",hB="account_id",qg="client",Jg="error",Voe="emailAddress",zoe="expiration",Qg="http",Yg="httpError",Xg="httpHeader",Oc="httpQuery",Zg="message",gB="maxResults",xB="max_result",e0="nextToken",yB="next_token",Koe="roleCredentials",Woe="roleList",SB="roleName",qoe="role_name",EB="smithy.ts.sdk.synthetic.com.amazonaws.sso",Joe="secretAccessKey",Qoe="sessionToken",t0="x-amz-sso_bearer_token",vt="com.amazonaws.sso",r0=[0,vt,Eoe,8,0],Yoe=[0,vt,Moe,8,0],Xoe=[0,vt,Boe,8,0],Zoe=[3,vt,yoe,0,[Kg,joe,Voe],[0,0,0]],ene=[3,vt,Roe,0,[SB,Kg,Wg],[[0,{[Oc]:qoe}],[0,{[Oc]:hB}],[()=>r0,{[Xg]:t0}]]],tne=[3,vt,boe,0,[Koe],[[()=>une,0]]],rne=[-3,vt,Coe,{[Jg]:qg,[Yg]:400},[Zg],[0]];R.for(vt).registerError(rne,Hg);one=[3,vt,woe,0,[e0,gB,Wg,Kg],[[0,{[Oc]:yB}],[1,{[Oc]:xB}],[()=>r0,{[Xg]:t0}],[0,{[Oc]:hB}]]],nne=[3,vt,Aoe,0,[e0,Woe],[0,()=>gne]],sne=[3,vt,Toe,0,[e0,gB,Wg],[[0,{[Oc]:yB}],[1,{[Oc]:xB}],[()=>r0,{[Xg]:t0}]]],ine=[3,vt,Doe,0,[e0,Hoe],[0,()=>hne]],ane=[3,vt,Poe,0,[Wg],[[()=>r0,{[Xg]:t0}]]],cne=[-3,vt,Loe,{[Jg]:qg,[Yg]:404},[Zg],[0]];R.for(vt).registerError(cne,jg);une=[3,vt,koe,0,[Goe,Joe,Qoe,zoe],[0,[()=>Yoe,0],[()=>Xoe,0],1]],pne=[3,vt,Noe,0,[SB,Kg],[0,0]],dne=[-3,vt,Uoe,{[Jg]:qg,[Yg]:429},[Zg],[0]];R.for(vt).registerError(dne,Vg);lne=[-3,vt,Foe,{[Jg]:qg,[Yg]:401},[Zg],[0]];R.for(vt).registerError(lne,zg);mne="unit",fne=[-3,EB,"SSOServiceException",0,[],[]];R.for(EB).registerError(fne,Ji);hne=[1,vt,Soe,0,()=>Zoe],gne=[1,vt,$oe,0,()=>pne],_B=[9,vt,_oe,{[Qg]:["GET","/federation/credentials",200]},()=>ene,()=>tne],RB=[9,vt,Ooe,{[Qg]:["GET","/assignment/roles",200]},()=>one,()=>nne],bB=[9,vt,Ioe,{[Qg]:["GET","/assignment/accounts",200]},()=>sne,()=>ine],CB=[9,vt,voe,{[Qg]:["POST","/logout",200]},()=>ane,()=>mne]});var ap,Db=p(()=>{xe();F();rp();ip();ap=class extends Y.classBuilder().ep(Oa).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").sc(_B).build(){}});var cp,o0=p(()=>{xe();F();rp();ip();cp=class extends Y.classBuilder().ep(Oa).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").sc(RB).build(){}});var up,n0=p(()=>{xe();F();rp();ip();up=class extends Y.classBuilder().ep(Oa).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").sc(bB).build(){}});var s0,Ob=p(()=>{xe();F();rp();ip();s0=class extends Y.classBuilder().ep(Oa).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").sc(CB).build(){}});var xne,Pb,vB=p(()=>{F();Db();o0();n0();Ob();_l();xne={GetRoleCredentialsCommand:ap,ListAccountRolesCommand:cp,ListAccountsCommand:up,LogoutCommand:s0},Pb=class extends di{};Ea(xne,Pb)});var IB=p(()=>{Db();o0();n0();Ob()});var TB=p(()=>{});var _Ze,wB=p(()=>{At();o0();_l();_Ze=Bi(di,cp,"nextToken","nextToken","maxResults")});var IZe,AB=p(()=>{At();n0();_l();IZe=Bi(di,up,"nextToken","nextToken","maxResults")});var DB=p(()=>{TB();wB();AB()});var OB=p(()=>{});var PB=p(()=>{_l();vB();IB();ip();DB();Ab();OB()});var kB={};En(kB,{GetRoleCredentialsCommand:()=>ap,SSOClient:()=>di});var NB=p(()=>{PB()});var Rl,kb,$B=p(()=>{yo();L4();ct();jo();Rl=!1,kb=async({ssoStartUrl:t,ssoSession:e,ssoAccountId:r,ssoRegion:o,ssoRoleName:n,ssoClient:s,clientConfig:i,parentClientConfig:a,callerClientConfig:c,profile:u,filepath:m,configFilepath:f,ignoreCache:h,logger:g})=>{let _,b="To refresh this SSO session run aws sso login with the corresponding profile.";if(e)try{let Ja=await P4({profile:u,filepath:m,configFilepath:f,ignoreCache:h})();_={accessToken:Ja.token,expiresAt:new Date(Ja.expiration).toISOString()}}catch(Ja){throw new Q(Ja.message,{tryNextLink:Rl,logger:g})}else try{_=await Wd(t)}catch{throw new Q(`The SSO session associated with this profile is invalid. ${b}`,{tryNextLink:Rl,logger:g})}if(new Date(_.expiresAt).getTime()-Date.now()<=0)throw new Q(`The SSO session associated with this profile has expired. ${b}`,{tryNextLink:Rl,logger:g});let{accessToken:T}=_,{SSOClient:M,GetRoleCredentialsCommand:U}=await Promise.resolve().then(()=>(NB(),kB)),ie=s||new M(Object.assign({},i??{},{logger:i?.logger??c?.logger??a?.logger,region:i?.region??o,userAgentAppId:i?.userAgentAppId??c?.userAgentAppId??a?.userAgentAppId})),le;try{le=await ie.send(new U({accountId:r,roleName:n,accessToken:T}))}catch(Ja){throw new Q(Ja,{tryNextLink:Rl,logger:g})}let{roleCredentials:{accessKeyId:Qe,secretAccessKey:Lt,sessionToken:Mn,expiration:Ye,credentialScope:Bn,accountId:NT}={}}=le;if(!Qe||!Lt||!Mn||!Ye)throw new Q("SSO returns an invalid temporary credential.",{tryNextLink:Rl,logger:g});let iE={accessKeyId:Qe,secretAccessKey:Lt,sessionToken:Mn,expiration:new Date(Ye),...Bn&&{credentialScope:Bn},...NT&&{accountId:NT}};return e?$e(iE,"CREDENTIALS_SSO","s"):$e(iE,"CREDENTIALS_SSO_LEGACY","u"),iE}});var Nb,$b=p(()=>{ct();Nb=(t,e)=>{let{sso_start_url:r,sso_account_id:o,sso_region:n,sso_role_name:s}=t;if(!r||!o||!n||!s)throw new Q(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(t).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:e});return t}});var yne,LB=p(()=>{ct();jo();pb();$B();$b();yne=(t={})=>async({callerClientConfig:e}={})=>{t.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:o,ssoRegion:n,ssoRoleName:s,ssoSession:i}=t,{ssoClient:a}=t,c=cn({profile:t.profile??e?.profile});if(!r&&!o&&!n&&!s&&!i){let m=(await ni(t))[c];if(!m)throw new Q(`Profile ${c} was not found.`,{logger:t.logger});if(!ub(m))throw new Q(`Profile ${c} is not configured with SSO credentials.`,{logger:t.logger});if(m?.sso_session){let M=(await kh(t))[m.sso_session],U=` configurations in profile ${c} and sso-session ${m.sso_session}`;if(n&&n!==M.sso_region)throw new Q("Conflicting SSO region"+U,{tryNextLink:!1,logger:t.logger});if(r&&r!==M.sso_start_url)throw new Q("Conflicting SSO start_url"+U,{tryNextLink:!1,logger:t.logger});m.sso_region=M.sso_region,m.sso_start_url=M.sso_start_url}let{sso_start_url:f,sso_account_id:h,sso_region:g,sso_role_name:_,sso_session:b}=Nb(m,t.logger);return kb({ssoStartUrl:f,ssoSession:b,ssoAccountId:h,ssoRegion:g,ssoRoleName:_,ssoClient:a,clientConfig:t.clientConfig,parentClientConfig:t.parentClientConfig,callerClientConfig:t.callerClientConfig,profile:c,filepath:t.filepath,configFilepath:t.configFilepath,ignoreCache:t.ignoreCache,logger:t.logger})}else{if(!r||!o||!n||!s)throw new Q('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:t.logger});return kb({ssoStartUrl:r,ssoSession:i,ssoAccountId:o,ssoRegion:n,ssoRoleName:s,ssoClient:a,clientConfig:t.clientConfig,parentClientConfig:t.parentClientConfig,callerClientConfig:t.callerClientConfig,profile:c,filepath:t.filepath,configFilepath:t.configFilepath,ignoreCache:t.ignoreCache,logger:t.logger})}}});var MB=p(()=>{});var Lb={};En(Lb,{fromSSO:()=>yne,isSsoProfile:()=>ub,validateSsoProfile:()=>Nb});var Mb=p(()=>{LB();pb();MB();$b()});var BB,Bb,UB=p(()=>{yo();ct();BB=(t,e,r)=>{let o={EcsContainer:async n=>{let{fromHttp:s}=await Promise.resolve().then(()=>(cb(),ab)),{fromContainerMetadata:i}=await Promise.resolve().then(()=>(sl(),nl));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>Mu(s(n??{}),i(n))().then(Bb)},Ec2InstanceMetadata:async n=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:s}=await Promise.resolve().then(()=>(sl(),nl));return async()=>s(n)().then(Bb)},Environment:async n=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:s}=await Promise.resolve().then(()=>(XR(),AM));return async()=>s(n)().then(Bb)}};if(t in o)return o[t];throw new Q(`Unsupported credential source in profile ${e}. Got ${t}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},Bb=t=>$e(t,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p")});function Sne(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function Ene(t){return{schemeId:"smithy.api#noAuth"}}var FB,GB,_ne,HB,Ub=p(()=>{Je();Zt();bl();FB=async(t,e,r)=>({operation:nt(e).operation,region:await ge(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});GB=t=>{let e=[];switch(t.operation){case"AssumeRoleWithWebIdentity":{e.push(Ene(t));break}default:e.push(Sne(t))}return e},_ne=t=>Object.assign(t,{stsClientCtor:li}),HB=t=>{let e=_ne(t),r=Gr(e);return Object.assign(r,{authSchemePreference:ge(t.authSchemePreference??[])})}});var jB,i0,a0=p(()=>{jB=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,useGlobalEndpoint:t.useGlobalEndpoint??!1,defaultSigningName:"sts"}),i0={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var eU,Se,Ze,et,ka,Pa,So,tU,rU,oU,Ut,VB,mi,pp,Gb,zB,Fb,nU,KB,Eo,WB,sU,iU,Oo,Tn,qB,aU,cU,JB,uU,QB,YB,XB,ZB,Rne,pU,dU=p(()=>{eU="required",Se="type",Ze="fn",et="argv",ka="ref",Pa="booleanEquals",So="stringEquals",tU="sigv4",rU="sts",oU="us-east-1",Ut="endpoint",VB="https://sts.{Region}.{PartitionResult#dnsSuffix}",mi="tree",pp="error",Gb="getAttr",zB={[eU]:!1,[Se]:"string"},Fb={[eU]:!0,default:!1,[Se]:"boolean"},nU={[ka]:"Endpoint"},KB={[Ze]:"isSet",[et]:[{[ka]:"Region"}]},Eo={[ka]:"Region"},WB={[Ze]:"aws.partition",[et]:[Eo],assign:"PartitionResult"},sU={[ka]:"UseFIPS"},iU={[ka]:"UseDualStack"},Oo={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:tU,signingName:rU,signingRegion:oU}]},headers:{}},Tn={},qB={conditions:[{[Ze]:So,[et]:[Eo,"aws-global"]}],[Ut]:Oo,[Se]:Ut},aU={[Ze]:Pa,[et]:[sU,!0]},cU={[Ze]:Pa,[et]:[iU,!0]},JB={[Ze]:Gb,[et]:[{[ka]:"PartitionResult"},"supportsFIPS"]},uU={[ka]:"PartitionResult"},QB={[Ze]:Pa,[et]:[!0,{[Ze]:Gb,[et]:[uU,"supportsDualStack"]}]},YB=[{[Ze]:"isSet",[et]:[nU]}],XB=[aU],ZB=[cU],Rne={version:"1.0",parameters:{Region:zB,UseDualStack:Fb,UseFIPS:Fb,Endpoint:zB,UseGlobalEndpoint:Fb},rules:[{conditions:[{[Ze]:Pa,[et]:[{[ka]:"UseGlobalEndpoint"},!0]},{[Ze]:"not",[et]:YB},KB,WB,{[Ze]:Pa,[et]:[sU,!1]},{[Ze]:Pa,[et]:[iU,!1]}],rules:[{conditions:[{[Ze]:So,[et]:[Eo,"ap-northeast-1"]}],endpoint:Oo,[Se]:Ut},{conditions:[{[Ze]:So,[et]:[Eo,"ap-south-1"]}],endpoint:Oo,[Se]:Ut},{conditions:[{[Ze]:So,[et]:[Eo,"ap-southeast-1"]}],endpoint:Oo,[Se]:Ut},{conditions:[{[Ze]:So,[et]:[Eo,"ap-southeast-2"]}],endpoint:Oo,[Se]:Ut},qB,{conditions:[{[Ze]:So,[et]:[Eo,"ca-central-1"]}],endpoint:Oo,[Se]:Ut},{conditions:[{[Ze]:So,[et]:[Eo,"eu-central-1"]}],endpoint:Oo,[Se]:Ut},{conditions:[{[Ze]:So,[et]:[Eo,"eu-north-1"]}],endpoint:Oo,[Se]:Ut},{conditions:[{[Ze]:So,[et]:[Eo,"eu-west-1"]}],endpoint:Oo,[Se]:Ut},{conditions:[{[Ze]:So,[et]:[Eo,"eu-west-2"]}],endpoint:Oo,[Se]:Ut},{conditions:[{[Ze]:So,[et]:[Eo,"eu-west-3"]}],endpoint:Oo,[Se]:Ut},{conditions:[{[Ze]:So,[et]:[Eo,"sa-east-1"]}],endpoint:Oo,[Se]:Ut},{conditions:[{[Ze]:So,[et]:[Eo,oU]}],endpoint:Oo,[Se]:Ut},{conditions:[{[Ze]:So,[et]:[Eo,"us-east-2"]}],endpoint:Oo,[Se]:Ut},{conditions:[{[Ze]:So,[et]:[Eo,"us-west-1"]}],endpoint:Oo,[Se]:Ut},{conditions:[{[Ze]:So,[et]:[Eo,"us-west-2"]}],endpoint:Oo,[Se]:Ut},{endpoint:{url:VB,properties:{authSchemes:[{name:tU,signingName:rU,signingRegion:"{Region}"}]},headers:Tn},[Se]:Ut}],[Se]:mi},{conditions:YB,rules:[{conditions:XB,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[Se]:pp},{conditions:ZB,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[Se]:pp},{endpoint:{url:nU,properties:Tn,headers:Tn},[Se]:Ut}],[Se]:mi},{conditions:[KB],rules:[{conditions:[WB],rules:[{conditions:[aU,cU],rules:[{conditions:[{[Ze]:Pa,[et]:[!0,JB]},QB],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Tn,headers:Tn},[Se]:Ut}],[Se]:mi},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[Se]:pp}],[Se]:mi},{conditions:XB,rules:[{conditions:[{[Ze]:Pa,[et]:[JB,!0]}],rules:[{conditions:[{[Ze]:So,[et]:[{[Ze]:Gb,[et]:[uU,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:Tn,headers:Tn},[Se]:Ut},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Tn,headers:Tn},[Se]:Ut}],[Se]:mi},{error:"FIPS is enabled but this partition does not support FIPS",[Se]:pp}],[Se]:mi},{conditions:ZB,rules:[{conditions:[QB],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Tn,headers:Tn},[Se]:Ut}],[Se]:mi},{error:"DualStack is enabled but this partition does not support DualStack",[Se]:pp}],[Se]:mi},qB,{endpoint:{url:VB,properties:Tn,headers:Tn},[Se]:Ut}],[Se]:mi}],[Se]:mi},{error:"Invalid Configuration: Missing Region",[Se]:pp}]},pU=Rne});var bne,lU,mU=p(()=>{Is();nn();dU();bne=new lr({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),lU=(t,e={})=>bne.get(t,()=>Br(pU,{endpointParams:t,logger:e.logger}));jt.aws=_r});var fU,hU=p(()=>{Je();Yn();At();F();Jn();Kt();wt();Ub();mU();fU=t=>({apiVersion:"2011-06-15",base64Decoder:t?.base64Decoder??st,base64Encoder:t?.base64Encoder??we,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??lU,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??GB,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new Ct},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Ao}],logger:t?.logger??new Bt,protocol:t?.protocol??ri,protocolSettings:t?.protocolSettings??{defaultNamespace:"com.amazonaws.sts",xmlNamespace:"https://sts.amazonaws.com/doc/2011-06-15/",version:"2011-06-15",serviceTarget:"AWSSecurityTokenServiceV20110615"},serviceId:t?.serviceId??"STS",urlParser:t?.urlParser??Mt,utf8Decoder:t?.utf8Decoder??it,utf8Encoder:t?.utf8Encoder??Xe})});var gU,xU=p(()=>{Bg();Je();ii();rr();At();ai();Rr();Vo();Vn();F();ci();ui();Zn();hU();gU=t=>{jr(process.version);let e=so(t),r=()=>e().then(Hr),o=fU(t);Ur(process.version);let n={profile:t?.profile,logger:o.logger};return{...o,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??G(Fr,n),bodyLengthChecker:t?.bodyLengthChecker??no,defaultUserAgentProvider:t?.defaultUserAgentProvider??ro({serviceId:o.serviceId,clientVersion:Xu.version}),httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:s=>s.getIdentityProvider("aws.auth#sigv4")||(async i=>await t.credentialDefaultProvider(i?.__config||{})()),signer:new Ct},{schemeId:"smithy.api#noAuth",identityProvider:s=>s.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Ao}],maxAttempts:t?.maxAttempts??G(Xr,t),region:t?.region??G(Jt,{...fr,...n}),requestHandler:Wt.create(t?.requestHandler??r),retryMode:t?.retryMode??G({...eo,default:async()=>(await r()).retryMode||hr},t),sha256:t?.sha256??Qt.bind(null,"sha256"),streamCollector:t?.streamCollector??ur,useDualstackEndpoint:t?.useDualstackEndpoint??G(Wr,n),useFipsEndpoint:t?.useFipsEndpoint??G(qr,n),userAgentAppId:t?.userAgentAppId??G(oo,n)}}});var yU,SU,EU=p(()=>{yU=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,o=t.credentials;return{setHttpAuthScheme(n){let s=e.findIndex(i=>i.schemeId===n.schemeId);s===-1?e.push(n):e.splice(s,1,n)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(n){r=n},httpAuthSchemeProvider(){return r},setCredentials(n){o=n},credentials(){return o}}},SU=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()})});var _U,RU=p(()=>{ws();Pe();F();EU();_U=(t,e)=>{let r=Object.assign(io(t),Vr(t),Ar(t),yU(t));return e.forEach(o=>o.configure(r)),Object.assign(t,ao(r),zr(r),Dr(r),SU(r))}});var li,bl=p(()=>{Js();Qs();Ys();Ts();rr();At();ve();oi();xe();Rr();F();Ub();a0();xU();RU();li=class extends Nt{config;constructor(...[e]){let r=gU(e||{});super(r),this.initConfig=r;let o=jB(r),n=Mr(o),s=Zr(n),i=Jr(s),a=i,c=Yr(a),u=HB(c),m=_U(u,e?.extensions||[]);this.config=m,this.middlewareStack.use(Lr(this.config)),this.middlewareStack.use(Kr(this.config)),this.middlewareStack.use(to(this.config)),this.middlewareStack.use(Qr(this.config)),this.middlewareStack.use(Or(this.config)),this.middlewareStack.use(Pr(this.config)),this.middlewareStack.use(kr(this.config)),this.middlewareStack.use(Nr(this.config,{httpAuthSchemeParametersProvider:FB,identityProviderConfigProvider:async f=>new dr({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use($r(this.config))}destroy(){super.destroy()}}});var pn,c0=p(()=>{F();pn=class t extends mr{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}}});var Cl,vl,Il,Tl,wl,Al,Dl,Hb=p(()=>{c0();Cl=class t extends pn{name="ExpiredTokenException";$fault="client";constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},vl=class t extends pn{name="MalformedPolicyDocumentException";$fault="client";constructor(e){super({name:"MalformedPolicyDocumentException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Il=class t extends pn{name="PackedPolicyTooLargeException";$fault="client";constructor(e){super({name:"PackedPolicyTooLargeException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Tl=class t extends pn{name="RegionDisabledException";$fault="client";constructor(e){super({name:"RegionDisabledException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},wl=class t extends pn{name="IDPRejectedClaimException";$fault="client";constructor(e){super({name:"IDPRejectedClaimException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Al=class t extends pn{name="InvalidIdentityTokenException";$fault="client";constructor(e){super({name:"InvalidIdentityTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Dl=class t extends pn{name="IDPCommunicationErrorException";$fault="client";constructor(e){super({name:"IDPCommunicationErrorException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}}});var Cne,vne,Ine,Tne,wne,Ane,jb,Dne,One,Pne,kne,Vb,Nne,bU,$ne,Lne,Mne,Bne,Une,Fne,Gne,Hne,CU,vU,jne,Vne,zne,Kne,Wne,qne,IU,Jne,Qne,TU,Yne,wU,Xne,Zne,zb,ese,tse,rse,ose,nse,sse,ise,ase,cse,use,Pc,kc,pse,Nc,$c,Lc,dse,AU,lse,pt,mse,fse,Kb,DU,OU,PU,kU,Wb,NU,$U,LU,MU,BU,UU,FU,GU,HU,jU,VU,zU,hse,gse,qb,Jb,u0=p(()=>{ve();Hb();c0();Cne="Arn",vne="AccessKeyId",Ine="AssumeRole",Tne="AssumedRoleId",wne="AssumeRoleRequest",Ane="AssumeRoleResponse",jb="AssumedRoleUser",Dne="AssumeRoleWithWebIdentity",One="AssumeRoleWithWebIdentityRequest",Pne="AssumeRoleWithWebIdentityResponse",kne="Audience",Vb="Credentials",Nne="ContextAssertion",bU="DurationSeconds",$ne="Expiration",Lne="ExternalId",Mne="ExpiredTokenException",Bne="IDPCommunicationErrorException",Une="IDPRejectedClaimException",Fne="InvalidIdentityTokenException",Gne="Key",Hne="MalformedPolicyDocumentException",CU="Policy",vU="PolicyArns",jne="ProviderArn",Vne="ProvidedContexts",zne="ProvidedContextsListType",Kne="ProvidedContext",Wne="PolicyDescriptorType",qne="ProviderId",IU="PackedPolicySize",Jne="PackedPolicyTooLargeException",Qne="Provider",TU="RoleArn",Yne="RegionDisabledException",wU="RoleSessionName",Xne="SecretAccessKey",Zne="SubjectFromWebIdentityToken",zb="SourceIdentity",ese="SerialNumber",tse="SessionToken",rse="Tags",ose="TokenCode",nse="TransitiveTagKeys",sse="Tag",ise="Value",ase="WebIdentityToken",cse="arn",use="accessKeySecretType",Pc="awsQueryError",kc="client",pse="clientTokenType",Nc="error",$c="httpError",Lc="message",dse="policyDescriptorListType",AU="smithy.ts.sdk.synthetic.com.amazonaws.sts",lse="tagListType",pt="com.amazonaws.sts",mse=[0,pt,use,8,0],fse=[0,pt,pse,8,0],Kb=[3,pt,jb,0,[Tne,Cne],[0,0]],DU=[3,pt,wne,0,[TU,wU,vU,CU,bU,rse,nse,Lne,ese,ose,zb,Vne],[0,0,()=>zU,0,1,()=>gse,64,0,0,0,0,()=>hse]],OU=[3,pt,Ane,0,[Vb,jb,IU,zb],[[()=>Wb,0],()=>Kb,1,0]],PU=[3,pt,One,0,[TU,wU,ase,qne,vU,CU,bU],[0,0,[()=>fse,0],0,()=>zU,0,1]],kU=[3,pt,Pne,0,[Vb,Zne,jb,IU,Qne,kne,zb],[[()=>Wb,0],0,()=>Kb,1,0,0,0]],Wb=[3,pt,Vb,0,[vne,Xne,tse,$ne],[0,[()=>mse,0],0,4]],NU=[-3,pt,Mne,{[Pc]:["ExpiredTokenException",400],[Nc]:kc,[$c]:400},[Lc],[0]];R.for(pt).registerError(NU,Cl);$U=[-3,pt,Bne,{[Pc]:["IDPCommunicationError",400],[Nc]:kc,[$c]:400},[Lc],[0]];R.for(pt).registerError($U,Dl);LU=[-3,pt,Une,{[Pc]:["IDPRejectedClaim",403],[Nc]:kc,[$c]:403},[Lc],[0]];R.for(pt).registerError(LU,wl);MU=[-3,pt,Fne,{[Pc]:["InvalidIdentityToken",400],[Nc]:kc,[$c]:400},[Lc],[0]];R.for(pt).registerError(MU,Al);BU=[-3,pt,Hne,{[Pc]:["MalformedPolicyDocument",400],[Nc]:kc,[$c]:400},[Lc],[0]];R.for(pt).registerError(BU,vl);UU=[-3,pt,Jne,{[Pc]:["PackedPolicyTooLarge",400],[Nc]:kc,[$c]:400},[Lc],[0]];R.for(pt).registerError(UU,Il);FU=[3,pt,Wne,0,[cse],[0]],GU=[3,pt,Kne,0,[jne,Nne],[0,0]],HU=[-3,pt,Yne,{[Pc]:["RegionDisabledException",403],[Nc]:kc,[$c]:403},[Lc],[0]];R.for(pt).registerError(HU,Tl);jU=[3,pt,sse,0,[Gne,ise],[0,0]],VU=[-3,AU,"STSServiceException",0,[],[]];R.for(AU).registerError(VU,pn);zU=[1,pt,dse,0,()=>FU],hse=[1,pt,zne,0,()=>GU],gse=[1,pt,lse,0,()=>jU],qb=[9,pt,Ine,0,()=>DU,()=>OU],Jb=[9,pt,Dne,0,()=>PU,()=>kU]});var Mc,p0=p(()=>{xe();F();a0();u0();Mc=class extends Y.classBuilder().ep(i0).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").sc(qb).build(){}});var Bc,d0=p(()=>{xe();F();a0();u0();Bc=class extends Y.classBuilder().ep(i0).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").sc(Jb).build(){}});var xse,l0,KU=p(()=>{F();p0();d0();bl();xse={AssumeRoleCommand:Mc,AssumeRoleWithWebIdentityCommand:Bc},l0=class extends li{};Ea(xse,l0)});var WU=p(()=>{p0();d0()});var qU=p(()=>{});var JU,QU,YU,XU,ZU,eF=p(()=>{yo();ws();p0();d0();JU=t=>{if(typeof t?.Arn=="string"){let e=t.Arn.split(":");if(e.length>4&&e[4]!=="")return e[4]}},QU=async(t,e,r,o={})=>{let n=typeof t=="function"?await t():t,s=typeof e=="function"?await e():e,i="",a=n??s??(i=await q2(o)());return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${n} (credential provider clientConfig)`,`${s} (contextual client)`,`${i} (STS default: AWS_REGION, profile region, or us-east-1)`),a},YU=(t,e)=>{let r,o;return async(n,s)=>{if(o=n,!r){let{logger:m=t?.parentClientConfig?.logger,profile:f=t?.parentClientConfig?.profile,region:h,requestHandler:g=t?.parentClientConfig?.requestHandler,credentialProviderLogger:_,userAgentAppId:b=t?.parentClientConfig?.userAgentAppId}=t,T=await QU(h,t?.parentClientConfig?.region,_,{logger:m,profile:f}),M=!ZU(g);r=new e({...t,userAgentAppId:b,profile:f,credentialDefaultProvider:()=>async()=>o,region:T,requestHandler:M?g:void 0,logger:m})}let{Credentials:i,AssumedRoleUser:a}=await r.send(new Mc(s));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${s.RoleArn}`);let c=JU(a),u={accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...c&&{accountId:c}};return $e(u,"CREDENTIALS_STS_ASSUME_ROLE","i"),u}},XU=(t,e)=>{let r;return async o=>{if(!r){let{logger:c=t?.parentClientConfig?.logger,profile:u=t?.parentClientConfig?.profile,region:m,requestHandler:f=t?.parentClientConfig?.requestHandler,credentialProviderLogger:h,userAgentAppId:g=t?.parentClientConfig?.userAgentAppId}=t,_=await QU(m,t?.parentClientConfig?.region,h,{logger:c,profile:u}),b=!ZU(f);r=new e({...t,userAgentAppId:g,profile:u,region:_,requestHandler:b?f:void 0,logger:c})}let{Credentials:n,AssumedRoleUser:s}=await r.send(new Bc(o));if(!n||!n.AccessKeyId||!n.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${o.RoleArn}`);let i=JU(s),a={accessKeyId:n.AccessKeyId,secretAccessKey:n.SecretAccessKey,sessionToken:n.SessionToken,expiration:n.Expiration,...n.CredentialScope&&{credentialScope:n.CredentialScope},...i&&{accountId:i}};return i&&$e(a,"RESOLVED_ACCOUNT_ID","T"),$e(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},ZU=t=>t?.metadata?.handlerProtocol==="h2"});var tF,rF,oF,yse,nF=p(()=>{eF();bl();tF=(t,e)=>e?class extends t{constructor(o){super(o);for(let n of e)this.middlewareStack.use(n)}}:t,rF=(t={},e)=>YU(t,tF(li,e)),oF=(t={},e)=>XU(t,tF(li,e)),yse=t=>e=>t({roleAssumer:rF(e),roleAssumerWithWebIdentity:oF(e),...e})});var Qb={};En(Qb,{$Command:()=>Y,AssumeRole$:()=>qb,AssumeRoleCommand:()=>Mc,AssumeRoleRequest$:()=>DU,AssumeRoleResponse$:()=>OU,AssumeRoleWithWebIdentity$:()=>Jb,AssumeRoleWithWebIdentityCommand:()=>Bc,AssumeRoleWithWebIdentityRequest$:()=>PU,AssumeRoleWithWebIdentityResponse$:()=>kU,AssumedRoleUser$:()=>Kb,Credentials$:()=>Wb,ExpiredTokenException:()=>Cl,ExpiredTokenException$:()=>NU,IDPCommunicationErrorException:()=>Dl,IDPCommunicationErrorException$:()=>$U,IDPRejectedClaimException:()=>wl,IDPRejectedClaimException$:()=>LU,InvalidIdentityTokenException:()=>Al,InvalidIdentityTokenException$:()=>MU,MalformedPolicyDocumentException:()=>vl,MalformedPolicyDocumentException$:()=>BU,PackedPolicyTooLargeException:()=>Il,PackedPolicyTooLargeException$:()=>UU,PolicyDescriptorType$:()=>FU,ProvidedContext$:()=>GU,RegionDisabledException:()=>Tl,RegionDisabledException$:()=>HU,STS:()=>l0,STSClient:()=>li,STSServiceException:()=>pn,STSServiceException$:()=>VU,Tag$:()=>jU,__Client:()=>Nt,decorateDefaultCredentialProvider:()=>yse,getDefaultRoleAssumer:()=>rF,getDefaultRoleAssumerWithWebIdentity:()=>oF});var Yb=p(()=>{bl();KU();WU();u0();Hb();qU();nF();c0()});var iF,Sse,Ese,aF,sF,cF=p(()=>{yo();ct();jo();UB();iF=(t,{profile:e="default",logger:r}={})=>!!t&&typeof t=="object"&&typeof t.role_arn=="string"&&["undefined","string"].indexOf(typeof t.role_session_name)>-1&&["undefined","string"].indexOf(typeof t.external_id)>-1&&["undefined","string"].indexOf(typeof t.mfa_serial)>-1&&(Sse(t,{profile:e,logger:r})||Ese(t,{profile:e,logger:r})),Sse=(t,{profile:e,logger:r})=>{let o=typeof t.source_profile=="string"&&typeof t.credential_source>"u";return o&&r?.debug?.(`    ${e} isAssumeRoleWithSourceProfile source_profile=${t.source_profile}`),o},Ese=(t,{profile:e,logger:r})=>{let o=typeof t.credential_source=="string"&&typeof t.source_profile>"u";return o&&r?.debug?.(`    ${e} isCredentialSourceProfile credential_source=${t.credential_source}`),o},aF=async(t,e,r,o,n={},s)=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let i=e[t],{source_profile:a,region:c}=i;if(!r.roleAssumer){let{getDefaultRoleAssumer:m}=await Promise.resolve().then(()=>(Yb(),Qb));r.roleAssumer=m({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...o,...r?.parentClientConfig,region:c??r?.parentClientConfig?.region??o?.region}},r.clientPlugins)}if(a&&a in n)throw new Q(`Detected a cycle attempting to resolve credentials for profile ${cn(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${a?`source_profile=[${a}]`:`profile=[${t}]`}`);let u=a?s(a,e,r,o,{...n,[a]:!0},sF(e[a]??{})):(await BB(i.credential_source,t,r.logger)(r))();if(sF(i))return u.then(m=>$e(m,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let m={RoleArn:i.role_arn,RoleSessionName:i.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:i.external_id,DurationSeconds:parseInt(i.duration_seconds||"3600",10)},{mfa_serial:f}=i;if(f){if(!r.mfaCodeProvider)throw new Q(`Profile ${t} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});m.SerialNumber=f,m.TokenCode=await r.mfaCodeProvider(f)}let h=await u;return r.roleAssumer(h,m).then(g=>$e(g,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},sF=t=>!t.role_arn&&!!t.credential_source});function _se(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"signin",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function Rse(t){return{schemeId:"smithy.api#noAuth"}}var uF,pF,dF,Xb=p(()=>{Je();Zt();uF=async(t,e,r)=>({operation:nt(e).operation,region:await ge(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});pF=t=>{let e=[];switch(t.operation){case"CreateOAuth2Token":{e.push(Rse(t));break}default:e.push(_se(t))}return e},dF=t=>{let e=Gr(t);return Object.assign(e,{authSchemePreference:ge(t.authSchemePreference??[])})}});var lF,mF,Zb=p(()=>{lF=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"signin"}),mF={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var _F,ko,No,Qi,fF,Uc,dp,Na,Os,h0,eC,hF,gF,xF,tC,rC,Po,oC,m0,f0,yF,SF,EF,bse,RF,bF=p(()=>{_F="required",ko="fn",No="argv",Qi="ref",fF="isSet",Uc="booleanEquals",dp="error",Na="endpoint",Os="tree",h0="PartitionResult",eC="stringEquals",hF={[_F]:!0,default:!1,type:"boolean"},gF={[_F]:!1,type:"string"},xF={[Qi]:"Endpoint"},tC={[ko]:Uc,[No]:[{[Qi]:"UseFIPS"},!0]},rC={[ko]:Uc,[No]:[{[Qi]:"UseDualStack"},!0]},Po={},oC={[ko]:"getAttr",[No]:[{[Qi]:h0},"name"]},m0={[ko]:Uc,[No]:[{[Qi]:"UseFIPS"},!1]},f0={[ko]:Uc,[No]:[{[Qi]:"UseDualStack"},!1]},yF={[ko]:"getAttr",[No]:[{[Qi]:h0},"supportsFIPS"]},SF={[ko]:Uc,[No]:[!0,{[ko]:"getAttr",[No]:[{[Qi]:h0},"supportsDualStack"]}]},EF=[{[Qi]:"Region"}],bse={version:"1.0",parameters:{UseDualStack:hF,UseFIPS:hF,Endpoint:gF,Region:gF},rules:[{conditions:[{[ko]:fF,[No]:[xF]}],rules:[{conditions:[tC],error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:dp},{rules:[{conditions:[rC],error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:dp},{endpoint:{url:xF,properties:Po,headers:Po},type:Na}],type:Os}],type:Os},{rules:[{conditions:[{[ko]:fF,[No]:EF}],rules:[{conditions:[{[ko]:"aws.partition",[No]:EF,assign:h0}],rules:[{conditions:[{[ko]:eC,[No]:[oC,"aws"]},m0,f0],endpoint:{url:"https://{Region}.signin.aws.amazon.com",properties:Po,headers:Po},type:Na},{conditions:[{[ko]:eC,[No]:[oC,"aws-cn"]},m0,f0],endpoint:{url:"https://{Region}.signin.amazonaws.cn",properties:Po,headers:Po},type:Na},{conditions:[{[ko]:eC,[No]:[oC,"aws-us-gov"]},m0,f0],endpoint:{url:"https://{Region}.signin.amazonaws-us-gov.com",properties:Po,headers:Po},type:Na},{conditions:[tC,rC],rules:[{conditions:[{[ko]:Uc,[No]:[!0,yF]},SF],rules:[{endpoint:{url:"https://signin-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Po,headers:Po},type:Na}],type:Os},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:dp}],type:Os},{conditions:[tC,f0],rules:[{conditions:[{[ko]:Uc,[No]:[yF,!0]}],rules:[{endpoint:{url:"https://signin-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Po,headers:Po},type:Na}],type:Os},{error:"FIPS is enabled but this partition does not support FIPS",type:dp}],type:Os},{conditions:[m0,rC],rules:[{conditions:[SF],rules:[{endpoint:{url:"https://signin.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Po,headers:Po},type:Na}],type:Os},{error:"DualStack is enabled but this partition does not support DualStack",type:dp}],type:Os},{endpoint:{url:"https://signin.{Region}.{PartitionResult#dnsSuffix}",properties:Po,headers:Po},type:Na}],type:Os}],type:Os},{error:"Invalid Configuration: Missing Region",type:dp}],type:Os}]},RF=bse});var Cse,CF,vF=p(()=>{Is();nn();bF();Cse=new lr({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),CF=(t,e={})=>Cse.get(t,()=>Br(RF,{endpointParams:t,logger:e.logger}));jt.aws=_r});var IF,TF=p(()=>{Je();Yn();At();F();Jn();Kt();wt();Xb();vF();IF=t=>({apiVersion:"2023-01-01",base64Decoder:t?.base64Decoder??st,base64Encoder:t?.base64Encoder??we,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??CF,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??pF,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new Ct},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Ao}],logger:t?.logger??new Bt,protocol:t?.protocol??ba,protocolSettings:t?.protocolSettings??{defaultNamespace:"com.amazonaws.signin",version:"2023-01-01",serviceTarget:"Signin"},serviceId:t?.serviceId??"Signin",urlParser:t?.urlParser??Mt,utf8Decoder:t?.utf8Decoder??it,utf8Encoder:t?.utf8Encoder??Xe})});var wF,AF=p(()=>{Bg();Je();ii();rr();ai();Rr();Vo();Vn();F();ci();ui();Zn();TF();wF=t=>{jr(process.version);let e=so(t),r=()=>e().then(Hr),o=IF(t);Ur(process.version);let n={profile:t?.profile,logger:o.logger};return{...o,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??G(Fr,n),bodyLengthChecker:t?.bodyLengthChecker??no,defaultUserAgentProvider:t?.defaultUserAgentProvider??ro({serviceId:o.serviceId,clientVersion:Xu.version}),maxAttempts:t?.maxAttempts??G(Xr,t),region:t?.region??G(Jt,{...fr,...n}),requestHandler:Wt.create(t?.requestHandler??r),retryMode:t?.retryMode??G({...eo,default:async()=>(await r()).retryMode||hr},t),sha256:t?.sha256??Qt.bind(null,"sha256"),streamCollector:t?.streamCollector??ur,useDualstackEndpoint:t?.useDualstackEndpoint??G(Wr,n),useFipsEndpoint:t?.useFipsEndpoint??G(qr,n),userAgentAppId:t?.userAgentAppId??G(oo,n)}}});var DF,OF,PF=p(()=>{DF=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,o=t.credentials;return{setHttpAuthScheme(n){let s=e.findIndex(i=>i.schemeId===n.schemeId);s===-1?e.push(n):e.splice(s,1,n)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(n){r=n},httpAuthSchemeProvider(){return r},setCredentials(n){o=n},credentials(){return o}}},OF=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()})});var kF,NF=p(()=>{ws();Pe();F();PF();kF=(t,e)=>{let r=Object.assign(io(t),Vr(t),Ar(t),DF(t));return e.forEach(o=>o.configure(r)),Object.assign(t,ao(r),zr(r),Dr(r),OF(r))}});var Ol,nC=p(()=>{Js();Qs();Ys();Ts();rr();At();ve();oi();xe();Rr();F();Xb();Zb();AF();NF();Ol=class extends Nt{config;constructor(...[e]){let r=wF(e||{});super(r),this.initConfig=r;let o=lF(r),n=Mr(o),s=Zr(n),i=Jr(s),a=i,c=Yr(a),u=dF(c),m=kF(u,e?.extensions||[]);this.config=m,this.middlewareStack.use(Lr(this.config)),this.middlewareStack.use(Kr(this.config)),this.middlewareStack.use(to(this.config)),this.middlewareStack.use(Qr(this.config)),this.middlewareStack.use(Or(this.config)),this.middlewareStack.use(Pr(this.config)),this.middlewareStack.use(kr(this.config)),this.middlewareStack.use(Nr(this.config,{httpAuthSchemeParametersProvider:uF,identityProviderConfigProvider:async f=>new dr({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use($r(this.config))}destroy(){super.destroy()}}});var Ps,g0=p(()=>{F();Ps=class t extends mr{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}}});var Pl,kl,Nl,$l,sC=p(()=>{g0();Pl=class t extends Ps{name="AccessDeniedException";$fault="client";error;constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error}},kl=class t extends Ps{name="InternalServerException";$fault="server";error;constructor(e){super({name:"InternalServerException",$fault:"server",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error}},Nl=class t extends Ps{name="TooManyRequestsError";$fault="client";error;constructor(e){super({name:"TooManyRequestsError",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error}},$l=class t extends Ps{name="ValidationException";$fault="client";error;constructor(e){super({name:"ValidationException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error}}});var vse,Ise,Tse,wse,Ase,Dse,Ose,Pse,kse,Nse,$se,$F,LF,iC,MF,BF,Lse,$a,UF,FF,Mse,aC,GF,wn,y0,x0,HF,Bse,jF,VF,KF,Use,Fse,zF,zo,WF,qF,JF,QF,YF,XF,ZF,e6,t6,r6,o6,cC,uC=p(()=>{ve();sC();g0();vse="AccessDeniedException",Ise="AccessToken",Tse="CreateOAuth2Token",wse="CreateOAuth2TokenRequest",Ase="CreateOAuth2TokenRequestBody",Dse="CreateOAuth2TokenResponseBody",Ose="CreateOAuth2TokenResponse",Pse="InternalServerException",kse="RefreshToken",Nse="TooManyRequestsError",$se="ValidationException",$F="accessKeyId",LF="accessToken",iC="client",MF="clientId",BF="codeVerifier",Lse="code",$a="error",UF="expiresIn",FF="grantType",Mse="http",aC="httpError",GF="idToken",wn="jsonName",y0="message",x0="refreshToken",HF="redirectUri",Bse="server",jF="secretAccessKey",VF="sessionToken",KF="smithy.ts.sdk.synthetic.com.amazonaws.signin",Use="tokenInput",Fse="tokenOutput",zF="tokenType",zo="com.amazonaws.signin",WF=[0,zo,kse,8,0],qF=[-3,zo,vse,{[$a]:iC},[$a,y0],[0,0]];R.for(zo).registerError(qF,Pl);JF=[3,zo,Ise,8,[$F,jF,VF],[[0,{[wn]:$F}],[0,{[wn]:jF}],[0,{[wn]:VF}]]],QF=[3,zo,wse,0,[Use],[[()=>YF,16]]],YF=[3,zo,Ase,0,[MF,FF,Lse,HF,BF,x0],[[0,{[wn]:MF}],[0,{[wn]:FF}],0,[0,{[wn]:HF}],[0,{[wn]:BF}],[()=>WF,{[wn]:x0}]]],XF=[3,zo,Ose,0,[Fse],[[()=>ZF,16]]],ZF=[3,zo,Dse,0,[LF,zF,UF,x0,GF],[[()=>JF,{[wn]:LF}],[0,{[wn]:zF}],[1,{[wn]:UF}],[()=>WF,{[wn]:x0}],[0,{[wn]:GF}]]],e6=[-3,zo,Pse,{[$a]:Bse,[aC]:500},[$a,y0],[0,0]];R.for(zo).registerError(e6,kl);t6=[-3,zo,Nse,{[$a]:iC,[aC]:429},[$a,y0],[0,0]];R.for(zo).registerError(t6,Nl);r6=[-3,zo,$se,{[$a]:iC,[aC]:400},[$a,y0],[0,0]];R.for(zo).registerError(r6,$l);o6=[-3,KF,"SigninServiceException",0,[],[]];R.for(KF).registerError(o6,Ps);cC=[9,zo,Tse,{[Mse]:["POST","/v1/token",200]},()=>QF,()=>XF]});var Ll,pC=p(()=>{xe();F();Zb();uC();Ll=class extends Y.classBuilder().ep(mF).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("Signin","CreateOAuth2Token",{}).n("SigninClient","CreateOAuth2TokenCommand").sc(cC).build(){}});var Gse,S0,n6=p(()=>{F();pC();nC();Gse={CreateOAuth2TokenCommand:Ll},S0=class extends Ol{};Ea(Gse,S0)});var s6=p(()=>{pC()});var Hse,i6=p(()=>{Hse={AUTHCODE_EXPIRED:"AUTHCODE_EXPIRED",INSUFFICIENT_PERMISSIONS:"INSUFFICIENT_PERMISSIONS",INVALID_REQUEST:"INVALID_REQUEST",SERVER_ERROR:"server_error",TOKEN_EXPIRED:"TOKEN_EXPIRED",USER_CREDENTIALS_CHANGED:"USER_CREDENTIALS_CHANGED"}});var a6=p(()=>{});var c6={};En(c6,{$Command:()=>Y,AccessDeniedException:()=>Pl,AccessDeniedException$:()=>qF,AccessToken$:()=>JF,CreateOAuth2Token$:()=>cC,CreateOAuth2TokenCommand:()=>Ll,CreateOAuth2TokenRequest$:()=>QF,CreateOAuth2TokenRequestBody$:()=>YF,CreateOAuth2TokenResponse$:()=>XF,CreateOAuth2TokenResponseBody$:()=>ZF,InternalServerException:()=>kl,InternalServerException$:()=>e6,OAuth2ErrorCode:()=>Hse,Signin:()=>S0,SigninClient:()=>Ol,SigninServiceException:()=>Ps,SigninServiceException$:()=>o6,TooManyRequestsError:()=>Nl,TooManyRequestsError$:()=>t6,ValidationException:()=>$l,ValidationException$:()=>r6,__Client:()=>Nt});var u6=p(()=>{nC();n6();s6();uC();i6();sC();a6();g0()});import{createHash as jse,createPrivateKey as Vse,createPublicKey as zse,sign as Kse}from"node:crypto";import{promises as dC}from"node:fs";import{homedir as Wse}from"node:os";import{dirname as qse,join as p6}from"node:path";var E0,d6=p(()=>{ct();Pe();jo();E0=class t{profileData;init;callerClientConfig;static REFRESH_THRESHOLD=5*60*1e3;constructor(e,r,o){this.profileData=e,this.init=r,this.callerClientConfig=o}async loadCredentials(){let e=await this.loadToken();if(!e)throw new Q(`Failed to load a token for session ${this.loginSession}, please re-authenticate using aws login`,{tryNextLink:!1,logger:this.logger});let r=e.accessToken,o=Date.now();return new Date(r.expiresAt).getTime()-o<=t.REFRESH_THRESHOLD?this.refresh(e):{accessKeyId:r.accessKeyId,secretAccessKey:r.secretAccessKey,sessionToken:r.sessionToken,accountId:r.accountId,expiration:new Date(r.expiresAt)}}get logger(){return this.init?.logger}get loginSession(){return this.profileData.login_session}async refresh(e){let{SigninClient:r,CreateOAuth2TokenCommand:o}=await Promise.resolve().then(()=>(u6(),c6)),{logger:n,userAgentAppId:s}=this.callerClientConfig??{},a=(f=>f?.metadata?.handlerProtocol==="h2")(this.callerClientConfig?.requestHandler)?void 0:this.callerClientConfig?.requestHandler,c=this.profileData.region??await this.callerClientConfig?.region?.()??process.env.AWS_REGION,u=new r({credentials:{accessKeyId:"",secretAccessKey:""},region:c,requestHandler:a,logger:n,userAgentAppId:s,...this.init?.clientConfig});this.createDPoPInterceptor(u.middlewareStack);let m={tokenInput:{clientId:e.clientId,refreshToken:e.refreshToken,grantType:"refresh_token"}};try{let f=await u.send(new o(m)),{accessKeyId:h,secretAccessKey:g,sessionToken:_}=f.tokenOutput?.accessToken??{},{refreshToken:b,expiresIn:T}=f.tokenOutput??{};if(!h||!g||!_||!b)throw new Q("Token refresh response missing required fields",{logger:this.logger,tryNextLink:!1});let M=(T??900)*1e3,U=new Date(Date.now()+M),ie={...e,accessToken:{...e.accessToken,accessKeyId:h,secretAccessKey:g,sessionToken:_,expiresAt:U.toISOString()},refreshToken:b};await this.saveToken(ie);let le=ie.accessToken;return{accessKeyId:le.accessKeyId,secretAccessKey:le.secretAccessKey,sessionToken:le.sessionToken,accountId:le.accountId,expiration:U}}catch(f){if(f.name==="AccessDeniedException"){let h=f.error,g;switch(h){case"TOKEN_EXPIRED":g="Your session has expired. Please reauthenticate.";break;case"USER_CREDENTIALS_CHANGED":g="Unable to refresh credentials because of a change in your password. Please reauthenticate with your new password.";break;case"INSUFFICIENT_PERMISSIONS":g="Unable to refresh credentials due to insufficient permissions. You may be missing permission for the 'CreateOAuth2Token' action.";break;default:g=`Failed to refresh token: ${String(f)}. Please re-authenticate using \`aws login\``}throw new Q(g,{logger:this.logger,tryNextLink:!1})}throw new Q(`Failed to refresh token: ${String(f)}. Please re-authenticate using aws login`,{logger:this.logger})}}async loadToken(){let e=this.getTokenFilePath();try{let r;try{r=await Ia(e,{ignoreCache:this.init?.ignoreCache})}catch{r=await dC.readFile(e,"utf8")}let o=JSON.parse(r),n=["accessToken","clientId","refreshToken","dpopKey"].filter(s=>!o[s]);if(o.accessToken?.accountId||n.push("accountId"),n.length>0)throw new Q(`Token validation failed, missing fields: ${n.join(", ")}`,{logger:this.logger,tryNextLink:!1});return o}catch(r){throw new Q(`Failed to load token from ${e}: ${String(r)}`,{logger:this.logger,tryNextLink:!1})}}async saveToken(e){let r=this.getTokenFilePath(),o=qse(r);try{await dC.mkdir(o,{recursive:!0})}catch{}await dC.writeFile(r,JSON.stringify(e,null,2),"utf8")}getTokenFilePath(){let e=process.env.AWS_LOGIN_CACHE_DIRECTORY??p6(Wse(),".aws","login","cache"),r=Buffer.from(this.loginSession,"utf8"),o=jse("sha256").update(r).digest("hex");return p6(e,`${o}.json`)}derToRawSignature(e){let r=2;if(e[r]!==2)throw new Error("Invalid DER signature");r++;let o=e[r++],n=e.subarray(r,r+o);if(r+=o,e[r]!==2)throw new Error("Invalid DER signature");r++;let s=e[r++],i=e.subarray(r,r+s);n=n[0]===0?n.subarray(1):n,i=i[0]===0?i.subarray(1):i;let a=Buffer.concat([Buffer.alloc(32-n.length),n]),c=Buffer.concat([Buffer.alloc(32-i.length),i]);return Buffer.concat([a,c])}createDPoPInterceptor(e){e.add(r=>async o=>{if(me.isInstance(o.request)){let n=o.request,s=`${n.protocol}//${n.hostname}${n.port?`:${n.port}`:""}${n.path}`,i=await this.generateDpop(n.method,s);n.headers={...n.headers,DPoP:i}}return r(o)},{step:"finalizeRequest",name:"dpopInterceptor",override:!0})}async generateDpop(e="POST",r){let o=await this.loadToken();try{let n=Vse({key:o.dpopKey,format:"pem",type:"sec1"}),i=zse(n).export({format:"der",type:"spki"}),a=-1;for(let U=0;U<i.length;U++)if(i[U]===4){a=U;break}let c=i.slice(a+1,a+33),u=i.slice(a+33,a+65),m={alg:"ES256",typ:"dpop+jwt",jwk:{kty:"EC",crv:"P-256",x:c.toString("base64url"),y:u.toString("base64url")}},f={jti:crypto.randomUUID(),htm:e,htu:r,iat:Math.floor(Date.now()/1e3)},h=Buffer.from(JSON.stringify(m)).toString("base64url"),g=Buffer.from(JSON.stringify(f)).toString("base64url"),_=`${h}.${g}`,b=Kse("sha256",Buffer.from(_),n),M=this.derToRawSignature(b).toString("base64url");return`${_}.${M}`}catch(n){throw new Q(`Failed to generate Dpop proof: ${n instanceof Error?n.message:String(n)}`,{logger:this.logger,tryNextLink:!1})}}}});var l6,m6=p(()=>{yo();ct();jo();d6();l6=t=>async({callerClientConfig:e}={})=>{t?.logger?.debug?.("@aws-sdk/credential-providers - fromLoginCredentials");let r=await ni(t||{}),o=cn({profile:t?.profile??e?.profile}),n=r[o];if(!n?.login_session)throw new Q(`Profile ${o} does not contain login_session.`,{tryNextLink:!0,logger:t?.logger});let i=await new E0(n,t,e).loadCredentials();return $e(i,"CREDENTIALS_LOGIN","AD")}});var f6=p(()=>{});var h6=p(()=>{m6();f6()});var g6,x6,y6=p(()=>{yo();h6();g6=t=>!!(t&&t.login_session),x6=async(t,e,r)=>{let o=await l6({...e,profile:t})({callerClientConfig:r});return $e(o,"CREDENTIALS_PROFILE_LOGIN","AC")}});var S6,E6=p(()=>{yo();S6=(t,e,r)=>{if(e.Version!==1)throw Error(`Profile ${t} credential_process did not return Version 1.`);if(e.AccessKeyId===void 0||e.SecretAccessKey===void 0)throw Error(`Profile ${t} credential_process returned invalid credentials.`);if(e.Expiration){let s=new Date;if(new Date(e.Expiration)<s)throw Error(`Profile ${t} credential_process returned expired credentials.`)}let o=e.AccountId;!o&&r?.[t]?.aws_account_id&&(o=r[t].aws_account_id);let n={accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,...e.SessionToken&&{sessionToken:e.SessionToken},...e.Expiration&&{expiration:new Date(e.Expiration)},...e.CredentialScope&&{credentialScope:e.CredentialScope},...o&&{accountId:o}};return $e(n,"CREDENTIALS_PROCESS","w"),n}});import{exec as Jse}from"child_process";import{promisify as Qse}from"util";var _6,R6=p(()=>{ct();jo();E6();_6=async(t,e,r)=>{let o=e[t];if(e[t]){let n=o.credential_process;if(n!==void 0){let s=Qse(Yd?.getTokenRecord?.().exec??Jse);try{let{stdout:i}=await s(n),a;try{a=JSON.parse(i.trim())}catch{throw Error(`Profile ${t} credential_process returned invalid JSON.`)}return S6(t,a,e)}catch(i){throw new Q(i.message,{logger:r})}}else throw new Q(`Profile ${t} did not contain credential_process.`,{logger:r})}else throw new Q(`Profile ${t} could not be found in shared credentials file.`,{logger:r})}});var Yse,b6=p(()=>{jo();R6();Yse=(t={})=>async({callerClientConfig:e}={})=>{t.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await ni(t);return _6(cn({profile:t.profile??e?.profile}),r,t.logger)}});var lC={};En(lC,{fromProcess:()=>Yse});var mC=p(()=>{b6()});var C6,v6,I6=p(()=>{yo();C6=t=>!!t&&typeof t=="object"&&typeof t.credential_process=="string",v6=async(t,e)=>Promise.resolve().then(()=>(mC(),lC)).then(({fromProcess:r})=>r({...t,profile:e})().then(o=>$e(o,"CREDENTIALS_PROFILE_PROCESS","v")))});var T6,w6,A6=p(()=>{yo();T6=async(t,e,r={},o)=>{let{fromSSO:n}=await Promise.resolve().then(()=>(Mb(),Lb));return n({profile:t,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})({callerClientConfig:o}).then(s=>e.sso_session?$e(s,"CREDENTIALS_PROFILE_SSO","r"):$e(s,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},w6=t=>t&&(typeof t.sso_start_url=="string"||typeof t.sso_account_id=="string"||typeof t.sso_session=="string"||typeof t.sso_region=="string"||typeof t.sso_role_name=="string")});var fC,hC,D6=p(()=>{yo();fC=t=>!!t&&typeof t=="object"&&typeof t.aws_access_key_id=="string"&&typeof t.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof t.aws_session_token)>-1&&["undefined","string"].indexOf(typeof t.aws_account_id)>-1,hC=async(t,e)=>{e?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:t.aws_access_key_id,secretAccessKey:t.aws_secret_access_key,sessionToken:t.aws_session_token,...t.aws_credential_scope&&{credentialScope:t.aws_credential_scope},...t.aws_account_id&&{accountId:t.aws_account_id}};return $e(r,"CREDENTIALS_PROFILE","n")}});var gC,xC=p(()=>{gC=t=>async e=>{t.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:o,webIdentityToken:n,providerId:s,policyArns:i,policy:a,durationSeconds:c}=t,{roleAssumerWithWebIdentity:u}=t;if(!u){let{getDefaultRoleAssumerWithWebIdentity:m}=await Promise.resolve().then(()=>(Yb(),Qb));u=m({...t.clientConfig,credentialProviderLogger:t.logger,parentClientConfig:{...e?.callerClientConfig,...t.parentClientConfig}},t.clientPlugins)}return u({RoleArn:r,RoleSessionName:o??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:n,ProviderId:s,PolicyArns:i,Policy:a,DurationSeconds:c})}});import{readFileSync as Xse}from"fs";var O6,Zse,eie,tie,P6=p(()=>{yo();ct();jo();xC();O6="AWS_WEB_IDENTITY_TOKEN_FILE",Zse="AWS_ROLE_ARN",eie="AWS_ROLE_SESSION_NAME",tie=(t={})=>async e=>{t.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let r=t?.webIdentityTokenFile??process.env[O6],o=t?.roleArn??process.env[Zse],n=t?.roleSessionName??process.env[eie];if(!r||!o)throw new Q("Web identity configuration not specified",{logger:t.logger});let s=await gC({...t,webIdentityToken:Yd?.getTokenRecord?.()[r]??Xse(r,{encoding:"ascii"}),roleArn:o,roleSessionName:n})(e);return r===process.env[O6]&&$e(s,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),s}});var yC={};En(yC,{fromTokenFile:()=>tie,fromWebToken:()=>gC});var SC=p(()=>{P6();xC()});var k6,N6,$6=p(()=>{yo();k6=t=>!!t&&typeof t=="object"&&typeof t.web_identity_token_file=="string"&&typeof t.role_arn=="string"&&["undefined","string"].indexOf(typeof t.role_session_name)>-1,N6=async(t,e,r)=>Promise.resolve().then(()=>(SC(),yC)).then(({fromTokenFile:o})=>o({webIdentityTokenFile:t.web_identity_token_file,roleArn:t.role_arn,roleSessionName:t.role_session_name,roleAssumerWithWebIdentity:e.roleAssumerWithWebIdentity,logger:e.logger,parentClientConfig:e.parentClientConfig})({callerClientConfig:r}).then(n=>$e(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q")))});var EC,L6=p(()=>{ct();cF();y6();I6();A6();D6();$6();EC=async(t,e,r,o,n={},s=!1)=>{let i=e[t];if(Object.keys(n).length>0&&fC(i))return hC(i,r);if(s||iF(i,{profile:t,logger:r.logger}))return aF(t,e,r,o,n,EC);if(fC(i))return hC(i,r);if(k6(i))return N6(i,r,o);if(C6(i))return v6(r,t);if(w6(i))return await T6(t,i,r,o);if(g6(i))return x6(t,r,o);throw new Q(`Could not resolve credentials using profile: [${t}] in configuration/credentials file(s).`,{logger:r.logger})}});var rie,M6=p(()=>{jo();L6();rie=(t={})=>async({callerClientConfig:e}={})=>{t.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let r=await ni(t);return EC(cn({profile:t.profile??e?.profile}),r,t,e)}});var B6={};En(B6,{fromIni:()=>rie});var U6=p(()=>{M6()});import{randomUUID as WK}from"crypto";function qK(t){if(!t.body)return{};try{return JSON.parse(t.body)}catch{return t.body}}function JK(t){let e={},r=t.queryStringParameters;if(r)for(let[o,n]of Object.entries(r))n!==void 0&&(e[o]=n);return e}function QK(t){let e={};if(t.headers)for(let[r,o]of Object.entries(t.headers))e[r.toLowerCase()]=o||"";return e}function $T(t,e){let r={},o=e.split("/"),n=t.split("/");if(o.length!==n.length)return r;for(let s=0;s<o.length;s++){let i=o[s],a=n[s];if(i?.startsWith(":")){let c=i.slice(1);a&&(r[c]=decodeURIComponent(a))}}return r}function LT(t,e,r={}){let o=(t.httpMethod||t.requestContext?.http?.method)?.toUpperCase()||"GET",n=t.path||t.rawPath||"/",s=t.headers?.["x-correlation-id"]||t.requestContext?.requestId||WK(),i={authenticated:!1};return{method:o,path:n,headers:QK(t),body:qK(t),query:JK(t),params:r,context:i,correlationId:s,rawEvent:t,lambdaContext:e}}var E={};En(E,{BRAND:()=>RW,DIRTY:()=>Qa,EMPTY_PATH:()=>eW,INVALID:()=>ae,NEVER:()=>iq,OK:()=>Io,ParseStatus:()=>xo,Schema:()=>_e,ZodAny:()=>da,ZodArray:()=>Pi,ZodBigInt:()=>Xa,ZodBoolean:()=>Za,ZodBranded:()=>md,ZodCatch:()=>pc,ZodDate:()=>ec,ZodDefault:()=>uc,ZodDiscriminatedUnion:()=>Ym,ZodEffects:()=>Gn,ZodEnum:()=>ac,ZodError:()=>en,ZodFirstPartyTypeKind:()=>ce,ZodFunction:()=>Zm,ZodIntersection:()=>nc,ZodIssueCode:()=>B,ZodLazy:()=>sc,ZodLiteral:()=>ic,ZodMap:()=>pu,ZodNaN:()=>lu,ZodNativeEnum:()=>cc,ZodNever:()=>_s,ZodNull:()=>rc,ZodNullable:()=>js,ZodNumber:()=>Ya,ZodObject:()=>tn,ZodOptional:()=>Un,ZodParsedType:()=>J,ZodPipeline:()=>fd,ZodPromise:()=>la,ZodReadonly:()=>dc,ZodRecord:()=>Xm,ZodSchema:()=>_e,ZodSet:()=>du,ZodString:()=>pa,ZodSymbol:()=>cu,ZodTransformer:()=>Gn,ZodTuple:()=>Hs,ZodType:()=>_e,ZodUndefined:()=>tc,ZodUnion:()=>oc,ZodUnknown:()=>Oi,ZodVoid:()=>uu,addIssueToContext:()=>q,any:()=>OW,array:()=>$W,bigint:()=>IW,boolean:()=>WT,coerce:()=>sq,custom:()=>VT,date:()=>TW,datetimeRegex:()=>HT,defaultErrorMap:()=>Ai,discriminatedUnion:()=>UW,effect:()=>YW,enum:()=>qW,function:()=>zW,getErrorMap:()=>su,getParsedType:()=>Gs,instanceof:()=>CW,intersection:()=>FW,isAborted:()=>Jm,isAsync:()=>iu,isDirty:()=>Qm,isValid:()=>ua,late:()=>bW,lazy:()=>KW,literal:()=>WW,makeIssue:()=>ld,map:()=>jW,nan:()=>vW,nativeEnum:()=>JW,never:()=>kW,null:()=>DW,nullable:()=>ZW,number:()=>KT,object:()=>LW,objectUtil:()=>cE,oboolean:()=>nq,onumber:()=>oq,optional:()=>XW,ostring:()=>rq,pipeline:()=>tq,preprocess:()=>eq,promise:()=>QW,quotelessJson:()=>YK,record:()=>HW,set:()=>VW,setErrorMap:()=>ZK,strictObject:()=>MW,string:()=>zT,symbol:()=>wW,transformer:()=>YW,tuple:()=>GW,undefined:()=>AW,union:()=>BW,unknown:()=>PW,util:()=>De,void:()=>NW});var De;(function(t){t.assertEqual=n=>{};function e(n){}t.assertIs=e;function r(n){throw new Error}t.assertNever=r,t.arrayToEnum=n=>{let s={};for(let i of n)s[i]=i;return s},t.getValidEnumValues=n=>{let s=t.objectKeys(n).filter(a=>typeof n[n[a]]!="number"),i={};for(let a of s)i[a]=n[a];return t.objectValues(i)},t.objectValues=n=>t.objectKeys(n).map(function(s){return n[s]}),t.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{let s=[];for(let i in n)Object.prototype.hasOwnProperty.call(n,i)&&s.push(i);return s},t.find=(n,s)=>{for(let i of n)if(s(i))return i},t.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&Number.isFinite(n)&&Math.floor(n)===n;function o(n,s=" | "){return n.map(i=>typeof i=="string"?`'${i}'`:i).join(s)}t.joinValues=o,t.jsonStringifyReplacer=(n,s)=>typeof s=="bigint"?s.toString():s})(De||(De={}));var cE;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(cE||(cE={}));var J=De.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Gs=t=>{switch(typeof t){case"undefined":return J.undefined;case"string":return J.string;case"number":return Number.isNaN(t)?J.nan:J.number;case"boolean":return J.boolean;case"function":return J.function;case"bigint":return J.bigint;case"symbol":return J.symbol;case"object":return Array.isArray(t)?J.array:t===null?J.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?J.promise:typeof Map<"u"&&t instanceof Map?J.map:typeof Set<"u"&&t instanceof Set?J.set:typeof Date<"u"&&t instanceof Date?J.date:J.object;default:return J.unknown}};var B=De.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),YK=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),en=class t extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=o=>{this.issues=[...this.issues,o]},this.addIssues=(o=[])=>{this.issues=[...this.issues,...o]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){let r=e||function(s){return s.message},o={_errors:[]},n=s=>{for(let i of s.issues)if(i.code==="invalid_union")i.unionErrors.map(n);else if(i.code==="invalid_return_type")n(i.returnTypeError);else if(i.code==="invalid_arguments")n(i.argumentsError);else if(i.path.length===0)o._errors.push(r(i));else{let a=o,c=0;for(;c<i.path.length;){let u=i.path[c];c===i.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(r(i))):a[u]=a[u]||{_errors:[]},a=a[u],c++}}};return n(this),o}static assert(e){if(!(e instanceof t))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,De.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},o=[];for(let n of this.issues)if(n.path.length>0){let s=n.path[0];r[s]=r[s]||[],r[s].push(e(n))}else o.push(e(n));return{formErrors:o,fieldErrors:r}}get formErrors(){return this.flatten()}};en.create=t=>new en(t);var XK=(t,e)=>{let r;switch(t.code){case B.invalid_type:t.received===J.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case B.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,De.jsonStringifyReplacer)}`;break;case B.unrecognized_keys:r=`Unrecognized key(s) in object: ${De.joinValues(t.keys,", ")}`;break;case B.invalid_union:r="Invalid input";break;case B.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${De.joinValues(t.options)}`;break;case B.invalid_enum_value:r=`Invalid enum value. Expected ${De.joinValues(t.options)}, received '${t.received}'`;break;case B.invalid_arguments:r="Invalid function arguments";break;case B.invalid_return_type:r="Invalid function return type";break;case B.invalid_date:r="Invalid date";break;case B.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:De.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case B.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case B.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case B.custom:r="Invalid input";break;case B.invalid_intersection_types:r="Intersection results could not be merged";break;case B.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case B.not_finite:r="Number must be finite";break;default:r=e.defaultError,De.assertNever(t)}return{message:r}},Ai=XK;var MT=Ai;function ZK(t){MT=t}function su(){return MT}var ld=t=>{let{data:e,path:r,errorMaps:o,issueData:n}=t,s=[...r,...n.path||[]],i={...n,path:s};if(n.message!==void 0)return{...n,path:s,message:n.message};let a="",c=o.filter(u=>!!u).slice().reverse();for(let u of c)a=u(i,{data:e,defaultError:a}).message;return{...n,path:s,message:a}},eW=[];function q(t,e){let r=su(),o=ld({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Ai?void 0:Ai].filter(n=>!!n)});t.common.issues.push(o)}var xo=class t{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let o=[];for(let n of r){if(n.status==="aborted")return ae;n.status==="dirty"&&e.dirty(),o.push(n.value)}return{status:e.value,value:o}}static async mergeObjectAsync(e,r){let o=[];for(let n of r){let s=await n.key,i=await n.value;o.push({key:s,value:i})}return t.mergeObjectSync(e,o)}static mergeObjectSync(e,r){let o={};for(let n of r){let{key:s,value:i}=n;if(s.status==="aborted"||i.status==="aborted")return ae;s.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof i.value<"u"||n.alwaysSet)&&(o[s.value]=i.value)}return{status:e.value,value:o}}},ae=Object.freeze({status:"aborted"}),Qa=t=>({status:"dirty",value:t}),Io=t=>({status:"valid",value:t}),Jm=t=>t.status==="aborted",Qm=t=>t.status==="dirty",ua=t=>t.status==="valid",iu=t=>typeof Promise<"u"&&t instanceof Promise;var te;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(te||(te={}));var Fn=class{constructor(e,r,o,n){this._cachedPath=[],this.parent=e,this.data=r,this._path=o,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},BT=(t,e)=>{if(ua(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new en(t.common.issues);return this._error=r,this._error}}};function he(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:o,description:n}=t;if(e&&(r||o))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:n}:{errorMap:(i,a)=>{let{message:c}=t;return i.code==="invalid_enum_value"?{message:c??a.defaultError}:typeof a.data>"u"?{message:c??o??a.defaultError}:i.code!=="invalid_type"?{message:a.defaultError}:{message:c??r??a.defaultError}},description:n}}var _e=class{get description(){return this._def.description}_getType(e){return Gs(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Gs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new xo,ctx:{common:e.parent.common,data:e.data,parsedType:Gs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if(iu(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let o=this.safeParse(e,r);if(o.success)return o.data;throw o.error}safeParse(e,r){let o={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Gs(e)},n=this._parseSync({data:e,path:o.path,parent:o});return BT(o,n)}"~validate"(e){let r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Gs(e)};if(!this["~standard"].async)try{let o=this._parseSync({data:e,path:[],parent:r});return ua(o)?{value:o.value}:{issues:r.common.issues}}catch(o){o?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(o=>ua(o)?{value:o.value}:{issues:r.common.issues})}async parseAsync(e,r){let o=await this.safeParseAsync(e,r);if(o.success)return o.data;throw o.error}async safeParseAsync(e,r){let o={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Gs(e)},n=this._parse({data:e,path:o.path,parent:o}),s=await(iu(n)?n:Promise.resolve(n));return BT(o,s)}refine(e,r){let o=n=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(n):r;return this._refinement((n,s)=>{let i=e(n),a=()=>s.addIssue({code:B.custom,...o(n)});return typeof Promise<"u"&&i instanceof Promise?i.then(c=>c?!0:(a(),!1)):i?!0:(a(),!1)})}refinement(e,r){return this._refinement((o,n)=>e(o)?!0:(n.addIssue(typeof r=="function"?r(o,n):r),!1))}_refinement(e){return new Gn({schema:this,typeName:ce.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Un.create(this,this._def)}nullable(){return js.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Pi.create(this)}promise(){return la.create(this,this._def)}or(e){return oc.create([this,e],this._def)}and(e){return nc.create(this,e,this._def)}transform(e){return new Gn({...he(this._def),schema:this,typeName:ce.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new uc({...he(this._def),innerType:this,defaultValue:r,typeName:ce.ZodDefault})}brand(){return new md({typeName:ce.ZodBranded,type:this,...he(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new pc({...he(this._def),innerType:this,catchValue:r,typeName:ce.ZodCatch})}describe(e){let r=this.constructor;return new r({...this._def,description:e})}pipe(e){return fd.create(this,e)}readonly(){return dc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},tW=/^c[^\s-]{8,}$/i,rW=/^[0-9a-z]+$/,oW=/^[0-9A-HJKMNP-TV-Z]{26}$/i,nW=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,sW=/^[a-z0-9_-]{21}$/i,iW=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,aW=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,cW=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,uW="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",uE,pW=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,dW=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,lW=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,mW=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,fW=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,hW=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,FT="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",gW=new RegExp(`^${FT}$`);function GT(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);let r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function xW(t){return new RegExp(`^${GT(t)}$`)}function HT(t){let e=`${FT}T${GT(t)}`,r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function yW(t,e){return!!((e==="v4"||!e)&&pW.test(t)||(e==="v6"||!e)&&lW.test(t))}function SW(t,e){if(!iW.test(t))return!1;try{let[r]=t.split(".");if(!r)return!1;let o=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),n=JSON.parse(atob(o));return!(typeof n!="object"||n===null||"typ"in n&&n?.typ!=="JWT"||!n.alg||e&&n.alg!==e)}catch{return!1}}function EW(t,e){return!!((e==="v4"||!e)&&dW.test(t)||(e==="v6"||!e)&&mW.test(t))}var pa=class t extends _e{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==J.string){let s=this._getOrReturnCtx(e);return q(s,{code:B.invalid_type,expected:J.string,received:s.parsedType}),ae}let o=new xo,n;for(let s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(n=this._getOrReturnCtx(e,n),q(n,{code:B.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),o.dirty());else if(s.kind==="max")e.data.length>s.value&&(n=this._getOrReturnCtx(e,n),q(n,{code:B.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),o.dirty());else if(s.kind==="length"){let i=e.data.length>s.value,a=e.data.length<s.value;(i||a)&&(n=this._getOrReturnCtx(e,n),i?q(n,{code:B.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&q(n,{code:B.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),o.dirty())}else if(s.kind==="email")cW.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"email",code:B.invalid_string,message:s.message}),o.dirty());else if(s.kind==="emoji")uE||(uE=new RegExp(uW,"u")),uE.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"emoji",code:B.invalid_string,message:s.message}),o.dirty());else if(s.kind==="uuid")nW.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"uuid",code:B.invalid_string,message:s.message}),o.dirty());else if(s.kind==="nanoid")sW.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"nanoid",code:B.invalid_string,message:s.message}),o.dirty());else if(s.kind==="cuid")tW.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"cuid",code:B.invalid_string,message:s.message}),o.dirty());else if(s.kind==="cuid2")rW.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"cuid2",code:B.invalid_string,message:s.message}),o.dirty());else if(s.kind==="ulid")oW.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"ulid",code:B.invalid_string,message:s.message}),o.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),q(n,{validation:"url",code:B.invalid_string,message:s.message}),o.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"regex",code:B.invalid_string,message:s.message}),o.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(n=this._getOrReturnCtx(e,n),q(n,{code:B.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),o.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(n=this._getOrReturnCtx(e,n),q(n,{code:B.invalid_string,validation:{startsWith:s.value},message:s.message}),o.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(n=this._getOrReturnCtx(e,n),q(n,{code:B.invalid_string,validation:{endsWith:s.value},message:s.message}),o.dirty()):s.kind==="datetime"?HT(s).test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{code:B.invalid_string,validation:"datetime",message:s.message}),o.dirty()):s.kind==="date"?gW.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{code:B.invalid_string,validation:"date",message:s.message}),o.dirty()):s.kind==="time"?xW(s).test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{code:B.invalid_string,validation:"time",message:s.message}),o.dirty()):s.kind==="duration"?aW.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"duration",code:B.invalid_string,message:s.message}),o.dirty()):s.kind==="ip"?yW(e.data,s.version)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"ip",code:B.invalid_string,message:s.message}),o.dirty()):s.kind==="jwt"?SW(e.data,s.alg)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"jwt",code:B.invalid_string,message:s.message}),o.dirty()):s.kind==="cidr"?EW(e.data,s.version)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"cidr",code:B.invalid_string,message:s.message}),o.dirty()):s.kind==="base64"?fW.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"base64",code:B.invalid_string,message:s.message}),o.dirty()):s.kind==="base64url"?hW.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"base64url",code:B.invalid_string,message:s.message}),o.dirty()):De.assertNever(s);return{status:o.value,value:e.data}}_regex(e,r,o){return this.refinement(n=>e.test(n),{validation:r,code:B.invalid_string,...te.errToObj(o)})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...te.errToObj(e)})}url(e){return this._addCheck({kind:"url",...te.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...te.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...te.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...te.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...te.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...te.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...te.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...te.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...te.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...te.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...te.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...te.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...te.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...te.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...te.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...te.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...te.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...te.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...te.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...te.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...te.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...te.errToObj(r)})}nonempty(e){return this.min(1,te.errToObj(e))}trim(){return new t({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};pa.create=t=>new pa({checks:[],typeName:ce.ZodString,coerce:t?.coerce??!1,...he(t)});function _W(t,e){let r=(t.toString().split(".")[1]||"").length,o=(e.toString().split(".")[1]||"").length,n=r>o?r:o,s=Number.parseInt(t.toFixed(n).replace(".","")),i=Number.parseInt(e.toFixed(n).replace(".",""));return s%i/10**n}var Ya=class t extends _e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==J.number){let s=this._getOrReturnCtx(e);return q(s,{code:B.invalid_type,expected:J.number,received:s.parsedType}),ae}let o,n=new xo;for(let s of this._def.checks)s.kind==="int"?De.isInteger(e.data)||(o=this._getOrReturnCtx(e,o),q(o,{code:B.invalid_type,expected:"integer",received:"float",message:s.message}),n.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(o=this._getOrReturnCtx(e,o),q(o,{code:B.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),n.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(o=this._getOrReturnCtx(e,o),q(o,{code:B.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),n.dirty()):s.kind==="multipleOf"?_W(e.data,s.value)!==0&&(o=this._getOrReturnCtx(e,o),q(o,{code:B.not_multiple_of,multipleOf:s.value,message:s.message}),n.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(o=this._getOrReturnCtx(e,o),q(o,{code:B.not_finite,message:s.message}),n.dirty()):De.assertNever(s);return{status:n.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,te.toString(r))}gt(e,r){return this.setLimit("min",e,!1,te.toString(r))}lte(e,r){return this.setLimit("max",e,!0,te.toString(r))}lt(e,r){return this.setLimit("max",e,!1,te.toString(r))}setLimit(e,r,o,n){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:o,message:te.toString(n)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:te.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:te.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:te.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:te.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:te.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:te.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:te.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:te.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:te.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&De.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let o of this._def.checks){if(o.kind==="finite"||o.kind==="int"||o.kind==="multipleOf")return!0;o.kind==="min"?(r===null||o.value>r)&&(r=o.value):o.kind==="max"&&(e===null||o.value<e)&&(e=o.value)}return Number.isFinite(r)&&Number.isFinite(e)}};Ya.create=t=>new Ya({checks:[],typeName:ce.ZodNumber,coerce:t?.coerce||!1,...he(t)});var Xa=class t extends _e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==J.bigint)return this._getInvalidInput(e);let o,n=new xo;for(let s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(o=this._getOrReturnCtx(e,o),q(o,{code:B.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),n.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(o=this._getOrReturnCtx(e,o),q(o,{code:B.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),n.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(o=this._getOrReturnCtx(e,o),q(o,{code:B.not_multiple_of,multipleOf:s.value,message:s.message}),n.dirty()):De.assertNever(s);return{status:n.value,value:e.data}}_getInvalidInput(e){let r=this._getOrReturnCtx(e);return q(r,{code:B.invalid_type,expected:J.bigint,received:r.parsedType}),ae}gte(e,r){return this.setLimit("min",e,!0,te.toString(r))}gt(e,r){return this.setLimit("min",e,!1,te.toString(r))}lte(e,r){return this.setLimit("max",e,!0,te.toString(r))}lt(e,r){return this.setLimit("max",e,!1,te.toString(r))}setLimit(e,r,o,n){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:o,message:te.toString(n)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:te.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:te.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:te.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:te.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:te.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Xa.create=t=>new Xa({checks:[],typeName:ce.ZodBigInt,coerce:t?.coerce??!1,...he(t)});var Za=class extends _e{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==J.boolean){let o=this._getOrReturnCtx(e);return q(o,{code:B.invalid_type,expected:J.boolean,received:o.parsedType}),ae}return Io(e.data)}};Za.create=t=>new Za({typeName:ce.ZodBoolean,coerce:t?.coerce||!1,...he(t)});var ec=class t extends _e{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==J.date){let s=this._getOrReturnCtx(e);return q(s,{code:B.invalid_type,expected:J.date,received:s.parsedType}),ae}if(Number.isNaN(e.data.getTime())){let s=this._getOrReturnCtx(e);return q(s,{code:B.invalid_date}),ae}let o=new xo,n;for(let s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(n=this._getOrReturnCtx(e,n),q(n,{code:B.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),o.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(n=this._getOrReturnCtx(e,n),q(n,{code:B.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),o.dirty()):De.assertNever(s);return{status:o.value,value:new Date(e.data.getTime())}}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:te.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:te.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};ec.create=t=>new ec({checks:[],coerce:t?.coerce||!1,typeName:ce.ZodDate,...he(t)});var cu=class extends _e{_parse(e){if(this._getType(e)!==J.symbol){let o=this._getOrReturnCtx(e);return q(o,{code:B.invalid_type,expected:J.symbol,received:o.parsedType}),ae}return Io(e.data)}};cu.create=t=>new cu({typeName:ce.ZodSymbol,...he(t)});var tc=class extends _e{_parse(e){if(this._getType(e)!==J.undefined){let o=this._getOrReturnCtx(e);return q(o,{code:B.invalid_type,expected:J.undefined,received:o.parsedType}),ae}return Io(e.data)}};tc.create=t=>new tc({typeName:ce.ZodUndefined,...he(t)});var rc=class extends _e{_parse(e){if(this._getType(e)!==J.null){let o=this._getOrReturnCtx(e);return q(o,{code:B.invalid_type,expected:J.null,received:o.parsedType}),ae}return Io(e.data)}};rc.create=t=>new rc({typeName:ce.ZodNull,...he(t)});var da=class extends _e{constructor(){super(...arguments),this._any=!0}_parse(e){return Io(e.data)}};da.create=t=>new da({typeName:ce.ZodAny,...he(t)});var Oi=class extends _e{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Io(e.data)}};Oi.create=t=>new Oi({typeName:ce.ZodUnknown,...he(t)});var _s=class extends _e{_parse(e){let r=this._getOrReturnCtx(e);return q(r,{code:B.invalid_type,expected:J.never,received:r.parsedType}),ae}};_s.create=t=>new _s({typeName:ce.ZodNever,...he(t)});var uu=class extends _e{_parse(e){if(this._getType(e)!==J.undefined){let o=this._getOrReturnCtx(e);return q(o,{code:B.invalid_type,expected:J.void,received:o.parsedType}),ae}return Io(e.data)}};uu.create=t=>new uu({typeName:ce.ZodVoid,...he(t)});var Pi=class t extends _e{_parse(e){let{ctx:r,status:o}=this._processInputParams(e),n=this._def;if(r.parsedType!==J.array)return q(r,{code:B.invalid_type,expected:J.array,received:r.parsedType}),ae;if(n.exactLength!==null){let i=r.data.length>n.exactLength.value,a=r.data.length<n.exactLength.value;(i||a)&&(q(r,{code:i?B.too_big:B.too_small,minimum:a?n.exactLength.value:void 0,maximum:i?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),o.dirty())}if(n.minLength!==null&&r.data.length<n.minLength.value&&(q(r,{code:B.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),o.dirty()),n.maxLength!==null&&r.data.length>n.maxLength.value&&(q(r,{code:B.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),o.dirty()),r.common.async)return Promise.all([...r.data].map((i,a)=>n.type._parseAsync(new Fn(r,i,r.path,a)))).then(i=>xo.mergeArray(o,i));let s=[...r.data].map((i,a)=>n.type._parseSync(new Fn(r,i,r.path,a)));return xo.mergeArray(o,s)}get element(){return this._def.type}min(e,r){return new t({...this._def,minLength:{value:e,message:te.toString(r)}})}max(e,r){return new t({...this._def,maxLength:{value:e,message:te.toString(r)}})}length(e,r){return new t({...this._def,exactLength:{value:e,message:te.toString(r)}})}nonempty(e){return this.min(1,e)}};Pi.create=(t,e)=>new Pi({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ce.ZodArray,...he(e)});function au(t){if(t instanceof tn){let e={};for(let r in t.shape){let o=t.shape[r];e[r]=Un.create(au(o))}return new tn({...t._def,shape:()=>e})}else return t instanceof Pi?new Pi({...t._def,type:au(t.element)}):t instanceof Un?Un.create(au(t.unwrap())):t instanceof js?js.create(au(t.unwrap())):t instanceof Hs?Hs.create(t.items.map(e=>au(e))):t}var tn=class t extends _e{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=De.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==J.object){let u=this._getOrReturnCtx(e);return q(u,{code:B.invalid_type,expected:J.object,received:u.parsedType}),ae}let{status:o,ctx:n}=this._processInputParams(e),{shape:s,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof _s&&this._def.unknownKeys==="strip"))for(let u in n.data)i.includes(u)||a.push(u);let c=[];for(let u of i){let m=s[u],f=n.data[u];c.push({key:{status:"valid",value:u},value:m._parse(new Fn(n,f,n.path,u)),alwaysSet:u in n.data})}if(this._def.catchall instanceof _s){let u=this._def.unknownKeys;if(u==="passthrough")for(let m of a)c.push({key:{status:"valid",value:m},value:{status:"valid",value:n.data[m]}});else if(u==="strict")a.length>0&&(q(n,{code:B.unrecognized_keys,keys:a}),o.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let u=this._def.catchall;for(let m of a){let f=n.data[m];c.push({key:{status:"valid",value:m},value:u._parse(new Fn(n,f,n.path,m)),alwaysSet:m in n.data})}}return n.common.async?Promise.resolve().then(async()=>{let u=[];for(let m of c){let f=await m.key,h=await m.value;u.push({key:f,value:h,alwaysSet:m.alwaysSet})}return u}).then(u=>xo.mergeObjectSync(o,u)):xo.mergeObjectSync(o,c)}get shape(){return this._def.shape()}strict(e){return te.errToObj,new t({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,o)=>{let n=this._def.errorMap?.(r,o).message??o.defaultError;return r.code==="unrecognized_keys"?{message:te.errToObj(e).message??n}:{message:n}}}:{}})}strip(){return new t({...this._def,unknownKeys:"strip"})}passthrough(){return new t({...this._def,unknownKeys:"passthrough"})}extend(e){return new t({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ce.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new t({...this._def,catchall:e})}pick(e){let r={};for(let o of De.objectKeys(e))e[o]&&this.shape[o]&&(r[o]=this.shape[o]);return new t({...this._def,shape:()=>r})}omit(e){let r={};for(let o of De.objectKeys(this.shape))e[o]||(r[o]=this.shape[o]);return new t({...this._def,shape:()=>r})}deepPartial(){return au(this)}partial(e){let r={};for(let o of De.objectKeys(this.shape)){let n=this.shape[o];e&&!e[o]?r[o]=n:r[o]=n.optional()}return new t({...this._def,shape:()=>r})}required(e){let r={};for(let o of De.objectKeys(this.shape))if(e&&!e[o])r[o]=this.shape[o];else{let s=this.shape[o];for(;s instanceof Un;)s=s._def.innerType;r[o]=s}return new t({...this._def,shape:()=>r})}keyof(){return jT(De.objectKeys(this.shape))}};tn.create=(t,e)=>new tn({shape:()=>t,unknownKeys:"strip",catchall:_s.create(),typeName:ce.ZodObject,...he(e)});tn.strictCreate=(t,e)=>new tn({shape:()=>t,unknownKeys:"strict",catchall:_s.create(),typeName:ce.ZodObject,...he(e)});tn.lazycreate=(t,e)=>new tn({shape:t,unknownKeys:"strip",catchall:_s.create(),typeName:ce.ZodObject,...he(e)});var oc=class extends _e{_parse(e){let{ctx:r}=this._processInputParams(e),o=this._def.options;function n(s){for(let a of s)if(a.result.status==="valid")return a.result;for(let a of s)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;let i=s.map(a=>new en(a.ctx.common.issues));return q(r,{code:B.invalid_union,unionErrors:i}),ae}if(r.common.async)return Promise.all(o.map(async s=>{let i={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:i}),ctx:i}})).then(n);{let s,i=[];for(let c of o){let u={...r,common:{...r.common,issues:[]},parent:null},m=c._parseSync({data:r.data,path:r.path,parent:u});if(m.status==="valid")return m;m.status==="dirty"&&!s&&(s={result:m,ctx:u}),u.common.issues.length&&i.push(u.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;let a=i.map(c=>new en(c));return q(r,{code:B.invalid_union,unionErrors:a}),ae}}get options(){return this._def.options}};oc.create=(t,e)=>new oc({options:t,typeName:ce.ZodUnion,...he(e)});var Di=t=>t instanceof sc?Di(t.schema):t instanceof Gn?Di(t.innerType()):t instanceof ic?[t.value]:t instanceof ac?t.options:t instanceof cc?De.objectValues(t.enum):t instanceof uc?Di(t._def.innerType):t instanceof tc?[void 0]:t instanceof rc?[null]:t instanceof Un?[void 0,...Di(t.unwrap())]:t instanceof js?[null,...Di(t.unwrap())]:t instanceof md||t instanceof dc?Di(t.unwrap()):t instanceof pc?Di(t._def.innerType):[],Ym=class t extends _e{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==J.object)return q(r,{code:B.invalid_type,expected:J.object,received:r.parsedType}),ae;let o=this.discriminator,n=r.data[o],s=this.optionsMap.get(n);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(q(r,{code:B.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[o]}),ae)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,o){let n=new Map;for(let s of r){let i=Di(s.shape[e]);if(!i.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of i){if(n.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);n.set(a,s)}}return new t({typeName:ce.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:n,...he(o)})}};function pE(t,e){let r=Gs(t),o=Gs(e);if(t===e)return{valid:!0,data:t};if(r===J.object&&o===J.object){let n=De.objectKeys(e),s=De.objectKeys(t).filter(a=>n.indexOf(a)!==-1),i={...t,...e};for(let a of s){let c=pE(t[a],e[a]);if(!c.valid)return{valid:!1};i[a]=c.data}return{valid:!0,data:i}}else if(r===J.array&&o===J.array){if(t.length!==e.length)return{valid:!1};let n=[];for(let s=0;s<t.length;s++){let i=t[s],a=e[s],c=pE(i,a);if(!c.valid)return{valid:!1};n.push(c.data)}return{valid:!0,data:n}}else return r===J.date&&o===J.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var nc=class extends _e{_parse(e){let{status:r,ctx:o}=this._processInputParams(e),n=(s,i)=>{if(Jm(s)||Jm(i))return ae;let a=pE(s.value,i.value);return a.valid?((Qm(s)||Qm(i))&&r.dirty(),{status:r.value,value:a.data}):(q(o,{code:B.invalid_intersection_types}),ae)};return o.common.async?Promise.all([this._def.left._parseAsync({data:o.data,path:o.path,parent:o}),this._def.right._parseAsync({data:o.data,path:o.path,parent:o})]).then(([s,i])=>n(s,i)):n(this._def.left._parseSync({data:o.data,path:o.path,parent:o}),this._def.right._parseSync({data:o.data,path:o.path,parent:o}))}};nc.create=(t,e,r)=>new nc({left:t,right:e,typeName:ce.ZodIntersection,...he(r)});var Hs=class t extends _e{_parse(e){let{status:r,ctx:o}=this._processInputParams(e);if(o.parsedType!==J.array)return q(o,{code:B.invalid_type,expected:J.array,received:o.parsedType}),ae;if(o.data.length<this._def.items.length)return q(o,{code:B.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ae;!this._def.rest&&o.data.length>this._def.items.length&&(q(o,{code:B.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let s=[...o.data].map((i,a)=>{let c=this._def.items[a]||this._def.rest;return c?c._parse(new Fn(o,i,o.path,a)):null}).filter(i=>!!i);return o.common.async?Promise.all(s).then(i=>xo.mergeArray(r,i)):xo.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new t({...this._def,rest:e})}};Hs.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Hs({items:t,typeName:ce.ZodTuple,rest:null,...he(e)})};var Xm=class t extends _e{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:o}=this._processInputParams(e);if(o.parsedType!==J.object)return q(o,{code:B.invalid_type,expected:J.object,received:o.parsedType}),ae;let n=[],s=this._def.keyType,i=this._def.valueType;for(let a in o.data)n.push({key:s._parse(new Fn(o,a,o.path,a)),value:i._parse(new Fn(o,o.data[a],o.path,a)),alwaysSet:a in o.data});return o.common.async?xo.mergeObjectAsync(r,n):xo.mergeObjectSync(r,n)}get element(){return this._def.valueType}static create(e,r,o){return r instanceof _e?new t({keyType:e,valueType:r,typeName:ce.ZodRecord,...he(o)}):new t({keyType:pa.create(),valueType:e,typeName:ce.ZodRecord,...he(r)})}},pu=class extends _e{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:o}=this._processInputParams(e);if(o.parsedType!==J.map)return q(o,{code:B.invalid_type,expected:J.map,received:o.parsedType}),ae;let n=this._def.keyType,s=this._def.valueType,i=[...o.data.entries()].map(([a,c],u)=>({key:n._parse(new Fn(o,a,o.path,[u,"key"])),value:s._parse(new Fn(o,c,o.path,[u,"value"]))}));if(o.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let c of i){let u=await c.key,m=await c.value;if(u.status==="aborted"||m.status==="aborted")return ae;(u.status==="dirty"||m.status==="dirty")&&r.dirty(),a.set(u.value,m.value)}return{status:r.value,value:a}})}else{let a=new Map;for(let c of i){let u=c.key,m=c.value;if(u.status==="aborted"||m.status==="aborted")return ae;(u.status==="dirty"||m.status==="dirty")&&r.dirty(),a.set(u.value,m.value)}return{status:r.value,value:a}}}};pu.create=(t,e,r)=>new pu({valueType:e,keyType:t,typeName:ce.ZodMap,...he(r)});var du=class t extends _e{_parse(e){let{status:r,ctx:o}=this._processInputParams(e);if(o.parsedType!==J.set)return q(o,{code:B.invalid_type,expected:J.set,received:o.parsedType}),ae;let n=this._def;n.minSize!==null&&o.data.size<n.minSize.value&&(q(o,{code:B.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),r.dirty()),n.maxSize!==null&&o.data.size>n.maxSize.value&&(q(o,{code:B.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),r.dirty());let s=this._def.valueType;function i(c){let u=new Set;for(let m of c){if(m.status==="aborted")return ae;m.status==="dirty"&&r.dirty(),u.add(m.value)}return{status:r.value,value:u}}let a=[...o.data.values()].map((c,u)=>s._parse(new Fn(o,c,o.path,u)));return o.common.async?Promise.all(a).then(c=>i(c)):i(a)}min(e,r){return new t({...this._def,minSize:{value:e,message:te.toString(r)}})}max(e,r){return new t({...this._def,maxSize:{value:e,message:te.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};du.create=(t,e)=>new du({valueType:t,minSize:null,maxSize:null,typeName:ce.ZodSet,...he(e)});var Zm=class t extends _e{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==J.function)return q(r,{code:B.invalid_type,expected:J.function,received:r.parsedType}),ae;function o(a,c){return ld({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,su(),Ai].filter(u=>!!u),issueData:{code:B.invalid_arguments,argumentsError:c}})}function n(a,c){return ld({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,su(),Ai].filter(u=>!!u),issueData:{code:B.invalid_return_type,returnTypeError:c}})}let s={errorMap:r.common.contextualErrorMap},i=r.data;if(this._def.returns instanceof la){let a=this;return Io(async function(...c){let u=new en([]),m=await a._def.args.parseAsync(c,s).catch(g=>{throw u.addIssue(o(c,g)),u}),f=await Reflect.apply(i,this,m);return await a._def.returns._def.type.parseAsync(f,s).catch(g=>{throw u.addIssue(n(f,g)),u})})}else{let a=this;return Io(function(...c){let u=a._def.args.safeParse(c,s);if(!u.success)throw new en([o(c,u.error)]);let m=Reflect.apply(i,this,u.data),f=a._def.returns.safeParse(m,s);if(!f.success)throw new en([n(m,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new t({...this._def,args:Hs.create(e).rest(Oi.create())})}returns(e){return new t({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,o){return new t({args:e||Hs.create([]).rest(Oi.create()),returns:r||Oi.create(),typeName:ce.ZodFunction,...he(o)})}},sc=class extends _e{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};sc.create=(t,e)=>new sc({getter:t,typeName:ce.ZodLazy,...he(e)});var ic=class extends _e{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return q(r,{received:r.data,code:B.invalid_literal,expected:this._def.value}),ae}return{status:"valid",value:e.data}}get value(){return this._def.value}};ic.create=(t,e)=>new ic({value:t,typeName:ce.ZodLiteral,...he(e)});function jT(t,e){return new ac({values:t,typeName:ce.ZodEnum,...he(e)})}var ac=class t extends _e{_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),o=this._def.values;return q(r,{expected:De.joinValues(o),received:r.parsedType,code:B.invalid_type}),ae}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let r=this._getOrReturnCtx(e),o=this._def.values;return q(r,{received:r.data,code:B.invalid_enum_value,options:o}),ae}return Io(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return t.create(e,{...this._def,...r})}exclude(e,r=this._def){return t.create(this.options.filter(o=>!e.includes(o)),{...this._def,...r})}};ac.create=jT;var cc=class extends _e{_parse(e){let r=De.getValidEnumValues(this._def.values),o=this._getOrReturnCtx(e);if(o.parsedType!==J.string&&o.parsedType!==J.number){let n=De.objectValues(r);return q(o,{expected:De.joinValues(n),received:o.parsedType,code:B.invalid_type}),ae}if(this._cache||(this._cache=new Set(De.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let n=De.objectValues(r);return q(o,{received:o.data,code:B.invalid_enum_value,options:n}),ae}return Io(e.data)}get enum(){return this._def.values}};cc.create=(t,e)=>new cc({values:t,typeName:ce.ZodNativeEnum,...he(e)});var la=class extends _e{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==J.promise&&r.common.async===!1)return q(r,{code:B.invalid_type,expected:J.promise,received:r.parsedType}),ae;let o=r.parsedType===J.promise?r.data:Promise.resolve(r.data);return Io(o.then(n=>this._def.type.parseAsync(n,{path:r.path,errorMap:r.common.contextualErrorMap})))}};la.create=(t,e)=>new la({type:t,typeName:ce.ZodPromise,...he(e)});var Gn=class extends _e{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ce.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:o}=this._processInputParams(e),n=this._def.effect||null,s={addIssue:i=>{q(o,i),i.fatal?r.abort():r.dirty()},get path(){return o.path}};if(s.addIssue=s.addIssue.bind(s),n.type==="preprocess"){let i=n.transform(o.data,s);if(o.common.async)return Promise.resolve(i).then(async a=>{if(r.value==="aborted")return ae;let c=await this._def.schema._parseAsync({data:a,path:o.path,parent:o});return c.status==="aborted"?ae:c.status==="dirty"?Qa(c.value):r.value==="dirty"?Qa(c.value):c});{if(r.value==="aborted")return ae;let a=this._def.schema._parseSync({data:i,path:o.path,parent:o});return a.status==="aborted"?ae:a.status==="dirty"?Qa(a.value):r.value==="dirty"?Qa(a.value):a}}if(n.type==="refinement"){let i=a=>{let c=n.refinement(a,s);if(o.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(o.common.async===!1){let a=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});return a.status==="aborted"?ae:(a.status==="dirty"&&r.dirty(),i(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(a=>a.status==="aborted"?ae:(a.status==="dirty"&&r.dirty(),i(a.value).then(()=>({status:r.value,value:a.value}))))}if(n.type==="transform")if(o.common.async===!1){let i=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});if(!ua(i))return ae;let a=n.transform(i.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(i=>ua(i)?Promise.resolve(n.transform(i.value,s)).then(a=>({status:r.value,value:a})):ae);De.assertNever(n)}};Gn.create=(t,e,r)=>new Gn({schema:t,typeName:ce.ZodEffects,effect:e,...he(r)});Gn.createWithPreprocess=(t,e,r)=>new Gn({schema:e,effect:{type:"preprocess",transform:t},typeName:ce.ZodEffects,...he(r)});var Un=class extends _e{_parse(e){return this._getType(e)===J.undefined?Io(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Un.create=(t,e)=>new Un({innerType:t,typeName:ce.ZodOptional,...he(e)});var js=class extends _e{_parse(e){return this._getType(e)===J.null?Io(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};js.create=(t,e)=>new js({innerType:t,typeName:ce.ZodNullable,...he(e)});var uc=class extends _e{_parse(e){let{ctx:r}=this._processInputParams(e),o=r.data;return r.parsedType===J.undefined&&(o=this._def.defaultValue()),this._def.innerType._parse({data:o,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};uc.create=(t,e)=>new uc({innerType:t,typeName:ce.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...he(e)});var pc=class extends _e{_parse(e){let{ctx:r}=this._processInputParams(e),o={...r,common:{...r.common,issues:[]}},n=this._def.innerType._parse({data:o.data,path:o.path,parent:{...o}});return iu(n)?n.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new en(o.common.issues)},input:o.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new en(o.common.issues)},input:o.data})}}removeCatch(){return this._def.innerType}};pc.create=(t,e)=>new pc({innerType:t,typeName:ce.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...he(e)});var lu=class extends _e{_parse(e){if(this._getType(e)!==J.nan){let o=this._getOrReturnCtx(e);return q(o,{code:B.invalid_type,expected:J.nan,received:o.parsedType}),ae}return{status:"valid",value:e.data}}};lu.create=t=>new lu({typeName:ce.ZodNaN,...he(t)});var RW=Symbol("zod_brand"),md=class extends _e{_parse(e){let{ctx:r}=this._processInputParams(e),o=r.data;return this._def.type._parse({data:o,path:r.path,parent:r})}unwrap(){return this._def.type}},fd=class t extends _e{_parse(e){let{status:r,ctx:o}=this._processInputParams(e);if(o.common.async)return(async()=>{let s=await this._def.in._parseAsync({data:o.data,path:o.path,parent:o});return s.status==="aborted"?ae:s.status==="dirty"?(r.dirty(),Qa(s.value)):this._def.out._parseAsync({data:s.value,path:o.path,parent:o})})();{let n=this._def.in._parseSync({data:o.data,path:o.path,parent:o});return n.status==="aborted"?ae:n.status==="dirty"?(r.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:o.path,parent:o})}}static create(e,r){return new t({in:e,out:r,typeName:ce.ZodPipeline})}},dc=class extends _e{_parse(e){let r=this._def.innerType._parse(e),o=n=>(ua(n)&&(n.value=Object.freeze(n.value)),n);return iu(r)?r.then(n=>o(n)):o(r)}unwrap(){return this._def.innerType}};dc.create=(t,e)=>new dc({innerType:t,typeName:ce.ZodReadonly,...he(e)});function UT(t,e){let r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function VT(t,e={},r){return t?da.create().superRefine((o,n)=>{let s=t(o);if(s instanceof Promise)return s.then(i=>{if(!i){let a=UT(e,o),c=a.fatal??r??!0;n.addIssue({code:"custom",...a,fatal:c})}});if(!s){let i=UT(e,o),a=i.fatal??r??!0;n.addIssue({code:"custom",...i,fatal:a})}}):da.create()}var bW={object:tn.lazycreate},ce;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ce||(ce={}));var CW=(t,e={message:`Input not instance of ${t.name}`})=>VT(r=>r instanceof t,e),zT=pa.create,KT=Ya.create,vW=lu.create,IW=Xa.create,WT=Za.create,TW=ec.create,wW=cu.create,AW=tc.create,DW=rc.create,OW=da.create,PW=Oi.create,kW=_s.create,NW=uu.create,$W=Pi.create,LW=tn.create,MW=tn.strictCreate,BW=oc.create,UW=Ym.create,FW=nc.create,GW=Hs.create,HW=Xm.create,jW=pu.create,VW=du.create,zW=Zm.create,KW=sc.create,WW=ic.create,qW=ac.create,JW=cc.create,QW=la.create,YW=Gn.create,XW=Un.create,ZW=js.create,eq=Gn.createWithPreprocess,tq=fd.create,rq=()=>zT().optional(),oq=()=>KT().optional(),nq=()=>WT().optional(),sq={string:t=>pa.create({...t,coerce:!0}),number:t=>Ya.create({...t,coerce:!0}),boolean:t=>Za.create({...t,coerce:!0}),bigint:t=>Xa.create({...t,coerce:!0}),date:t=>ec.create({...t,coerce:!0})};var iq=ae;var aq=E.object({AWS_REGION:E.string().default("us-east-1"),STAGE:E.string().default("dev"),DYNAMODB_STAFF_TABLE:E.string().optional(),DYNAMODB_PASSWORD_RESET_TOKENS_TABLE:E.string().optional(),DYNAMODB_TENANTS_TABLE:E.string().optional(),DYNAMODB_CLUSTERS_TABLE:E.string().optional(),JWT_SECRET:E.string().min(32,"JWT secret must be at least 32 characters long"),JWT_EXPIRY:E.string().default("24h"),SES_FROM_EMAIL:E.string().email().optional(),SES_REGION:E.string().default("us-east-1"),CLOUDFORMATION_REGION:E.string().optional(),CLOUDFORMATION_TEMPLATE_BUCKET:E.string().optional(),CLOUDFORMATION_CROSS_ACCOUNT_ROLE_PREFIX:E.string().default("ControlPlane-CrossAccount-Role"),S3_TEMPLATE_BUCKET:E.string().optional(),S3_REGION:E.string().optional(),CORS_ORIGINS:E.string().optional(),APP_BASE_URL:E.string().optional(),LOG_LEVEL:E.enum(["debug","info","warn","error"]).default("info"),ENABLE_XRAY:E.string().transform(t=>t==="true").default("true"),BCRYPT_ROUNDS:E.string().transform(t=>parseInt(t,10)).default("12"),PASSWORD_RESET_TOKEN_EXPIRY_HOURS:E.string().transform(t=>parseInt(t,10)).default("24"),CONNECTION_TIMEOUT:E.string().transform(t=>parseInt(t,10)).default("5000"),REQUEST_TIMEOUT:E.string().transform(t=>parseInt(t,10)).default("30000")}),ef=null;function cq(){if(ef)return ef;try{let t=aq.parse(process.env);return ef={aws:{region:t.AWS_REGION},stage:t.STAGE,dynamodb:{staffTable:t.DYNAMODB_STAFF_TABLE||`Staff-${t.STAGE}`,passwordResetTokensTable:t.DYNAMODB_PASSWORD_RESET_TOKENS_TABLE||`PasswordResetTokens-${t.STAGE}`,tenantsTable:t.DYNAMODB_TENANTS_TABLE||`Tenants-${t.STAGE}`,clustersTable:t.DYNAMODB_CLUSTERS_TABLE||`Clusters-${t.STAGE}`},jwt:{secret:t.JWT_SECRET,expiry:t.JWT_EXPIRY},ses:{fromEmail:t.SES_FROM_EMAIL||`noreply@${t.STAGE==="prod"?"example.com":"dev.example.com"}`,region:t.SES_REGION},cloudformation:{region:t.CLOUDFORMATION_REGION||t.AWS_REGION,templateBucket:t.CLOUDFORMATION_TEMPLATE_BUCKET||t.S3_TEMPLATE_BUCKET||`control-plane-templates-${t.STAGE}`,crossAccountRolePrefix:t.CLOUDFORMATION_CROSS_ACCOUNT_ROLE_PREFIX},s3:{templateBucket:t.S3_TEMPLATE_BUCKET||`control-plane-templates-${t.STAGE}`,region:t.S3_REGION||t.AWS_REGION},cors:{origins:t.CORS_ORIGINS?t.CORS_ORIGINS.split(",").map(e=>e.trim()):t.STAGE==="prod"?[]:["*"]},app:{baseUrl:t.APP_BASE_URL||`https://${t.STAGE==="prod"?"app.example.com":`${t.STAGE}.example.com`}`},logging:{level:t.LOG_LEVEL,enableXray:t.ENABLE_XRAY},security:{bcryptRounds:t.BCRYPT_ROUNDS,passwordResetTokenExpiryHours:t.PASSWORD_RESET_TOKEN_EXPIRY_HOURS},performance:{connectionTimeout:t.CONNECTION_TIMEOUT,requestTimeout:t.REQUEST_TIMEOUT}},ef}catch(t){if(t instanceof E.ZodError){let e=t.errors.map(r=>`${r.path.join(".")}: ${r.message}`);throw new Error(`Configuration validation failed:
${e.join(`
`)}`)}throw t}}function wr(){return cq()}var uq={origins:["*"],methods:["GET","POST","PUT","DELETE","OPTIONS"],headers:["Content-Type","Authorization","X-Correlation-ID"],credentials:!1,maxAge:86400};function qT(t,e=uq){let r={};return e.origins.includes("*")?r["Access-Control-Allow-Origin"]="*":t&&e.origins.includes(t)&&(r["Access-Control-Allow-Origin"]=t),r["Access-Control-Allow-Methods"]=e.methods.join(", "),r["Access-Control-Allow-Headers"]=e.headers.join(", "),e.credentials&&(r["Access-Control-Allow-Credentials"]="true"),e.maxAge&&(r["Access-Control-Max-Age"]=e.maxAge.toString()),r}var tf=class{_statusCode=200;_headers={"Content-Type":"application/json",...qT()};_body="";_ended=!1;status(e){return this._statusCode=e,this}json(e){return this._headers["Content-Type"]="application/json",this._body=JSON.stringify(e),this._ended=!0,this}send(e){return this._body=e,this._ended=!0,this}header(e,r){return this._headers[e]=r,this}end(){this._ended=!0}toApiGatewayResponse(){return{statusCode:this._statusCode,headers:this._headers,body:this._body}}};function JT(t,e,r,o){return{error:{code:t,message:e,details:o,correlationId:r},timestamp:new Date().toISOString()}}function dE(t){switch(t){case"ValidationError":return 400;case"Unauthorized":return 401;case"Forbidden":return 403;case"NotFound":return 404;case"Conflict":return 409;case"InternalError":default:return 500}}function H(t,e,r,o,n){let s=dE(e),i=JT(e,r,o,n);t.status(s).json(i)}var hd=class{routes=[];globalMiddlewares=[];constructor(e={}){}use(e){this.globalMiddlewares.push(e)}get(e,...r){this.addRoute("GET",e,...r)}post(e,...r){this.addRoute("POST",e,...r)}put(e,...r){this.addRoute("PUT",e,...r)}delete(e,...r){this.addRoute("DELETE",e,...r)}options(e,...r){this.addRoute("OPTIONS",e,...r)}addRoute(e,r,...o){let n=o[o.length-1],s=o.slice(0,-1);this.routes.push({method:e.toUpperCase(),path:r,handler:n,middlewares:s})}findRoute(e,r){for(let o of this.routes)if(o.method===e.toUpperCase()){if(o.path===r)return{route:o,params:{}};if(this.pathMatches(o.path,r)){let n=$T(r,o.path);return{route:o,params:n}}}return null}pathMatches(e,r){let o=e.split("/"),n=r.split("/");if(o.length!==n.length)return!1;for(let s=0;s<o.length;s++){let i=o[s],a=n[s];if(!i?.startsWith(":")&&i!==a)return!1}return!0}async executeMiddlewares(e,r,o){let n=0,s=async()=>{if(n>=e.length)return;let i=e[n++];i&&await i(r,o,s)};try{return await s(),!o._ended}catch(i){return console.error("Middleware error:",i),o._ended||H(o,"InternalError","Internal server error",r.correlationId),!1}}async handle(e,r){let o=(e.httpMethod||e.requestContext?.http?.method)?.toUpperCase(),n=e.path||e.rawPath;if(!o)return{statusCode:400,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({error:{code:"BadRequest",message:"Missing HTTP method in request",correlationId:e.requestContext?.requestId||"unknown"},timestamp:new Date().toISOString()})};if(!n)return{statusCode:400,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({error:{code:"BadRequest",message:"Missing path in request",correlationId:e.requestContext?.requestId||"unknown"},timestamp:new Date().toISOString()})};if(o==="OPTIONS")return{statusCode:200,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Content-Type,Authorization","Access-Control-Allow-Methods":"GET,POST,PUT,DELETE,OPTIONS"},body:""};let s=this.findRoute(o,n);if(!s)return{statusCode:404,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({error:{code:"NotFound",message:`Route ${o} ${n} not found`,correlationId:e.requestContext?.requestId||"unknown"},timestamp:new Date().toISOString()})};let{route:i,params:a}=s,c=LT(e,r,a),u=new tf;try{let m=[...this.globalMiddlewares,...i.middlewares||[]];return await this.executeMiddlewares(m,c,u)&&!u._ended&&await i.handler(c,u),u._ended||u.status(500).json({error:{code:"InternalError",message:"Handler did not send a response",correlationId:c.correlationId},timestamp:new Date().toISOString()}),u.toApiGatewayResponse()}catch(m){return console.error("Route handler error:",m),u._ended||H(u,"InternalError","Internal server error",c.correlationId),u.toApiGatewayResponse()}}},VOe=new hd;function lE(t={}){let{origins:e=["*"],methods:r=["GET","POST","PUT","DELETE","OPTIONS"],headers:o=["Content-Type","Authorization","X-Correlation-ID"],credentials:n=!1}=t;return async(s,i,a)=>{let c=s.headers.origin||s.headers.Origin,u="*";if(e.length>0&&!e.includes("*")&&(c&&e.includes(c)?u=c:u=e[0]||"*"),i.header("Access-Control-Allow-Origin",u),i.header("Access-Control-Allow-Methods",r.join(", ")),i.header("Access-Control-Allow-Headers",o.join(", ")),n&&i.header("Access-Control-Allow-Credentials","true"),s.method==="OPTIONS"){i.status(200).send("");return}await a()}}function fE(t={}){let{enableRequestLogging:e=!0,enableResponseLogging:r=!0,logLevel:o="info",sensitiveHeaders:n=["authorization","cookie","x-api-key"]}=t;return async(s,i,a)=>{let c=Date.now();if(e){let h=pq(s.headers,n);console.log(JSON.stringify({level:o,message:"Incoming request",correlationId:s.correlationId,method:s.method,path:s.path,headers:h,query:s.query,timestamp:new Date().toISOString(),requestId:s.rawEvent.requestContext.requestId}))}let u=i.json.bind(i),m=i.send.bind(i),f=i.end.bind(i);r&&(i.json=function(h){return mE(s.correlationId,i._statusCode,h,c),u(h)},i.send=function(h){return mE(s.correlationId,i._statusCode,h,c),m(h)},i.end=function(){return mE(s.correlationId,i._statusCode,i._body,c),f()});try{await a()}catch(h){throw console.error(JSON.stringify({level:"error",message:"Request processing error",correlationId:s.correlationId,error:h instanceof Error?{name:h.name,message:h.message,stack:h.stack}:h,timestamp:new Date().toISOString()})),h}}}function pq(t,e){let r={};for(let[o,n]of Object.entries(t))e.includes(o.toLowerCase())?r[o]="[REDACTED]":r[o]=n;return r}function mE(t,e,r,o){let n=Date.now()-o;console.log(JSON.stringify({level:"info",message:"Response sent",correlationId:t,statusCode:e,duration:`${n}ms`,bodySize:typeof r=="string"?r.length:JSON.stringify(r).length,timestamp:new Date().toISOString()}))}function _n(t){return async(e,r,o)=>{try{if(t.body){let n=t.body.safeParse(e.body);if(!n.success){H(r,"ValidationError","Invalid request body",e.correlationId,{field:"body",errors:n.error.errors});return}e.body=n.data}if(t.query){let n=t.query.safeParse(e.query);if(!n.success){H(r,"ValidationError","Invalid query parameters",e.correlationId,{field:"query",errors:n.error.errors});return}e.query=n.data}if(t.params){let n=t.params.safeParse(e.params);if(!n.success){H(r,"ValidationError","Invalid path parameters",e.correlationId,{field:"params",errors:n.error.errors});return}e.params=n.data}if(t.headers){let n=t.headers.safeParse(e.headers);if(!n.success){H(r,"ValidationError","Invalid headers",e.correlationId,{field:"headers",errors:n.error.errors});return}}await o()}catch(n){console.error("Validation middleware error:",n),H(r,"InternalError","Validation error",e.correlationId)}}}var dq={email:E.string().email().transform(t=>t.toLowerCase().trim()),staffId:E.string().uuid(),tenantId:E.string().uuid(),correlationId:E.string().uuid().optional(),pagination:E.object({limit:E.coerce.number().int().min(1).max(100).default(20),offset:E.coerce.number().int().min(0).default(0)}),authHeaders:E.object({authorization:E.string().regex(/^Bearer .+/,"Authorization header must be Bearer token")})};import{Buffer as QT}from"node:buffer";var Hn=new TextEncoder,Rs=new TextDecoder,YOe=2**32;function rf(...t){let e=t.reduce((n,{length:s})=>n+s,0),r=new Uint8Array(e),o=0;for(let n of t)r.set(n,o),o+=n.length;return r}function lq(t){let e=t;return e instanceof Uint8Array&&(e=Rs.decode(e)),e}var of=t=>QT.from(t).toString("base64url");var mu=t=>new Uint8Array(QT.from(lq(t),"base64url"));var ki=class extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(e,r){super(e,r),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}},Rn=class extends ki{static code="ERR_JWT_CLAIM_VALIDATION_FAILED";code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor(e,r,o="unspecified",n="unspecified"){super(e,{cause:{claim:o,reason:n,payload:r}}),this.claim=o,this.reason=n,this.payload=r}},gd=class extends ki{static code="ERR_JWT_EXPIRED";code="ERR_JWT_EXPIRED";claim;reason;payload;constructor(e,r,o="unspecified",n="unspecified"){super(e,{cause:{claim:o,reason:n,payload:r}}),this.claim=o,this.reason=n,this.payload=r}},nf=class extends ki{static code="ERR_JOSE_ALG_NOT_ALLOWED";code="ERR_JOSE_ALG_NOT_ALLOWED"},Uo=class extends ki{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"};var bt=class extends ki{static code="ERR_JWS_INVALID";code="ERR_JWS_INVALID"},ma=class extends ki{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"};var sf=class extends ki{static code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";constructor(e="signature verification failed",r){super(e,r)}};import*as YT from"node:util";var af=t=>YT.types.isKeyObject(t);import*as XT from"node:crypto";import*as ZT from"node:util";var fq=XT.webcrypto,ew=fq,fu=t=>ZT.types.isCryptoKey(t);function Vs(t,e="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${e} must be ${t}`)}function xd(t,e){return t.name===e}function hE(t){return parseInt(t.name.slice(4),10)}function hq(t){switch(t){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function gq(t,e){if(e.length&&!e.some(r=>t.usages.includes(r))){let r="CryptoKey does not support this operation, its usages must include ";if(e.length>2){let o=e.pop();r+=`one of ${e.join(", ")}, or ${o}.`}else e.length===2?r+=`one of ${e[0]} or ${e[1]}.`:r+=`${e[0]}.`;throw new TypeError(r)}}function tw(t,e,...r){switch(e){case"HS256":case"HS384":case"HS512":{if(!xd(t.algorithm,"HMAC"))throw Vs("HMAC");let o=parseInt(e.slice(2),10);if(hE(t.algorithm.hash)!==o)throw Vs(`SHA-${o}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!xd(t.algorithm,"RSASSA-PKCS1-v1_5"))throw Vs("RSASSA-PKCS1-v1_5");let o=parseInt(e.slice(2),10);if(hE(t.algorithm.hash)!==o)throw Vs(`SHA-${o}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!xd(t.algorithm,"RSA-PSS"))throw Vs("RSA-PSS");let o=parseInt(e.slice(2),10);if(hE(t.algorithm.hash)!==o)throw Vs(`SHA-${o}`,"algorithm.hash");break}case"EdDSA":{if(t.algorithm.name!=="Ed25519"&&t.algorithm.name!=="Ed448")throw Vs("Ed25519 or Ed448");break}case"Ed25519":{if(!xd(t.algorithm,"Ed25519"))throw Vs("Ed25519");break}case"ES256":case"ES384":case"ES512":{if(!xd(t.algorithm,"ECDSA"))throw Vs("ECDSA");let o=hq(e);if(t.algorithm.namedCurve!==o)throw Vs(o,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}gq(t,r)}function rw(t,e,...r){if(r=r.filter(Boolean),r.length>2){let o=r.pop();t+=`one of type ${r.join(", ")}, or ${o}.`}else r.length===2?t+=`one of type ${r[0]} or ${r[1]}.`:t+=`of type ${r[0]}.`;return e==null?t+=` Received ${e}`:typeof e=="function"&&e.name?t+=` Received function ${e.name}`:typeof e=="object"&&e!=null&&e.constructor?.name&&(t+=` Received an instance of ${e.constructor.name}`),t}var yd=(t,...e)=>rw("Key must be ",t,...e);function gE(t,e,...r){return rw(`Key for the ${t} algorithm must be `,e,...r)}var xE=t=>af(t)||fu(t),Ni=["KeyObject"];(globalThis.CryptoKey||ew?.CryptoKey)&&Ni.push("CryptoKey");var xq=(...t)=>{let e=t.filter(Boolean);if(e.length===0||e.length===1)return!0;let r;for(let o of e){let n=Object.keys(o);if(!r||r.size===0){r=new Set(n);continue}for(let s of n){if(r.has(s))return!1;r.add(s)}}return!0},cf=xq;function yq(t){return typeof t=="object"&&t!==null}function jn(t){if(!yq(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}import{KeyObject as Sq}from"node:crypto";function zs(t){return jn(t)&&typeof t.kty=="string"}function ow(t){return t.kty!=="oct"&&typeof t.d=="string"}function nw(t){return t.kty!=="oct"&&typeof t.d>"u"}function sw(t){return zs(t)&&t.kty==="oct"&&typeof t.k=="string"}var Eq=t=>{switch(t){case"prime256v1":return"P-256";case"secp384r1":return"P-384";case"secp521r1":return"P-521";case"secp256k1":return"secp256k1";default:throw new Uo("Unsupported key curve for this operation")}},_q=(t,e)=>{let r;if(fu(t))r=Sq.from(t);else if(af(t))r=t;else{if(zs(t))return t.crv;throw new TypeError(yd(t,...Ni))}if(r.type==="secret")throw new TypeError('only "private" or "public" type keys can be used for this operation');switch(r.asymmetricKeyType){case"ed25519":case"ed448":return`Ed${r.asymmetricKeyType.slice(2)}`;case"x25519":case"x448":return`X${r.asymmetricKeyType.slice(1)}`;case"ec":{let o=r.asymmetricKeyDetails.namedCurve;return e?o:Eq(o)}default:throw new TypeError("Invalid asymmetric key type for this operation")}},aw=_q;import{KeyObject as Rq}from"node:crypto";var yE=(t,e)=>{let r;try{t instanceof Rq?r=t.asymmetricKeyDetails?.modulusLength:r=Buffer.from(t.n,"base64url").byteLength<<3}catch{}if(typeof r!="number"||r<2048)throw new TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)};import{createPrivateKey as bq,createPublicKey as Cq}from"node:crypto";var vq=t=>t.d?bq({format:"jwk",key:t}):Cq({format:"jwk",key:t}),cw=vq;async function uw(t,e){if(!jn(t))throw new TypeError("JWK must be an object");switch(e||=t.alg,t.kty){case"oct":if(typeof t.k!="string"||!t.k)throw new TypeError('missing "k" (Key Value) Parameter value');return mu(t.k);case"RSA":if("oth"in t&&t.oth!==void 0)throw new Uo('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return cw({...t,alg:e});default:throw new Uo('Unsupported "kty" (Key Type) Parameter value')}}var hu=t=>t?.[Symbol.toStringTag],SE=(t,e,r)=>{if(e.use!==void 0&&e.use!=="sig")throw new TypeError("Invalid key for this operation, when present its use must be sig");if(e.key_ops!==void 0&&e.key_ops.includes?.(r)!==!0)throw new TypeError(`Invalid key for this operation, when present its key_ops must include ${r}`);if(e.alg!==void 0&&e.alg!==t)throw new TypeError(`Invalid key for this operation, when present its alg must be ${t}`);return!0},Iq=(t,e,r,o)=>{if(!(e instanceof Uint8Array)){if(o&&zs(e)){if(sw(e)&&SE(t,e,r))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!xE(e))throw new TypeError(gE(t,e,...Ni,"Uint8Array",o?"JSON Web Key":null));if(e.type!=="secret")throw new TypeError(`${hu(e)} instances for symmetric algorithms must be of type "secret"`)}},Tq=(t,e,r,o)=>{if(o&&zs(e))switch(r){case"sign":if(ow(e)&&SE(t,e,r))return;throw new TypeError("JSON Web Key for this operation be a private JWK");case"verify":if(nw(e)&&SE(t,e,r))return;throw new TypeError("JSON Web Key for this operation be a public JWK")}if(!xE(e))throw new TypeError(gE(t,e,...Ni,o?"JSON Web Key":null));if(e.type==="secret")throw new TypeError(`${hu(e)} instances for asymmetric algorithms must not be of type "secret"`);if(r==="sign"&&e.type==="public")throw new TypeError(`${hu(e)} instances for asymmetric algorithm signing must be of type "private"`);if(r==="decrypt"&&e.type==="public")throw new TypeError(`${hu(e)} instances for asymmetric algorithm decryption must be of type "private"`);if(e.algorithm&&r==="verify"&&e.type==="private")throw new TypeError(`${hu(e)} instances for asymmetric algorithm verifying must be of type "public"`);if(e.algorithm&&r==="encrypt"&&e.type==="private")throw new TypeError(`${hu(e)} instances for asymmetric algorithm encryption must be of type "public"`)};function pw(t,e,r,o){e.startsWith("HS")||e==="dir"||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?Iq(e,r,o,t):Tq(e,r,o,t)}var OPe=pw.bind(void 0,!1),Sd=pw.bind(void 0,!0);function wq(t,e,r,o,n){if(n.crit!==void 0&&o?.crit===void 0)throw new t('"crit" (Critical) Header Parameter MUST be integrity protected');if(!o||o.crit===void 0)return new Set;if(!Array.isArray(o.crit)||o.crit.length===0||o.crit.some(i=>typeof i!="string"||i.length===0))throw new t('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let s;r!==void 0?s=new Map([...Object.entries(r),...e.entries()]):s=e;for(let i of o.crit){if(!s.has(i))throw new Uo(`Extension Header Parameter "${i}" is not recognized`);if(n[i]===void 0)throw new t(`Extension Header Parameter "${i}" is missing`);if(s.get(i)&&o[i]===void 0)throw new t(`Extension Header Parameter "${i}" MUST be integrity protected`)}return new Set(o.crit)}var uf=wq;var Aq=(t,e)=>{if(e!==void 0&&(!Array.isArray(e)||e.some(r=>typeof r!="string")))throw new TypeError(`"${t}" option must be an array of strings`);if(e)return new Set(e)},dw=Aq;import*as lf from"node:crypto";import{promisify as $q}from"node:util";function Ed(t){switch(t){case"PS256":case"RS256":case"ES256":case"ES256K":return"sha256";case"PS384":case"RS384":case"ES384":return"sha384";case"PS512":case"RS512":case"ES512":return"sha512";case"Ed25519":case"EdDSA":return;default:throw new Uo(`alg ${t} is not supported either by JOSE or your javascript runtime`)}}import{constants as lw,KeyObject as Dq}from"node:crypto";var Oq=new Map([["ES256","P-256"],["ES256K","secp256k1"],["ES384","P-384"],["ES512","P-521"]]);function _d(t,e){let r,o,n;if(e instanceof Dq)r=e.asymmetricKeyType,o=e.asymmetricKeyDetails;else switch(n=!0,e.kty){case"RSA":r="rsa";break;case"EC":r="ec";break;case"OKP":{if(e.crv==="Ed25519"){r="ed25519";break}if(e.crv==="Ed448"){r="ed448";break}throw new TypeError("Invalid key for this operation, its crv must be Ed25519 or Ed448")}default:throw new TypeError("Invalid key for this operation, its kty must be RSA, OKP, or EC")}let s;switch(t){case"Ed25519":if(r!=="ed25519")throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be ed25519");break;case"EdDSA":if(!["ed25519","ed448"].includes(r))throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be ed25519 or ed448");break;case"RS256":case"RS384":case"RS512":if(r!=="rsa")throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");yE(e,t);break;case"PS256":case"PS384":case"PS512":if(r==="rsa-pss"){let{hashAlgorithm:i,mgf1HashAlgorithm:a,saltLength:c}=o,u=parseInt(t.slice(-3),10);if(i!==void 0&&(i!==`sha${u}`||a!==i))throw new TypeError(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${t}`);if(c!==void 0&&c>u>>3)throw new TypeError(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${t}`)}else if(r!=="rsa")throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa or rsa-pss");yE(e,t),s={padding:lw.RSA_PKCS1_PSS_PADDING,saltLength:lw.RSA_PSS_SALTLEN_DIGEST};break;case"ES256":case"ES256K":case"ES384":case"ES512":{if(r!=="ec")throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be ec");let i=aw(e),a=Oq.get(t);if(i!==a)throw new TypeError(`Invalid key curve for the algorithm, its curve must be ${a}, got ${i}`);s={dsaEncoding:"ieee-p1363"};break}default:throw new Uo(`alg ${t} is not supported either by JOSE or your javascript runtime`)}return n?{format:"jwk",key:e,...s}:s?{...s,key:e}:e}import*as pf from"node:crypto";import{promisify as Pq}from"node:util";function EE(t){switch(t){case"HS256":return"sha256";case"HS384":return"sha384";case"HS512":return"sha512";default:throw new Uo(`alg ${t} is not supported either by JOSE or your javascript runtime`)}}import{KeyObject as mw,createSecretKey as fw}from"node:crypto";function Rd(t,e,r){if(e instanceof Uint8Array){if(!t.startsWith("HS"))throw new TypeError(yd(e,...Ni));return fw(e)}if(e instanceof mw)return e;if(fu(e))return tw(e,t,r),mw.from(e);if(zs(e))return t.startsWith("HS")?fw(Buffer.from(e.k,"base64url")):e;throw new TypeError(yd(e,...Ni,"Uint8Array","JSON Web Key"))}var kq=Pq(pf.sign),Nq=async(t,e,r)=>{let o=Rd(t,e,"sign");if(t.startsWith("HS")){let n=pf.createHmac(EE(t),o);return n.update(r),n.digest()}return kq(Ed(t),r,_d(t,o))},df=Nq;var Lq=$q(lf.verify),Mq=async(t,e,r,o)=>{let n=Rd(t,e,"verify");if(t.startsWith("HS")){let a=await df(t,n,o),c=r;try{return lf.timingSafeEqual(c,a)}catch{return!1}}let s=Ed(t),i=_d(t,n);try{return await Lq(s,o,i,r)}catch{return!1}},hw=Mq;async function gw(t,e,r){if(!jn(t))throw new bt("Flattened JWS must be an object");if(t.protected===void 0&&t.header===void 0)throw new bt('Flattened JWS must have either of the "protected" or "header" members');if(t.protected!==void 0&&typeof t.protected!="string")throw new bt("JWS Protected Header incorrect type");if(t.payload===void 0)throw new bt("JWS Payload missing");if(typeof t.signature!="string")throw new bt("JWS Signature missing or incorrect type");if(t.header!==void 0&&!jn(t.header))throw new bt("JWS Unprotected Header incorrect type");let o={};if(t.protected)try{let b=mu(t.protected);o=JSON.parse(Rs.decode(b))}catch{throw new bt("JWS Protected Header is invalid")}if(!cf(o,t.header))throw new bt("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let n={...o,...t.header},s=uf(bt,new Map([["b64",!0]]),r?.crit,o,n),i=!0;if(s.has("b64")&&(i=o.b64,typeof i!="boolean"))throw new bt('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:a}=n;if(typeof a!="string"||!a)throw new bt('JWS "alg" (Algorithm) Header Parameter missing or invalid');let c=r&&dw("algorithms",r.algorithms);if(c&&!c.has(a))throw new nf('"alg" (Algorithm) Header Parameter value not allowed');if(i){if(typeof t.payload!="string")throw new bt("JWS Payload must be a string")}else if(typeof t.payload!="string"&&!(t.payload instanceof Uint8Array))throw new bt("JWS Payload must be a string or an Uint8Array instance");let u=!1;typeof e=="function"?(e=await e(o,t),u=!0,Sd(a,e,"verify"),zs(e)&&(e=await uw(e,a))):Sd(a,e,"verify");let m=rf(Hn.encode(t.protected??""),Hn.encode("."),typeof t.payload=="string"?Hn.encode(t.payload):t.payload),f;try{f=mu(t.signature)}catch{throw new bt("Failed to base64url decode the signature")}if(!await hw(a,e,f,m))throw new sf;let g;if(i)try{g=mu(t.payload)}catch{throw new bt("Failed to base64url decode the payload")}else typeof t.payload=="string"?g=Hn.encode(t.payload):g=t.payload;let _={payload:g};return t.protected!==void 0&&(_.protectedHeader=o),t.header!==void 0&&(_.unprotectedHeader=t.header),u?{..._,key:e}:_}async function xw(t,e,r){if(t instanceof Uint8Array&&(t=Rs.decode(t)),typeof t!="string")throw new bt("Compact JWS must be a string or Uint8Array");let{0:o,1:n,2:s,length:i}=t.split(".");if(i!==3)throw new bt("Invalid Compact JWS");let a=await gw({payload:n,protected:o,signature:s},e,r),c={payload:a.payload,protectedHeader:a.protectedHeader};return typeof e=="function"?{...c,key:a.key}:c}var Ks=t=>Math.floor(t.getTime()/1e3);var Bq=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,lc=t=>{let e=Bq.exec(t);if(!e||e[4]&&e[1])throw new TypeError("Invalid time period format");let r=parseFloat(e[2]),o=e[3].toLowerCase(),n;switch(o){case"sec":case"secs":case"second":case"seconds":case"s":n=Math.round(r);break;case"minute":case"minutes":case"min":case"mins":case"m":n=Math.round(r*60);break;case"hour":case"hours":case"hr":case"hrs":case"h":n=Math.round(r*3600);break;case"day":case"days":case"d":n=Math.round(r*86400);break;case"week":case"weeks":case"w":n=Math.round(r*604800);break;default:n=Math.round(r*31557600);break}return e[1]==="-"||e[4]==="ago"?-n:n};var yw=t=>t.toLowerCase().replace(/^application\//,""),Uq=(t,e)=>typeof t=="string"?e.includes(t):Array.isArray(t)?e.some(Set.prototype.has.bind(new Set(t))):!1,Sw=(t,e,r={})=>{let o;try{o=JSON.parse(Rs.decode(e))}catch{}if(!jn(o))throw new ma("JWT Claims Set must be a top-level JSON object");let{typ:n}=r;if(n&&(typeof t.typ!="string"||yw(t.typ)!==yw(n)))throw new Rn('unexpected "typ" JWT header value',o,"typ","check_failed");let{requiredClaims:s=[],issuer:i,subject:a,audience:c,maxTokenAge:u}=r,m=[...s];u!==void 0&&m.push("iat"),c!==void 0&&m.push("aud"),a!==void 0&&m.push("sub"),i!==void 0&&m.push("iss");for(let _ of new Set(m.reverse()))if(!(_ in o))throw new Rn(`missing required "${_}" claim`,o,_,"missing");if(i&&!(Array.isArray(i)?i:[i]).includes(o.iss))throw new Rn('unexpected "iss" claim value',o,"iss","check_failed");if(a&&o.sub!==a)throw new Rn('unexpected "sub" claim value',o,"sub","check_failed");if(c&&!Uq(o.aud,typeof c=="string"?[c]:c))throw new Rn('unexpected "aud" claim value',o,"aud","check_failed");let f;switch(typeof r.clockTolerance){case"string":f=lc(r.clockTolerance);break;case"number":f=r.clockTolerance;break;case"undefined":f=0;break;default:throw new TypeError("Invalid clockTolerance option type")}let{currentDate:h}=r,g=Ks(h||new Date);if((o.iat!==void 0||u)&&typeof o.iat!="number")throw new Rn('"iat" claim must be a number',o,"iat","invalid");if(o.nbf!==void 0){if(typeof o.nbf!="number")throw new Rn('"nbf" claim must be a number',o,"nbf","invalid");if(o.nbf>g+f)throw new Rn('"nbf" claim timestamp check failed',o,"nbf","check_failed")}if(o.exp!==void 0){if(typeof o.exp!="number")throw new Rn('"exp" claim must be a number',o,"exp","invalid");if(o.exp<=g-f)throw new gd('"exp" claim timestamp check failed',o,"exp","check_failed")}if(u){let _=g-o.iat,b=typeof u=="number"?u:lc(u);if(_-f>b)throw new gd('"iat" claim timestamp check failed (too far in the past)',o,"iat","check_failed");if(_<0-f)throw new Rn('"iat" claim timestamp check failed (it should be in the past)',o,"iat","check_failed")}return o};async function _E(t,e,r){let o=await xw(t,e,r);if(o.protectedHeader.crit?.includes("b64")&&o.protectedHeader.b64===!1)throw new ma("JWTs MUST NOT use unencoded payload");let s={payload:Sw(o.protectedHeader,o.payload,r),protectedHeader:o.protectedHeader};return typeof e=="function"?{...s,key:o.key}:s}var mf=class{_payload;_protectedHeader;_unprotectedHeader;constructor(e){if(!(e instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=e}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}async sign(e,r){if(!this._protectedHeader&&!this._unprotectedHeader)throw new bt("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!cf(this._protectedHeader,this._unprotectedHeader))throw new bt("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let o={...this._protectedHeader,...this._unprotectedHeader},n=uf(bt,new Map([["b64",!0]]),r?.crit,this._protectedHeader,o),s=!0;if(n.has("b64")&&(s=this._protectedHeader.b64,typeof s!="boolean"))throw new bt('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:i}=o;if(typeof i!="string"||!i)throw new bt('JWS "alg" (Algorithm) Header Parameter missing or invalid');Sd(i,e,"sign");let a=this._payload;s&&(a=Hn.encode(of(a)));let c;this._protectedHeader?c=Hn.encode(of(JSON.stringify(this._protectedHeader))):c=Hn.encode("");let u=rf(c,Hn.encode("."),a),m=await df(i,e,u),f={signature:of(m),payload:""};return s&&(f.payload=Rs.decode(a)),this._unprotectedHeader&&(f.header=this._unprotectedHeader),this._protectedHeader&&(f.protected=Rs.decode(c)),f}};var ff=class{_flattened;constructor(e){this._flattened=new mf(e)}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}async sign(e,r){let o=await this._flattened.sign(e,r);if(o.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${o.protected}.${o.payload}.${o.signature}`}};function mc(t,e){if(!Number.isFinite(e))throw new TypeError(`Invalid ${t} input`);return e}var hf=class{_payload;constructor(e={}){if(!jn(e))throw new TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return typeof e=="number"?this._payload={...this._payload,nbf:mc("setNotBefore",e)}:e instanceof Date?this._payload={...this._payload,nbf:mc("setNotBefore",Ks(e))}:this._payload={...this._payload,nbf:Ks(new Date)+lc(e)},this}setExpirationTime(e){return typeof e=="number"?this._payload={...this._payload,exp:mc("setExpirationTime",e)}:e instanceof Date?this._payload={...this._payload,exp:mc("setExpirationTime",Ks(e))}:this._payload={...this._payload,exp:Ks(new Date)+lc(e)},this}setIssuedAt(e){return typeof e>"u"?this._payload={...this._payload,iat:Ks(new Date)}:e instanceof Date?this._payload={...this._payload,iat:mc("setIssuedAt",Ks(e))}:typeof e=="string"?this._payload={...this._payload,iat:mc("setIssuedAt",Ks(new Date)+lc(e))}:this._payload={...this._payload,iat:mc("setIssuedAt",e)},this}};var bd=class extends hf{_protectedHeader;setProtectedHeader(e){return this._protectedHeader=e,this}async sign(e,r){let o=new ff(Hn.encode(JSON.stringify(this._payload)));if(o.setProtectedHeader(this._protectedHeader),Array.isArray(this._protectedHeader?.crit)&&this._protectedHeader.crit.includes("b64")&&this._protectedHeader.b64===!1)throw new ma("JWTs MUST NOT use unencoded payload");return o.sign(e,r)}};var Fq=[/password/i,/secret/i,/token/i,/key/i,/auth/i,/credential/i,/ssn/i,/social.security/i,/credit.card/i,/card.number/i,/cvv/i,/pin/i,/phone/i,/email/i,/address/i,/zip/i,/postal/i],Gq=/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/g,Hq=[/\b\d{3}-\d{3}-\d{4}\b/g,/\b\(\d{3}\)\s*\d{3}-\d{4}\b/g,/\b\d{10}\b/g,/\b\+1\s*\d{3}\s*\d{3}\s*\d{4}\b/g],bE=class{logLevel;enableConsoleOutput;constructor(e="info",r=!0){this.logLevel=e,this.enableConsoleOutput=r}shouldLog(e){let r=["debug","info","warn","error"],o=r.indexOf(this.logLevel);return r.indexOf(e)>=o}createLogEntry(e,r,o){return{level:e,message:r,timestamp:new Date().toISOString(),...o&&{metadata:this.sanitizeMetadata(o)}}}output(e){this.shouldLog(e.level)&&this.enableConsoleOutput&&console.log(JSON.stringify(e))}debug(e,r){let o=this.createLogEntry("debug",e,r);this.output(o)}info(e,r){let o=this.createLogEntry("info",e,r);this.output(o)}warn(e,r){let o=this.createLogEntry("warn",e,r);this.output(o)}error(e,r,o){let n=this.createLogEntry("error",e,{...o,error:r instanceof Error?{name:r.name,message:r.message,stack:r.stack}:r});this.output(n)}sanitizeMetadata(e){return this.sanitizeObject(e)}sanitizeObject(e){if(e==null)return e;if(typeof e=="string")return this.sanitizeString(e);if(typeof e=="number"||typeof e=="boolean")return e;if(Array.isArray(e))return e.map(r=>this.sanitizeObject(r));if(typeof e=="object"){let r={};for(let[o,n]of Object.entries(e))this.isPiiField(o)?r[o]="[REDACTED]":r[o]=this.sanitizeObject(n);return r}return e}isPiiField(e){return Fq.some(r=>r.test(e))}sanitizeString(e){let r=e;return r=r.replace(Gq,"[EMAIL_REDACTED]"),Hq.forEach(o=>{r=r.replace(o,"[PHONE_REDACTED]")}),r}},RE=null;function gf(){if(!RE){let t=wr();RE=new bE(t.logging.level,!0)}return RE}var y={debug:(t,e)=>gf().debug(t,e),info:(t,e)=>gf().info(t,e),warn:(t,e)=>gf().warn(t,e),error:(t,e,r)=>gf().error(t,e,r)};var Ew="HS256",_w="aws-lambda-control-plane",Rw="control-plane-api",jq=()=>{let e=wr().jwt.secret;if(!e)throw new Error("JWT_SECRET environment variable is required");if(e.length<32)throw new Error("JWT_SECRET must be at least 32 characters long");return new TextEncoder().encode(e)},gu=class{secret;constructor(){this.secret=jq(),y.info("JWT helper initialized")}async signToken(e,r){try{y.info("Signing JWT token",{staffId:e.staffId,email:e.email,roles:e.roles,correlationId:r});let o=Math.floor(Date.now()/1e3),n=o+24*60*60,s=await new bd({sub:e.staffId,email:e.email,roles:e.roles,iat:o,exp:n,iss:_w,aud:Rw}).setProtectedHeader({alg:Ew}).sign(this.secret);return y.info("JWT token signed successfully",{staffId:e.staffId,expiresAt:new Date(n*1e3).toISOString(),correlationId:r}),s}catch(o){throw y.error("Failed to sign JWT token",{error:o instanceof Error?o.message:"Unknown error",staffId:e.staffId,correlationId:r}),o}}async verifyToken(e,r){try{y.info("Verifying JWT token",{correlationId:r});let{payload:o}=await _E(e,this.secret,{issuer:_w,audience:Rw,algorithms:[Ew]});if(!o.sub||!o.email||!o.roles)throw new Error("Invalid JWT payload: missing required fields");if(!Array.isArray(o.roles))throw new Error("Invalid JWT payload: roles must be an array");let n={sub:o.sub,email:o.email,roles:o.roles,iat:o.iat,exp:o.exp,...o.iss&&{iss:o.iss},...typeof o.aud=="string"&&{aud:o.aud}};return y.info("JWT token verified successfully",{staffId:n.sub,email:n.email,roles:n.roles,expiresAt:new Date(n.exp*1e3).toISOString(),correlationId:r}),n}catch(o){throw y.error("Failed to verify JWT token",{error:o instanceof Error?o.message:"Unknown error",correlationId:r}),o}}static extractTokenFromHeader(e){if(!e)return null;let r=e.split(" ");return r.length!==2||r[0]!=="Bearer"?null:r[1]||null}static isTokenExpired(e){try{let r=e.split(".");if(r.length!==3)return!0;let o=JSON.parse(atob(r[1])),n=Math.floor(Date.now()/1e3);return o.exp&&o.exp<n}catch{return!0}}static getTokenExpiration(e){try{let r=e.split(".");if(r.length!==3)return null;let o=JSON.parse(atob(r[1]));return o.exp?new Date(o.exp*1e3):null}catch{return null}}},CE=null,xu={get instance(){return CE||(CE=new gu),CE},signToken:(t,e)=>xu.instance.signToken(t,e),verifyToken:(t,e)=>xu.instance.verifyToken(t,e)};function bn(t={}){let{required:e=!0}=t;return async(r,o,n)=>{try{let s=r.headers.authorization||r.headers.Authorization;if(!s)if(e){y.warn("Missing authorization header",{correlationId:r.correlationId,path:r.path,method:r.method}),H(o,"Unauthorized","Missing authorization header",r.correlationId);return}else{r.context={authenticated:!1},await n();return}let i=gu.extractTokenFromHeader(s);if(!i){y.warn("Invalid authorization header format",{correlationId:r.correlationId,path:r.path,method:r.method}),H(o,"Unauthorized","Invalid authorization header format",r.correlationId);return}if(gu.isTokenExpired(i)){y.warn("Token is expired",{correlationId:r.correlationId,path:r.path,method:r.method}),H(o,"Unauthorized","Token has expired",r.correlationId);return}let a=await xu.verifyToken(i,r.correlationId),c={staff_id:a.sub,email:a.email,roles:a.roles,stage:process.env.STAGE||"dev",authenticated:!0};r.context=c,y.info("Authentication successful",{staffId:c.staff_id,email:c.email,roles:c.roles,correlationId:r.correlationId,path:r.path,method:r.method}),await n()}catch(s){y.error("Authentication middleware error",{error:s instanceof Error?s.message:"Unknown error",correlationId:r.correlationId,path:r.path,method:r.method}),s instanceof Error?s.message.includes("expired")||s.message.includes("exp")?H(o,"Unauthorized","Token has expired",r.correlationId):s.message.includes("signature")||s.message.includes("invalid")?H(o,"Unauthorized","Invalid token signature",r.correlationId):H(o,"Unauthorized","Authentication failed",r.correlationId):H(o,"Unauthorized","Authentication failed",r.correlationId)}}}function vE(t){return async(e,r,o)=>{if(!e.context.authenticated){y.warn("Authorization failed: not authenticated",{correlationId:e.correlationId,path:e.path,method:e.method,requiredRoles:t}),H(r,"Unauthorized","Authentication required",e.correlationId);return}let n=e.context.roles||[];if(!t.some(i=>n.includes(i))){y.warn("Authorization failed: insufficient permissions",{correlationId:e.correlationId,path:e.path,method:e.method,userRoles:n,requiredRoles:t}),H(r,"Forbidden",`Insufficient permissions. Required roles: ${t.join(", ")}`,e.correlationId);return}y.info("Authorization successful",{correlationId:e.correlationId,path:e.path,method:e.method,userRoles:n,requiredRoles:t}),await o()}}var Ws=vE(["admin"]),IE=vE(["admin","manager"]);function Vq(t={}){let{corsOrigins:e=["*"],enableLogging:r=!0,logLevel:o="info"}=t,n=new hd({corsOrigins:e,enableLogging:r,enableTracing:!0});return r&&n.use(fE({enableRequestLogging:!0,enableResponseLogging:!0,logLevel:o})),n.use(lE({origins:e,methods:["GET","POST","PUT","DELETE","OPTIONS"],headers:["Content-Type","Authorization","X-Correlation-ID"],credentials:!1})),n}function bw(){let t=process.env.STAGE||"dev",e=t==="prod"?process.env.CORS_ORIGINS?.split(",")||["https://app.example.com"]:["*"];return Vq({corsOrigins:e,enableLogging:!0,logLevel:t==="prod"?"info":"debug"})}var zq=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\/(?:[0-9]|[1-2][0-9]|3[0-2])$/,Kq=[/^10\.(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){2}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\/(?:[8-9]|[12][0-9]|3[0-2])$/,/^172\.(?:1[6-9]|2[0-9]|3[01])\.(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){1}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\/(?:1[2-9]|2[0-9]|3[0-2])$/,/^192\.168\.(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){1}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\/(?:1[6-9]|2[0-9]|3[0-2])$/],xf=t=>zq.test(t)?Kq.some(e=>e.test(t)):!1,Wq=t=>t.split(".").reduce((e,r)=>(e<<8)+parseInt(r,10),0)>>>0,Cw=t=>{let[e,r]=t.split("/"),o=4294967295<<32-parseInt(r,10)>>>0;return{network:Wq(e)&o,mask:o}},vw=(t,e)=>{try{let{network:r,mask:o}=Cw(t),{network:n,mask:s}=Cw(e);return(n&o)===r||(r&s)===n}catch(r){return y.error("Error checking CIDR overlap",{cidr1:t,cidr2:e,error:r instanceof Error?r.message:"Unknown error"}),!1}},TE=(t,e)=>{if(!xf(t))return{valid:!1,error:"CIDR must be a valid private IPv4 CIDR block (RFC 1918)"};let r=e.filter(o=>vw(t,o));return r.length>0?{valid:!1,error:"CIDR overlaps with existing cluster networks",overlaps:r}:{valid:!0}};var Iw=["us-east-1","us-east-2","us-west-1","us-west-2","eu-west-1","eu-west-2","eu-west-3","eu-central-1","eu-north-1","eu-south-1","ap-southeast-1","ap-southeast-2","ap-northeast-1","ap-northeast-2","ap-northeast-3","ap-south-1","ap-east-1","ca-central-1","sa-east-1","af-south-1","me-south-1"],yu=E.object({staff_id:E.string().uuid(),email:E.string().email().toLowerCase(),password_hash:E.string().min(1),roles:E.array(E.enum(["admin","manager","staff"])).min(1),enabled:E.boolean(),created_at:E.string().datetime(),updated_at:E.string().datetime()}),yf=E.object({token_hash:E.string().min(1),staff_id:E.string().uuid(),expires_at:E.number().int().positive(),created_at:E.string().datetime(),used_at:E.string().datetime().optional()}),Sf=E.object({tenant_id:E.string().uuid(),name:E.string().min(1).max(255),email:E.string().email().toLowerCase(),contact_info:E.object({phone:E.string().optional(),address:E.string().optional(),company:E.string().optional()}),status:E.enum(["pending","active","suspended"]),created_at:E.string().datetime(),updated_at:E.string().datetime()}),Cd=E.object({cluster_id:E.string().uuid(),name:E.string().min(1).max(255),type:E.enum(["dedicated","shared"]),region:E.enum(Iw),cidr:E.string().refine(xf,{message:"CIDR must be a valid private IPv4 CIDR block (RFC 1918)"}),status:E.enum(["created","deploying","deployed","failed"]),deployment_status:E.string().optional(),deployment_id:E.string().optional(),stack_outputs:E.record(E.any()).optional(),created_at:E.string().datetime(),updated_at:E.string().datetime(),deployed_at:E.string().datetime().optional()}),kNe=E.object({sub:E.string().uuid(),email:E.string().email(),roles:E.array(E.enum(["admin","manager","staff"])),iat:E.number().int().positive(),exp:E.number().int().positive(),iss:E.string().optional(),aud:E.string().optional()}),Ef=E.object({email:E.string().email().toLowerCase(),password:E.string().min(8).max(128),roles:E.array(E.enum(["admin","manager","staff"])).min(1)}),NNe=E.object({roles:E.array(E.enum(["admin","manager","staff"])).min(1).optional(),enabled:E.boolean().optional()}),_f=E.object({name:E.string().min(1).max(255),email:E.string().email().toLowerCase(),contact_info:E.object({phone:E.string().optional(),address:E.string().optional(),company:E.string().optional()}).optional().default({})}),Rf=E.object({name:E.string().min(1).max(255),type:E.enum(["dedicated","shared"]),region:E.enum(Iw),cidr:E.string().refine(xf,{message:"CIDR must be a valid private IPv4 CIDR block (RFC 1918)"})}),$Ne=E.object({name:E.string().min(1).max(255).optional(),status:E.enum(["created","deploying","deployed","failed"]).optional(),deployment_status:E.string().optional(),deployment_id:E.string().optional(),stack_outputs:E.record(E.any()).optional(),deployed_at:E.string().datetime().optional()}),bf=E.object({email:E.string().email().toLowerCase(),password:E.string().min(1)}),Cf=E.object({email:E.string().email().toLowerCase()}),vf=E.object({token:E.string().min(1),new_password:E.string().min(8).max(128)});Zt();var If="preferred",qq=["disabled","preferred","required"];function Id(t){return qq.includes(t)}var jA=t=>{let{accountIdEndpointMode:e}=t,r=ge(e??If);return Object.assign(t,{accountIdEndpointMode:async()=>{let o=await r();if(!Id(o))throw new Error(`Invalid value for accountIdEndpointMode: ${o}. Valid values are: "required", "preferred", "disabled".`);return o}})};var VA="Invalid AccountIdEndpointMode value",zA=t=>{throw new Error(t)},Jq="AWS_ACCOUNT_ID_ENDPOINT_MODE",Qq="account_id_endpoint_mode",KA={environmentVariableSelector:t=>{let e=t[Jq];return e&&!Id(e)&&zA(VA),e},configFileSelector:t=>{let e=t[Qq];return e&&!Id(e)&&zA(VA),e},default:If};var WA=["AWS_ENABLE_ENDPOINT_DISCOVERY","AWS_ENDPOINT_DISCOVERY_ENABLED"],wE="endpoint_discovery_enabled",qA=t=>["false","0"].indexOf(t)>=0,JA={environmentVariableSelector:t=>{for(let e=0;e<WA.length;e++){let r=WA[e];if(r in t){let o=t[r];if(o==="")throw Error(`Environment variable ${r} can't be empty of undefined, got "${o}"`);return!qA(o)}}},configFileSelector:t=>{if(wE in t){let e=t[wE];if(e===void 0)throw Error(`Shared config entry ${wE} can't be undefined, got "${e}"`);return!qA(e)}},default:void 0};var gD=KK(hD()),Tf=class{cache;constructor(e){this.cache=new gD.default(e)}getEndpoint(e){let r=this.get(e);if(!r||r.length===0)return;let o=r.map(n=>n.Address);return o[Math.floor(Math.random()*o.length)]}get(e){if(!this.has(e))return;let r=this.cache.get(e);if(!r)return;let o=Date.now(),n=r.filter(s=>o<s.Expires);if(n.length===0){this.delete(e);return}return n}set(e,r){let o=Date.now();this.cache.set(e,r.map(({Address:n,CachePeriodInMinutes:s})=>({Address:n,Expires:o+s*60*1e3})))}delete(e){this.cache.set(e,[])}has(e){if(!this.cache.has(e))return!1;let r=this.cache.peek(e);return r?r.length>0:!1}clear(){this.cache.clear()}};var xD=(t,{endpointDiscoveryCommandCtor:e})=>{let{endpointCacheSize:r,endpointDiscoveryEnabled:o,endpointDiscoveryEnabledProvider:n}=t;return Object.assign(t,{endpointDiscoveryCommandCtor:e,endpointCache:new Tf(r??1e3),endpointDiscoveryEnabled:o!==void 0?()=>Promise.resolve(o):n,isClientEndpointDiscoveryEnabled:o!==void 0})};Js();Qs();Ys();Ts();rr();At();ve();oi();xe();Rr();F();Je();Zt();var FL=async(t,e,r)=>({operation:nt(e).operation,region:await ge(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function iX(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"dynamodb",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}var GL=t=>{let e=[];switch(t.operation){default:e.push(iX(t))}return e},HL=t=>{let e=Gr(t);return Object.assign(e,{authSchemePreference:ge(t.authSchemePreference??[])})};xe();F();var jL=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"dynamodb"}),un={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},AccountId:{type:"builtInParams",name:"accountId"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"},AccountIdEndpointMode:{type:"builtInParams",name:"accountIdEndpointMode"}};ve();F();var Re=class t extends mr{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}};var Hh=class t extends Re{name="BackupInUseException";$fault="client";constructor(e){super({name:"BackupInUseException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},jh=class t extends Re{name="BackupNotFoundException";$fault="client";constructor(e){super({name:"BackupNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Vh=class t extends Re{name="InternalServerError";$fault="server";constructor(e){super({name:"InternalServerError",$fault:"server",...e}),Object.setPrototypeOf(this,t.prototype)}},zh=class t extends Re{name="RequestLimitExceeded";$fault="client";ThrottlingReasons;constructor(e){super({name:"RequestLimitExceeded",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.ThrottlingReasons=e.ThrottlingReasons}},Kh=class t extends Re{name="ThrottlingException";$fault="client";throttlingReasons;constructor(e){super({name:"ThrottlingException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.throttlingReasons=e.throttlingReasons}},Wh=class t extends Re{name="InvalidEndpointException";$fault="client";Message;constructor(e){super({name:"InvalidEndpointException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},qh=class t extends Re{name="ProvisionedThroughputExceededException";$fault="client";ThrottlingReasons;constructor(e){super({name:"ProvisionedThroughputExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.ThrottlingReasons=e.ThrottlingReasons}},Jh=class t extends Re{name="ResourceNotFoundException";$fault="client";constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Qh=class t extends Re{name="ItemCollectionSizeLimitExceededException";$fault="client";constructor(e){super({name:"ItemCollectionSizeLimitExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Yh=class t extends Re{name="ReplicatedWriteConflictException";$fault="client";$retryable={};constructor(e){super({name:"ReplicatedWriteConflictException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Xh=class t extends Re{name="ContinuousBackupsUnavailableException";$fault="client";constructor(e){super({name:"ContinuousBackupsUnavailableException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Zh=class t extends Re{name="LimitExceededException";$fault="client";constructor(e){super({name:"LimitExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},eg=class t extends Re{name="TableInUseException";$fault="client";constructor(e){super({name:"TableInUseException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},tg=class t extends Re{name="TableNotFoundException";$fault="client";constructor(e){super({name:"TableNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},rg=class t extends Re{name="GlobalTableAlreadyExistsException";$fault="client";constructor(e){super({name:"GlobalTableAlreadyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},og=class t extends Re{name="ResourceInUseException";$fault="client";constructor(e){super({name:"ResourceInUseException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},ng=class t extends Re{name="TransactionConflictException";$fault="client";constructor(e){super({name:"TransactionConflictException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},sg=class t extends Re{name="PolicyNotFoundException";$fault="client";constructor(e){super({name:"PolicyNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},ig=class t extends Re{name="ExportNotFoundException";$fault="client";constructor(e){super({name:"ExportNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},ag=class t extends Re{name="GlobalTableNotFoundException";$fault="client";constructor(e){super({name:"GlobalTableNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},cg=class t extends Re{name="ImportNotFoundException";$fault="client";constructor(e){super({name:"ImportNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},ug=class t extends Re{name="DuplicateItemException";$fault="client";constructor(e){super({name:"DuplicateItemException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},pg=class t extends Re{name="IdempotentParameterMismatchException";$fault="client";Message;constructor(e){super({name:"IdempotentParameterMismatchException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},dg=class t extends Re{name="TransactionInProgressException";$fault="client";Message;constructor(e){super({name:"TransactionInProgressException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},lg=class t extends Re{name="ExportConflictException";$fault="client";constructor(e){super({name:"ExportConflictException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},mg=class t extends Re{name="InvalidExportTimeException";$fault="client";constructor(e){super({name:"InvalidExportTimeException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},fg=class t extends Re{name="PointInTimeRecoveryUnavailableException";$fault="client";constructor(e){super({name:"PointInTimeRecoveryUnavailableException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},hg=class t extends Re{name="ImportConflictException";$fault="client";constructor(e){super({name:"ImportConflictException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},gg=class t extends Re{name="TableAlreadyExistsException";$fault="client";constructor(e){super({name:"TableAlreadyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},xg=class t extends Re{name="InvalidRestoreTimeException";$fault="client";constructor(e){super({name:"InvalidRestoreTimeException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},yg=class t extends Re{name="ReplicaAlreadyExistsException";$fault="client";constructor(e){super({name:"ReplicaAlreadyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Sg=class t extends Re{name="ReplicaNotFoundException";$fault="client";constructor(e){super({name:"ReplicaNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Eg=class t extends Re{name="IndexNotFoundException";$fault="client";constructor(e){super({name:"IndexNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},_g=class t extends Re{name="ConditionalCheckFailedException";$fault="client";Item;constructor(e){super({name:"ConditionalCheckFailedException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Item=e.Item}},Rg=class t extends Re{name="TransactionCanceledException";$fault="client";Message;CancellationReasons;constructor(e){super({name:"TransactionCanceledException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message,this.CancellationReasons=e.CancellationReasons}};var aX="Action";var cX="AttributeMap";var BR="AttributesToGet",zL="AttributeUpdates",uX="AttributeValue",UR="AttributeValueList",pX="AttributeValueUpdate",dX="Address",FR="Attributes";var lX="BackupInUseException";var mX="BackupNotFoundException",fX="BOOL";var hX="BS";var gX="B",xX="Code";var yX="ContinuousBackupsUnavailableException",Ic="ConsumedCapacity",SX="ConditionalCheckFailedException";var GR="ConditionExpression";var KL="ComparisonOperator",Xd="ConditionalOperator";var EX="CachePeriodInMinutes",HR="ConsistentRead";var _X="CancellationReasonList",RX="ConfirmRemoveSelfResourceAccess";var bX="CancellationReason",CX="CancellationReasons";var WL="CapacityUnits";var vX="Capacity",IX="Condition",qL="Count";var TX="DescribeEndpoints";var wX="DescribeEndpointsRequest",AX="DescribeEndpointsResponse";var DX="DeleteItem",OX="DuplicateItemException",PX="DeleteItemInput";var kX="DeleteItemOutput";var NX="ExpectedAttributeMap",qu="ExpressionAttributeNames",Zd="ExpressionAttributeValues",$X="ExpressionAttributeValueMap",LX="ExpectedAttributeValue";var MX="ExportConflictException";var BX="ExportNotFoundException";var UX="ExpectedRevisionId";var JL="ExclusiveStartKey";var QL="Endpoints";var FX="Endpoint",jR="Expected",GX="Exists";var HX="FilterConditionMap";var YL="FilterExpression";var jX="GetItem",VX="GetItemInput",zX="GetItemOutput";var KX="GlobalSecondaryIndexes";var WX="GlobalTableAlreadyExistsException";var qX="GlobalTableNotFoundException";var bg="Item";var JX="ImportConflictException",QX="ItemCollectionKey",YX="ItemCollectionKeyAttributeMap",Cg="ItemCollectionMetrics";var XX="ItemCollectionSizeLimitExceededException";var ZX="InvalidEndpointException";var eZ="InvalidExportTimeException";var tZ="ItemList",XL="IndexName",rZ="ImportNotFoundException",oZ="IndexNotFoundException",nZ="IdempotentParameterMismatchException";var sZ="InvalidRestoreTimeException";var iZ="InternalServerError";var ZL="Items",vg="Key";var eM="KeyConditions",aZ="KeyConditionExpression";var tM="Limit",cZ="ListAttributeValue";var uZ="LimitExceededException";var rM="LastEvaluatedKey";var pZ="LocalSecondaryIndexes";var dZ="L",el="Message",lZ="MapAttributeValue";var mZ="M",fZ="N";var hZ="NS";var gZ="NULL";var VR="ProjectionExpression",xZ="PutItem";var yZ="PutItemInput",SZ="PutItemInputAttributeMap",EZ="PutItemOutput";var _Z="PointInTimeRecoveryUnavailableException";var RZ="PolicyNotFoundException";var bZ="PutResourcePolicyInput";var CZ="ProvisionedThroughputExceededException";var vZ="Policy";var IZ="Query",TZ="QueryFilter",wZ="QueryInput",AZ="QueryOutput";var DZ="ResourceArn",OZ="ReplicaAlreadyExistsException";var Ju="ReturnConsumedCapacity",oM="ReadCapacityUnits";var zR="ReturnItemCollectionMetrics";var PZ="ResourceInUseException";var kZ="RequestLimitExceeded";var NZ="ReplicaNotFoundException",$Z="ResourceNotFoundException";var KR="ReturnValues",WR="ReturnValuesOnConditionCheckFailure",LZ="ReplicatedWriteConflictException";var nM="ScannedCount";var MZ="SizeEstimateRangeGB",BZ="ScanFilter",UZ="ScanInput";var FZ="SecondaryIndexesCapacityMap",GZ="ScanIndexForward";var HZ="ScanOutput";var jZ="SS";var VZ="S",zZ="Scan",sM="Select",KZ="Segment";var WZ="Table";var qZ="TableAlreadyExistsException";var JZ="TransactionCanceledException",QZ="TransactionConflictException";var YZ="ThrottlingException";var XZ="TransactionInProgressException",ZZ="TableInUseException";var Tc="TableName",eee="TableNotFoundException";var iM="ThrottlingReasons";var tee="ThrottlingReasonList";var ree="ThrottlingReason";var oee="TotalSegments";var nee="UpdateExpression";var see="UpdateItemInput",iee="UpdateItemOutput",aee="UpdateItem";var aM="Value",cM="WriteCapacityUnits";var cee="awsQueryError",Fe="client",Le="error",uM="httpError",uee="httpHeader",at="message",pee="reason",dee="resource",lee="server",pM="smithy.ts.sdk.synthetic.com.amazonaws.dynamodb",mee="throttlingReasons",fee="x-amz-confirm-remove-self-resource-access",D="com.amazonaws.dynamodb";var hee=[3,D,pX,0,[aM,aX],[()=>si,0]];var gee=[-3,D,lX,{[Le]:Fe},[at],[0]];R.for(D).registerError(gee,Hh);var xee=[-3,D,mX,{[Le]:Fe},[at],[0]];R.for(D).registerError(xee,jh);var yee=[3,D,bX,0,[bg,xX,el],[()=>wc,0,0]],dM=[3,D,vX,0,[oM,cM,WL],[1,1,1]],lM=[3,D,IX,0,[UR,KL],[()=>mM,0]],See=[-3,D,SX,{[Le]:Fe},[at,bg],[0,()=>wc]];R.for(D).registerError(See,_g);var Qu=[3,D,Ic,0,[Tc,WL,oM,cM,WZ,pZ,KX],[0,1,1,1,()=>dM,()=>VL,()=>VL]];var Eee=[-3,D,yX,{[Le]:Fe},[at],[0]];R.for(D).registerError(Eee,Xh);var _ee=[3,D,PX,0,[Tc,vg,jR,Xd,KR,Ju,zR,GR,qu,Zd,WR],[0,()=>Ac,()=>QR,0,0,0,0,0,128,()=>tl,0]],Ree=[3,D,kX,0,[FR,Ic,Cg],[()=>wc,()=>Qu,()=>qR]];var bee=[3,D,wX,0,[],[]],Cee=[3,D,AX,0,[QL],[()=>xte]];var vee=[-3,D,OX,{[Le]:Fe},[at],[0]];R.for(D).registerError(vee,ug);var Iee=[3,D,FX,0,[dX,EX],[0,1]];var Tee=[3,D,LX,0,[aM,GX,KL,UR],[()=>si,2,0,()=>mM]],wee=[-3,D,MX,{[Le]:Fe},[at],[0]];R.for(D).registerError(wee,lg);var Aee=[-3,D,BX,{[Le]:Fe},[at],[0]];R.for(D).registerError(Aee,ig);var Dee=[3,D,VX,0,[Tc,vg,BR,HR,Ju,VR,qu],[0,()=>Ac,64,2,0,0,128]],Oee=[3,D,zX,0,[bg,Ic],[()=>wc,()=>Qu]];var Pee=[-3,D,WX,{[Le]:Fe},[at],[0]];R.for(D).registerError(Pee,rg);var kee=[-3,D,qX,{[Le]:Fe},[at],[0]];R.for(D).registerError(kee,ag);var Nee=[-3,D,nZ,{[Le]:Fe},[el],[0]];R.for(D).registerError(Nee,pg);var $ee=[-3,D,JX,{[Le]:Fe},[at],[0]];R.for(D).registerError($ee,hg);var Lee=[-3,D,rZ,{[Le]:Fe},[at],[0]];R.for(D).registerError(Lee,cg);var Mee=[-3,D,oZ,{[Le]:Fe},[at],[0]];R.for(D).registerError(Mee,Eg);var Bee=[-3,D,iZ,{[Le]:lee},[at],[0]];R.for(D).registerError(Bee,Vh);var Uee=[-3,D,ZX,{[Le]:Fe,[uM]:421},[el],[0]];R.for(D).registerError(Uee,Wh);var Fee=[-3,D,eZ,{[Le]:Fe},[at],[0]];R.for(D).registerError(Fee,mg);var Gee=[-3,D,sZ,{[Le]:Fe},[at],[0]];R.for(D).registerError(Gee,xg);var qR=[3,D,Cg,0,[QX,MZ],[()=>Ete,65]],Hee=[-3,D,XX,{[Le]:Fe},[at],[0]];R.for(D).registerError(Hee,Qh);var jee=[-3,D,uZ,{[Le]:Fe},[at],[0]];R.for(D).registerError(jee,Zh);var Vee=[-3,D,_Z,{[Le]:Fe},[at],[0]];R.for(D).registerError(Vee,fg);var zee=[-3,D,RZ,{[Le]:Fe},[at],[0]];R.for(D).registerError(zee,sg);var Kee=[-3,D,CZ,{[Le]:Fe},[at,iM],[0,()=>JR]];R.for(D).registerError(Kee,qh);var Wee=[3,D,yZ,0,[Tc,bg,jR,KR,Ju,zR,Xd,GR,qu,Zd,WR],[0,()=>bte,()=>QR,0,0,0,0,0,128,()=>tl,0]],qee=[3,D,EZ,0,[FR,Ic,Cg],[()=>wc,()=>Qu,()=>qR]];var pWe=[3,D,bZ,0,[DZ,vZ,UX,RX],[0,0,0,[2,{[uee]:fee}]]];var Jee=[3,D,wZ,0,[Tc,XL,sM,BR,tM,HR,eM,TZ,Xd,GZ,JL,Ju,VR,YL,aZ,qu,Zd],[0,0,0,64,1,2,()=>_te,()=>hM,0,2,()=>Ac,0,0,0,0,128,()=>tl]],Qee=[3,D,AZ,0,[ZL,qL,nM,rM,Ic],[()=>fM,1,1,()=>Ac,()=>Qu]];var Yee=[-3,D,OZ,{[Le]:Fe},[at],[0]];R.for(D).registerError(Yee,yg);var Xee=[-3,D,NZ,{[Le]:Fe},[at],[0]];R.for(D).registerError(Xee,Sg);var Zee=[-3,D,LZ,{[Le]:Fe},[at],[0]];R.for(D).registerError(Zee,Yh);var ete=[-3,D,kZ,{[Le]:Fe},[at,iM],[0,()=>JR]];R.for(D).registerError(ete,zh);var tte=[-3,D,PZ,{[Le]:Fe},[at],[0]];R.for(D).registerError(tte,og);var rte=[-3,D,$Z,{[Le]:Fe},[at],[0]];R.for(D).registerError(rte,Jh);var ote=[3,D,UZ,0,[Tc,XL,BR,tM,sM,BZ,Xd,JL,Ju,oee,KZ,VR,YL,qu,Zd,HR],[0,0,64,1,0,()=>hM,0,()=>Ac,0,1,1,0,0,128,()=>tl,2]],nte=[3,D,HZ,0,[ZL,qL,nM,rM,Ic],[()=>fM,1,1,()=>Ac,()=>Qu]];var ste=[-3,D,qZ,{[Le]:Fe},[at],[0]];R.for(D).registerError(ste,gg);var ite=[-3,D,ZZ,{[Le]:Fe},[at],[0]];R.for(D).registerError(ite,eg);var ate=[-3,D,eee,{[Le]:Fe},[at],[0]];R.for(D).registerError(ate,tg);var cte=[-3,D,YZ,{[cee]:["Throttling",400],[Le]:Fe,[uM]:400},[at,mee],[0,()=>JR]];R.for(D).registerError(cte,Kh);var ute=[3,D,ree,0,[pee,dee],[0,0]];var pte=[-3,D,JZ,{[Le]:Fe},[el,CX],[0,()=>gte]];R.for(D).registerError(pte,Rg);var dte=[-3,D,QZ,{[Le]:Fe},[at],[0]];R.for(D).registerError(dte,ng);var lte=[-3,D,XZ,{[Le]:Fe},[el],[0]];R.for(D).registerError(lte,dg);var mte=[3,D,see,0,[Tc,vg,zL,jR,Xd,KR,Ju,zR,nee,GR,qu,Zd,WR],[0,()=>Ac,()=>Ste,()=>QR,0,0,0,0,0,0,128,()=>tl,0]],fte=[3,D,iee,0,[FR,Ic,Cg],[()=>wc,()=>Qu,()=>qR]];var hte=[-3,pM,"DynamoDBServiceException",0,[],[]];R.for(pM).registerError(hte,Re);var mM=[1,D,UR,0,()=>si];var gte=[1,D,_X,0,()=>yee];var xte=[1,D,QL,0,()=>Iee];var fM=[1,D,tZ,0,()=>wc];var yte=[1,D,cZ,0,()=>si];var JR=[1,D,tee,0,()=>ute];var wc=[2,D,cX,0,0,()=>si],Ste=[2,D,zL,0,0,()=>hee];var QR=[2,D,NX,0,0,()=>Tee];var tl=[2,D,$X,0,0,()=>si],hM=[2,D,HX,0,0,()=>lM],Ete=[2,D,YX,0,0,()=>si];var Ac=[2,D,vg,0,0,()=>si],_te=[2,D,eM,0,0,()=>lM],Rte=[2,D,lZ,0,0,()=>si],bte=[2,D,SZ,0,0,()=>si],VL=[2,D,FZ,0,0,()=>dM],si=[4,D,uX,0,[VZ,fZ,gX,jZ,hZ,hX,mZ,dZ,gZ,fX],[0,0,21,64,64,85,()=>Rte,()=>yte,2,2]];var gM=[9,D,DX,0,()=>_ee,()=>Ree];var xM=[9,D,TX,0,()=>bee,()=>Cee];var yM=[9,D,jX,0,()=>Dee,()=>Oee];var SM=[9,D,xZ,0,()=>Wee,()=>qee];var EM=[9,D,IZ,0,()=>Jee,()=>Qee];var _M=[9,D,zZ,0,()=>ote,()=>nte];var RM=[9,D,aee,0,()=>mte,()=>fte];var Ig=class extends Y.classBuilder().ep(un).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeEndpoints",{}).n("DynamoDBClient","DescribeEndpointsCommand").sc(xM).build(){};var bM={name:"@aws-sdk/client-dynamodb",description:"AWS SDK for JavaScript Dynamodb Client for Node.js, Browser and React Native",version:"3.958.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-dynamodb","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo dynamodb","test:e2e":"yarn g:vitest run -c vitest.config.e2e.mts","test:e2e:watch":"yarn g:vitest watch -c vitest.config.e2e.mts","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.957.0","@aws-sdk/credential-provider-node":"3.958.0","@aws-sdk/dynamodb-codec":"3.957.0","@aws-sdk/middleware-endpoint-discovery":"3.957.0","@aws-sdk/middleware-host-header":"3.957.0","@aws-sdk/middleware-logger":"3.957.0","@aws-sdk/middleware-recursion-detection":"3.957.0","@aws-sdk/middleware-user-agent":"3.957.0","@aws-sdk/region-config-resolver":"3.957.0","@aws-sdk/types":"3.957.0","@aws-sdk/util-endpoints":"3.957.0","@aws-sdk/util-user-agent-browser":"3.957.0","@aws-sdk/util-user-agent-node":"3.957.0","@smithy/config-resolver":"^4.4.5","@smithy/core":"^3.20.0","@smithy/fetch-http-handler":"^5.3.8","@smithy/hash-node":"^4.2.7","@smithy/invalid-dependency":"^4.2.7","@smithy/middleware-content-length":"^4.2.7","@smithy/middleware-endpoint":"^4.4.1","@smithy/middleware-retry":"^4.4.17","@smithy/middleware-serde":"^4.2.8","@smithy/middleware-stack":"^4.2.7","@smithy/node-config-provider":"^4.3.7","@smithy/node-http-handler":"^4.4.7","@smithy/protocol-http":"^5.3.7","@smithy/smithy-client":"^4.10.2","@smithy/types":"^4.11.0","@smithy/url-parser":"^4.2.7","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.16","@smithy/util-defaults-mode-node":"^4.2.19","@smithy/util-endpoints":"^3.2.7","@smithy/util-middleware":"^4.2.7","@smithy/util-retry":"^4.2.7","@smithy/util-utf8":"^4.2.0","@smithy/util-waiter":"^4.2.7",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-dynamodb",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-dynamodb"}};Je();XR();ct();jo();ct();var ZM="AWS_EC2_METADATA_DISABLED",e2=async t=>{let{ENV_CMDS_FULL_URI:e,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:o,fromInstanceMetadata:n}=await Promise.resolve().then(()=>(sl(),nl));if(process.env[r]||process.env[e]){t.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:s}=await Promise.resolve().then(()=>(cb(),ab));return Mu(s(t),o(t))}return process.env[ZM]&&process.env[ZM]!=="false"?async()=>{throw new Q("EC2 Instance Metadata Service access disabled",{logger:t.logger})}:(t.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),n(t))};function t2(t,e){let r=rre(t),o,n,s,i=async a=>{if(a?.forceRefresh)return await r(a);if(s?.expiration&&s?.expiration?.getTime()<Date.now()&&(s=void 0),o)await o;else if(!s||e?.(s))if(s)n||(n=r(a).then(c=>{s=c,n=void 0}));else return o=r(a).then(c=>{s=c,o=void 0}),i(a);return s};return i}var rre=t=>async e=>{let r;for(let o of t)try{return await o(e)}catch(n){if(r=n,n?.tryNextLink)continue;throw n}throw r};var F6=!1,ks=(t={})=>t2([async()=>{if(t.profile??process.env[CR])throw process.env[Tg]&&process.env[wg]&&(F6||((t.logger?.warn&&t.logger?.constructor?.name!=="NoOpLogger"?t.logger.warn.bind(t.logger):console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),F6=!0)),new Q("AWS_PROFILE is set, skipping fromEnv provider.",{logger:t.logger,tryNextLink:!0});return t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),YR(t)()},async e=>{t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:r,ssoAccountId:o,ssoRegion:n,ssoRoleName:s,ssoSession:i}=t;if(!r&&!o&&!n&&!s&&!i)throw new Q("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:t.logger});let{fromSSO:a}=await Promise.resolve().then(()=>(Mb(),Lb));return a(t)(e)},async e=>{t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:r}=await Promise.resolve().then(()=>(U6(),B6));return r(t)(e)},async e=>{t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:r}=await Promise.resolve().then(()=>(mC(),lC));return r(t)(e)},async e=>{t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:r}=await Promise.resolve().then(()=>(SC(),yC));return r(t)(e)},async()=>(t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await e2(t))()),async()=>{throw new Q("Could not load credentials from any providers",{tryNextLink:!1,logger:t.logger})}],oie);var oie=t=>t?.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5;ii();rr();ai();Rr();Vo();Vn();F();ci();ui();Zn();Je();Yn();Yn();ve();F();Kt();var _0=class extends Ra{constructor(){super({timestampFormat:{useTrait:!0,default:7},jsonName:!1})}createSerializer(){let e=new _C(this.settings);return e.setSerdeContext(this.serdeContext),e}createDeserializer(){let e=new RC(this.settings);return e.setSerdeContext(this.serdeContext),e}},G6="com.amazonaws.dynamodb#AttributeValue",_C=class extends Hu{_write(e,r,o){let n=ne.of(e);if(n.isStructSchema()&&n.getName(!0)===G6&&r&&typeof r=="object"){let s=r,i=Bd(s),a=this.serdeContext?.base64Encoder??we;if(s.B instanceof Uint8Array&&(i.B=a(s.B)),Array.isArray(s.BS)&&(i.BS=s.BS.map(a)),Array.isArray(s.L)&&(i.L=s.L.filter(c=>c!=null).map(c=>this._write(n,c,o))),s.M&&typeof s.M=="object"){i.M={};for(let[c,u]of Object.entries(s.M))u!=null&&(i.M[c]=this._write(n,u,o))}return i}return super._write(n,r,o)}},RC=class extends Gu{_read(e,r){let o=ne.of(e);if(o.isStructSchema()&&o.getName(!0)===G6&&r&&typeof r=="object"){let n=r,s=Bd(n),i=this.serdeContext?.base64Decoder??st;if(typeof n.B=="string"&&(s.B=i(n.B)),Array.isArray(n.BS)&&(s.BS=n.BS.map(i)),Array.isArray(n.L)&&(s.L=n.L.map(a=>this._read(o,a))),n.M&&typeof n.M=="object"){s.M={};for(let[a,c]of Object.entries(n.M))s.M[a]=this._read(o,c)}return s}return super._read(o,r)}};F();Jn();Kt();wt();Is();nn();var vC="required",ue="type",or="rules",lt="conditions",re="fn",oe="argv",ke="ref",R0="assign",fi="url",hi="properties",gi="headers",u9="metricValues";var nr="error",$o="stringEquals",H6="https://dynamodb.{Region}.{PartitionResult#dualStackDnsSuffix}",dn="endpoint",gr="tree",IC="dynamodb",Ml={[vC]:!1,[ue]:"string"},j6={[vC]:!0,default:!1,[ue]:"boolean"},V6={[re]:"isSet",[oe]:[{[ke]:"Endpoint"}]},nie={[ke]:"Endpoint"},z6={[re]:"isSet",[oe]:[{[ke]:"Region"}]},p9={[ke]:"Region"},K6={[re]:"aws.partition",[oe]:[p9],[R0]:"PartitionResult"},W6={[lt]:[{[re]:"booleanEquals",[oe]:[{[ke]:"UseFIPS"},!0]}],[nr]:"Invalid Configuration: FIPS and custom endpoint are not supported",[ue]:nr},lp={[re]:"booleanEquals",[oe]:[{[ke]:"UseFIPS"},!0]},q6={[lt]:[{[re]:"booleanEquals",[oe]:[{[ke]:"UseDualStack"},!0]}],[nr]:"Invalid Configuration: Dualstack and custom endpoint are not supported",[ue]:nr},d9={[re]:"booleanEquals",[oe]:[{[ke]:"UseDualStack"},!0]},J6={[dn]:{[fi]:"{Endpoint}",[hi]:{},[gi]:{}},[ue]:dn},Yi={},Q6={[re]:"booleanEquals",[oe]:[{[re]:"getAttr",[oe]:[{[ke]:"PartitionResult"},"supportsFIPS"]},!0]},Y6={[re]:"booleanEquals",[oe]:[{[re]:"getAttr",[oe]:[{[ke]:"PartitionResult"},"supportsDualStack"]},!0]},bC={[lt]:[{[re]:"isSet",[oe]:[{[ke]:"AccountIdEndpointMode"}]},{[re]:$o,[oe]:[{[ke]:"AccountIdEndpointMode"},"required"]}],[or]:[{[nr]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[ue]:nr}],[ue]:gr},Bl={[re]:"getAttr",[oe]:[{[ke]:"PartitionResult"},"name"]},X6={[dn]:{[fi]:"https://dynamodb.{Region}.{PartitionResult#dnsSuffix}",[hi]:{},[gi]:{}},[ue]:dn},Z6={[fi]:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dualStackDnsSuffix}",[hi]:{[u9]:["O"]},[gi]:{}},CC={[u9]:["O"]},e9={[nr]:"Credentials-sourced account ID parameter is invalid",[ue]:nr},t9={[lt]:[{[re]:"isSet",[oe]:[{[ke]:"AccountIdEndpointMode"}]},{[re]:$o,[oe]:[{[ke]:"AccountIdEndpointMode"},"required"]}],[or]:[{[lt]:[{[re]:"not",[oe]:[lp]}],[or]:[{[lt]:[{[re]:$o,[oe]:[Bl,"aws"]}],[or]:[{[nr]:"AccountIdEndpointMode is required but no AccountID was provided or able to be loaded",[ue]:nr}],[ue]:gr},{[nr]:"Invalid Configuration: AccountIdEndpointMode is required but account endpoints are not supported in this partition",[ue]:nr}],[ue]:gr},{[nr]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[ue]:nr}],[ue]:gr},r9={[fi]:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[hi]:CC,[gi]:{}},o9=[lp],n9=[d9],s9=[{[re]:"isSet",[oe]:[{[ke]:"AccountIdEndpointMode"}]},{[re]:"not",[oe]:[{[re]:$o,[oe]:[{[ke]:"AccountIdEndpointMode"},"disabled"]}]},{[re]:$o,[oe]:[Bl,"aws"]},{[re]:"not",[oe]:[lp]},{[re]:"isSet",[oe]:[{[ke]:"ResourceArn"}]},{[re]:"aws.parseArn",[oe]:[{[ke]:"ResourceArn"}],[R0]:"ParsedArn"},{[re]:$o,[oe]:[{[re]:"getAttr",[oe]:[{[ke]:"ParsedArn"},"service"]},IC]},{[re]:"isValidHostLabel",[oe]:[{[re]:"getAttr",[oe]:[{[ke]:"ParsedArn"},"region"]},!1]},{[re]:$o,[oe]:[{[re]:"getAttr",[oe]:[{[ke]:"ParsedArn"},"region"]},"{Region}"]},{[re]:"isValidHostLabel",[oe]:[{[re]:"getAttr",[oe]:[{[ke]:"ParsedArn"},"accountId"]},!1]}],i9=[{[re]:"isSet",[oe]:[{[ke]:"AccountIdEndpointMode"}]},{[re]:"not",[oe]:[{[re]:$o,[oe]:[{[ke]:"AccountIdEndpointMode"},"disabled"]}]},{[re]:$o,[oe]:[Bl,"aws"]},{[re]:"not",[oe]:[lp]},{[re]:"isSet",[oe]:[{[ke]:"ResourceArnList"}]},{[re]:"getAttr",[oe]:[{[ke]:"ResourceArnList"},"[0]"],[R0]:"FirstArn"},{[re]:"aws.parseArn",[oe]:[{[ke]:"FirstArn"}],[R0]:"ParsedArn"},{[re]:$o,[oe]:[{[re]:"getAttr",[oe]:[{[ke]:"ParsedArn"},"service"]},IC]},{[re]:"isValidHostLabel",[oe]:[{[re]:"getAttr",[oe]:[{[ke]:"ParsedArn"},"region"]},!1]},{[re]:$o,[oe]:[{[re]:"getAttr",[oe]:[{[ke]:"ParsedArn"},"region"]},"{Region}"]},{[re]:"isValidHostLabel",[oe]:[{[re]:"getAttr",[oe]:[{[ke]:"ParsedArn"},"accountId"]},!1]}],a9=[{[re]:"isSet",[oe]:[{[ke]:"AccountIdEndpointMode"}]},{[re]:"not",[oe]:[{[re]:$o,[oe]:[{[ke]:"AccountIdEndpointMode"},"disabled"]}]},{[re]:$o,[oe]:[Bl,"aws"]},{[re]:"not",[oe]:[lp]},{[re]:"isSet",[oe]:[{[ke]:"AccountId"}]}],c9=[{[re]:"isValidHostLabel",[oe]:[{[ke]:"AccountId"},!1]}],sie={version:"1.0",parameters:{Region:Ml,UseDualStack:j6,UseFIPS:j6,Endpoint:Ml,AccountId:Ml,AccountIdEndpointMode:Ml,ResourceArn:Ml,ResourceArnList:{[vC]:!1,[ue]:"stringArray"}},[or]:[{[lt]:[V6,z6,K6],[or]:[W6,q6,{[lt]:[{[re]:$o,[oe]:[nie,H6]}],error:"Endpoint override is not supported for dual-stack endpoints. Please enable dual-stack functionality by enabling the configuration. For more details, see: https://docs.aws.amazon.com/sdkref/latest/guide/feature-endpoints.html",[ue]:nr},J6],[ue]:gr},{[lt]:[V6],[or]:[W6,q6,J6],[ue]:gr},{[lt]:[z6],[or]:[{[lt]:[K6],[or]:[{[lt]:[{[re]:$o,[oe]:[p9,"local"]}],[or]:[{[lt]:o9,error:"Invalid Configuration: FIPS and local endpoint are not supported",[ue]:nr},{[lt]:n9,error:"Invalid Configuration: Dualstack and local endpoint are not supported",[ue]:nr},{endpoint:{[fi]:"http://localhost:8000",[hi]:{authSchemes:[{name:"sigv4",signingName:IC,signingRegion:"us-east-1"}]},[gi]:Yi},[ue]:dn}],[ue]:gr},{[lt]:[lp,d9],[or]:[{[lt]:[Q6,Y6],[or]:[bC,{endpoint:{[fi]:"https://dynamodb-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[hi]:Yi,[gi]:Yi},[ue]:dn}],[ue]:gr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[ue]:nr}],[ue]:gr},{[lt]:o9,[or]:[{[lt]:[Q6],[or]:[{[lt]:[{[re]:$o,[oe]:[Bl,"aws-us-gov"]}],[or]:[bC,X6],[ue]:gr},bC,{endpoint:{[fi]:"https://dynamodb-fips.{Region}.{PartitionResult#dnsSuffix}",[hi]:Yi,[gi]:Yi},[ue]:dn}],[ue]:gr},{error:"FIPS is enabled but this partition does not support FIPS",[ue]:nr}],[ue]:gr},{[lt]:n9,[or]:[{[lt]:[Y6],[or]:[{[lt]:s9,endpoint:Z6,[ue]:dn},{[lt]:i9,endpoint:Z6,[ue]:dn},{[lt]:a9,[or]:[{[lt]:c9,[or]:[{endpoint:{[fi]:"https://{AccountId}.ddb.{Region}.{PartitionResult#dualStackDnsSuffix}",[hi]:CC,[gi]:Yi},[ue]:dn}],[ue]:gr},e9],[ue]:gr},t9,{endpoint:{[fi]:H6,[hi]:Yi,[gi]:Yi},[ue]:dn}],[ue]:gr},{error:"DualStack is enabled but this partition does not support DualStack",[ue]:nr}],[ue]:gr},{[lt]:s9,endpoint:r9,[ue]:dn},{[lt]:i9,endpoint:r9,[ue]:dn},{[lt]:a9,[or]:[{[lt]:c9,[or]:[{endpoint:{[fi]:"https://{AccountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[hi]:CC,[gi]:Yi},[ue]:dn}],[ue]:gr},e9],[ue]:gr},t9,X6],[ue]:gr}],[ue]:gr},{error:"Invalid Configuration: Missing Region",[ue]:nr}]},l9=sie;var iie=new lr({size:50,params:["AccountId","AccountIdEndpointMode","Endpoint","Region","ResourceArn","ResourceArnList","UseDualStack","UseFIPS"]}),m9=(t,e={})=>iie.get(t,()=>Br(l9,{endpointParams:t,logger:e.logger}));jt.aws=_r;var f9=t=>({apiVersion:"2012-08-10",base64Decoder:t?.base64Decoder??st,base64Encoder:t?.base64Encoder??we,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??m9,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??GL,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new Ct}],logger:t?.logger??new Bt,protocol:t?.protocol??lh,protocolSettings:t?.protocolSettings??{defaultNamespace:"com.amazonaws.dynamodb",xmlNamespace:"http://dynamodb.amazonaws.com/doc/2012-08-10/",version:"2012-08-10",serviceTarget:"DynamoDB_20120810",jsonCodec:new _0},serviceId:t?.serviceId??"DynamoDB",urlParser:t?.urlParser??Mt,utf8Decoder:t?.utf8Decoder??it,utf8Encoder:t?.utf8Encoder??Xe});var h9=t=>{jr(process.version);let e=so(t),r=()=>e().then(Hr),o=f9(t);Ur(process.version);let n={profile:t?.profile,logger:o.logger};return{...o,...t,runtime:"node",defaultsMode:e,accountIdEndpointMode:t?.accountIdEndpointMode??G(KA,n),authSchemePreference:t?.authSchemePreference??G(Fr,n),bodyLengthChecker:t?.bodyLengthChecker??no,credentialDefaultProvider:t?.credentialDefaultProvider??ks,defaultUserAgentProvider:t?.defaultUserAgentProvider??ro({serviceId:o.serviceId,clientVersion:bM.version}),endpointDiscoveryEnabledProvider:t?.endpointDiscoveryEnabledProvider??G(JA,n),maxAttempts:t?.maxAttempts??G(Xr,t),region:t?.region??G(Jt,{...fr,...n}),requestHandler:Wt.create(t?.requestHandler??r),retryMode:t?.retryMode??G({...eo,default:async()=>(await r()).retryMode||hr},t),sha256:t?.sha256??Qt.bind(null,"sha256"),streamCollector:t?.streamCollector??ur,useDualstackEndpoint:t?.useDualstackEndpoint??G(Wr,n),useFipsEndpoint:t?.useFipsEndpoint??G(qr,n),userAgentAppId:t?.userAgentAppId??G(oo,n)}};ws();Pe();F();var g9=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,o=t.credentials;return{setHttpAuthScheme(n){let s=e.findIndex(i=>i.schemeId===n.schemeId);s===-1?e.push(n):e.splice(s,1,n)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(n){r=n},httpAuthSchemeProvider(){return r},setCredentials(n){o=n},credentials(){return o}}},x9=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()});var y9=(t,e)=>{let r=Object.assign(io(t),Vr(t),Ar(t),g9(t));return e.forEach(o=>o.configure(r)),Object.assign(t,ao(r),zr(r),Dr(r),x9(r))};var b0=class extends Nt{config;constructor(...[e]){let r=h9(e||{});super(r),this.initConfig=r;let o=jL(r),n=jA(o),s=Mr(n),i=Zr(s),a=Jr(i),c=a,u=Yr(c),m=HL(u),f=xD(m,{endpointDiscoveryCommandCtor:Ig}),h=y9(f,e?.extensions||[]);this.config=h,this.middlewareStack.use(Lr(this.config)),this.middlewareStack.use(Kr(this.config)),this.middlewareStack.use(to(this.config)),this.middlewareStack.use(Qr(this.config)),this.middlewareStack.use(Or(this.config)),this.middlewareStack.use(Pr(this.config)),this.middlewareStack.use(kr(this.config)),this.middlewareStack.use(Nr(this.config,{httpAuthSchemeParametersProvider:FL,identityProviderConfigProvider:async g=>new dr({"aws.auth#sigv4":g.credentials})})),this.middlewareStack.use($r(this.config))}destroy(){super.destroy()}};xe();F();var C0=class extends Y.classBuilder().ep({...un,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteItem",{}).n("DynamoDBClient","DeleteItemCommand").sc(gM).build(){};xe();F();var v0=class extends Y.classBuilder().ep({...un,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetItem",{}).n("DynamoDBClient","GetItemCommand").sc(yM).build(){};xe();F();var I0=class extends Y.classBuilder().ep({...un,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutItem",{}).n("DynamoDBClient","PutItemCommand").sc(SM).build(){};xe();F();var T0=class extends Y.classBuilder().ep({...un,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Query",{}).n("DynamoDBClient","QueryCommand").sc(EM).build(){};xe();F();var w0=class extends Y.classBuilder().ep({...un,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Scan",{}).n("DynamoDBClient","ScanCommand").sc(_M).build(){};xe();F();var A0=class extends Y.classBuilder().ep({...un,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateItem",{}).n("DynamoDBClient","UpdateItemCommand").sc(RM).build(){};Je();F();var Fc=class t{value;constructor(e){typeof e=="object"&&"N"in e?this.value=String(e.N):this.value=String(e);let r=typeof e.valueOf()=="number"?e.valueOf():0;if(r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER||Math.abs(r)===1/0||Number.isNaN(r))throw new Error(`NumberValue should not be initialized with an imprecise number=${r}. Use a string instead.`)}static from(e){return new t(e)}toAttributeValue(){return{N:this.toString()}}toBigInt(){let e=this.toString();return BigInt(e)}toString(){return String(this.value)}valueOf(){return this.toString()}};var Ul=(t,e)=>{if(t===void 0)throw new Error("Pass options.removeUndefinedValues=true to remove undefined values from map/array/set.");if(t===null&&typeof t=="object")return D0();if(Array.isArray(t))return aie(t,e);if(t?.constructor?.name==="Set")return cie(t,e);if(t?.constructor?.name==="Map")return uie(t,e);if(t?.constructor?.name==="Object"||!t.constructor&&typeof t=="object")return S9(t,e);if(v9(t))return t.length===0&&e?.convertEmptyValues?D0():_9(t);if(typeof t=="boolean"||t?.constructor?.name==="Boolean")return{BOOL:t.valueOf()};if(typeof t=="number"||t?.constructor?.name==="Number")return C9(t,e);if(t instanceof Fc)return t.toAttributeValue();if(typeof t=="bigint")return b9(t);if(typeof t=="string"||t?.constructor?.name==="String")return t.length===0&&e?.convertEmptyValues?D0():R9(t);if(e?.convertClassInstanceToMap&&typeof t=="object")return S9(t,e);throw new Error(`Unsupported type passed: ${t}. Pass options.convertClassInstanceToMap=true to marshall typeof object as map attribute.`)},aie=(t,e)=>({L:t.filter(r=>typeof r!="function"&&(!e?.removeUndefinedValues||e?.removeUndefinedValues&&r!==void 0)).map(r=>Ul(r,e))}),cie=(t,e)=>{let r=e?.removeUndefinedValues?new Set([...t].filter(n=>n!==void 0)):t;if(!e?.removeUndefinedValues&&r.has(void 0))throw new Error("Pass options.removeUndefinedValues=true to remove undefined values from map/array/set.");if(r.size===0){if(e?.convertEmptyValues)return D0();throw new Error("Pass a non-empty set, or options.convertEmptyValues=true.")}let o=r.values().next().value;if(o instanceof Fc)return{NS:Array.from(r).map(n=>n.toString())};if(typeof o=="number")return{NS:Array.from(r).map(n=>C9(n,e)).map(n=>n.N)};if(typeof o=="bigint")return{NS:Array.from(r).map(b9).map(n=>n.N)};if(typeof o=="string")return{SS:Array.from(r).map(R9).map(n=>n.S)};if(v9(o))return{BS:Array.from(r).map(_9).map(n=>n.B)};throw new Error("Only Number Set (NS), Binary Set (BS) or String Set (SS) are allowed.")},uie=(t,e)=>({M:(r=>{let o={};for(let[n,s]of r)typeof s!="function"&&(s!==void 0||!e?.removeUndefinedValues)&&(o[n]=Ul(s,e));return o})(t)}),S9=(t,e)=>({M:(r=>{let o={};for(let n in r){let s=r[n];typeof s!="function"&&(s!==void 0||!e?.removeUndefinedValues)&&(o[n]=Ul(s,e))}return o})(t)}),D0=()=>({NULL:!0}),_9=t=>({B:t}),R9=t=>({S:t.toString()}),b9=t=>({N:t.toString()}),E9=t=>{throw new Error(`${t} Use NumberValue from @aws-sdk/lib-dynamodb.`)},C9=(t,e)=>{if([Number.NaN,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY].map(r=>r.toString()).includes(t.toString()))throw new Error(`Special numeric value ${t.toString()} is not allowed`);return e?.allowImpreciseNumbers||(Number(t)>Number.MAX_SAFE_INTEGER?E9(`Number ${t.toString()} is greater than Number.MAX_SAFE_INTEGER.`):Number(t)<Number.MIN_SAFE_INTEGER&&E9(`Number ${t.toString()} is lesser than Number.MIN_SAFE_INTEGER.`)),{N:t.toString()}},v9=t=>{let e=["ArrayBuffer","Blob","Buffer","DataView","File","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];return t?.constructor?e.includes(t.constructor.name):!1};var Fl=(t,e)=>{for(let[r,o]of Object.entries(t))if(o!==void 0)switch(r){case"NULL":return null;case"BOOL":return!!o;case"N":return I9(o,e);case"B":return w9(o);case"S":return T9(o);case"L":return pie(o,e);case"M":return die(o,e);case"NS":return new Set(o.map(n=>I9(n,e)));case"BS":return new Set(o.map(w9));case"SS":return new Set(o.map(T9));default:throw new Error(`Unsupported type passed: ${r}`)}throw new Error(`No value defined: ${JSON.stringify(t)}`)},I9=(t,e)=>{if(typeof e?.wrapNumbers=="function")return e?.wrapNumbers(t);if(e?.wrapNumbers)return Fc.from(t);let r=Number(t),o=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];if((r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER)&&!o.includes(r))if(typeof BigInt=="function")try{return BigInt(t)}catch{throw new Error(`${t} can't be converted to BigInt. Set options.wrapNumbers to get string value.`)}else throw new Error(`${t} is outside SAFE_INTEGER bounds. Set options.wrapNumbers to get string value.`);return r},T9=t=>t,w9=t=>t,pie=(t,e)=>t.map(r=>Fl(r,e)),die=(t,e)=>Object.entries(t).reduce((r,[o,n])=>(r[o]=Fl(n,e),r),{});function A9(t,e){let r=Ul(t,e),[o,n]=Object.entries(r)[0];switch(o){case"M":case"L":return e?.convertTopLevelContainer?r:n;case"SS":case"NS":case"BS":case"S":case"N":case"B":case"NULL":case"BOOL":case"$unknown":default:return r}}var D9=(t,e)=>e?.convertWithoutMapWrapper?Fl(t,e):Fl({M:t},e);var La=null,Me={},ln=[],O9="*",O0=(t,e,r)=>{if(t!==void 0){if(r==null)return e(t);{let o=Object.keys(r),n=o.length===1&&o[0]===O9,s=o.length>=1&&!n,i=o.length===0;if(s)return TC(t,e,r);if(i)return lie(t,e,La);if(n)return Object.entries(t??{}).reduce((a,[c,u])=>(typeof u!="function"&&(a[c]=O0(u,e,r[O9])),a),Array.isArray(t)?[]:{})}}},TC=(t,e,r)=>{let o;if(Array.isArray(t))o=t.filter(n=>typeof n!="function");else{o={};for(let[n,s]of Object.entries(t))typeof s!="function"&&(o[n]=s)}for(let[n,s]of Object.entries(r)){if(typeof t[n]=="function")continue;let i=O0(t[n],e,s);i!==void 0&&typeof i!="function"&&(o[n]=i)}return o},lie=(t,e,r)=>Array.isArray(t)?t.filter(o=>typeof o!="function").map(o=>O0(o,e,r)):Object.entries(t).reduce((o,[n,s])=>{if(typeof s=="function")return o;let i=O0(s,e,r);return i!==void 0&&typeof i!="function"&&(o[n]=i),o},{}),P9=(t,e,r)=>TC(t,n=>A9(n,r),e),k9=(t,e,r)=>TC(t,n=>D9(n,r),e);var sr=class extends Y{addMarshallingMiddleware(e){let{marshallOptions:r={},unmarshallOptions:o={}}=e.translateConfig||{};r.convertTopLevelContainer=r.convertTopLevelContainer??!0,o.convertWithoutMapWrapper=o.convertWithoutMapWrapper??!0,this.clientCommand.middlewareStack.addRelativeTo((n,s)=>async i=>(Dt(s,"DDB_MAPPER","d"),n({...i,input:P9(i.input,this.inputKeyNodes,r)})),{name:"DocumentMarshall",relation:"before",toMiddleware:"serializerMiddleware",override:!0}),this.clientCommand.middlewareStack.addRelativeTo((n,s)=>async i=>{let a=await n(i);return a.output=k9(a.output,this.outputKeyNodes,o),a},{name:"DocumentUnmarshall",relation:"before",toMiddleware:"deserializerMiddleware",override:!0})}};var Gl=class extends sr{input;inputKeyNodes={Key:Me,Expected:{"*":{Value:La,AttributeValueList:ln}},ExpressionAttributeValues:Me};outputKeyNodes={Attributes:Me,ItemCollectionMetrics:{ItemCollectionKey:Me}};clientCommand;middlewareStack;constructor(e){super(),this.input=e,this.clientCommand=new C0(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(e,r,o){this.addMarshallingMiddleware(r);let n=e.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(n,r,o);return async()=>s(this.clientCommand)}};var Hl=class extends sr{input;inputKeyNodes={Key:Me};outputKeyNodes={Item:Me};clientCommand;middlewareStack;constructor(e){super(),this.input=e,this.clientCommand=new v0(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(e,r,o){this.addMarshallingMiddleware(r);let n=e.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(n,r,o);return async()=>s(this.clientCommand)}};var jl=class extends sr{input;inputKeyNodes={Item:Me,Expected:{"*":{Value:La,AttributeValueList:ln}},ExpressionAttributeValues:Me};outputKeyNodes={Attributes:Me,ItemCollectionMetrics:{ItemCollectionKey:Me}};clientCommand;middlewareStack;constructor(e){super(),this.input=e,this.clientCommand=new I0(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(e,r,o){this.addMarshallingMiddleware(r);let n=e.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(n,r,o);return async()=>s(this.clientCommand)}};var Gc=class extends sr{input;inputKeyNodes={KeyConditions:{"*":{AttributeValueList:ln}},QueryFilter:{"*":{AttributeValueList:ln}},ExclusiveStartKey:Me,ExpressionAttributeValues:Me};outputKeyNodes={Items:{"*":Me},LastEvaluatedKey:Me};clientCommand;middlewareStack;constructor(e){super(),this.input=e,this.clientCommand=new T0(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(e,r,o){this.addMarshallingMiddleware(r);let n=e.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(n,r,o);return async()=>s(this.clientCommand)}};var Hc=class extends sr{input;inputKeyNodes={ScanFilter:{"*":{AttributeValueList:ln}},ExclusiveStartKey:Me,ExpressionAttributeValues:Me};outputKeyNodes={Items:{"*":Me},LastEvaluatedKey:Me};clientCommand;middlewareStack;constructor(e){super(),this.input=e,this.clientCommand=new w0(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(e,r,o){this.addMarshallingMiddleware(r);let n=e.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(n,r,o);return async()=>s(this.clientCommand)}};var Vl=class extends sr{input;inputKeyNodes={Key:Me,AttributeUpdates:{"*":{Value:La}},Expected:{"*":{Value:La,AttributeValueList:ln}},ExpressionAttributeValues:Me};outputKeyNodes={Attributes:Me,ItemCollectionMetrics:{ItemCollectionKey:Me}};clientCommand;middlewareStack;constructor(e){super(),this.input=e,this.clientCommand=new A0(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(e,r,o){this.addMarshallingMiddleware(r);let n=e.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(n,r,o);return async()=>s(this.clientCommand)}};F();var Xi=class t extends Nt{config;constructor(e,r){if(super(e.config),this.config=e.config,this.config.translateConfig=r,this.middlewareStack=e.middlewareStack,this.config?.cacheMiddleware)throw new Error("@aws-sdk/lib-dynamodb - cacheMiddleware=true is not compatible with the DynamoDBDocumentClient. This option must be set to false.")}static from(e,r){return new t(e,r)}destroy(){}};At();var Cct=Bi(Xi,Gc,"ExclusiveStartKey","LastEvaluatedKey","Limit");At();var Act=Bi(Xi,Hc,"ExclusiveStartKey","LastEvaluatedKey","Limit");var Zi=class t extends Error{code;statusCode;details;correlationId;constructor(e,r,o,n){super(r),this.name="AppError",this.code=e,this.statusCode=dE(e),this.details=o,this.correlationId=n,Error.captureStackTrace&&Error.captureStackTrace(this,t)}},wC=class extends Zi{constructor(e,r,o){super("ValidationError",e,r,o),this.name="ValidationError"}},AC=class extends Zi{constructor(e="Authentication required",r){super("Unauthorized",e,void 0,r),this.name="UnauthorizedError"}},DC=class extends Zi{constructor(e="Insufficient permissions",r){super("Forbidden",e,void 0,r),this.name="ForbiddenError"}},OC=class extends Zi{constructor(e="Resource not found",r){super("NotFound",e,void 0,r),this.name="NotFoundError"}},PC=class extends Zi{constructor(e="Resource already exists",r){super("Conflict",e,void 0,r),this.name="ConflictError"}},kC=class extends Zi{constructor(e="Internal server error",r,o){super("InternalError",e,r,o),this.name="InternalError"}};function Xt(t,e,r,o){switch(t){case"ValidationError":return new wC(e,r,o);case"Unauthorized":return new AC(e,o);case"Forbidden":return new DC(e,o);case"NotFound":return new OC(e,o);case"Conflict":return new PC(e,o);case"InternalError":return new kC(e,r,o);default:return new Zi(t,e,r,o)}}import{randomUUID as NC}from"crypto";var mie=()=>{let t=new b0({region:process.env.AWS_REGION||"us-east-1",maxAttempts:3,retryMode:"adaptive",requestHandler:{requestTimeout:5e3,httpsAgent:{maxSockets:50,keepAlive:!0}}});return Xi.from(t,{marshallOptions:{convertEmptyValues:!1,removeUndefinedValues:!0,convertClassInstanceToMap:!1},unmarshallOptions:{wrapNumbers:!1}})},$C=null,fie=()=>($C||($C=mie(),y.info("DynamoDB client initialized")),$C),hie=()=>{let t=wr();return{staff:t.dynamodb.staffTable,passwordResetTokens:t.dynamodb.passwordResetTokensTable,tenants:t.dynamodb.tenantsTable,clusters:t.dynamodb.clustersTable}},MC=class{client;tables;constructor(){this.client=fie(),this.tables=hie()}async getItem(e,r,o){try{y.info("DynamoDB GetItem operation",{tableName:e,key:Object.keys(r),correlationId:o});let n=new Hl({TableName:e,Key:r}),s=await this.client.send(n);return y.info("DynamoDB GetItem completed",{tableName:e,found:!!s.Item,correlationId:o}),s.Item}catch(n){throw y.error("DynamoDB GetItem failed",{tableName:e,error:n instanceof Error?n.message:"Unknown error",correlationId:o}),n}}async putItem(e,r,o){try{y.info("DynamoDB PutItem operation",{tableName:e,itemKeys:Object.keys(r),correlationId:o});let n=new jl({TableName:e,Item:r});return await this.client.send(n),y.info("DynamoDB PutItem completed",{tableName:e,correlationId:o}),r}catch(n){throw y.error("DynamoDB PutItem failed",{tableName:e,error:n instanceof Error?n.message:"Unknown error",correlationId:o}),n}}async updateItem(e,r,o,n,s,i){try{y.info("DynamoDB UpdateItem operation",{tableName:e,key:Object.keys(r),correlationId:i});let a=new Vl({TableName:e,Key:r,UpdateExpression:o,ExpressionAttributeValues:n,ExpressionAttributeNames:s,ReturnValues:"ALL_NEW"}),c=await this.client.send(a);return y.info("DynamoDB UpdateItem completed",{tableName:e,correlationId:i}),c.Attributes}catch(a){throw y.error("DynamoDB UpdateItem failed",{tableName:e,error:a instanceof Error?a.message:"Unknown error",correlationId:i}),a}}async deleteItem(e,r,o){try{y.info("DynamoDB DeleteItem operation",{tableName:e,key:Object.keys(r),correlationId:o});let n=new Gl({TableName:e,Key:r});await this.client.send(n),y.info("DynamoDB DeleteItem completed",{tableName:e,correlationId:o})}catch(n){throw y.error("DynamoDB DeleteItem failed",{tableName:e,error:n instanceof Error?n.message:"Unknown error",correlationId:o}),n}}async queryItems(e,r,o,n,s,i){try{y.info("DynamoDB Query operation",{tableName:e,indexName:n,correlationId:i});let a=new Gc({TableName:e,KeyConditionExpression:r,ExpressionAttributeValues:o,ExpressionAttributeNames:s,IndexName:n}),c=await this.client.send(a);return y.info("DynamoDB Query completed",{tableName:e,itemCount:c.Items?.length||0,correlationId:i}),c.Items||[]}catch(a){throw y.error("DynamoDB Query failed",{tableName:e,error:a instanceof Error?a.message:"Unknown error",correlationId:i}),a}}async getStaffById(e,r){try{let o=await this.getItem(this.tables.staff,{staff_id:e},r);if(!o)return{found:!1};let n=yu.safeParse(o);if(!n.success)throw y.error("Invalid staff record format in database",{staffId:e,errors:n.error.errors,correlationId:r}),Xt("InternalError","Invalid staff record format");return{staff:n.data,found:!0}}catch(o){throw y.error("Failed to get staff by ID",{staffId:e,error:o instanceof Error?o.message:"Unknown error",correlationId:r}),o}}async getStaffByEmail(e,r){try{let o=e.toLowerCase(),n=await this.queryItems(this.tables.staff,"email = :email",{":email":o},"EmailIndex",void 0,r);if(!n||n.length===0)return{found:!1};let s=n[0],i=yu.safeParse(s);if(!i.success)throw y.error("Invalid staff record format in database",{email:o,errors:i.error.errors,correlationId:r}),Xt("InternalError","Invalid staff record format");return{staff:i.data,found:!0}}catch(o){throw y.error("Failed to get staff by email",{email:e,error:o instanceof Error?o.message:"Unknown error",correlationId:r}),o}}async createStaff(e,r){try{let o=new Date().toISOString(),n={staff_id:NC(),...e,email:e.email.toLowerCase(),created_at:o,updated_at:o},s=yu.safeParse(n);if(!s.success)throw y.error("Invalid staff record data",{errors:s.error.errors,correlationId:r}),Xt("ValidationError","Invalid staff record data");if((await this.getStaffByEmail(n.email,r)).found)throw y.warn("Attempted to create staff with duplicate email",{email:n.email,correlationId:r}),Xt("Conflict","Staff member with this email already exists");return await this.putItem(this.tables.staff,s.data,r),{success:!0,data:s.data,correlationId:r}}catch(o){if(y.error("Failed to create staff",{error:o instanceof Error?o.message:"Unknown error",correlationId:r}),o instanceof Error&&o.message.includes("already exists"))return{success:!1,error:o.message,correlationId:r};throw o}}async updateStaff(e,r,o){try{let n={...r,updated_at:new Date().toISOString()},s="SET "+Object.keys(n).map((m,f)=>`#${m} = :val${f}`).join(", "),i=Object.keys(n).reduce((m,f)=>(m[`#${f}`]=f,m),{}),a=Object.keys(n).reduce((m,f,h)=>(m[`:val${h}`]=n[f],m),{}),c=await this.updateItem(this.tables.staff,{staff_id:e},s,a,i,o);if(!c)throw Xt("NotFound","Staff member not found");let u=yu.safeParse(c);if(!u.success)throw y.error("Invalid staff record after update",{staffId:e,errors:u.error.errors,correlationId:o}),Xt("InternalError","Invalid staff record after update");return{success:!0,data:u.data,correlationId:o}}catch(n){throw y.error("Failed to update staff",{staffId:e,error:n instanceof Error?n.message:"Unknown error",correlationId:o}),n}}async updateStaffPassword(e,r,o){try{let n={password_hash:r,updated_at:new Date().toISOString()},s="SET password_hash = :password_hash, updated_at = :updated_at",i={":password_hash":n.password_hash,":updated_at":n.updated_at},a=await this.updateItem(this.tables.staff,{staff_id:e},s,i,void 0,o);if(!a)throw Xt("NotFound","Staff member not found");let c=yu.safeParse(a);if(!c.success)throw y.error("Invalid staff record after password update",{staffId:e,errors:c.error.errors,correlationId:o}),Xt("InternalError","Invalid staff record after password update");return{success:!0,data:c.data,correlationId:o}}catch(n){throw y.error("Failed to update staff password",{staffId:e,error:n instanceof Error?n.message:"Unknown error",correlationId:o}),n}}async getPasswordResetToken(e,r){try{let o=await this.getItem(this.tables.passwordResetTokens,{token_hash:e},r);if(!o)return{found:!1};let n=yf.safeParse(o);if(!n.success)throw y.error("Invalid password reset token format in database",{tokenHash:e,errors:n.error.errors,correlationId:r}),Xt("InternalError","Invalid password reset token format");let s=Math.floor(Date.now()/1e3),i=n.data.expires_at<=s;return{token:n.data,found:!0,expired:i}}catch(o){throw y.error("Failed to get password reset token",{tokenHash:e,error:o instanceof Error?o.message:"Unknown error",correlationId:r}),o}}async createPasswordResetToken(e,r){try{let o={...e,created_at:new Date().toISOString()},n=yf.safeParse(o);if(!n.success)throw y.error("Invalid password reset token data",{errors:n.error.errors,correlationId:r}),Xt("ValidationError","Invalid password reset token data");return await this.putItem(this.tables.passwordResetTokens,n.data,r),{success:!0,data:n.data,correlationId:r}}catch(o){throw y.error("Failed to create password reset token",{error:o instanceof Error?o.message:"Unknown error",correlationId:r}),o}}async markPasswordResetTokenUsed(e,r){try{let o=await this.updateItem(this.tables.passwordResetTokens,{token_hash:e},"SET used_at = :used_at",{":used_at":new Date().toISOString()},void 0,r);if(!o)throw Xt("NotFound","Password reset token not found");let n=yf.safeParse(o);if(!n.success)throw y.error("Invalid password reset token after update",{tokenHash:e,errors:n.error.errors,correlationId:r}),Xt("InternalError","Invalid password reset token after update");return{success:!0,data:n.data,correlationId:r}}catch(o){throw y.error("Failed to mark password reset token as used",{tokenHash:e,error:o instanceof Error?o.message:"Unknown error",correlationId:r}),o}}async deletePasswordResetToken(e,r){return this.deleteItem(this.tables.passwordResetTokens,{token_hash:e},r)}async getTenant(e,r){try{let o=await this.getItem(this.tables.tenants,{tenant_id:e},r);if(!o)return{found:!1};let n=Sf.safeParse(o);if(!n.success)throw y.error("Invalid tenant record format in database",{tenantId:e,errors:n.error.errors,correlationId:r}),Xt("InternalError","Invalid tenant record format");return{tenant:n.data,found:!0}}catch(o){throw y.error("Failed to get tenant",{tenantId:e,error:o instanceof Error?o.message:"Unknown error",correlationId:r}),o}}async createTenant(e,r){try{let o=new Date().toISOString(),n={tenant_id:NC(),...e,email:e.email.toLowerCase(),status:"pending",created_at:o,updated_at:o},s=Sf.safeParse(n);if(!s.success)throw y.error("Invalid tenant record data",{errors:s.error.errors,correlationId:r}),Xt("ValidationError","Invalid tenant record data");return await this.putItem(this.tables.tenants,s.data,r),{success:!0,data:s.data,correlationId:r}}catch(o){throw y.error("Failed to create tenant",{error:o instanceof Error?o.message:"Unknown error",correlationId:r}),o}}async updateTenant(e,r,o){try{let n={...r,...r.email&&{email:r.email.toLowerCase()},updated_at:new Date().toISOString()},s="SET "+Object.keys(n).map((m,f)=>`#${m} = :val${f}`).join(", "),i=Object.keys(n).reduce((m,f)=>(m[`#${f}`]=f,m),{}),a=Object.keys(n).reduce((m,f,h)=>(m[`:val${h}`]=n[f],m),{}),c=await this.updateItem(this.tables.tenants,{tenant_id:e},s,a,i,o);if(!c)throw Xt("NotFound","Tenant not found");let u=Sf.safeParse(c);if(!u.success)throw y.error("Invalid tenant record after update",{tenantId:e,errors:u.error.errors,correlationId:o}),Xt("InternalError","Invalid tenant record after update");return{success:!0,data:u.data,correlationId:o}}catch(n){throw y.error("Failed to update tenant",{tenantId:e,error:n instanceof Error?n.message:"Unknown error",correlationId:o}),n}}async getCluster(e,r){try{let o=await this.getItem(this.tables.clusters,{cluster_id:e},r);if(!o)return{found:!1};let n=Cd.safeParse(o);if(!n.success)throw y.error("Invalid cluster record format in database",{clusterId:e,errors:n.error.errors,correlationId:r}),Xt("InternalError","Invalid cluster record format");return{cluster:n.data,found:!0}}catch(o){throw y.error("Failed to get cluster",{clusterId:e,error:o instanceof Error?o.message:"Unknown error",correlationId:r}),o}}async getAllClusters(e){try{y.info("DynamoDB Scan operation for all clusters",{tableName:this.tables.clusters,correlationId:e});let r=new Hc({TableName:this.tables.clusters}),o=await this.client.send(r);if(y.info("DynamoDB Scan completed",{tableName:this.tables.clusters,itemCount:o.Items?.length||0,correlationId:e}),!o.Items)return[];let n=[];for(let s of o.Items){let i=Cd.safeParse(s);i.success?n.push(i.data):y.warn("Invalid cluster record found during scan",{item:Object.keys(s),errors:i.error.errors,correlationId:e})}return n}catch(r){throw y.error("Failed to get all clusters",{error:r instanceof Error?r.message:"Unknown error",correlationId:e}),r}}async createCluster(e,r){try{let n=(await this.getAllClusters(r)).map(u=>u.cidr),s=TE(e.cidr,n);if(!s.valid)throw y.warn("CIDR validation failed for new cluster",{cidr:e.cidr,error:s.error,overlaps:s.overlaps,correlationId:r}),Xt("Conflict",s.error||"CIDR validation failed");let i=new Date().toISOString(),a={cluster_id:NC(),...e,status:"created",created_at:i,updated_at:i},c=Cd.safeParse(a);if(!c.success)throw y.error("Invalid cluster record data",{errors:c.error.errors,correlationId:r}),Xt("ValidationError","Invalid cluster record data");return await this.putItem(this.tables.clusters,c.data,r),{success:!0,data:c.data,correlationId:r}}catch(o){if(y.error("Failed to create cluster",{error:o instanceof Error?o.message:"Unknown error",correlationId:r}),o instanceof Error&&(o.message.includes("overlap")||o.message.includes("CIDR")))return{success:!1,error:o.message,correlationId:r};throw o}}async updateCluster(e,r,o){try{let n={...r,updated_at:new Date().toISOString()},s="SET "+Object.keys(n).map((m,f)=>`#${m} = :val${f}`).join(", "),i=Object.keys(n).reduce((m,f)=>(m[`#${f}`]=f,m),{}),a=Object.keys(n).reduce((m,f,h)=>(m[`:val${h}`]=n[f],m),{}),c=await this.updateItem(this.tables.clusters,{cluster_id:e},s,a,i,o);if(!c)throw Xt("NotFound","Cluster not found");let u=Cd.safeParse(c);if(!u.success)throw y.error("Invalid cluster record after update",{clusterId:e,errors:u.error.errors,correlationId:o}),Xt("InternalError","Invalid cluster record after update");return{success:!0,data:u.data,correlationId:o}}catch(n){throw y.error("Failed to update cluster",{clusterId:e,error:n instanceof Error?n.message:"Unknown error",correlationId:o}),n}}async deleteCluster(e,r){return this.deleteItem(this.tables.clusters,{cluster_id:e},r)}},LC=null,se={get instance(){return LC||(LC=new MC),LC},getItem:(t,e,r)=>se.instance.getItem(t,e,r),putItem:(t,e,r)=>se.instance.putItem(t,e,r),updateItem:(t,e,r,o,n,s)=>se.instance.updateItem(t,e,r,o,n,s),deleteItem:(t,e,r)=>se.instance.deleteItem(t,e,r),queryItems:(t,e,r,o,n,s)=>se.instance.queryItems(t,e,r,o,n,s),getStaffById:(t,e)=>se.instance.getStaffById(t,e),getStaffByEmail:(t,e)=>se.instance.getStaffByEmail(t,e),createStaff:(t,e)=>se.instance.createStaff(t,e),updateStaff:(t,e,r)=>se.instance.updateStaff(t,e,r),updateStaffPassword:(t,e,r)=>se.instance.updateStaffPassword(t,e,r),getPasswordResetToken:(t,e)=>se.instance.getPasswordResetToken(t,e),createPasswordResetToken:(t,e)=>se.instance.createPasswordResetToken(t,e),markPasswordResetTokenUsed:(t,e)=>se.instance.markPasswordResetTokenUsed(t,e),deletePasswordResetToken:(t,e)=>se.instance.deletePasswordResetToken(t,e),getTenant:(t,e)=>se.instance.getTenant(t,e),createTenant:(t,e)=>se.instance.createTenant(t,e),updateTenant:(t,e,r)=>se.instance.updateTenant(t,e,r),getCluster:(t,e)=>se.instance.getCluster(t,e),getAllClusters:t=>se.instance.getAllClusters(t),createCluster:(t,e)=>se.instance.createCluster(t,e),updateCluster:(t,e,r)=>se.instance.updateCluster(t,e,r),deleteCluster:(t,e)=>se.instance.deleteCluster(t,e)};import gie from"crypto";var BC=null;function xie(t){try{return crypto.getRandomValues(new Uint8Array(t))}catch{}try{return gie.randomBytes(t)}catch{}if(!BC)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return BC(t)}function yie(t){BC=t}function FC(t,e){if(t=t||GC,typeof t!="number")throw Error("Illegal arguments: "+typeof t+", "+typeof e);t<4?t=4:t>31&&(t=31);var r=[];return r.push("$2b$"),t<10&&r.push("0"),r.push(t.toString()),r.push("$"),r.push(P0(xie(zl),zl)),r.join("")}function B9(t,e,r){if(typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),typeof t>"u")t=GC;else if(typeof t!="number")throw Error("illegal arguments: "+typeof t);function o(n){Ns(function(){try{n(null,FC(t))}catch(s){n(s)}})}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);o(r)}else return new Promise(function(n,s){o(function(i,a){if(i){s(i);return}n(a)})})}function U9(t,e){if(typeof e>"u"&&(e=GC),typeof e=="number"&&(e=FC(e)),typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return UC(t,e)}function F9(t,e,r,o){function n(s){typeof t=="string"&&typeof e=="number"?B9(e,function(i,a){UC(t,a,s,o)}):typeof t=="string"&&typeof e=="string"?UC(t,e,s,o):Ns(s.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)))}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);n(r)}else return new Promise(function(s,i){n(function(a,c){if(a){i(a);return}s(c)})})}function G9(t,e){for(var r=t.length^e.length,o=0;o<t.length;++o)r|=t.charCodeAt(o)^e.charCodeAt(o);return r===0}function Sie(t,e){if(typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return e.length!==60?!1:G9(U9(t,e.substring(0,e.length-31)),e)}function Eie(t,e,r,o){function n(s){if(typeof t!="string"||typeof e!="string"){Ns(s.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)));return}if(e.length!==60){Ns(s.bind(this,null,!1));return}F9(t,e.substring(0,29),function(i,a){i?s(i):s(null,G9(a,e))},o)}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);n(r)}else return new Promise(function(s,i){n(function(a,c){if(a){i(a);return}s(c)})})}function _ie(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return parseInt(t.split("$")[2],10)}function Rie(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);if(t.length!==60)throw Error("Illegal hash length: "+t.length+" != 60");return t.substring(0,29)}function bie(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return H9(t)>72}var Ns=typeof setImmediate=="function"?setImmediate:typeof scheduler=="object"&&typeof scheduler.postTask=="function"?scheduler.postTask.bind(scheduler):setTimeout;function H9(t){for(var e=0,r=0,o=0;o<t.length;++o)r=t.charCodeAt(o),r<128?e+=1:r<2048?e+=2:(r&64512)===55296&&(t.charCodeAt(o+1)&64512)===56320?(++o,e+=4):e+=3;return e}function Cie(t){for(var e=0,r,o,n=new Array(H9(t)),s=0,i=t.length;s<i;++s)r=t.charCodeAt(s),r<128?n[e++]=r:r<2048?(n[e++]=r>>6|192,n[e++]=r&63|128):(r&64512)===55296&&((o=t.charCodeAt(s+1))&64512)===56320?(r=65536+((r&1023)<<10)+(o&1023),++s,n[e++]=r>>18|240,n[e++]=r>>12&63|128,n[e++]=r>>6&63|128,n[e++]=r&63|128):(n[e++]=r>>12|224,n[e++]=r>>6&63|128,n[e++]=r&63|128);return n}var mp="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),Ma=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function P0(t,e){var r=0,o=[],n,s;if(e<=0||e>t.length)throw Error("Illegal len: "+e);for(;r<e;){if(n=t[r++]&255,o.push(mp[n>>2&63]),n=(n&3)<<4,r>=e){o.push(mp[n&63]);break}if(s=t[r++]&255,n|=s>>4&15,o.push(mp[n&63]),n=(s&15)<<2,r>=e){o.push(mp[n&63]);break}s=t[r++]&255,n|=s>>6&3,o.push(mp[n&63]),o.push(mp[s&63])}return o.join("")}function j9(t,e){var r=0,o=t.length,n=0,s=[],i,a,c,u,m,f;if(e<=0)throw Error("Illegal len: "+e);for(;r<o-1&&n<e&&(f=t.charCodeAt(r++),i=f<Ma.length?Ma[f]:-1,f=t.charCodeAt(r++),a=f<Ma.length?Ma[f]:-1,!(i==-1||a==-1||(m=i<<2>>>0,m|=(a&48)>>4,s.push(String.fromCharCode(m)),++n>=e||r>=o)||(f=t.charCodeAt(r++),c=f<Ma.length?Ma[f]:-1,c==-1)||(m=(a&15)<<4>>>0,m|=(c&60)>>2,s.push(String.fromCharCode(m)),++n>=e||r>=o)));)f=t.charCodeAt(r++),u=f<Ma.length?Ma[f]:-1,m=(c&3)<<6>>>0,m|=u,s.push(String.fromCharCode(m)),++n;var h=[];for(r=0;r<n;r++)h.push(s[r].charCodeAt(0));return h}var zl=16,GC=10,vie=16,Iie=100,N9=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],$9=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],V9=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function Kl(t,e,r,o){var n,s=t[e],i=t[e+1];return s^=r[0],n=o[s>>>24],n+=o[256|s>>16&255],n^=o[512|s>>8&255],n+=o[768|s&255],i^=n^r[1],n=o[i>>>24],n+=o[256|i>>16&255],n^=o[512|i>>8&255],n+=o[768|i&255],s^=n^r[2],n=o[s>>>24],n+=o[256|s>>16&255],n^=o[512|s>>8&255],n+=o[768|s&255],i^=n^r[3],n=o[i>>>24],n+=o[256|i>>16&255],n^=o[512|i>>8&255],n+=o[768|i&255],s^=n^r[4],n=o[s>>>24],n+=o[256|s>>16&255],n^=o[512|s>>8&255],n+=o[768|s&255],i^=n^r[5],n=o[i>>>24],n+=o[256|i>>16&255],n^=o[512|i>>8&255],n+=o[768|i&255],s^=n^r[6],n=o[s>>>24],n+=o[256|s>>16&255],n^=o[512|s>>8&255],n+=o[768|s&255],i^=n^r[7],n=o[i>>>24],n+=o[256|i>>16&255],n^=o[512|i>>8&255],n+=o[768|i&255],s^=n^r[8],n=o[s>>>24],n+=o[256|s>>16&255],n^=o[512|s>>8&255],n+=o[768|s&255],i^=n^r[9],n=o[i>>>24],n+=o[256|i>>16&255],n^=o[512|i>>8&255],n+=o[768|i&255],s^=n^r[10],n=o[s>>>24],n+=o[256|s>>16&255],n^=o[512|s>>8&255],n+=o[768|s&255],i^=n^r[11],n=o[i>>>24],n+=o[256|i>>16&255],n^=o[512|i>>8&255],n+=o[768|i&255],s^=n^r[12],n=o[s>>>24],n+=o[256|s>>16&255],n^=o[512|s>>8&255],n+=o[768|s&255],i^=n^r[13],n=o[i>>>24],n+=o[256|i>>16&255],n^=o[512|i>>8&255],n+=o[768|i&255],s^=n^r[14],n=o[s>>>24],n+=o[256|s>>16&255],n^=o[512|s>>8&255],n+=o[768|s&255],i^=n^r[15],n=o[i>>>24],n+=o[256|i>>16&255],n^=o[512|i>>8&255],n+=o[768|i&255],s^=n^r[16],t[e]=i^r[vie+1],t[e+1]=s,t}function fp(t,e){for(var r=0,o=0;r<4;++r)o=o<<8|t[e]&255,e=(e+1)%t.length;return{key:o,offp:e}}function L9(t,e,r){for(var o=0,n=[0,0],s=e.length,i=r.length,a,c=0;c<s;c++)a=fp(t,o),o=a.offp,e[c]=e[c]^a.key;for(c=0;c<s;c+=2)n=Kl(n,0,e,r),e[c]=n[0],e[c+1]=n[1];for(c=0;c<i;c+=2)n=Kl(n,0,e,r),r[c]=n[0],r[c+1]=n[1]}function Tie(t,e,r,o){for(var n=0,s=[0,0],i=r.length,a=o.length,c,u=0;u<i;u++)c=fp(e,n),n=c.offp,r[u]=r[u]^c.key;for(n=0,u=0;u<i;u+=2)c=fp(t,n),n=c.offp,s[0]^=c.key,c=fp(t,n),n=c.offp,s[1]^=c.key,s=Kl(s,0,r,o),r[u]=s[0],r[u+1]=s[1];for(u=0;u<a;u+=2)c=fp(t,n),n=c.offp,s[0]^=c.key,c=fp(t,n),n=c.offp,s[1]^=c.key,s=Kl(s,0,r,o),o[u]=s[0],o[u+1]=s[1]}function M9(t,e,r,o,n){var s=V9.slice(),i=s.length,a;if(r<4||r>31)if(a=Error("Illegal number of rounds (4-31): "+r),o){Ns(o.bind(this,a));return}else throw a;if(e.length!==zl)if(a=Error("Illegal salt length: "+e.length+" != "+zl),o){Ns(o.bind(this,a));return}else throw a;r=1<<r>>>0;var c,u,m=0,f;typeof Int32Array=="function"?(c=new Int32Array(N9),u=new Int32Array($9)):(c=N9.slice(),u=$9.slice()),Tie(e,t,c,u);function h(){if(n&&n(m/r),m<r)for(var _=Date.now();m<r&&(m=m+1,L9(t,c,u),L9(e,c,u),!(Date.now()-_>Iie)););else{for(m=0;m<64;m++)for(f=0;f<i>>1;f++)Kl(s,f<<1,c,u);var b=[];for(m=0;m<i;m++)b.push((s[m]>>24&255)>>>0),b.push((s[m]>>16&255)>>>0),b.push((s[m]>>8&255)>>>0),b.push((s[m]&255)>>>0);if(o){o(null,b);return}else return b}o&&Ns(h)}if(typeof o<"u")h();else for(var g;;)if(typeof(g=h())<"u")return g||[]}function UC(t,e,r,o){var n;if(typeof t!="string"||typeof e!="string")if(n=Error("Invalid string / salt: Not a string"),r){Ns(r.bind(this,n));return}else throw n;var s,i;if(e.charAt(0)!=="$"||e.charAt(1)!=="2")if(n=Error("Invalid salt version: "+e.substring(0,2)),r){Ns(r.bind(this,n));return}else throw n;if(e.charAt(2)==="$")s="\0",i=3;else{if(s=e.charAt(2),s!=="a"&&s!=="b"&&s!=="y"||e.charAt(3)!=="$")if(n=Error("Invalid salt revision: "+e.substring(2,4)),r){Ns(r.bind(this,n));return}else throw n;i=4}if(e.charAt(i+2)>"$")if(n=Error("Missing salt rounds"),r){Ns(r.bind(this,n));return}else throw n;var a=parseInt(e.substring(i,i+1),10)*10,c=parseInt(e.substring(i+1,i+2),10),u=a+c,m=e.substring(i+3,i+25);t+=s>="a"?"\0":"";var f=Cie(t),h=j9(m,zl);function g(_){var b=[];return b.push("$2"),s>="a"&&b.push(s),b.push("$"),u<10&&b.push("0"),b.push(u.toString()),b.push("$"),b.push(P0(h,h.length)),b.push(P0(_,V9.length*4-1)),b.join("")}if(typeof r>"u")return g(M9(f,h,u));M9(f,h,u,function(_,b){_?r(_,null):r(null,g(b))},o)}function wie(t,e){return P0(t,e)}function Aie(t,e){return j9(t,e)}var HC={setRandomFallback:yie,genSaltSync:FC,genSalt:B9,hashSync:U9,hash:F9,compareSync:Sie,compare:Eie,getRounds:_ie,getSalt:Rie,truncates:bie,encodeBase64:wie,decodeBase64:Aie};async function k0(t,e){try{y.info("Hashing password",{correlationId:e,passwordType:typeof t,passwordValue:t?"[REDACTED]":"null/undefined"});let r=String(t);if(!r||r.length===0)throw new Error("Password cannot be empty");if(r.length<8)throw new Error("Password must be at least 8 characters long");let n=await HC.hash(r,12);return y.info("Password hashed successfully",{correlationId:e}),n}catch(r){throw y.error("Failed to hash password",{error:r instanceof Error?r.message:"Unknown error",correlationId:e}),r}}async function z9(t,e,r){try{if(y.info("Verifying password",{correlationId:r}),!t||!e)return y.info("Password verification failed: empty password or hash",{correlationId:r}),!1;let o=await HC.compare(t,e);return y.info("Password verification completed",{isValid:o,correlationId:r}),o}catch(o){return y.error("Failed to verify password",{error:o instanceof Error?o.message:"Unknown error",correlationId:r}),!1}}function K9(t){let e=[];return t?(t.length<8&&e.push("Password must be at least 8 characters long"),t.length>128&&e.push("Password must be less than 128 characters long"),/[a-z]/.test(t)||e.push("Password must contain at least one lowercase letter"),/[A-Z]/.test(t)||e.push("Password must contain at least one uppercase letter"),/\d/.test(t)||e.push("Password must contain at least one number"),/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(t)||e.push("Password must contain at least one special character"),["password","password123","123456","123456789","qwerty","abc123","password1","admin","letmein","welcome"].includes(t.toLowerCase())&&e.push("Password is too common and easily guessable"),{isValid:e.length===0,errors:e}):(e.push("Password is required"),{isValid:!1,errors:e})}var jC=async(t,e)=>{try{y.info("Processing login request",{correlationId:t.correlationId,email:t.body?.email});let r=bf.safeParse(t.body);if(!r.success){y.warn("Login validation failed",{correlationId:t.correlationId,errors:r.error.errors}),H(e,"ValidationError","Invalid login credentials format",t.correlationId,{validationErrors:r.error.errors});return}let{email:o,password:n}=r.data,s=await se.getStaffByEmail(o,t.correlationId);if(!s.found||!s.staff){y.warn("Login attempt for non-existent email",{correlationId:t.correlationId,email:o}),H(e,"Unauthorized","Invalid email or password",t.correlationId);return}let i=s.staff;if(!i.enabled){y.warn("Login attempt for disabled account",{correlationId:t.correlationId,email:o,staffId:i.staff_id}),H(e,"Unauthorized","Account is disabled",t.correlationId);return}if(!await z9(n,i.password_hash,t.correlationId)){y.warn("Login attempt with invalid password",{correlationId:t.correlationId,email:o,staffId:i.staff_id}),H(e,"Unauthorized","Invalid email or password",t.correlationId);return}let c=await xu.signToken({staffId:i.staff_id,email:i.email,roles:i.roles},t.correlationId);y.info("Login successful",{correlationId:t.correlationId,staffId:i.staff_id,email:i.email,roles:i.roles}),e.status(200).json({success:!0,data:{token:c,staff:{staff_id:i.staff_id,email:i.email,roles:i.roles,enabled:i.enabled}},timestamp:new Date().toISOString()})}catch(r){y.error("Login handler error",{correlationId:t.correlationId,error:r instanceof Error?r.message:"Unknown error"}),H(e,"InternalError","Login failed",t.correlationId)}};Js();Qs();Ys();Ts();rr();At();ve();oi();xe();Rr();F();Je();Zt();var W9=async(t,e,r)=>({operation:nt(e).operation,region:await ge(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function Die(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"ses",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}var q9=t=>{let e=[];switch(t.operation){default:e.push(Die(t))}return e},J9=t=>{let e=Gr(t);return Object.assign(e,{authSchemePreference:ge(t.authSchemePreference??[])})};var Q9=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"ses"}),Y9={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var X9={name:"@aws-sdk/client-ses",description:"AWS SDK for JavaScript Ses Client for Node.js, Browser and React Native",version:"3.958.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-ses","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo ses","test:e2e":"yarn g:vitest run -c vitest.config.e2e.mts --mode development","test:e2e:watch":"yarn g:vitest watch -c vitest.config.e2e.mts","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.957.0","@aws-sdk/credential-provider-node":"3.958.0","@aws-sdk/middleware-host-header":"3.957.0","@aws-sdk/middleware-logger":"3.957.0","@aws-sdk/middleware-recursion-detection":"3.957.0","@aws-sdk/middleware-user-agent":"3.957.0","@aws-sdk/region-config-resolver":"3.957.0","@aws-sdk/types":"3.957.0","@aws-sdk/util-endpoints":"3.957.0","@aws-sdk/util-user-agent-browser":"3.957.0","@aws-sdk/util-user-agent-node":"3.957.0","@smithy/config-resolver":"^4.4.5","@smithy/core":"^3.20.0","@smithy/fetch-http-handler":"^5.3.8","@smithy/hash-node":"^4.2.7","@smithy/invalid-dependency":"^4.2.7","@smithy/middleware-content-length":"^4.2.7","@smithy/middleware-endpoint":"^4.4.1","@smithy/middleware-retry":"^4.4.17","@smithy/middleware-serde":"^4.2.8","@smithy/middleware-stack":"^4.2.7","@smithy/node-config-provider":"^4.3.7","@smithy/node-http-handler":"^4.4.7","@smithy/protocol-http":"^5.3.7","@smithy/smithy-client":"^4.10.2","@smithy/types":"^4.11.0","@smithy/url-parser":"^4.2.7","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.16","@smithy/util-defaults-mode-node":"^4.2.19","@smithy/util-endpoints":"^3.2.7","@smithy/util-middleware":"^4.2.7","@smithy/util-retry":"^4.2.7","@smithy/util-utf8":"^4.2.0","@smithy/util-waiter":"^4.2.7",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-ses",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-ses"}};Je();ii();rr();ai();Rr();Vo();Vn();F();ci();ui();Zn();Je();Yn();F();Jn();Kt();wt();Is();nn();var cG="required",yi="fn",Si="argv",gp="ref";var Z9="isSet",ql="booleanEquals",hp="error",Wl="endpoint",ea="tree",VC="PartitionResult",eG={[cG]:!1,type:"string"},tG={[cG]:!0,default:!1,type:"boolean"},rG={[gp]:"Endpoint"},uG={[yi]:ql,[Si]:[{[gp]:"UseFIPS"},!0]},pG={[yi]:ql,[Si]:[{[gp]:"UseDualStack"},!0]},xi={},oG={[yi]:"getAttr",[Si]:[{[gp]:VC},"supportsFIPS"]},nG={[yi]:ql,[Si]:[!0,{[yi]:"getAttr",[Si]:[{[gp]:VC},"supportsDualStack"]}]},sG=[uG],iG=[pG],aG=[{[gp]:"Region"}],Pie={version:"1.0",parameters:{Region:eG,UseDualStack:tG,UseFIPS:tG,Endpoint:eG},rules:[{conditions:[{[yi]:Z9,[Si]:[rG]}],rules:[{conditions:sG,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:hp},{conditions:iG,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:hp},{endpoint:{url:rG,properties:xi,headers:xi},type:Wl}],type:ea},{conditions:[{[yi]:Z9,[Si]:aG}],rules:[{conditions:[{[yi]:"aws.partition",[Si]:aG,assign:VC}],rules:[{conditions:[uG,pG],rules:[{conditions:[{[yi]:ql,[Si]:[!0,oG]},nG],rules:[{endpoint:{url:"https://email-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:xi,headers:xi},type:Wl}],type:ea},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:hp}],type:ea},{conditions:sG,rules:[{conditions:[{[yi]:ql,[Si]:[oG,!0]}],rules:[{endpoint:{url:"https://email-fips.{Region}.{PartitionResult#dnsSuffix}",properties:xi,headers:xi},type:Wl}],type:ea},{error:"FIPS is enabled but this partition does not support FIPS",type:hp}],type:ea},{conditions:iG,rules:[{conditions:[nG],rules:[{endpoint:{url:"https://email.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:xi,headers:xi},type:Wl}],type:ea},{error:"DualStack is enabled but this partition does not support DualStack",type:hp}],type:ea},{endpoint:{url:"https://email.{Region}.{PartitionResult#dnsSuffix}",properties:xi,headers:xi},type:Wl}],type:ea}],type:ea},{error:"Invalid Configuration: Missing Region",type:hp}]},dG=Pie;var kie=new lr({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),lG=(t,e={})=>kie.get(t,()=>Br(dG,{endpointParams:t,logger:e.logger}));jt.aws=_r;var mG=t=>({apiVersion:"2010-12-01",base64Decoder:t?.base64Decoder??st,base64Encoder:t?.base64Encoder??we,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??lG,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??q9,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new Ct}],logger:t?.logger??new Bt,protocol:t?.protocol??ri,protocolSettings:t?.protocolSettings??{defaultNamespace:"com.amazonaws.ses",xmlNamespace:"http://ses.amazonaws.com/doc/2010-12-01/",version:"2010-12-01",serviceTarget:"SimpleEmailService"},serviceId:t?.serviceId??"SES",urlParser:t?.urlParser??Mt,utf8Decoder:t?.utf8Decoder??it,utf8Encoder:t?.utf8Encoder??Xe});var fG=t=>{jr(process.version);let e=so(t),r=()=>e().then(Hr),o=mG(t);Ur(process.version);let n={profile:t?.profile,logger:o.logger};return{...o,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??G(Fr,n),bodyLengthChecker:t?.bodyLengthChecker??no,credentialDefaultProvider:t?.credentialDefaultProvider??ks,defaultUserAgentProvider:t?.defaultUserAgentProvider??ro({serviceId:o.serviceId,clientVersion:X9.version}),maxAttempts:t?.maxAttempts??G(Xr,t),region:t?.region??G(Jt,{...fr,...n}),requestHandler:Wt.create(t?.requestHandler??r),retryMode:t?.retryMode??G({...eo,default:async()=>(await r()).retryMode||hr},t),sha256:t?.sha256??Qt.bind(null,"sha256"),streamCollector:t?.streamCollector??ur,useDualstackEndpoint:t?.useDualstackEndpoint??G(Wr,n),useFipsEndpoint:t?.useFipsEndpoint??G(qr,n),userAgentAppId:t?.userAgentAppId??G(oo,n)}};ws();Pe();F();var hG=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,o=t.credentials;return{setHttpAuthScheme(n){let s=e.findIndex(i=>i.schemeId===n.schemeId);s===-1?e.push(n):e.splice(s,1,n)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(n){r=n},httpAuthSchemeProvider(){return r},setCredentials(n){o=n},credentials(){return o}}},gG=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()});var xG=(t,e)=>{let r=Object.assign(io(t),Vr(t),Ar(t),hG(t));return e.forEach(o=>o.configure(r)),Object.assign(t,ao(r),zr(r),Dr(r),gG(r))};var N0=class extends Nt{config;constructor(...[e]){let r=fG(e||{});super(r),this.initConfig=r;let o=Q9(r),n=Mr(o),s=Zr(n),i=Jr(s),a=i,c=Yr(a),u=J9(c),m=xG(u,e?.extensions||[]);this.config=m,this.middlewareStack.use(Lr(this.config)),this.middlewareStack.use(Kr(this.config)),this.middlewareStack.use(to(this.config)),this.middlewareStack.use(Qr(this.config)),this.middlewareStack.use(Or(this.config)),this.middlewareStack.use(Pr(this.config)),this.middlewareStack.use(kr(this.config)),this.middlewareStack.use(Nr(this.config,{httpAuthSchemeParametersProvider:W9,identityProviderConfigProvider:async f=>new dr({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use($r(this.config))}destroy(){super.destroy()}};ve();F();var Ie=class t extends mr{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}};var $0=class t extends Ie{name="AccountSendingPausedException";$fault="client";constructor(e){super({name:"AccountSendingPausedException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},L0=class t extends Ie{name="AlreadyExistsException";$fault="client";Name;constructor(e){super({name:"AlreadyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Name=e.Name}},M0=class t extends Ie{name="CannotDeleteException";$fault="client";Name;constructor(e){super({name:"CannotDeleteException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Name=e.Name}},B0=class t extends Ie{name="LimitExceededException";$fault="client";constructor(e){super({name:"LimitExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},U0=class t extends Ie{name="RuleSetDoesNotExistException";$fault="client";Name;constructor(e){super({name:"RuleSetDoesNotExistException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Name=e.Name}},F0=class t extends Ie{name="ConfigurationSetAlreadyExistsException";$fault="client";ConfigurationSetName;constructor(e){super({name:"ConfigurationSetAlreadyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.ConfigurationSetName=e.ConfigurationSetName}},G0=class t extends Ie{name="ConfigurationSetDoesNotExistException";$fault="client";ConfigurationSetName;constructor(e){super({name:"ConfigurationSetDoesNotExistException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.ConfigurationSetName=e.ConfigurationSetName}},H0=class t extends Ie{name="ConfigurationSetSendingPausedException";$fault="client";ConfigurationSetName;constructor(e){super({name:"ConfigurationSetSendingPausedException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.ConfigurationSetName=e.ConfigurationSetName}},j0=class t extends Ie{name="InvalidConfigurationSetException";$fault="client";constructor(e){super({name:"InvalidConfigurationSetException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},V0=class t extends Ie{name="EventDestinationAlreadyExistsException";$fault="client";ConfigurationSetName;EventDestinationName;constructor(e){super({name:"EventDestinationAlreadyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.ConfigurationSetName=e.ConfigurationSetName,this.EventDestinationName=e.EventDestinationName}},z0=class t extends Ie{name="InvalidCloudWatchDestinationException";$fault="client";ConfigurationSetName;EventDestinationName;constructor(e){super({name:"InvalidCloudWatchDestinationException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.ConfigurationSetName=e.ConfigurationSetName,this.EventDestinationName=e.EventDestinationName}},K0=class t extends Ie{name="InvalidFirehoseDestinationException";$fault="client";ConfigurationSetName;EventDestinationName;constructor(e){super({name:"InvalidFirehoseDestinationException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.ConfigurationSetName=e.ConfigurationSetName,this.EventDestinationName=e.EventDestinationName}},W0=class t extends Ie{name="InvalidSNSDestinationException";$fault="client";ConfigurationSetName;EventDestinationName;constructor(e){super({name:"InvalidSNSDestinationException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.ConfigurationSetName=e.ConfigurationSetName,this.EventDestinationName=e.EventDestinationName}},q0=class t extends Ie{name="InvalidTrackingOptionsException";$fault="client";constructor(e){super({name:"InvalidTrackingOptionsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},J0=class t extends Ie{name="TrackingOptionsAlreadyExistsException";$fault="client";ConfigurationSetName;constructor(e){super({name:"TrackingOptionsAlreadyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.ConfigurationSetName=e.ConfigurationSetName}},Q0=class t extends Ie{name="CustomVerificationEmailInvalidContentException";$fault="client";constructor(e){super({name:"CustomVerificationEmailInvalidContentException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Y0=class t extends Ie{name="CustomVerificationEmailTemplateAlreadyExistsException";$fault="client";CustomVerificationEmailTemplateName;constructor(e){super({name:"CustomVerificationEmailTemplateAlreadyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.CustomVerificationEmailTemplateName=e.CustomVerificationEmailTemplateName}},X0=class t extends Ie{name="FromEmailAddressNotVerifiedException";$fault="client";FromEmailAddress;constructor(e){super({name:"FromEmailAddressNotVerifiedException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.FromEmailAddress=e.FromEmailAddress}},Z0=class t extends Ie{name="InvalidLambdaFunctionException";$fault="client";FunctionArn;constructor(e){super({name:"InvalidLambdaFunctionException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.FunctionArn=e.FunctionArn}},ex=class t extends Ie{name="InvalidS3ConfigurationException";$fault="client";Bucket;constructor(e){super({name:"InvalidS3ConfigurationException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Bucket=e.Bucket}},tx=class t extends Ie{name="InvalidSnsTopicException";$fault="client";Topic;constructor(e){super({name:"InvalidSnsTopicException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Topic=e.Topic}},rx=class t extends Ie{name="RuleDoesNotExistException";$fault="client";Name;constructor(e){super({name:"RuleDoesNotExistException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Name=e.Name}},ox=class t extends Ie{name="InvalidTemplateException";$fault="client";TemplateName;constructor(e){super({name:"InvalidTemplateException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.TemplateName=e.TemplateName}},nx=class t extends Ie{name="CustomVerificationEmailTemplateDoesNotExistException";$fault="client";CustomVerificationEmailTemplateName;constructor(e){super({name:"CustomVerificationEmailTemplateDoesNotExistException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.CustomVerificationEmailTemplateName=e.CustomVerificationEmailTemplateName}},sx=class t extends Ie{name="EventDestinationDoesNotExistException";$fault="client";ConfigurationSetName;EventDestinationName;constructor(e){super({name:"EventDestinationDoesNotExistException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.ConfigurationSetName=e.ConfigurationSetName,this.EventDestinationName=e.EventDestinationName}},ix=class t extends Ie{name="TrackingOptionsDoesNotExistException";$fault="client";ConfigurationSetName;constructor(e){super({name:"TrackingOptionsDoesNotExistException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.ConfigurationSetName=e.ConfigurationSetName}},ax=class t extends Ie{name="TemplateDoesNotExistException";$fault="client";TemplateName;constructor(e){super({name:"TemplateDoesNotExistException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.TemplateName=e.TemplateName}},cx=class t extends Ie{name="InvalidDeliveryOptionsException";$fault="client";constructor(e){super({name:"InvalidDeliveryOptionsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},ux=class t extends Ie{name="InvalidPolicyException";$fault="client";constructor(e){super({name:"InvalidPolicyException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},px=class t extends Ie{name="InvalidRenderingParameterException";$fault="client";TemplateName;constructor(e){super({name:"InvalidRenderingParameterException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.TemplateName=e.TemplateName}},dx=class t extends Ie{name="MailFromDomainNotVerifiedException";$fault="client";constructor(e){super({name:"MailFromDomainNotVerifiedException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},lx=class t extends Ie{name="MessageRejected";$fault="client";constructor(e){super({name:"MessageRejected",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},mx=class t extends Ie{name="MissingRenderingAttributeException";$fault="client";TemplateName;constructor(e){super({name:"MissingRenderingAttributeException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.TemplateName=e.TemplateName}},fx=class t extends Ie{name="ProductionAccessNotGrantedException";$fault="client";constructor(e){super({name:"ProductionAccessNotGrantedException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}};var Nie="AlreadyExistsException";var $ie="AccountSendingPausedException";var yG="Body";var Lie="BccAddresses";var Mie="Bucket",Bie="Content";var Uie="CcAddresses";var Fie="CannotDeleteException";var Gie="ConfigurationSetAlreadyExistsException";var Hie="ConfigurationSetDoesNotExistException",$s="ConfigurationSetName",jie="ConfigurationSetSendingPausedException";var Vie="CustomVerificationEmailInvalidContentException";var zie="CustomVerificationEmailTemplateAlreadyExistsException",Kie="CustomVerificationEmailTemplateDoesNotExistException",SG="CustomVerificationEmailTemplateName";var Wie="Charset";var EG="Destination";var qie="Data";var Jie="EventDestinationAlreadyExistsException",Qie="EventDestinationDoesNotExistException",Jl="EventDestinationName";var Yie="FunctionArn";var Xie="FromEmailAddress",Zie="FromEmailAddressNotVerifiedException";var eae="Html";var tae="InvalidConfigurationSetException",rae="InvalidCloudWatchDestinationException";var oae="InvalidDeliveryOptionsException";var nae="InvalidFirehoseDestinationException",sae="InvalidLambdaFunctionException";var iae="InvalidPolicyException";var aae="InvalidRenderingParameterException",cae="InvalidS3ConfigurationException",uae="InvalidSNSDestinationException",pae="InvalidSnsTopicException";var dae="InvalidTemplateException",lae="InvalidTrackingOptionsException";var mae="LimitExceededException";var _G="Message";var fae="MailFromDomainNotVerifiedException";var hae="MessageId";var gae="MissingRenderingAttributeException",xae="MessageRejected";var yae="MessageTag",Sae="MessageTagList";var Ql="Name";var Eae="ProductionAccessNotGrantedException";var _ae="RuleDoesNotExistException";var Rae="ReturnPath",bae="ReturnPathArn";var Cae="RuleSetDoesNotExistException";var vae="ReplyToAddresses";var Iae="SourceArn";var Tae="SendEmailRequest",wae="SendEmailResponse";var Aae="SendEmail";var Dae="Source";var Oae="Subject",Pae="Text";var kae="ToAddresses";var Nae="TemplateDoesNotExistException";var hx="TemplateName";var $ae="TrackingOptionsAlreadyExistsException",Lae="TrackingOptionsDoesNotExistException";var Mae="Tags";var Bae="Topic";var Uae="Value";var Ge="awsQueryError",He="client",je="error",Ve="httpError",ze="message",RG="smithy.ts.sdk.synthetic.com.amazonaws.ses",W="com.amazonaws.ses",Fae=[-3,W,$ie,{[Ge]:["AccountSendingPausedException",400],[je]:He,[Ve]:400},[ze],[0]];R.for(W).registerError(Fae,$0);var Gae=[-3,W,Nie,{[Ge]:["AlreadyExists",400],[je]:He,[Ve]:400},[Ql,ze],[0,0]];R.for(W).registerError(Gae,L0);var Hae=[3,W,yG,0,[Pae,eae],[()=>zC,()=>zC]];var jae=[-3,W,Fie,{[Ge]:["CannotDelete",400],[je]:He,[Ve]:400},[Ql,ze],[0,0]];R.for(W).registerError(jae,M0);var Vae=[-3,W,Gie,{[Ge]:["ConfigurationSetAlreadyExists",400],[je]:He,[Ve]:400},[$s,ze],[0,0]];R.for(W).registerError(Vae,F0);var zae=[-3,W,Hie,{[Ge]:["ConfigurationSetDoesNotExist",400],[je]:He,[Ve]:400},[$s,ze],[0,0]];R.for(W).registerError(zae,G0);var Kae=[-3,W,jie,{[Ge]:["ConfigurationSetSendingPausedException",400],[je]:He,[Ve]:400},[$s,ze],[0,0]];R.for(W).registerError(Kae,H0);var zC=[3,W,Bie,0,[qie,Wie],[0,0]];var Wae=[-3,W,Vie,{[Ge]:["CustomVerificationEmailInvalidContent",400],[je]:He,[Ve]:400},[ze],[0]];R.for(W).registerError(Wae,Q0);var qae=[-3,W,zie,{[Ge]:["CustomVerificationEmailTemplateAlreadyExists",400],[je]:He,[Ve]:400},[SG,ze],[0,0]];R.for(W).registerError(qae,Y0);var Jae=[-3,W,Kie,{[Ge]:["CustomVerificationEmailTemplateDoesNotExist",400],[je]:He,[Ve]:400},[SG,ze],[0,0]];R.for(W).registerError(Jae,nx);var Qae=[3,W,EG,0,[kae,Uie,Lie],[64,64,64]];var Yae=[-3,W,Jie,{[Ge]:["EventDestinationAlreadyExists",400],[je]:He,[Ve]:400},[$s,Jl,ze],[0,0,0]];R.for(W).registerError(Yae,V0);var Xae=[-3,W,Qie,{[Ge]:["EventDestinationDoesNotExist",400],[je]:He,[Ve]:400},[$s,Jl,ze],[0,0,0]];R.for(W).registerError(Xae,sx);var Zae=[-3,W,Zie,{[Ge]:["FromEmailAddressNotVerified",400],[je]:He,[Ve]:400},[Xie,ze],[0,0]];R.for(W).registerError(Zae,X0);var ece=[-3,W,rae,{[Ge]:["InvalidCloudWatchDestination",400],[je]:He,[Ve]:400},[$s,Jl,ze],[0,0,0]];R.for(W).registerError(ece,z0);var tce=[-3,W,tae,{[Ge]:["InvalidConfigurationSet",400],[je]:He,[Ve]:400},[ze],[0]];R.for(W).registerError(tce,j0);var rce=[-3,W,oae,{[Ge]:["InvalidDeliveryOptions",400],[je]:He,[Ve]:400},[ze],[0]];R.for(W).registerError(rce,cx);var oce=[-3,W,nae,{[Ge]:["InvalidFirehoseDestination",400],[je]:He,[Ve]:400},[$s,Jl,ze],[0,0,0]];R.for(W).registerError(oce,K0);var nce=[-3,W,sae,{[Ge]:["InvalidLambdaFunction",400],[je]:He,[Ve]:400},[Yie,ze],[0,0]];R.for(W).registerError(nce,Z0);var sce=[-3,W,iae,{[Ge]:["InvalidPolicy",400],[je]:He,[Ve]:400},[ze],[0]];R.for(W).registerError(sce,ux);var ice=[-3,W,aae,{[Ge]:["InvalidRenderingParameter",400],[je]:He,[Ve]:400},[hx,ze],[0,0]];R.for(W).registerError(ice,px);var ace=[-3,W,cae,{[Ge]:["InvalidS3Configuration",400],[je]:He,[Ve]:400},[Mie,ze],[0,0]];R.for(W).registerError(ace,ex);var cce=[-3,W,uae,{[Ge]:["InvalidSNSDestination",400],[je]:He,[Ve]:400},[$s,Jl,ze],[0,0,0]];R.for(W).registerError(cce,W0);var uce=[-3,W,pae,{[Ge]:["InvalidSnsTopic",400],[je]:He,[Ve]:400},[Bae,ze],[0,0]];R.for(W).registerError(uce,tx);var pce=[-3,W,dae,{[Ge]:["InvalidTemplate",400],[je]:He,[Ve]:400},[hx,ze],[0,0]];R.for(W).registerError(pce,ox);var dce=[-3,W,lae,{[Ge]:["InvalidTrackingOptions",400],[je]:He,[Ve]:400},[ze],[0]];R.for(W).registerError(dce,q0);var lce=[-3,W,mae,{[Ge]:["LimitExceeded",400],[je]:He,[Ve]:400},[ze],[0]];R.for(W).registerError(lce,B0);var mce=[-3,W,fae,{[Ge]:["MailFromDomainNotVerifiedException",400],[je]:He,[Ve]:400},[ze],[0]];R.for(W).registerError(mce,dx);var fce=[3,W,_G,0,[Oae,yG],[()=>zC,()=>Hae]];var hce=[-3,W,xae,{[Ge]:["MessageRejected",400],[je]:He,[Ve]:400},[ze],[0]];R.for(W).registerError(hce,lx);var gce=[3,W,yae,0,[Ql,Uae],[0,0]],xce=[-3,W,gae,{[Ge]:["MissingRenderingAttribute",400],[je]:He,[Ve]:400},[hx,ze],[0,0]];R.for(W).registerError(xce,mx);var yce=[-3,W,Eae,{[Ge]:["ProductionAccessNotGranted",400],[je]:He,[Ve]:400},[ze],[0]];R.for(W).registerError(yce,fx);var Sce=[-3,W,_ae,{[Ge]:["RuleDoesNotExist",400],[je]:He,[Ve]:400},[Ql,ze],[0,0]];R.for(W).registerError(Sce,rx);var Ece=[-3,W,Cae,{[Ge]:["RuleSetDoesNotExist",400],[je]:He,[Ve]:400},[Ql,ze],[0,0]];R.for(W).registerError(Ece,U0);var _ce=[3,W,Tae,0,[Dae,EG,_G,vae,Rae,Iae,bae,Mae,$s],[0,()=>Qae,()=>fce,64,0,0,0,()=>Tce,0]],Rce=[3,W,wae,0,[hae],[0]];var bce=[-3,W,Nae,{[Ge]:["TemplateDoesNotExist",400],[je]:He,[Ve]:400},[hx,ze],[0,0]];R.for(W).registerError(bce,ax);var Cce=[-3,W,$ae,{[Ge]:["TrackingOptionsAlreadyExistsException",400],[je]:He,[Ve]:400},[$s,ze],[0,0]];R.for(W).registerError(Cce,J0);var vce=[-3,W,Lae,{[Ge]:["TrackingOptionsDoesNotExistException",400],[je]:He,[Ve]:400},[$s,ze],[0,0]];R.for(W).registerError(vce,ix);var Ice=[-3,RG,"SESServiceException",0,[],[]];R.for(RG).registerError(Ice,Ie);var Tce=[1,W,Sae,0,()=>gce];var bG=[9,W,Aae,0,()=>_ce,()=>Rce];xe();F();var gx=class extends Y.classBuilder().ep(Y9).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("SimpleEmailService","SendEmail",{}).n("SESClient","SendEmailCommand").sc(bG).build(){};var wce=()=>new N0({region:process.env.AWS_REGION||"us-east-1",maxAttempts:3,retryMode:"adaptive",requestHandler:{requestTimeout:1e4}}),KC=null,Ace=()=>(KC||(KC=wce(),y.info("SES client initialized")),KC),Dce={passwordReset:t=>({subject:"Password Reset Request - AWS Lambda Control Plane",htmlBody:`
      <!DOCTYPE html>
      <html>
      <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Password Reset Request</title>
        <style>
          body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; max-width: 600px; margin: 0 auto; padding: 20px; }
          .header { background-color: #f8f9fa; padding: 20px; border-radius: 5px; margin-bottom: 20px; }
          .content { padding: 20px 0; }
          .button { display: inline-block; background-color: #007bff; color: white; padding: 12px 24px; text-decoration: none; border-radius: 5px; margin: 20px 0; }
          .footer { margin-top: 30px; padding-top: 20px; border-top: 1px solid #eee; font-size: 12px; color: #666; }
          .warning { background-color: #fff3cd; border: 1px solid #ffeaa7; padding: 15px; border-radius: 5px; margin: 20px 0; }
        </style>
      </head>
      <body>
        <div class="header">
          <h1>Password Reset Request</h1>
        </div>
        
        <div class="content">
          <p>Hello ${t.recipientName},</p>
          
          <p>We received a request to reset your password for your AWS Lambda Control Plane account. If you made this request, please click the button below to reset your password:</p>
          
          <a href="${t.resetUrl}" class="button">Reset Password</a>
          
          <p>Alternatively, you can copy and paste this link into your browser:</p>
          <p style="word-break: break-all; background-color: #f8f9fa; padding: 10px; border-radius: 3px;">${t.resetUrl}</p>
          
          <div class="warning">
            <strong>Important:</strong> This password reset link will expire in ${t.expirationMinutes} minutes for security reasons.
          </div>
          
          <p>If you did not request a password reset, please ignore this email. Your password will remain unchanged.</p>
          
          <p>For security reasons, please do not share this email or the reset link with anyone.</p>
        </div>
        
        <div class="footer">
          <p>This is an automated message from AWS Lambda Control Plane. Please do not reply to this email.</p>
          <p>If you continue to have problems, please contact your system administrator.</p>
        </div>
      </body>
      </html>
    `,textBody:`
Password Reset Request - AWS Lambda Control Plane

Hello ${t.recipientName},

We received a request to reset your password for your AWS Lambda Control Plane account. If you made this request, please use the following link to reset your password:

${t.resetUrl}

IMPORTANT: This password reset link will expire in ${t.expirationMinutes} minutes for security reasons.

If you did not request a password reset, please ignore this email. Your password will remain unchanged.

For security reasons, please do not share this email or the reset link with anyone.

This is an automated message from AWS Lambda Control Plane. Please do not reply to this email.
If you continue to have problems, please contact your system administrator.
    `.trim()})},qC=class{client;fromEmail;constructor(){this.client=Ace();let e=wr();this.fromEmail=e.ses.fromEmail}async sendEmail(e,r,o){try{let n=Array.isArray(e)?e:[e];y.info("Sending email via SES",{recipients:n.length,subject:r.subject,correlationId:o});let s={Source:this.fromEmail,Destination:{ToAddresses:n},Message:{Subject:{Data:r.subject,Charset:"UTF-8"},Body:{Html:{Data:r.htmlBody,Charset:"UTF-8"},Text:{Data:r.textBody,Charset:"UTF-8"}}}},i=new gx(s),a=await this.client.send(i);y.info("Email sent successfully via SES",{messageId:a.MessageId,recipients:n.length,correlationId:o})}catch(n){throw y.error("Failed to send email via SES",{error:n instanceof Error?n.message:"Unknown error",recipients:Array.isArray(e)?e.length:1,correlationId:o}),n}}async sendPasswordResetEmail(e,r,o,n){let i=`${wr().app.baseUrl}/auth/password-reset/confirm?token=${o}`,a=Dce.passwordReset({recipientName:r,resetToken:o,resetUrl:i,expirationMinutes:30});await this.sendEmail(e,a,n)}static isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}static normalizeEmail(e){return e.toLowerCase().trim()}},WC=null,xx={get instance(){return WC||(WC=new qC),WC},sendEmail:(t,e,r)=>xx.instance.sendEmail(t,e,r),sendPasswordResetEmail:(t,e,r,o)=>xx.instance.sendPasswordResetEmail(t,e,r,o)};import{randomBytes as Oce,createHash as Pce}from"crypto";var JC=async(t,e)=>{try{y.info("Processing password reset request",{correlationId:t.correlationId,email:t.body?.email});let r=Cf.safeParse(t.body);if(!r.success){y.warn("Password reset request validation failed",{correlationId:t.correlationId,errors:r.error.errors}),H(e,"ValidationError","Invalid email format",t.correlationId,{validationErrors:r.error.errors});return}let{email:o}=r.data,n=await se.getStaffByEmail(o,t.correlationId);if(!n.found||!n.staff){y.warn("Password reset request for non-existent email",{correlationId:t.correlationId,email:o}),e.status(200).json({success:!0,message:"If an account with that email exists, a password reset link has been sent.",timestamp:new Date().toISOString()});return}let s=n.staff;if(!s.enabled){y.warn("Password reset request for disabled account",{correlationId:t.correlationId,email:o,staffId:s.staff_id}),e.status(200).json({success:!0,message:"If an account with that email exists, a password reset link has been sent.",timestamp:new Date().toISOString()});return}let i=Oce(32).toString("hex"),a=Pce("sha256").update(i).digest("hex"),c=Math.floor(Date.now()/1e3)+30*60,u=await se.createPasswordResetToken({token_hash:a,staff_id:s.staff_id,expires_at:c},t.correlationId);if(!u.success){y.error("Failed to create password reset token",{correlationId:t.correlationId,staffId:s.staff_id,error:u.error}),H(e,"InternalError","Failed to generate reset token",t.correlationId);return}try{await xx.sendPasswordResetEmail(s.email,s.email.split("@")[0]||"User",i,t.correlationId),y.info("Password reset email sent successfully",{correlationId:t.correlationId,staffId:s.staff_id,email:s.email,tokenHash:a})}catch(m){y.error("Failed to send password reset email",{correlationId:t.correlationId,staffId:s.staff_id,email:s.email,error:m instanceof Error?m.message:"Unknown error"});try{await se.deletePasswordResetToken(a,t.correlationId)}catch(f){y.error("Failed to cleanup password reset token after email failure",{correlationId:t.correlationId,tokenHash:a,error:f instanceof Error?f.message:"Unknown error"})}H(e,"InternalError","Failed to send reset email",t.correlationId);return}e.status(200).json({success:!0,message:"If an account with that email exists, a password reset link has been sent.",timestamp:new Date().toISOString()})}catch(r){y.error("Password reset request handler error",{correlationId:t.correlationId,error:r instanceof Error?r.message:"Unknown error"}),H(e,"InternalError","Password reset request failed",t.correlationId)}};import{createHash as kce}from"crypto";var QC=async(t,e)=>{try{y.info("Processing password reset confirmation",{correlationId:t.correlationId});let r=vf.safeParse(t.body);if(!r.success){y.warn("Password reset confirmation validation failed",{correlationId:t.correlationId,errors:r.error.errors}),H(e,"ValidationError","Invalid reset token or password format",t.correlationId,{validationErrors:r.error.errors});return}let{token:o,new_password:n}=r.data,s=K9(n);if(!s.isValid){y.warn("Password reset confirmation with weak password",{correlationId:t.correlationId,errors:s.errors}),H(e,"ValidationError","Password does not meet security requirements",t.correlationId,{passwordErrors:s.errors});return}let i=kce("sha256").update(o).digest("hex"),a=await se.getPasswordResetToken(i,t.correlationId);if(!a.found||!a.token){y.warn("Password reset confirmation with invalid token",{correlationId:t.correlationId,tokenHash:i}),H(e,"Unauthorized","Invalid or expired reset token",t.correlationId);return}let c=a.token;if(a.expired){y.warn("Password reset confirmation with expired token",{correlationId:t.correlationId,tokenHash:i,expiresAt:new Date(c.expires_at*1e3).toISOString()}),H(e,"Unauthorized","Reset token has expired",t.correlationId);return}if(c.used_at){y.warn("Password reset confirmation with already used token",{correlationId:t.correlationId,tokenHash:i,usedAt:c.used_at}),H(e,"Unauthorized","Reset token has already been used",t.correlationId);return}let u=await se.getStaffById(c.staff_id,t.correlationId);if(!u.found||!u.staff){y.error("Password reset token references non-existent staff member",{correlationId:t.correlationId,staffId:c.staff_id,tokenHash:i}),H(e,"InternalError","Invalid reset token",t.correlationId);return}let m=u.staff;if(!m.enabled){y.warn("Password reset confirmation for disabled account",{correlationId:t.correlationId,staffId:m.staff_id,email:m.email}),H(e,"Unauthorized","Account is disabled",t.correlationId);return}let f=await k0(n,t.correlationId),h=await se.updateStaffPassword(m.staff_id,f,t.correlationId);if(!h.success){y.error("Failed to update staff password",{correlationId:t.correlationId,staffId:m.staff_id,error:h.error}),H(e,"InternalError","Failed to update password",t.correlationId);return}try{await se.markPasswordResetTokenUsed(i,t.correlationId)}catch(g){y.error("Failed to mark password reset token as used",{correlationId:t.correlationId,tokenHash:i,error:g instanceof Error?g.message:"Unknown error"})}y.info("Password reset completed successfully",{correlationId:t.correlationId,staffId:m.staff_id,email:m.email}),e.status(200).json({success:!0,message:"Password has been reset successfully",timestamp:new Date().toISOString()})}catch(r){y.error("Password reset confirmation handler error",{correlationId:t.correlationId,error:r instanceof Error?r.message:"Unknown error"}),H(e,"InternalError","Password reset confirmation failed",t.correlationId)}};function CG(t){t.post("/auth/login",_n({body:bf}),jC),t.post("/auth/password-reset/request",_n({body:Cf}),JC),t.post("/auth/password-reset/confirm",_n({body:vf}),QC)}var YC=async(t,e)=>{try{y.info("Processing staff registration request",{correlationId:t.correlationId,requestedBy:t.context.staff_id,requestedByEmail:t.context.email});let r=Ef.safeParse(t.body);if(!r.success){y.warn("Staff registration validation failed",{correlationId:t.correlationId,errors:r.error.errors}),H(e,"ValidationError","Invalid staff registration data",t.correlationId,{validationErrors:r.error.errors});return}let{email:o,password:n,roles:s}=r.data,i=await k0(n,t.correlationId),a={email:o,password_hash:i,roles:s,enabled:!0},c=await se.createStaff(a,t.correlationId);if(!c.success){y.warn("Staff registration failed",{correlationId:t.correlationId,email:o,error:c.error}),c.error?.includes("already exists")?H(e,"Conflict","Staff member with this email already exists",t.correlationId):H(e,"InternalError","Failed to create staff account",t.correlationId);return}y.info("Staff registration successful",{correlationId:t.correlationId,staffId:c.data?.staff_id,email:c.data?.email,roles:c.data?.roles,createdBy:t.context.staff_id}),e.status(201).json({success:!0,data:{staff_id:c.data?.staff_id,email:c.data?.email,roles:c.data?.roles,enabled:c.data?.enabled,created_at:c.data?.created_at},timestamp:new Date().toISOString()})}catch(r){y.error("Staff registration handler error",{correlationId:t.correlationId,error:r instanceof Error?r.message:"Unknown error"}),H(e,"InternalError","Staff registration failed",t.correlationId)}};var Nce=E.object({staff_id:E.string().uuid()}),XC=async(t,e)=>{try{y.info("Processing staff enable request",{correlationId:t.correlationId,requestedBy:t.context.staff_id,requestedByEmail:t.context.email});let r=Nce.safeParse(t.body);if(!r.success){y.warn("Staff enable validation failed",{correlationId:t.correlationId,errors:r.error.errors}),H(e,"ValidationError","Invalid staff enable request",t.correlationId,{validationErrors:r.error.errors});return}let{staff_id:o}=r.data,n=await se.getStaffById(o,t.correlationId);if(!n.found||!n.staff){y.warn("Staff enable attempt for non-existent staff",{correlationId:t.correlationId,staffId:o}),H(e,"NotFound","Staff member not found",t.correlationId);return}if(n.staff.enabled){y.info("Staff member already enabled",{correlationId:t.correlationId,staffId:o,email:n.staff.email}),e.status(200).json({success:!0,data:{staff_id:n.staff.staff_id,email:n.staff.email,roles:n.staff.roles,enabled:n.staff.enabled,updated_at:n.staff.updated_at},message:"Staff member is already enabled",timestamp:new Date().toISOString()});return}let s=await se.updateStaff(o,{enabled:!0},t.correlationId);if(!s.success){y.error("Failed to enable staff member",{correlationId:t.correlationId,staffId:o,error:s.error}),H(e,"InternalError","Failed to enable staff member",t.correlationId);return}y.info("Staff member enabled successfully",{correlationId:t.correlationId,staffId:o,email:s.data?.email,enabledBy:t.context.staff_id}),e.status(200).json({success:!0,data:{staff_id:s.data?.staff_id,email:s.data?.email,roles:s.data?.roles,enabled:s.data?.enabled,updated_at:s.data?.updated_at},timestamp:new Date().toISOString()})}catch(r){y.error("Staff enable handler error",{correlationId:t.correlationId,error:r instanceof Error?r.message:"Unknown error"}),H(e,"InternalError","Staff enable failed",t.correlationId)}};var $ce=E.object({staff_id:E.string().uuid()}),ZC=async(t,e)=>{try{y.info("Processing staff disable request",{correlationId:t.correlationId,requestedBy:t.context.staff_id,requestedByEmail:t.context.email});let r=$ce.safeParse(t.body);if(!r.success){y.warn("Staff disable validation failed",{correlationId:t.correlationId,errors:r.error.errors}),H(e,"ValidationError","Invalid staff disable request",t.correlationId,{validationErrors:r.error.errors});return}let{staff_id:o}=r.data;if(o===t.context.staff_id){y.warn("Staff member attempted to disable themselves",{correlationId:t.correlationId,staffId:o}),H(e,"Forbidden","Cannot disable your own account",t.correlationId);return}let n=await se.getStaffById(o,t.correlationId);if(!n.found||!n.staff){y.warn("Staff disable attempt for non-existent staff",{correlationId:t.correlationId,staffId:o}),H(e,"NotFound","Staff member not found",t.correlationId);return}if(!n.staff.enabled){y.info("Staff member already disabled",{correlationId:t.correlationId,staffId:o,email:n.staff.email}),e.status(200).json({success:!0,data:{staff_id:n.staff.staff_id,email:n.staff.email,roles:n.staff.roles,enabled:n.staff.enabled,updated_at:n.staff.updated_at},message:"Staff member is already disabled",timestamp:new Date().toISOString()});return}let s=await se.updateStaff(o,{enabled:!1},t.correlationId);if(!s.success){y.error("Failed to disable staff member",{correlationId:t.correlationId,staffId:o,error:s.error}),H(e,"InternalError","Failed to disable staff member",t.correlationId);return}y.info("Staff member disabled successfully",{correlationId:t.correlationId,staffId:o,email:s.data?.email,disabledBy:t.context.staff_id}),e.status(200).json({success:!0,data:{staff_id:s.data?.staff_id,email:s.data?.email,roles:s.data?.roles,enabled:s.data?.enabled,updated_at:s.data?.updated_at},timestamp:new Date().toISOString()})}catch(r){y.error("Staff disable handler error",{correlationId:t.correlationId,error:r instanceof Error?r.message:"Unknown error"}),H(e,"InternalError","Staff disable failed",t.correlationId)}};var ev=async(t,e)=>{try{y.info("Processing staff profile request",{correlationId:t.correlationId,staffId:t.context.staff_id,email:t.context.email});let r=t.context.staff_id;if(!r){y.error("Staff profile request without staff_id in context",{correlationId:t.correlationId,context:t.context}),H(e,"Unauthorized","Invalid authentication context",t.correlationId);return}let o=await se.getStaffById(r,t.correlationId);if(!o.found||!o.staff){y.warn("Staff profile request for non-existent staff",{correlationId:t.correlationId,staffId:r}),H(e,"NotFound","Staff member not found",t.correlationId);return}let n=o.staff;if(!n.enabled){y.warn("Staff profile request for disabled account",{correlationId:t.correlationId,staffId:r,email:n.email}),H(e,"Forbidden","Account is disabled",t.correlationId);return}y.info("Staff profile retrieved successfully",{correlationId:t.correlationId,staffId:r,email:n.email,roles:n.roles}),e.status(200).json({success:!0,data:{staff_id:n.staff_id,email:n.email,roles:n.roles,enabled:n.enabled,created_at:n.created_at,updated_at:n.updated_at},timestamp:new Date().toISOString()})}catch(r){y.error("Staff profile handler error",{correlationId:t.correlationId,staffId:t.context.staff_id,error:r instanceof Error?r.message:"Unknown error"}),H(e,"InternalError","Failed to retrieve profile",t.correlationId)}};var Lce=E.object({staff_id:E.string().uuid()}),Mce=E.object({staff_id:E.string().uuid()});function vG(t){t.post("/staff/register",bn(),Ws,_n({body:Ef}),YC),t.post("/staff/enable",bn(),Ws,_n({body:Lce}),XC),t.post("/staff/disable",bn(),Ws,_n({body:Mce}),ZC),t.get("/staff/me",bn(),ev)}var tv=async(t,e)=>{try{y.info("Processing tenant registration request",{correlationId:t.correlationId,requestedBy:t.context.staff_id,requestedByEmail:t.context.email,requestedByRoles:t.context.roles});let r=_f.safeParse(t.body);if(!r.success){y.warn("Tenant registration validation failed",{correlationId:t.correlationId,errors:r.error.errors}),H(e,"ValidationError","Invalid tenant registration data",t.correlationId,{validationErrors:r.error.errors});return}let{name:o,email:n,contact_info:s}=r.data,i={name:o,email:n,contact_info:s||{}},a=await se.createTenant(i,t.correlationId);if(!a.success){y.warn("Tenant registration failed",{correlationId:t.correlationId,name:o,email:n,error:a.error}),a.error?.includes("already exists")||a.error?.includes("Conflict")?H(e,"Conflict","Tenant with this information already exists",t.correlationId):H(e,"InternalError","Failed to create tenant",t.correlationId);return}y.info("Tenant registration successful",{correlationId:t.correlationId,tenantId:a.data?.tenant_id,name:a.data?.name,email:a.data?.email,status:a.data?.status,createdBy:t.context.staff_id}),y.info("Tenant ready for downstream provisioning",{correlationId:t.correlationId,tenantId:a.data?.tenant_id,status:a.data?.status}),e.status(201).json({success:!0,data:{tenant_id:a.data?.tenant_id,name:a.data?.name,email:a.data?.email,contact_info:a.data?.contact_info,status:a.data?.status,created_at:a.data?.created_at},timestamp:new Date().toISOString()})}catch(r){y.error("Tenant registration handler error",{correlationId:t.correlationId,error:r instanceof Error?r.message:"Unknown error"}),H(e,"InternalError","Tenant registration failed",t.correlationId)}};function IG(t){t.post("/tenant/register",bn(),IE,_n({body:_f}),tv)}var rv=async(t,e)=>{try{y.info("Processing cluster list request",{correlationId:t.correlationId,requestedBy:t.context.staff_id,requestedByEmail:t.context.email});let r=await se.getAllClusters(t.correlationId);y.info("Cluster list retrieved successfully",{correlationId:t.correlationId,clusterCount:r.length,requestedBy:t.context.staff_id}),e.status(200).json({success:!0,data:{clusters:r.map(o=>({cluster_id:o.cluster_id,name:o.name,type:o.type,region:o.region,cidr:o.cidr,status:o.status,deployment_status:o.deployment_status,deployment_id:o.deployment_id,created_at:o.created_at,updated_at:o.updated_at,deployed_at:o.deployed_at})),total_count:r.length},timestamp:new Date().toISOString()})}catch(r){y.error("Cluster list handler error",{correlationId:t.correlationId,error:r instanceof Error?r.message:"Unknown error"}),H(e,"InternalError","Failed to retrieve cluster list",t.correlationId)}};var ov=async(t,e)=>{try{y.info("Processing cluster creation request",{correlationId:t.correlationId,requestedBy:t.context.staff_id,requestedByEmail:t.context.email});let r=Rf.safeParse(t.body);if(!r.success){y.warn("Cluster creation validation failed",{correlationId:t.correlationId,errors:r.error.errors}),H(e,"ValidationError","Invalid cluster creation data",t.correlationId,{validationErrors:r.error.errors});return}let{name:o,type:n,region:s,cidr:i}=r.data,a={name:o,type:n,region:s,cidr:i,status:"created"},c=await se.createCluster(a,t.correlationId);if(!c.success){y.warn("Cluster creation failed",{correlationId:t.correlationId,name:o,type:n,region:s,cidr:i,error:c.error}),c.error?.includes("overlap")||c.error?.includes("CIDR")?H(e,"Conflict",c.error,t.correlationId):c.error?.includes("already exists")||c.error?.includes("Conflict")?H(e,"Conflict","Cluster with this configuration already exists",t.correlationId):H(e,"InternalError","Failed to create cluster",t.correlationId);return}y.info("Cluster creation successful",{correlationId:t.correlationId,clusterId:c.data?.cluster_id,name:c.data?.name,type:c.data?.type,region:c.data?.region,cidr:c.data?.cidr,status:c.data?.status,createdBy:t.context.staff_id}),e.status(201).json({success:!0,data:{cluster_id:c.data?.cluster_id,name:c.data?.name,type:c.data?.type,region:c.data?.region,cidr:c.data?.cidr,status:c.data?.status,created_at:c.data?.created_at,updated_at:c.data?.updated_at},timestamp:new Date().toISOString()})}catch(r){y.error("Cluster creation handler error",{correlationId:t.correlationId,error:r instanceof Error?r.message:"Unknown error"}),H(e,"InternalError","Cluster creation failed",t.correlationId)}};Js();Qs();Ys();Ts();rr();At();ve();oi();xe();Rr();F();Je();Zt();var TG=async(t,e,r)=>({operation:nt(e).operation,region:await ge(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function Bce(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"cloudformation",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}var wG=t=>{let e=[];switch(t.operation){default:e.push(Bce(t))}return e},AG=t=>{let e=Gr(t);return Object.assign(e,{authSchemePreference:ge(t.authSchemePreference??[])})};var DG=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"cloudformation"}),mn={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var OG={name:"@aws-sdk/client-cloudformation",description:"AWS SDK for JavaScript Cloudformation Client for Node.js, Browser and React Native",version:"3.958.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-cloudformation","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo cloudformation","test:e2e":"yarn g:vitest run -c vitest.config.e2e.mts","test:e2e:watch":"yarn g:vitest watch -c vitest.config.e2e.mts","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.957.0","@aws-sdk/credential-provider-node":"3.958.0","@aws-sdk/middleware-host-header":"3.957.0","@aws-sdk/middleware-logger":"3.957.0","@aws-sdk/middleware-recursion-detection":"3.957.0","@aws-sdk/middleware-user-agent":"3.957.0","@aws-sdk/region-config-resolver":"3.957.0","@aws-sdk/types":"3.957.0","@aws-sdk/util-endpoints":"3.957.0","@aws-sdk/util-user-agent-browser":"3.957.0","@aws-sdk/util-user-agent-node":"3.957.0","@smithy/config-resolver":"^4.4.5","@smithy/core":"^3.20.0","@smithy/fetch-http-handler":"^5.3.8","@smithy/hash-node":"^4.2.7","@smithy/invalid-dependency":"^4.2.7","@smithy/middleware-content-length":"^4.2.7","@smithy/middleware-endpoint":"^4.4.1","@smithy/middleware-retry":"^4.4.17","@smithy/middleware-serde":"^4.2.8","@smithy/middleware-stack":"^4.2.7","@smithy/node-config-provider":"^4.3.7","@smithy/node-http-handler":"^4.4.7","@smithy/protocol-http":"^5.3.7","@smithy/smithy-client":"^4.10.2","@smithy/types":"^4.11.0","@smithy/url-parser":"^4.2.7","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.16","@smithy/util-defaults-mode-node":"^4.2.19","@smithy/util-endpoints":"^3.2.7","@smithy/util-middleware":"^4.2.7","@smithy/util-retry":"^4.2.7","@smithy/util-utf8":"^4.2.0","@smithy/util-waiter":"^4.2.7",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-cloudformation",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-cloudformation"}};Je();ii();rr();ai();Rr();Vo();Vn();F();ci();ui();Zn();Je();Yn();F();Jn();Kt();wt();Is();nn();var GG="required",as="fn",cs="argv",Sp="ref";var PG="isSet",Yl="booleanEquals",xp="error",yp="endpoint",ta="tree",nv="PartitionResult",sv="getAttr",kG={[GG]:!1,type:"string"},NG={[GG]:!0,default:!1,type:"boolean"},$G={[Sp]:"Endpoint"},HG={[as]:Yl,[cs]:[{[Sp]:"UseFIPS"},!0]},jG={[as]:Yl,[cs]:[{[Sp]:"UseDualStack"},!0]},is={},LG={[as]:sv,[cs]:[{[Sp]:nv},"supportsFIPS"]},VG={[Sp]:nv},MG={[as]:Yl,[cs]:[!0,{[as]:sv,[cs]:[VG,"supportsDualStack"]}]},BG=[HG],UG=[jG],FG=[{[Sp]:"Region"}],Fce={version:"1.0",parameters:{Region:kG,UseDualStack:NG,UseFIPS:NG,Endpoint:kG},rules:[{conditions:[{[as]:PG,[cs]:[$G]}],rules:[{conditions:BG,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:xp},{conditions:UG,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:xp},{endpoint:{url:$G,properties:is,headers:is},type:yp}],type:ta},{conditions:[{[as]:PG,[cs]:FG}],rules:[{conditions:[{[as]:"aws.partition",[cs]:FG,assign:nv}],rules:[{conditions:[HG,jG],rules:[{conditions:[{[as]:Yl,[cs]:[!0,LG]},MG],rules:[{endpoint:{url:"https://cloudformation-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:is,headers:is},type:yp}],type:ta},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:xp}],type:ta},{conditions:BG,rules:[{conditions:[{[as]:Yl,[cs]:[LG,!0]}],rules:[{conditions:[{[as]:"stringEquals",[cs]:[{[as]:sv,[cs]:[VG,"name"]},"aws-us-gov"]}],endpoint:{url:"https://cloudformation.{Region}.amazonaws.com",properties:is,headers:is},type:yp},{endpoint:{url:"https://cloudformation-fips.{Region}.{PartitionResult#dnsSuffix}",properties:is,headers:is},type:yp}],type:ta},{error:"FIPS is enabled but this partition does not support FIPS",type:xp}],type:ta},{conditions:UG,rules:[{conditions:[MG],rules:[{endpoint:{url:"https://cloudformation.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:is,headers:is},type:yp}],type:ta},{error:"DualStack is enabled but this partition does not support DualStack",type:xp}],type:ta},{endpoint:{url:"https://cloudformation.{Region}.{PartitionResult#dnsSuffix}",properties:is,headers:is},type:yp}],type:ta}],type:ta},{error:"Invalid Configuration: Missing Region",type:xp}]},zG=Fce;var Gce=new lr({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),KG=(t,e={})=>Gce.get(t,()=>Br(zG,{endpointParams:t,logger:e.logger}));jt.aws=_r;var WG=t=>({apiVersion:"2010-05-15",base64Decoder:t?.base64Decoder??st,base64Encoder:t?.base64Encoder??we,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??KG,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??wG,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new Ct}],logger:t?.logger??new Bt,protocol:t?.protocol??ri,protocolSettings:t?.protocolSettings??{defaultNamespace:"com.amazonaws.cloudformation",xmlNamespace:"http://cloudformation.amazonaws.com/doc/2010-05-15/",version:"2010-05-15",serviceTarget:"CloudFormation"},serviceId:t?.serviceId??"CloudFormation",urlParser:t?.urlParser??Mt,utf8Decoder:t?.utf8Decoder??it,utf8Encoder:t?.utf8Encoder??Xe});var qG=t=>{jr(process.version);let e=so(t),r=()=>e().then(Hr),o=WG(t);Ur(process.version);let n={profile:t?.profile,logger:o.logger};return{...o,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??G(Fr,n),bodyLengthChecker:t?.bodyLengthChecker??no,credentialDefaultProvider:t?.credentialDefaultProvider??ks,defaultUserAgentProvider:t?.defaultUserAgentProvider??ro({serviceId:o.serviceId,clientVersion:OG.version}),maxAttempts:t?.maxAttempts??G(Xr,t),region:t?.region??G(Jt,{...fr,...n}),requestHandler:Wt.create(t?.requestHandler??r),retryMode:t?.retryMode??G({...eo,default:async()=>(await r()).retryMode||hr},t),sha256:t?.sha256??Qt.bind(null,"sha256"),streamCollector:t?.streamCollector??ur,useDualstackEndpoint:t?.useDualstackEndpoint??G(Wr,n),useFipsEndpoint:t?.useFipsEndpoint??G(qr,n),userAgentAppId:t?.userAgentAppId??G(oo,n)}};ws();Pe();F();var JG=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,o=t.credentials;return{setHttpAuthScheme(n){let s=e.findIndex(i=>i.schemeId===n.schemeId);s===-1?e.push(n):e.splice(s,1,n)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(n){r=n},httpAuthSchemeProvider(){return r},setCredentials(n){o=n},credentials(){return o}}},QG=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()});var YG=(t,e)=>{let r=Object.assign(io(t),Vr(t),Ar(t),JG(t));return e.forEach(o=>o.configure(r)),Object.assign(t,ao(r),zr(r),Dr(r),QG(r))};var Xl=class extends Nt{config;constructor(...[e]){let r=qG(e||{});super(r),this.initConfig=r;let o=DG(r),n=Mr(o),s=Zr(n),i=Jr(s),a=i,c=Yr(a),u=AG(c),m=YG(u,e?.extensions||[]);this.config=m,this.middlewareStack.use(Lr(this.config)),this.middlewareStack.use(Kr(this.config)),this.middlewareStack.use(to(this.config)),this.middlewareStack.use(Qr(this.config)),this.middlewareStack.use(Or(this.config)),this.middlewareStack.use(Pr(this.config)),this.middlewareStack.use(kr(this.config)),this.middlewareStack.use(Nr(this.config,{httpAuthSchemeParametersProvider:TG,identityProviderConfigProvider:async f=>new dr({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use($r(this.config))}destroy(){super.destroy()}};ve();F();var Ke=class t extends mr{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}};var yx=class t extends Ke{name="InvalidOperationException";$fault="client";Message;constructor(e){super({name:"InvalidOperationException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},Sx=class t extends Ke{name="OperationNotFoundException";$fault="client";Message;constructor(e){super({name:"OperationNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},Ex=class t extends Ke{name="CFNRegistryException";$fault="client";Message;constructor(e){super({name:"CFNRegistryException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},_x=class t extends Ke{name="TypeNotFoundException";$fault="client";Message;constructor(e){super({name:"TypeNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},Rx=class t extends Ke{name="AlreadyExistsException";$fault="client";Message;constructor(e){super({name:"AlreadyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},bx=class t extends Ke{name="TypeConfigurationNotFoundException";$fault="client";Message;constructor(e){super({name:"TypeConfigurationNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},Cx=class t extends Ke{name="TokenAlreadyExistsException";$fault="client";Message;constructor(e){super({name:"TokenAlreadyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},vx=class t extends Ke{name="ChangeSetNotFoundException";$fault="client";Message;constructor(e){super({name:"ChangeSetNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},Ix=class t extends Ke{name="InsufficientCapabilitiesException";$fault="client";Message;constructor(e){super({name:"InsufficientCapabilitiesException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},Tx=class t extends Ke{name="LimitExceededException";$fault="client";Message;constructor(e){super({name:"LimitExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},wx=class t extends Ke{name="ConcurrentResourcesLimitExceededException";$fault="client";Message;constructor(e){super({name:"ConcurrentResourcesLimitExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},Ax=class t extends Ke{name="OperationIdAlreadyExistsException";$fault="client";Message;constructor(e){super({name:"OperationIdAlreadyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},Dx=class t extends Ke{name="OperationInProgressException";$fault="client";Message;constructor(e){super({name:"OperationInProgressException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},Ox=class t extends Ke{name="StackSetNotFoundException";$fault="client";Message;constructor(e){super({name:"StackSetNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},Px=class t extends Ke{name="StaleRequestException";$fault="client";Message;constructor(e){super({name:"StaleRequestException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},kx=class t extends Ke{name="CreatedButModifiedException";$fault="client";Message;constructor(e){super({name:"CreatedButModifiedException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},Nx=class t extends Ke{name="NameAlreadyExistsException";$fault="client";Message;constructor(e){super({name:"NameAlreadyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},$x=class t extends Ke{name="InvalidChangeSetStatusException";$fault="client";Message;constructor(e){super({name:"InvalidChangeSetStatusException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},Lx=class t extends Ke{name="GeneratedTemplateNotFoundException";$fault="client";Message;constructor(e){super({name:"GeneratedTemplateNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},Mx=class t extends Ke{name="StackSetNotEmptyException";$fault="client";Message;constructor(e){super({name:"StackSetNotEmptyException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},Bx=class t extends Ke{name="ResourceScanNotFoundException";$fault="client";Message;constructor(e){super({name:"ResourceScanNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},Ux=class t extends Ke{name="StackInstanceNotFoundException";$fault="client";Message;constructor(e){super({name:"StackInstanceNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},Fx=class t extends Ke{name="StackRefactorNotFoundException";$fault="client";Message;constructor(e){super({name:"StackRefactorNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},Gx=class t extends Ke{name="HookResultNotFoundException";$fault="client";Message;constructor(e){super({name:"HookResultNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},Hx=class t extends Ke{name="StackNotFoundException";$fault="client";Message;constructor(e){super({name:"StackNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},jx=class t extends Ke{name="ResourceScanInProgressException";$fault="client";Message;constructor(e){super({name:"ResourceScanInProgressException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},Vx=class t extends Ke{name="InvalidStateTransitionException";$fault="client";Message;constructor(e){super({name:"InvalidStateTransitionException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},zx=class t extends Ke{name="OperationStatusCheckFailedException";$fault="client";Message;constructor(e){super({name:"OperationStatusCheckFailedException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},Kx=class t extends Ke{name="ResourceScanLimitExceededException";$fault="client";Message;constructor(e){super({name:"ResourceScanLimitExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}};var Hce="Arn";var jce="AlreadyExistsException";var Vce="CreatedButModifiedException";var zce="CFNRegistryException";var Kce="CapabilitiesReason",Wce="ConcurrentResourcesLimitExceededException",Wx="ClientRequestToken";var qce="ChangeSetId";var Jce="CreateStackInput";var Qce="ChangeSetNotFoundException",Yce="CreateStackOutput";var Xce="CreateStack",XG="CreationTime";var qx="Capabilities";var Jx="Description";var ZG="DriftInformation";var e5="DeletionMode";var iv="DisableRollback";var Zce="DescribeStackEvents",eue="DescribeStackEventsInput",tue="DescribeStackEventsOutput",rue="DeleteStackInput";var oue="DescribeStacksInput";var nue="DescribeStacksOutput";var sue="DeleteStack",iue="DescribeStacks",t5="DetailedStatus";var aue="DeclaredTransforms";var r5="DeletionTime";var cue="DefaultValue";var uue="EventId";var pue="ExportName";var o5="EnableTerminationProtection";var due="GeneratedTemplateNotFoundException";var lue="HookFailureMode";var mue="HookInvocationId",fue="HookInvocationPoint";var hue="HookResultNotFoundException";var gue="HookStatus",xue="HookStatusReason";var yue="HookType";var Sue="InsufficientCapabilitiesException",Eue="InvalidChangeSetStatusException";var _ue="InvalidOperationException";var Rue="InvalidStateTransitionException";var bue="Key";var n5="LastCheckTimestamp";var Cue="LimitExceededException";var av="LastOperations";var vue="LogicalResourceId";var Iue="ListStacks",Tue="ListStacksInput";var wue="ListStacksOutput";var s5="LastUpdatedTime";var mt="Message";var Aue="MonitoringTimeInMinutes";var Due="NameAlreadyExistsException",cv="NotificationARNs",Oue="NoEcho";var Ep="NextToken",Pue="Output";var kue="OperationEntry";var Nue="OnFailure",Qx="OperationId",$ue="OperationIdAlreadyExistsException",Lue="OperationInProgressException",Mue="OutputKey",Bue="OperationNotFoundException";var Uue="OperationStatusCheckFailedException";var Fue="OperationType";var Gue="OutputValue",i5="Outputs",Zl="Parameters";var a5="ParentId";var c5="ParameterKey";var Hue="PhysicalResourceId";var jue="ParameterValue",Vue="Parameter";var Yx="RoleARN";var Xx="RollbackConfiguration";var uv="RetainExceptOnCreate";var u5="RootId";var zue="ResourceProperties";var Kue="RetainResources";var Wue="ResourceScanInProgressException";var que="ResourceScanLimitExceededException",Jue="ResourceScanNotFoundException";var Que="ResourceStatusReason";var Yue="ResourceStatus";var Xue="ResourceType";var p5="ResourceTypes";var d5="RollbackTriggers",Zue="RollbackTrigger",epe="ResolvedValue";var tpe="StackDriftInformation",rpe="StackDriftInformationSummary",l5="StackDriftStatus";var m5="StackEvents",ope="StackEvent";var em="StackId";var npe="StackInstanceNotFoundException";var Ba="StackName",spe="StackNotFoundException",f5="StackPolicyBody",ipe="StackPolicyDuringUpdateBody",ape="StackPolicyDuringUpdateURL",h5="StackPolicyURL";var cpe="StaleRequestException";var upe="StackRefactorNotFoundException";var ppe="StackStatusFilter";var dpe="StackSetNotEmptyException",lpe="StackSetNotFoundException";var g5="StackStatusReason";var x5="StackSummaries",y5="StackStatus",mpe="StackSummary";var S5="Stacks",fpe="Stack";var hpe="Type";var gpe="TokenAlreadyExistsException",pv="TemplateBody";var xpe="TypeConfigurationNotFoundException";var ype="TemplateDescription";var E5="TimeoutInMinutes";var Spe="TypeNotFoundException";var Epe="TemplateParameter";var _pe="TemplateParameters";var dv="TemplateURL";var Zx="Tags",Rpe="Tag";var bpe="Timestamp";var Cpe="UsePreviousTemplate",vpe="UsePreviousValue";var Ipe="UpdateStack",Tpe="UpdateStackInput";var wpe="UpdateStackOutput";var Ape="Value";var Dpe="ValidateTemplate",Ope="ValidateTemplateInput",Ppe="ValidateTemplateOutput";var ft="awsQueryError",ht="client",gt="error",xt="httpError",_5="smithy.ts.sdk.synthetic.com.amazonaws.cloudformation",L="com.amazonaws.cloudformation";var kpe=[-3,L,jce,{[ft]:["AlreadyExistsException",400],[gt]:ht,[xt]:400},[mt],[0]];R.for(L).registerError(kpe,Rx);var Npe=[-3,L,zce,{[ft]:["CFNRegistryException",400],[gt]:ht,[xt]:400},[mt],[0]];R.for(L).registerError(Npe,Ex);var $pe=[-3,L,Qce,{[ft]:["ChangeSetNotFound",404],[gt]:ht,[xt]:404},[mt],[0]];R.for(L).registerError($pe,vx);var Lpe=[-3,L,Wce,{[ft]:["ConcurrentResourcesLimitExceeded",429],[gt]:ht,[xt]:429},[mt],[0]];R.for(L).registerError(Lpe,wx);var Mpe=[-3,L,Vce,{[ft]:["CreatedButModifiedException",409],[gt]:ht,[xt]:409},[mt],[0]];R.for(L).registerError(Mpe,kx);var Bpe=[3,L,Jce,0,[Ba,pv,dv,Zl,iv,Xx,E5,cv,qx,p5,Yx,Nue,f5,h5,Zx,Wx,o5,uv],[0,0,0,()=>mv,2,()=>lv,1,64,64,64,0,0,0,0,()=>fv,0,2,2]];var Upe=[3,L,Yce,0,[em,Qx],[0,0]];var Fpe=[3,L,rue,0,[Ba,Kue,Yx,Wx,e5],[0,64,0,0,0]];var Gpe=[3,L,eue,0,[Ba,Ep],[0,0]],Hpe=[3,L,tue,0,[m5,Ep],[()=>Lde,0]];var jpe=[3,L,oue,0,[Ba,Ep],[0,0]],Vpe=[3,L,nue,0,[S5,Ep],[()=>Mde,0]];var zpe=[-3,L,due,{[ft]:["GeneratedTemplateNotFound",404],[gt]:ht,[xt]:404},[mt],[0]];R.for(L).registerError(zpe,Lx);var Kpe=[-3,L,hue,{[ft]:["HookResultNotFound",404],[gt]:ht,[xt]:404},[mt],[0]];R.for(L).registerError(Kpe,Gx);var Wpe=[-3,L,Sue,{[ft]:["InsufficientCapabilitiesException",400],[gt]:ht,[xt]:400},[mt],[0]];R.for(L).registerError(Wpe,Ix);var qpe=[-3,L,Eue,{[ft]:["InvalidChangeSetStatus",400],[gt]:ht,[xt]:400},[mt],[0]];R.for(L).registerError(qpe,$x);var Jpe=[-3,L,_ue,{[ft]:["InvalidOperationException",400],[gt]:ht,[xt]:400},[mt],[0]];R.for(L).registerError(Jpe,yx);var Qpe=[-3,L,Rue,{[ft]:["InvalidStateTransition",400],[gt]:ht,[xt]:400},[mt],[0]];R.for(L).registerError(Qpe,Vx);var Ype=[-3,L,Cue,{[ft]:["LimitExceededException",400],[gt]:ht,[xt]:400},[mt],[0]];R.for(L).registerError(Ype,Tx);var Xpe=[3,L,Tue,0,[Ep,ppe],[0,64]],Zpe=[3,L,wue,0,[x5,Ep],[()=>Bde,0]];var ede=[-3,L,Due,{[ft]:["NameAlreadyExistsException",409],[gt]:ht,[xt]:409},[mt],[0]];R.for(L).registerError(ede,Nx);var tde=[3,L,kue,0,[Fue,Qx],[0,0]];var rde=[-3,L,$ue,{[ft]:["OperationIdAlreadyExistsException",409],[gt]:ht,[xt]:409},[mt],[0]];R.for(L).registerError(rde,Ax);var ode=[-3,L,Lue,{[ft]:["OperationInProgressException",409],[gt]:ht,[xt]:409},[mt],[0]];R.for(L).registerError(ode,Dx);var nde=[-3,L,Bue,{[ft]:["OperationNotFoundException",404],[gt]:ht,[xt]:404},[mt],[0]];R.for(L).registerError(nde,Sx);var sde=[-3,L,Uue,{[ft]:["ConditionalCheckFailed",400],[gt]:ht,[xt]:400},[mt],[0]];R.for(L).registerError(sde,zx);var ide=[3,L,Pue,0,[Mue,Gue,Jx,pue],[0,0,0,0]],ade=[3,L,Vue,0,[c5,jue,vpe,epe],[0,0,2,0]];var cde=[-3,L,Wue,{[ft]:["ResourceScanInProgress",400],[gt]:ht,[xt]:400},[mt],[0]];R.for(L).registerError(cde,jx);var ude=[-3,L,que,{[ft]:["ResourceScanLimitExceeded",400],[gt]:ht,[xt]:400},[mt],[0]];R.for(L).registerError(ude,Kx);var pde=[-3,L,Jue,{[ft]:["ResourceScanNotFound",400],[gt]:ht,[xt]:400},[mt],[0]];R.for(L).registerError(pde,Bx);var lv=[3,L,Xx,0,[d5,Aue],[()=>$de,1]];var dde=[3,L,Zue,0,[Hce,hpe],[0,0]];var lde=[3,L,fpe,0,[em,Ba,qce,Jx,Zl,XG,r5,s5,Xx,y5,g5,iv,cv,E5,qx,i5,Yx,Zx,o5,a5,u5,ZG,uv,e5,t5,av],[0,0,0,0,()=>mv,4,4,4,()=>lv,0,0,2,64,1,64,()=>Nde,0,()=>fv,2,0,0,()=>mde,2,0,0,()=>R5]];var mde=[3,L,tpe,0,[l5,n5],[0,4]],fde=[3,L,rpe,0,[l5,n5],[0,4]],hde=[3,L,ope,0,[em,uue,Ba,Qx,vue,Hue,Xue,bpe,Yue,Que,zue,Wx,yue,gue,xue,fue,mue,lue,t5],[0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0]];var gde=[-3,L,npe,{[ft]:["StackInstanceNotFoundException",404],[gt]:ht,[xt]:404},[mt],[0]];R.for(L).registerError(gde,Ux);var xde=[-3,L,spe,{[ft]:["StackNotFoundException",404],[gt]:ht,[xt]:404},[mt],[0]];R.for(L).registerError(xde,Hx);var yde=[-3,L,upe,{[ft]:["StackRefactorNotFoundException",404],[gt]:ht,[xt]:404},[mt],[0]];R.for(L).registerError(yde,Fx);var Sde=[-3,L,dpe,{[ft]:["StackSetNotEmptyException",409],[gt]:ht,[xt]:409},[mt],[0]];R.for(L).registerError(Sde,Mx);var Ede=[-3,L,lpe,{[ft]:["StackSetNotFoundException",404],[gt]:ht,[xt]:404},[mt],[0]];R.for(L).registerError(Ede,Ox);var _de=[3,L,mpe,0,[em,Ba,ype,XG,s5,r5,y5,g5,a5,u5,ZG,av],[0,0,0,4,4,4,0,0,0,0,()=>fde,()=>R5]],Rde=[-3,L,cpe,{[ft]:["StaleRequestException",409],[gt]:ht,[xt]:409},[mt],[0]];R.for(L).registerError(Rde,Px);var bde=[3,L,Rpe,0,[bue,Ape],[0,0]];var Cde=[3,L,Epe,0,[c5,cue,Oue,Jx],[0,0,2,0]];var vde=[-3,L,gpe,{[ft]:["TokenAlreadyExistsException",400],[gt]:ht,[xt]:400},[mt],[0]];R.for(L).registerError(vde,Cx);var Ide=[-3,L,xpe,{[ft]:["TypeConfigurationNotFoundException",404],[gt]:ht,[xt]:404},[mt],[0]];R.for(L).registerError(Ide,bx);var Tde=[-3,L,Spe,{[ft]:["TypeNotFoundException",404],[gt]:ht,[xt]:404},[mt],[0]];R.for(L).registerError(Tde,_x);var wde=[3,L,Tpe,0,[Ba,pv,dv,Cpe,ipe,ape,Zl,qx,p5,Yx,Xx,f5,h5,cv,Zx,iv,Wx,uv],[0,0,0,2,0,0,()=>mv,64,64,0,()=>lv,0,0,64,()=>fv,2,0,2]];var Ade=[3,L,wpe,0,[em,Qx],[0,0]];var Dde=[3,L,Ope,0,[pv,dv],[0,0]],Ode=[3,L,Ppe,0,[Zl,Jx,qx,Kce,aue],[()=>Ude,0,64,0,64]];var Pde="unit",kde=[-3,_5,"CloudFormationServiceException",0,[],[]];R.for(_5).registerError(kde,Ke);var R5=[1,L,av,0,()=>tde];var Nde=[1,L,i5,0,()=>ide];var mv=[1,L,Zl,0,()=>ade];var $de=[1,L,d5,0,()=>dde];var Lde=[1,L,m5,0,()=>hde];var Mde=[1,L,S5,0,()=>lde];var Bde=[1,L,x5,0,()=>_de];var fv=[1,L,Zx,0,()=>bde],Ude=[1,L,_pe,0,()=>Cde];var b5=[9,L,Xce,0,()=>Bpe,()=>Upe];var C5=[9,L,sue,0,()=>Fpe,()=>Pde];var v5=[9,L,Zce,0,()=>Gpe,()=>Hpe];var I5=[9,L,iue,0,()=>jpe,()=>Vpe];var T5=[9,L,Iue,0,()=>Xpe,()=>Zpe];var w5=[9,L,Ipe,0,()=>wde,()=>Ade];var A5=[9,L,Dpe,0,()=>Dde,()=>Ode];xe();F();var ey=class extends Y.classBuilder().ep(mn).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("CloudFormation","CreateStack",{}).n("CloudFormationClient","CreateStackCommand").sc(b5).build(){};xe();F();var ty=class extends Y.classBuilder().ep(mn).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("CloudFormation","DeleteStack",{}).n("CloudFormationClient","DeleteStackCommand").sc(C5).build(){};xe();F();var ry=class extends Y.classBuilder().ep(mn).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("CloudFormation","DescribeStackEvents",{}).n("CloudFormationClient","DescribeStackEventsCommand").sc(v5).build(){};xe();F();var tm=class extends Y.classBuilder().ep(mn).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("CloudFormation","DescribeStacks",{}).n("CloudFormationClient","DescribeStacksCommand").sc(I5).build(){};xe();F();var oy=class extends Y.classBuilder().ep(mn).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("CloudFormation","ListStacks",{}).n("CloudFormationClient","ListStacksCommand").sc(T5).build(){};xe();F();var ny=class extends Y.classBuilder().ep(mn).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("CloudFormation","UpdateStack",{}).n("CloudFormationClient","UpdateStackCommand").sc(w5).build(){};xe();F();var sy=class extends Y.classBuilder().ep(mn).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("CloudFormation","ValidateTemplate",{}).n("CloudFormationClient","ValidateTemplateCommand").sc(A5).build(){};Js();Qs();Ys();Ts();rr();At();ve();oi();xe();Rr();F();Je();Zt();var O5=async(t,e,r)=>({operation:nt(e).operation,region:await ge(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function Fde(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function D5(t){return{schemeId:"smithy.api#noAuth"}}var P5=t=>{let e=[];switch(t.operation){case"AssumeRoleWithSAML":{e.push(D5(t));break}case"AssumeRoleWithWebIdentity":{e.push(D5(t));break}default:e.push(Fde(t))}return e},Gde=t=>Object.assign(t,{stsClientCtor:ra}),k5=t=>{let e=Gde(t),r=Gr(e);return Object.assign(r,{authSchemePreference:ge(t.authSchemePreference??[])})};var N5=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,useGlobalEndpoint:t.useGlobalEndpoint??!1,defaultSigningName:"sts"}),iy={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var $5={name:"@aws-sdk/client-sts",description:"AWS SDK for JavaScript Sts Client for Node.js, Browser and React Native",version:"3.958.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-sts","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"rimraf ./dist-types tsconfig.types.tsbuildinfo && tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sts",test:"yarn g:vitest run","test:e2e":"yarn g:vitest run -c vitest.config.e2e.mts --mode development","test:e2e:watch":"yarn g:vitest watch -c vitest.config.e2e.mts","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs","test:watch":"yarn g:vitest watch"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.957.0","@aws-sdk/credential-provider-node":"3.958.0","@aws-sdk/middleware-host-header":"3.957.0","@aws-sdk/middleware-logger":"3.957.0","@aws-sdk/middleware-recursion-detection":"3.957.0","@aws-sdk/middleware-user-agent":"3.957.0","@aws-sdk/region-config-resolver":"3.957.0","@aws-sdk/types":"3.957.0","@aws-sdk/util-endpoints":"3.957.0","@aws-sdk/util-user-agent-browser":"3.957.0","@aws-sdk/util-user-agent-node":"3.957.0","@smithy/config-resolver":"^4.4.5","@smithy/core":"^3.20.0","@smithy/fetch-http-handler":"^5.3.8","@smithy/hash-node":"^4.2.7","@smithy/invalid-dependency":"^4.2.7","@smithy/middleware-content-length":"^4.2.7","@smithy/middleware-endpoint":"^4.4.1","@smithy/middleware-retry":"^4.4.17","@smithy/middleware-serde":"^4.2.8","@smithy/middleware-stack":"^4.2.7","@smithy/node-config-provider":"^4.3.7","@smithy/node-http-handler":"^4.4.7","@smithy/protocol-http":"^5.3.7","@smithy/smithy-client":"^4.10.2","@smithy/types":"^4.11.0","@smithy/url-parser":"^4.2.7","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.16","@smithy/util-defaults-mode-node":"^4.2.19","@smithy/util-endpoints":"^3.2.7","@smithy/util-middleware":"^4.2.7","@smithy/util-retry":"^4.2.7","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sts",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sts"}};Je();ii();rr();At();ai();Rr();Vo();Vn();F();ci();ui();Zn();Je();Yn();At();F();Jn();Kt();wt();Is();nn();var K5="required",Ee="type",tt="fn",rt="argv",Fa="ref";var Ua="booleanEquals",_o="stringEquals",W5="sigv4",q5="sts",J5="us-east-1",Ft="endpoint",L5="https://sts.{Region}.{PartitionResult#dnsSuffix}",Ei="tree",_p="error",gv="getAttr",M5={[K5]:!1,[Ee]:"string"},hv={[K5]:!0,default:!1,[Ee]:"boolean"},Q5={[Fa]:"Endpoint"},B5={[tt]:"isSet",[rt]:[{[Fa]:"Region"}]},Ro={[Fa]:"Region"},U5={[tt]:"aws.partition",[rt]:[Ro],assign:"PartitionResult"},Y5={[Fa]:"UseFIPS"},X5={[Fa]:"UseDualStack"},Lo={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:W5,signingName:q5,signingRegion:J5}]},headers:{}},An={},F5={conditions:[{[tt]:_o,[rt]:[Ro,"aws-global"]}],[Ft]:Lo,[Ee]:Ft},Z5={[tt]:Ua,[rt]:[Y5,!0]},e8={[tt]:Ua,[rt]:[X5,!0]},G5={[tt]:gv,[rt]:[{[Fa]:"PartitionResult"},"supportsFIPS"]},t8={[Fa]:"PartitionResult"},H5={[tt]:Ua,[rt]:[!0,{[tt]:gv,[rt]:[t8,"supportsDualStack"]}]},j5=[{[tt]:"isSet",[rt]:[Q5]}],V5=[Z5],z5=[e8],jde={version:"1.0",parameters:{Region:M5,UseDualStack:hv,UseFIPS:hv,Endpoint:M5,UseGlobalEndpoint:hv},rules:[{conditions:[{[tt]:Ua,[rt]:[{[Fa]:"UseGlobalEndpoint"},!0]},{[tt]:"not",[rt]:j5},B5,U5,{[tt]:Ua,[rt]:[Y5,!1]},{[tt]:Ua,[rt]:[X5,!1]}],rules:[{conditions:[{[tt]:_o,[rt]:[Ro,"ap-northeast-1"]}],endpoint:Lo,[Ee]:Ft},{conditions:[{[tt]:_o,[rt]:[Ro,"ap-south-1"]}],endpoint:Lo,[Ee]:Ft},{conditions:[{[tt]:_o,[rt]:[Ro,"ap-southeast-1"]}],endpoint:Lo,[Ee]:Ft},{conditions:[{[tt]:_o,[rt]:[Ro,"ap-southeast-2"]}],endpoint:Lo,[Ee]:Ft},F5,{conditions:[{[tt]:_o,[rt]:[Ro,"ca-central-1"]}],endpoint:Lo,[Ee]:Ft},{conditions:[{[tt]:_o,[rt]:[Ro,"eu-central-1"]}],endpoint:Lo,[Ee]:Ft},{conditions:[{[tt]:_o,[rt]:[Ro,"eu-north-1"]}],endpoint:Lo,[Ee]:Ft},{conditions:[{[tt]:_o,[rt]:[Ro,"eu-west-1"]}],endpoint:Lo,[Ee]:Ft},{conditions:[{[tt]:_o,[rt]:[Ro,"eu-west-2"]}],endpoint:Lo,[Ee]:Ft},{conditions:[{[tt]:_o,[rt]:[Ro,"eu-west-3"]}],endpoint:Lo,[Ee]:Ft},{conditions:[{[tt]:_o,[rt]:[Ro,"sa-east-1"]}],endpoint:Lo,[Ee]:Ft},{conditions:[{[tt]:_o,[rt]:[Ro,J5]}],endpoint:Lo,[Ee]:Ft},{conditions:[{[tt]:_o,[rt]:[Ro,"us-east-2"]}],endpoint:Lo,[Ee]:Ft},{conditions:[{[tt]:_o,[rt]:[Ro,"us-west-1"]}],endpoint:Lo,[Ee]:Ft},{conditions:[{[tt]:_o,[rt]:[Ro,"us-west-2"]}],endpoint:Lo,[Ee]:Ft},{endpoint:{url:L5,properties:{authSchemes:[{name:W5,signingName:q5,signingRegion:"{Region}"}]},headers:An},[Ee]:Ft}],[Ee]:Ei},{conditions:j5,rules:[{conditions:V5,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[Ee]:_p},{conditions:z5,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[Ee]:_p},{endpoint:{url:Q5,properties:An,headers:An},[Ee]:Ft}],[Ee]:Ei},{conditions:[B5],rules:[{conditions:[U5],rules:[{conditions:[Z5,e8],rules:[{conditions:[{[tt]:Ua,[rt]:[!0,G5]},H5],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:An,headers:An},[Ee]:Ft}],[Ee]:Ei},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[Ee]:_p}],[Ee]:Ei},{conditions:V5,rules:[{conditions:[{[tt]:Ua,[rt]:[G5,!0]}],rules:[{conditions:[{[tt]:_o,[rt]:[{[tt]:gv,[rt]:[t8,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:An,headers:An},[Ee]:Ft},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:An,headers:An},[Ee]:Ft}],[Ee]:Ei},{error:"FIPS is enabled but this partition does not support FIPS",[Ee]:_p}],[Ee]:Ei},{conditions:z5,rules:[{conditions:[H5],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:An,headers:An},[Ee]:Ft}],[Ee]:Ei},{error:"DualStack is enabled but this partition does not support DualStack",[Ee]:_p}],[Ee]:Ei},F5,{endpoint:{url:L5,properties:An,headers:An},[Ee]:Ft}],[Ee]:Ei}],[Ee]:Ei},{error:"Invalid Configuration: Missing Region",[Ee]:_p}]},r8=jde;var Vde=new lr({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),o8=(t,e={})=>Vde.get(t,()=>Br(r8,{endpointParams:t,logger:e.logger}));jt.aws=_r;var n8=t=>({apiVersion:"2011-06-15",base64Decoder:t?.base64Decoder??st,base64Encoder:t?.base64Encoder??we,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??o8,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??P5,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new Ct},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Ao}],logger:t?.logger??new Bt,protocol:t?.protocol??ri,protocolSettings:t?.protocolSettings??{defaultNamespace:"com.amazonaws.sts",xmlNamespace:"https://sts.amazonaws.com/doc/2011-06-15/",version:"2011-06-15",serviceTarget:"AWSSecurityTokenServiceV20110615"},serviceId:t?.serviceId??"STS",urlParser:t?.urlParser??Mt,utf8Decoder:t?.utf8Decoder??it,utf8Encoder:t?.utf8Encoder??Xe});var s8=t=>{jr(process.version);let e=so(t),r=()=>e().then(Hr),o=n8(t);Ur(process.version);let n={profile:t?.profile,logger:o.logger};return{...o,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??G(Fr,n),bodyLengthChecker:t?.bodyLengthChecker??no,credentialDefaultProvider:t?.credentialDefaultProvider??ks,defaultUserAgentProvider:t?.defaultUserAgentProvider??ro({serviceId:o.serviceId,clientVersion:$5.version}),httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:s=>s.getIdentityProvider("aws.auth#sigv4")||(async i=>await ks(i?.__config||{})()),signer:new Ct},{schemeId:"smithy.api#noAuth",identityProvider:s=>s.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Ao}],maxAttempts:t?.maxAttempts??G(Xr,t),region:t?.region??G(Jt,{...fr,...n}),requestHandler:Wt.create(t?.requestHandler??r),retryMode:t?.retryMode??G({...eo,default:async()=>(await r()).retryMode||hr},t),sha256:t?.sha256??Qt.bind(null,"sha256"),streamCollector:t?.streamCollector??ur,useDualstackEndpoint:t?.useDualstackEndpoint??G(Wr,n),useFipsEndpoint:t?.useFipsEndpoint??G(qr,n),userAgentAppId:t?.userAgentAppId??G(oo,n)}};ws();Pe();F();var i8=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,o=t.credentials;return{setHttpAuthScheme(n){let s=e.findIndex(i=>i.schemeId===n.schemeId);s===-1?e.push(n):e.splice(s,1,n)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(n){r=n},httpAuthSchemeProvider(){return r},setCredentials(n){o=n},credentials(){return o}}},a8=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()});var c8=(t,e)=>{let r=Object.assign(io(t),Vr(t),Ar(t),i8(t));return e.forEach(o=>o.configure(r)),Object.assign(t,ao(r),zr(r),Dr(r),a8(r))};var ra=class extends Nt{config;constructor(...[e]){let r=s8(e||{});super(r),this.initConfig=r;let o=N5(r),n=Mr(o),s=Zr(n),i=Jr(s),a=i,c=Yr(a),u=k5(c),m=c8(u,e?.extensions||[]);this.config=m,this.middlewareStack.use(Lr(this.config)),this.middlewareStack.use(Kr(this.config)),this.middlewareStack.use(to(this.config)),this.middlewareStack.use(Qr(this.config)),this.middlewareStack.use(Or(this.config)),this.middlewareStack.use(Pr(this.config)),this.middlewareStack.use(kr(this.config)),this.middlewareStack.use(Nr(this.config,{httpAuthSchemeParametersProvider:O5,identityProviderConfigProvider:async f=>new dr({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use($r(this.config))}destroy(){super.destroy()}};xe();F();ve();F();var bo=class t extends mr{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}};var ay=class t extends bo{name="ExpiredTokenException";$fault="client";constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},cy=class t extends bo{name="MalformedPolicyDocumentException";$fault="client";constructor(e){super({name:"MalformedPolicyDocumentException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},uy=class t extends bo{name="PackedPolicyTooLargeException";$fault="client";constructor(e){super({name:"PackedPolicyTooLargeException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},py=class t extends bo{name="RegionDisabledException";$fault="client";constructor(e){super({name:"RegionDisabledException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},dy=class t extends bo{name="IDPRejectedClaimException";$fault="client";constructor(e){super({name:"IDPRejectedClaimException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},ly=class t extends bo{name="InvalidIdentityTokenException";$fault="client";constructor(e){super({name:"InvalidIdentityTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},my=class t extends bo{name="IDPCommunicationErrorException";$fault="client";constructor(e){super({name:"IDPCommunicationErrorException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},fy=class t extends bo{name="InvalidAuthorizationMessageException";$fault="client";constructor(e){super({name:"InvalidAuthorizationMessageException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},hy=class t extends bo{name="ExpiredTradeInTokenException";$fault="client";constructor(e){super({name:"ExpiredTradeInTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},gy=class t extends bo{name="JWTPayloadSizeExceededException";$fault="client";constructor(e){super({name:"JWTPayloadSizeExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},xy=class t extends bo{name="OutboundWebIdentityFederationDisabledException";$fault="client";constructor(e){super({name:"OutboundWebIdentityFederationDisabledException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},yy=class t extends bo{name="SessionDurationEscalationException";$fault="client";constructor(e){super({name:"SessionDurationEscalationException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}};var u8="Arn",zde="AccessKeyId";var Kde="AssumeRole",Wde="AssumedRoleId",qde="AssumeRoleRequest",Jde="AssumeRoleResponse";var p8="AssumedRoleUser";var Qde="Account";var d8="Credentials",Yde="ContextAssertion";var Xde="DurationSeconds",Zde="Expiration",ele="ExternalId";var tle="ExpiredTokenException",rle="ExpiredTradeInTokenException";var ole="GetCallerIdentity",nle="GetCallerIdentityRequest",sle="GetCallerIdentityResponse";var ile="InvalidAuthorizationMessageException",ale="IDPCommunicationErrorException",cle="IDPRejectedClaimException",ule="InvalidIdentityTokenException",ple="JWTPayloadSizeExceededException",dle="Key",lle="MalformedPolicyDocumentException";var mle="OutboundWebIdentityFederationDisabledException",fle="Policy",hle="PolicyArns";var gle="ProviderArn",xle="ProvidedContexts",yle="ProvidedContextsListType",Sle="ProvidedContext",Ele="PolicyDescriptorType";var _le="PackedPolicySize",Rle="PackedPolicyTooLargeException";var ble="RoleArn",Cle="RegionDisabledException",vle="RoleSessionName";var Ile="SecretAccessKey";var Tle="SessionDurationEscalationException";var l8="SourceIdentity",wle="SerialNumber";var Ale="SessionToken",Dle="Tags",Ole="TokenCode";var Ple="TransitiveTagKeys",kle="Tag",Nle="UserId",$le="Value";var Lle="arn",Mle="accessKeySecretType",us="awsQueryError",ps="client";var ds="error",ls="httpError",ms="message",Ble="policyDescriptorListType",m8="smithy.ts.sdk.synthetic.com.amazonaws.sts";var Ule="tagListType";var Te="com.amazonaws.sts",Fle=[0,Te,Mle,8,0];var Gle=[3,Te,p8,0,[Wde,u8],[0,0]],Hle=[3,Te,qde,0,[ble,vle,hle,fle,Xde,Dle,Ple,ele,wle,Ole,l8,xle],[0,0,()=>ume,0,1,()=>dme,64,0,0,0,0,()=>pme]],jle=[3,Te,Jde,0,[d8,p8,_le,l8],[[()=>Vle,0],()=>Gle,1,0]];var Vle=[3,Te,d8,0,[zde,Ile,Ale,Zde],[0,[()=>Fle,0],0,4]];var zle=[-3,Te,tle,{[us]:["ExpiredTokenException",400],[ds]:ps,[ls]:400},[ms],[0]];R.for(Te).registerError(zle,ay);var Kle=[-3,Te,rle,{[us]:["ExpiredTradeInTokenException",400],[ds]:ps,[ls]:400},[ms],[0]];R.for(Te).registerError(Kle,hy);var Wle=[3,Te,nle,0,[],[]],qle=[3,Te,sle,0,[Nle,Qde,u8],[0,0,0]];var Jle=[-3,Te,ale,{[us]:["IDPCommunicationError",400],[ds]:ps,[ls]:400},[ms],[0]];R.for(Te).registerError(Jle,my);var Qle=[-3,Te,cle,{[us]:["IDPRejectedClaim",403],[ds]:ps,[ls]:403},[ms],[0]];R.for(Te).registerError(Qle,dy);var Yle=[-3,Te,ile,{[us]:["InvalidAuthorizationMessageException",400],[ds]:ps,[ls]:400},[ms],[0]];R.for(Te).registerError(Yle,fy);var Xle=[-3,Te,ule,{[us]:["InvalidIdentityToken",400],[ds]:ps,[ls]:400},[ms],[0]];R.for(Te).registerError(Xle,ly);var Zle=[-3,Te,ple,{[us]:["JWTPayloadSizeExceededException",400],[ds]:ps,[ls]:400},[ms],[0]];R.for(Te).registerError(Zle,gy);var eme=[-3,Te,lle,{[us]:["MalformedPolicyDocument",400],[ds]:ps,[ls]:400},[ms],[0]];R.for(Te).registerError(eme,cy);var tme=[-3,Te,mle,{[us]:["OutboundWebIdentityFederationDisabledException",403],[ds]:ps,[ls]:403},[ms],[0]];R.for(Te).registerError(tme,xy);var rme=[-3,Te,Rle,{[us]:["PackedPolicyTooLarge",400],[ds]:ps,[ls]:400},[ms],[0]];R.for(Te).registerError(rme,uy);var ome=[3,Te,Ele,0,[Lle],[0]],nme=[3,Te,Sle,0,[gle,Yde],[0,0]],sme=[-3,Te,Cle,{[us]:["RegionDisabledException",403],[ds]:ps,[ls]:403},[ms],[0]];R.for(Te).registerError(sme,py);var ime=[-3,Te,Tle,{[us]:["SessionDurationEscalationException",403],[ds]:ps,[ls]:403},[ms],[0]];R.for(Te).registerError(ime,yy);var ame=[3,Te,kle,0,[dle,$le],[0,0]],cme=[-3,m8,"STSServiceException",0,[],[]];R.for(m8).registerError(cme,bo);var ume=[1,Te,Ble,0,()=>ome],pme=[1,Te,yle,0,()=>nme];var dme=[1,Te,Ule,0,()=>ame];var f8=[9,Te,Kde,0,()=>Hle,()=>jle];var h8=[9,Te,ole,0,()=>Wle,()=>qle];var Rp=class extends Y.classBuilder().ep(iy).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").sc(f8).build(){};xe();F();var bp=class extends Y.classBuilder().ep(iy).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetCallerIdentity",{}).n("STSClient","GetCallerIdentityCommand").sc(h8).build(){};var lme=E.object({stackName:E.string().min(1).max(128),templateUrl:E.string().url(),parameters:E.array(E.object({ParameterKey:E.string(),ParameterValue:E.string()})).optional(),tags:E.array(E.object({Key:E.string(),Value:E.string()})).optional(),capabilities:E.array(E.enum(["CAPABILITY_IAM","CAPABILITY_NAMED_IAM","CAPABILITY_AUTO_EXPAND"])).optional(),roleArn:E.string().optional(),timeoutInMinutes:E.number().min(1).max(180).optional(),enableTerminationProtection:E.boolean().optional()}),lht=E.object({roleArn:E.string(),sessionName:E.string(),externalId:E.string().optional(),durationSeconds:E.number().min(900).max(43200).optional()});var yv=class{client;stsClient;config;constructor(e){this.config=wr();let r=e||this.config.aws.region;this.client=new Xl({region:r,maxAttempts:3}),this.stsClient=new ra({region:r,maxAttempts:3})}async assumeRoleAndGetClient(e){try{y.info("Assuming cross-account role",{roleArn:e.roleArn,sessionName:e.sessionName});let r=new Rp({RoleArn:e.roleArn,RoleSessionName:e.sessionName,ExternalId:e.externalId,DurationSeconds:e.durationSeconds||3600}),o=await this.stsClient.send(r);if(!o.Credentials)throw new Error("Failed to assume role: No credentials returned");let n=new Xl({region:this.client.config.region,credentials:{accessKeyId:o.Credentials.AccessKeyId,secretAccessKey:o.Credentials.SecretAccessKey,sessionToken:o.Credentials.SessionToken},maxAttempts:3});return y.info("Successfully assumed cross-account role",{assumedRoleId:o.AssumedRoleUser?.AssumedRoleId,expiration:o.Credentials.Expiration}),n}catch(r){throw y.error("Failed to assume cross-account role",{error:r instanceof Error?r.message:"Unknown error",roleArn:e.roleArn}),r}}async validateCredentials(){try{let e=new bp({}),r=await this.stsClient.send(e);return{accountId:r.Account,arn:r.Arn}}catch(e){throw y.error("Failed to validate AWS credentials",{error:e instanceof Error?e.message:"Unknown error"}),new Error("Invalid AWS credentials or insufficient permissions")}}async deployStack(e,r){try{let o=lme.parse(e),n=r?await this.assumeRoleAndGetClient(r):this.client;y.info("Starting CloudFormation deployment",{stackName:o.stackName,templateUrl:o.templateUrl,crossAccount:!!r});let s=await this.stackExists(o.stackName,n),i;s?i=new ny({StackName:o.stackName,TemplateURL:o.templateUrl,Parameters:o.parameters,Tags:o.tags,Capabilities:o.capabilities,RoleARN:o.roleArn}):i=new ey({StackName:o.stackName,TemplateURL:o.templateUrl,Parameters:o.parameters,Tags:o.tags,Capabilities:o.capabilities,RoleARN:o.roleArn,TimeoutInMinutes:o.timeoutInMinutes,EnableTerminationProtection:o.enableTerminationProtection});let a=await n.send(i);return y.info("CloudFormation deployment initiated",{stackId:a.StackId,stackName:o.stackName,operation:s?"update":"create"}),{stackId:a.StackId,stackName:o.stackName,status:s?"UPDATE_IN_PROGRESS":"CREATE_IN_PROGRESS"}}catch(o){return y.error("CloudFormation deployment failed",{error:o instanceof Error?o.message:"Unknown error",stackName:e.stackName}),{stackId:"",stackName:e.stackName,status:"CREATE_FAILED",error:o instanceof Error?o.message:"Unknown deployment error"}}}async getStackStatus(e,r){try{let o=r?await this.assumeRoleAndGetClient(r):this.client,n=new tm({StackName:e}),i=(await o.send(n)).Stacks?.[0];return i?{stackId:i.StackId,stackName:i.StackName,status:i.StackStatus,...i.Outputs&&{outputs:i.Outputs}}:null}catch(o){return y.error("Failed to get stack status",{error:o instanceof Error?o.message:"Unknown error",stackName:e}),null}}async getStackEvents(e,r){try{let o=r?await this.assumeRoleAndGetClient(r):this.client,n=new ry({StackName:e});return(await o.send(n)).StackEvents||[]}catch(o){return y.error("Failed to get stack events",{error:o instanceof Error?o.message:"Unknown error",stackName:e}),[]}}async deleteStack(e,r){try{let o=r?await this.assumeRoleAndGetClient(r):this.client,n=new ty({StackName:e});return await o.send(n),y.info("CloudFormation stack deletion initiated",{stackName:e}),!0}catch(o){return y.error("Failed to delete stack",{error:o instanceof Error?o.message:"Unknown error",stackName:e}),!1}}async validateTemplate(e){try{let r=new sy({TemplateURL:e});return await this.client.send(r),{valid:!0}}catch(r){return{valid:!1,error:r instanceof Error?r.message:"Template validation failed"}}}async stackExists(e,r){try{let o=new tm({StackName:e});return await r.send(o),!0}catch{return!1}}async listStacks(e){try{let r=new oy({StackStatusFilter:e});return(await this.client.send(r)).StackSummaries?.map(n=>({StackId:n.StackId,StackName:n.StackName,StackStatus:n.StackStatus,CreationTime:n.CreationTime,LastUpdatedTime:n.LastUpdatedTime,DeletionTime:n.DeletionTime,TemplateDescription:n.TemplateDescription}))||[]}catch(r){return y.error("Failed to list stacks",{error:r instanceof Error?r.message:"Unknown error"}),[]}}},xv=null;function Sy(t){return xv||(xv=new yv(t)),xv}Pe();function mme(t){return e=>async r=>{let{request:o}=r;if(t.expectContinueHeader!==!1&&me.isInstance(o)&&o.body&&t.runtime==="node"&&t.requestHandler?.constructor?.name!=="FetchHttpHandler"){let n=!0;if(typeof t.expectContinueHeader=="number")try{n=(Number(o.headers?.["content-length"])??t.bodyLengthChecker?.(o.body)??1/0)>=t.expectContinueHeader}catch{}else n=!!t.expectContinueHeader;n&&(o.headers.Expect="100-continue")}return e({...r,request:o})}}var fme={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},g8=t=>({applyToStack:e=>{e.add(mme(t),fme)}});var fs={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},Ey=fs.WHEN_SUPPORTED,jc={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},_y=fs.WHEN_SUPPORTED,ot;(function(t){t.MD5="MD5",t.CRC32="CRC32",t.CRC32C="CRC32C",t.CRC64NVME="CRC64NVME",t.SHA1="SHA1",t.SHA256="SHA256"})(ot||(ot={}));var x8;(function(t){t.HEADER="header",t.TRAILER="trailer"})(x8||(x8={}));var rm=ot.CRC32;var Ga;(function(t){t.ENV="env",t.CONFIG="shared config entry"})(Ga||(Ga={}));var Cp=(t,e,r,o)=>{if(!(e in t))return;let n=t[e].toUpperCase();if(!Object.values(r).includes(n))throw new TypeError(`Cannot load ${o} '${e}'. Expected one of ${Object.values(r)}, got '${t[e]}'.`);return n};var hme="AWS_REQUEST_CHECKSUM_CALCULATION",gme="request_checksum_calculation",y8={environmentVariableSelector:t=>Cp(t,hme,fs,Ga.ENV),configFileSelector:t=>Cp(t,gme,fs,Ga.CONFIG),default:Ey};var xme="AWS_RESPONSE_CHECKSUM_VALIDATION",yme="response_checksum_validation",S8={environmentVariableSelector:t=>Cp(t,xme,jc,Ga.ENV),configFileSelector:t=>Cp(t,yme,jc,Ga.CONFIG),default:_y};Je();Pe();ga();var om=[ot.CRC32,ot.CRC32C,ot.CRC64NVME,ot.SHA1,ot.SHA256],E8=[ot.SHA256,ot.SHA1,ot.CRC32,ot.CRC32C,ot.CRC64NVME];var _8=(t,{requestChecksumRequired:e,requestAlgorithmMember:r,requestChecksumCalculation:o})=>{if(!r)return o===fs.WHEN_SUPPORTED||e?rm:void 0;if(!t[r])return;let n=t[r];if(!om.includes(n))throw new Error(`The checksum algorithm "${n}" is not supported by the client. Select one of ${om}.`);return n};var vp=t=>t===ot.MD5?"content-md5":`x-amz-checksum-${t.toLowerCase()}`;var R8=(t,e)=>{let r=t.toLowerCase();for(let o of Object.keys(e))if(r===o.toLowerCase())return!0;return!1};var b8=(t,e)=>{let r=t.toLowerCase();for(let o of Object.keys(e))if(o.toLowerCase().startsWith(r))return!0;return!1};Of();var Ry=t=>t!==void 0&&typeof t!="string"&&!ArrayBuffer.isView(t)&&!_u(t);function by(t,e,r,o){function n(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(m){try{u(o.next(m))}catch(f){i(f)}}function c(m){try{u(o.throw(m))}catch(f){i(f)}}function u(m){m.done?s(m.value):n(m.value).then(a,c)}u((o=o.apply(t,e||[])).next())})}function Cy(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},o,n,s,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(u){return function(m){return c([u,m])}}function c(u){if(o)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(r=0)),r;)try{if(o=1,n&&(s=u[0]&2?n.return:u[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,u[1])).done)return s;switch(n=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,n=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(m){u=[6,m],n=0}finally{o=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function vy(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],o=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}import{Buffer as C8}from"buffer";var v8=(t,e)=>{if(typeof t!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof t} (${t})`);return e?C8.from(t,e):C8.from(t)};var Sv=t=>{let e=v8(t,"utf8");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT)};var Sme=typeof Buffer<"u"&&Buffer.from?function(t){return Buffer.from(t,"utf8")}:Sv;function nm(t){return t instanceof Uint8Array?t:typeof t=="string"?Sme(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}function sm(t){return typeof t=="string"?t.length===0:t.byteLength===0}function Vc(t){return new Uint8Array([(t&4278190080)>>24,(t&16711680)>>16,(t&65280)>>8,t&255])}function im(t){if(!Uint32Array.from){for(var e=new Uint32Array(t.length),r=0;r<t.length;)e[r]=t[r],r+=1;return e}return Uint32Array.from(t)}var _v=function(){function t(){this.crc32c=new Ev}return t.prototype.update=function(e){sm(e)||this.crc32c.update(nm(e))},t.prototype.digest=function(){return by(this,void 0,void 0,function(){return Cy(this,function(e){return[2,Vc(this.crc32c.digest())]})})},t.prototype.reset=function(){this.crc32c=new Ev},t}();var Ev=function(){function t(){this.checksum=4294967295}return t.prototype.update=function(e){var r,o;try{for(var n=vy(e),s=n.next();!s.done;s=n.next()){var i=s.value;this.checksum=this.checksum>>>8^_me[(this.checksum^i)&255]}}catch(a){r={error:a}}finally{try{s&&!s.done&&(o=n.return)&&o.call(n)}finally{if(r)throw r.error}}return this},t.prototype.digest=function(){return(this.checksum^4294967295)>>>0},t}();var Eme=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],_me=im(Eme);var Rme=()=>{let e=new Array(8);for(let r=0;r<8;r++){let o=new Array(512);for(let n=0;n<256;n++){let s=BigInt(n);for(let i=0;i<8*(r+1);i++)s&1n?s=s>>1n^0x9a6c9329ac4bc9b5n:s=s>>1n;o[n*2]=Number(s>>32n&0xffffffffn),o[n*2+1]=Number(s&0xffffffffn)}e[r]=new Uint32Array(o)}return e},Rv,am,bv,Cv,vv,Iv,Tv,wv,Av,bme=()=>{Rv||(Rv=Rme(),[am,bv,Cv,vv,Iv,Tv,wv,Av]=Rv)},Iy=class{c1=0;c2=0;constructor(){bme(),this.reset()}update(e){let r=e.length,o=0,n=this.c1,s=this.c2;for(;o+8<=r;){let i=((s^e[o++])&255)<<1,a=((s>>>8^e[o++])&255)<<1,c=((s>>>16^e[o++])&255)<<1,u=((s>>>24^e[o++])&255)<<1,m=((n^e[o++])&255)<<1,f=((n>>>8^e[o++])&255)<<1,h=((n>>>16^e[o++])&255)<<1,g=((n>>>24^e[o++])&255)<<1;n=Av[i]^wv[a]^Tv[c]^Iv[u]^vv[m]^Cv[f]^bv[h]^am[g],s=Av[i+1]^wv[a+1]^Tv[c+1]^Iv[u+1]^vv[m+1]^Cv[f+1]^bv[h+1]^am[g+1]}for(;o<r;){let i=((s^e[o])&255)<<1;s=(s>>>8|(n&255)<<24)>>>0,n=n>>>8^am[i],s^=am[i+1],o++}this.c1=n,this.c2=s}async digest(){let e=this.c1^4294967295,r=this.c2^4294967295;return new Uint8Array([e>>>24,e>>>16&255,e>>>8&255,e&255,r>>>24,r>>>16&255,r>>>8&255,r&255])}reset(){this.c1=4294967295,this.c2=4294967295}};var Dv={CrtCrc64Nvme:null};var Ov=function(){function t(){this.crc32=new zc}return t.prototype.update=function(e){sm(e)||this.crc32.update(nm(e))},t.prototype.digest=function(){return by(this,void 0,void 0,function(){return Cy(this,function(e){return[2,Vc(this.crc32.digest())]})})},t.prototype.reset=function(){this.crc32=new zc},t}();var zc=function(){function t(){this.checksum=4294967295}return t.prototype.update=function(e){var r,o;try{for(var n=vy(e),s=n.next();!s.done;s=n.next()){var i=s.value;this.checksum=this.checksum>>>8^vme[(this.checksum^i)&255]}}catch(a){r={error:a}}finally{try{s&&!s.done&&(o=n.return)&&o.call(n)}finally{if(r)throw r.error}}return this},t.prototype.digest=function(){return(this.checksum^4294967295)>>>0},t}();var Cme=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],vme=im(Cme);import*as kv from"zlib";var Pv=class{checksum=0;update(e){this.checksum=kv.crc32(e,this.checksum)}async digest(){return Vc(this.checksum)}reset(){this.checksum=0}},I8=()=>typeof kv.crc32>"u"?Ov:Pv;var Ty=(t,e)=>{switch(t){case ot.MD5:return e.md5;case ot.CRC32:return I8();case ot.CRC32C:return _v;case ot.CRC64NVME:return typeof Dv.CrtCrc64Nvme!="function"?Iy:Dv.CrtCrc64Nvme;case ot.SHA1:return e.sha1;case ot.SHA256:return e.sha256;default:throw new Error(`Unsupported checksum algorithm: ${t}`)}};wt();var wy=(t,e)=>{let r=new t;return r.update(Fo(e||"")),r.digest()};var T8={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},w8=(t,e)=>(r,o)=>async n=>{if(!me.isInstance(n.request)||b8("x-amz-checksum-",n.request.headers))return r(n);let{request:s,input:i}=n,{body:a,headers:c}=s,{base64Encoder:u,streamHasher:m}=t,{requestChecksumRequired:f,requestAlgorithmMember:h}=e,g=await t.requestChecksumCalculation(),_=h?.name,b=h?.httpHeader;_&&!i[_]&&(g===fs.WHEN_SUPPORTED||f)&&(i[_]=rm,b&&(c[b]=rm));let T=_8(i,{requestChecksumRequired:f,requestAlgorithmMember:h?.name,requestChecksumCalculation:g}),M=a,U=c;if(T){switch(T){case ot.CRC32:Dt(o,"FLEXIBLE_CHECKSUMS_REQ_CRC32","U");break;case ot.CRC32C:Dt(o,"FLEXIBLE_CHECKSUMS_REQ_CRC32C","V");break;case ot.CRC64NVME:Dt(o,"FLEXIBLE_CHECKSUMS_REQ_CRC64","W");break;case ot.SHA1:Dt(o,"FLEXIBLE_CHECKSUMS_REQ_SHA1","X");break;case ot.SHA256:Dt(o,"FLEXIBLE_CHECKSUMS_REQ_SHA256","Y");break}let ie=vp(T),le=Ty(T,t);if(Ry(a)){let{getAwsChunkedEncodingStream:Qe,bodyLengthChecker:Lt}=t;M=Qe(typeof t.requestStreamBufferSize=="number"&&t.requestStreamBufferSize>=8*1024?XD(a,t.requestStreamBufferSize,o.logger):a,{base64Encoder:u,bodyLengthChecker:Lt,checksumLocationName:ie,checksumAlgorithmFn:le,streamHasher:m}),U={...c,"content-encoding":c["content-encoding"]?`${c["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":c["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":ie},delete U["content-length"]}else if(!R8(ie,c)){let Qe=await wy(le,a);U={...c,[ie]:u(Qe)}}}try{return await r({...n,request:{...s,headers:U,body:M}})}catch(ie){if(ie instanceof Error&&ie.name==="InvalidChunkSizeError")try{ie.message.endsWith(".")||(ie.message+="."),ie.message+=" Set [requestStreamBufferSize=number e.g. 65_536] in client constructor to instruct AWS SDK to buffer your input stream."}catch{}throw ie}};Je();var A8={name:"flexibleChecksumsInputMiddleware",toMiddleware:"serializerMiddleware",relation:"before",tags:["BODY_CHECKSUM"],override:!0},D8=(t,e)=>(r,o)=>async n=>{let s=n.input,{requestValidationModeMember:i}=e,a=await t.requestChecksumCalculation(),c=await t.responseChecksumValidation();switch(a){case fs.WHEN_REQUIRED:Dt(o,"FLEXIBLE_CHECKSUMS_REQ_WHEN_REQUIRED","a");break;case fs.WHEN_SUPPORTED:Dt(o,"FLEXIBLE_CHECKSUMS_REQ_WHEN_SUPPORTED","Z");break}switch(c){case jc.WHEN_REQUIRED:Dt(o,"FLEXIBLE_CHECKSUMS_RES_WHEN_REQUIRED","c");break;case jc.WHEN_SUPPORTED:Dt(o,"FLEXIBLE_CHECKSUMS_RES_WHEN_SUPPORTED","b");break}return i&&!s[i]&&c===jc.WHEN_SUPPORTED&&(s[i]="ENABLED"),r(n)};Pe();var Ay=(t=[])=>{let e=[];for(let r of E8)!t.includes(r)||!om.includes(r)||e.push(r);return e};var O8=t=>{let e=t.lastIndexOf("-");if(e!==-1){let r=t.slice(e+1);if(!r.startsWith("0")){let o=parseInt(r,10);if(!isNaN(o)&&o>=1&&o<=1e4)return!0}}return!1};ga();var P8=async(t,{checksumAlgorithmFn:e,base64Encoder:r})=>r(await wy(e,t));var k8=async(t,{config:e,responseAlgorithms:r,logger:o})=>{let n=Ay(r),{body:s,headers:i}=t;for(let a of n){let c=vp(a),u=i[c];if(u){let m;try{m=Ty(a,e)}catch(g){if(a===ot.CRC64NVME){o?.warn(`Skipping ${ot.CRC64NVME} checksum validation: ${g.message}`);continue}throw g}let{base64Encoder:f}=e;if(Ry(s)){t.body=qD({expectedChecksum:u,checksumSourceLocation:c,checksum:new m,source:s,base64Encoder:f});return}let h=await P8(s,{checksumAlgorithmFn:m,base64Encoder:f});if(h===u)break;throw new Error(`Checksum mismatch: expected "${h}" but received "${u}" in response header "${c}".`)}}};var N8={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},$8=(t,e)=>(r,o)=>async n=>{if(!me.isInstance(n.request))return r(n);let s=n.input,i=await r(n),a=i.response,{requestValidationModeMember:c,responseAlgorithms:u}=e;if(c&&s[c]==="ENABLED"){let{clientName:m,commandName:f}=o;if(m==="S3Client"&&f==="GetObjectCommand"&&Ay(u).every(g=>{let _=vp(g),b=a.headers[_];return!b||O8(b)}))return i;await k8(a,{config:t,responseAlgorithms:u,logger:o.logger})}return i};var Dy=(t,e)=>({applyToStack:r=>{r.add(w8(t,e),T8),r.addRelativeTo(D8(t,e),A8),r.addRelativeTo($8(t,e),N8)}});Zt();var L8=t=>{let{requestChecksumCalculation:e,responseChecksumValidation:r,requestStreamBufferSize:o}=t;return Object.assign(t,{requestChecksumCalculation:ge(e??Ey),responseChecksumValidation:ge(r??_y),requestStreamBufferSize:Number(o??0)})};Js();Qs();Ys();Pe();F();var Ime="content-length",Tme="x-amz-decoded-content-length";function wme(){return(t,e)=>async r=>{let{request:o}=r;if(me.isInstance(o)&&!(Ime in o.headers)&&!(Tme in o.headers)){let n="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof e?.logger?.warn=="function"&&!(e.logger instanceof Bt)?e.logger.warn(n):console.warn(n)}return t({...r})}}var Ame={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},M8=t=>({applyToStack:e=>{e.add(wme(),Ame)}});var B8=t=>(e,r)=>async o=>{let n=await t.region(),s=t.region,i=()=>{};r.__s3RegionRedirect&&(Object.defineProperty(t,"region",{writable:!1,value:async()=>r.__s3RegionRedirect}),i=()=>Object.defineProperty(t,"region",{writable:!0,value:s}));try{let a=await e(o);if(r.__s3RegionRedirect){i();let c=await t.region();if(n!==c)throw new Error("Region was not restored following S3 region redirect.")}return a}catch(a){throw i(),a}},U8={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};function Dme(t){return(e,r)=>async o=>{try{return await e(o)}catch(n){if(t.followRegionRedirects){let s=n?.$metadata?.httpStatusCode,i=r.commandName==="HeadBucketCommand",a=n?.$response?.headers?.["x-amz-bucket-region"];if(a&&(s===301||s===400&&(n?.name==="IllegalLocationConstraintException"||i))){try{let c=a;r.logger?.debug(`Redirecting from ${await t.region()} to ${c}`),r.__s3RegionRedirect=c}catch(c){throw new Error("Region redirect failed: "+c)}return e(o)}}throw n}}}var Ome={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},F8=t=>({applyToStack:e=>{e.add(Dme(t),Ome),e.addRelativeTo(B8(t),U8)}});Pe();F();var Pme=t=>(e,r)=>async o=>{let n=await e(o),{response:s}=n;if(To.isInstance(s)&&s.headers.expires){s.headers.expiresstring=s.headers.expires;try{Hf(s.headers.expires)}catch(i){r.logger?.warn(`AWS SDK Warning for ${r.clientName}::${r.commandName} response parsing (${s.headers.expires}): ${i}`),delete s.headers.expires}}return n},kme={tags:["S3"],name:"s3ExpiresMiddleware",override:!0,relation:"after",toMiddleware:"deserializerMiddleware"},Oy=t=>({applyToStack:e=>{e.addRelativeTo(Pme(t),kme)}});var Py=class t{data;lastPurgeTime=Date.now();static EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS=3e4;constructor(e={}){this.data=e}get(e){let r=this.data[e];if(r)return r}set(e,r){return this.data[e]=r,r}delete(e){delete this.data[e]}async purgeExpired(){let e=Date.now();if(!(this.lastPurgeTime+t.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>e))for(let r in this.data){let o=this.data[r];if(!o.isRefreshing){let n=await o.identity;n.expiration&&n.expiration.getTime()<e&&delete this.data[r]}}}};var Ip=class{_identity;isRefreshing;accessed;constructor(e,r=!1,o=Date.now()){this._identity=e,this.isRefreshing=r,this.accessed=o}get identity(){return this.accessed=Date.now(),this._identity}};var cm=class t{createSessionFn;cache;static REFRESH_WINDOW_MS=6e4;constructor(e,r=new Py){this.createSessionFn=e,this.cache=r}async getS3ExpressIdentity(e,r){let o=r.Bucket,{cache:n}=this,s=n.get(o);return s?s.identity.then(i=>(i.expiration?.getTime()??0)<Date.now()?n.set(o,new Ip(this.getIdentity(o))).identity:((i.expiration?.getTime()??0)<Date.now()+t.REFRESH_WINDOW_MS&&!s.isRefreshing&&(s.isRefreshing=!0,this.getIdentity(o).then(u=>{n.set(o,new Ip(Promise.resolve(u)))})),i)):n.set(o,new Ip(this.getIdentity(o))).identity}async getIdentity(e){await this.cache.purgeExpired().catch(n=>{console.warn(`Error while clearing expired entries in S3ExpressIdentityCache: 
`+n)});let r=await this.createSessionFn(e);if(!r.Credentials?.AccessKeyId||!r.Credentials?.SecretAccessKey)throw new Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");return{accessKeyId:r.Credentials.AccessKeyId,secretAccessKey:r.Credentials.SecretAccessKey,sessionToken:r.Credentials.SessionToken,expiration:r.Credentials.Expiration?new Date(r.Credentials.Expiration):void 0}}};ih();zd();var G8="Directory",H8="S3Express",j8="sigv4-s3express",ky="X-Amz-S3session-Token",um=ky.toLowerCase(),Nme="AWS_S3_DISABLE_EXPRESS_SESSION_AUTH",$me="s3_disable_express_session_auth",Nv={environmentVariableSelector:t=>Xn(t,Nme,an.ENV),configFileSelector:t=>Xn(t,$me,an.CONFIG),default:!1};var pm=class extends _c{async signWithCredentials(e,r,o){let n=V8(r);e.headers[um]=r.sessionToken;let s=this;return z8(s,n),s.signRequest(e,o??{})}async presignWithCredentials(e,r,o){let n=V8(r);return delete e.headers[um],e.headers[ky]=r.sessionToken,e.query=e.query??{},e.query[ky]=r.sessionToken,z8(this,n),this.presign(e,o)}};function V8(t){return{accessKeyId:t.accessKeyId,secretAccessKey:t.secretAccessKey,expiration:t.expiration}}function z8(t,e){let r=setTimeout(()=>{throw new Error("SignatureV4S3Express credential override was created but not called.")},10),o=t.credentialProvider,n=()=>(clearTimeout(r),t.credentialProvider=o,Promise.resolve(e));t.credentialProvider=n}Je();Pe();var K8=t=>(e,r)=>async o=>{if(r.endpointV2){let n=r.endpointV2,s=n.properties?.authSchemes?.[0]?.name===j8;if((n.properties?.backend===H8||n.properties?.bucketType===G8)&&(Dt(r,"S3_EXPRESS_BUCKET","J"),r.isS3ExpressBucket=!0),s){let a=o.input.Bucket;if(a){let c=await t.s3ExpressIdentityProvider.getS3ExpressIdentity(await t.credentials(),{Bucket:a});r.s3ExpressIdentity=c,me.isInstance(o.request)&&c.sessionToken&&(o.request.headers[um]=c.sessionToken)}}}return e(o)},W8={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},$v=t=>({applyToStack:e=>{e.add(K8(t),W8)}});At();Pe();Zt();var q8=async(t,e,r,o)=>{let n=await o.signWithCredentials(r,t,{});if(n.headers["X-Amz-Security-Token"]||n.headers["x-amz-security-token"])throw new Error("X-Amz-Security-Token must not be set for s3-express requests.");return n};var Lme=t=>e=>{throw e},Mme=(t,e)=>{};var J8=t=>(e,r)=>async o=>{if(!me.isInstance(o.request))return e(o);let s=nt(r).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:a,signer:c}=s,u;r.s3ExpressIdentity?u=await q8(r.s3ExpressIdentity,i,o.request,await t.signer()):u=await c.sign(o.request,a,i);let m=await e({...o,request:u}).catch((c.errorHandler||Lme)(i));return(c.successHandler||Mme)(m.response,i),m},Lv=t=>({applyToStack:e=>{e.addRelativeTo(J8(t),GE)}});var Q8=(t,{session:e})=>{let[r,o]=e,{forcePathStyle:n,useAccelerateEndpoint:s,disableMultiregionAccessPoints:i,followRegionRedirects:a,s3ExpressIdentityProvider:c,bucketEndpoint:u,expectContinueHeader:m}=t;return Object.assign(t,{forcePathStyle:n??!1,useAccelerateEndpoint:s??!1,disableMultiregionAccessPoints:i??!1,followRegionRedirects:a??!1,s3ExpressIdentityProvider:c??new cm(async f=>r().send(new o({Bucket:f}))),bucketEndpoint:u??!1,expectContinueHeader:m??2097152})};Pe();ga();var Bme={CopyObjectCommand:!0,UploadPartCopyCommand:!0,CompleteMultipartUploadCommand:!0},Ume=3e3,Fme=t=>(e,r)=>async o=>{let n=await e(o),{response:s}=n;if(!To.isInstance(s))return n;let{statusCode:i,body:a}=s;if(i<200||i>=300||!(typeof a?.stream=="function"||typeof a?.pipe=="function"||typeof a?.tee=="function"))return n;let u=a,m=a;a&&typeof a=="object"&&!(a instanceof Uint8Array)&&([u,m]=await zO(a)),s.body=m;let f=await Gme(u,{streamCollector:async g=>nO(g,Ume)});typeof u?.destroy=="function"&&u.destroy();let h=t.utf8Encoder(f.subarray(f.length-16));if(f.length===0&&Bme[r.commandName]){let g=new Error("S3 aborted request");throw g.name="InternalError",g}return h&&h.endsWith("</Error>")&&(s.statusCode=400),n},Gme=(t=new Uint8Array,e)=>t instanceof Uint8Array?Promise.resolve(t):e.streamCollector(t)||Promise.resolve(new Uint8Array),Hme={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},_i=t=>({applyToStack:e=>{e.addRelativeTo(Fme(t),Hme)}});var Y8=t=>typeof t=="string"&&t.indexOf("arn:")===0&&t.split(":").length>=6;function X8(t){return(e,r)=>async o=>{if(t.bucketEndpoint){let n=r.endpointV2;if(n){let s=o.input.Bucket;if(typeof s=="string")try{let i=new URL(s);r.endpointV2={...n,url:i}}catch(i){let a=`@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${s} could not be parsed as URL.`;throw r.logger?.constructor?.name==="NoOpLogger"?console.warn(a):r.logger?.warn?.(a),i}}}return e(o)}}var Z8={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"};function jme({bucketEndpoint:t}){return e=>async r=>{let{input:{Bucket:o}}=r;if(!t&&typeof o=="string"&&!Y8(o)&&o.indexOf("/")>=0){let n=new Error(`Bucket name shouldn't contain '/', received '${o}'`);throw n.name="InvalidBucketName",n}return e({...r})}}var Vme={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},eH=t=>({applyToStack:e=>{e.add(jme(t),Vme),e.addRelativeTo(X8(t),Z8)}});Ts();rr();At();ve();var tH=t=>Object.assign(t,{eventStreamMarshaller:t.eventStreamSerdeProvider(t)});oi();xe();Rr();F();Je();ih();var dm={CrtSignerV4:null};var Tp=class{sigv4aSigner;sigv4Signer;signerOptions;static sigv4aDependency(){return typeof dm.CrtSignerV4=="function"?"crt":typeof W_.SignatureV4a=="function"?"js":"none"}constructor(e){this.sigv4Signer=new pm(e),this.signerOptions=e}async sign(e,r={}){return r.signingRegion==="*"?this.getSigv4aSigner().sign(e,r):this.sigv4Signer.sign(e,r)}async signWithCredentials(e,r,o={}){if(o.signingRegion==="*"){let n=this.getSigv4aSigner(),s=dm.CrtSignerV4;if(s&&n instanceof s)return n.signWithCredentials(e,r,o);throw new Error(`signWithCredentials with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`)}return this.sigv4Signer.signWithCredentials(e,r,o)}async presign(e,r={}){if(r.signingRegion==="*"){let o=this.getSigv4aSigner(),n=dm.CrtSignerV4;if(n&&o instanceof n)return o.presign(e,r);throw new Error(`presign with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`)}return this.sigv4Signer.presign(e,r)}async presignWithCredentials(e,r,o={}){if(o.signingRegion==="*")throw new Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(e,r,o)}getSigv4aSigner(){if(!this.sigv4aSigner){let e=dm.CrtSignerV4,r=W_.SignatureV4a;if(this.signerOptions.runtime==="node"){if(!e&&!r)throw new Error("Neither CRT nor JS SigV4a implementation is available. Please load either @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt");if(e&&typeof e=="function")this.sigv4aSigner=new e({...this.signerOptions,signingAlgorithm:1});else if(r&&typeof r=="function")this.sigv4aSigner=new r({...this.signerOptions});else throw new Error("Available SigV4a implementation is not a valid constructor. Please ensure you've properly imported @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a.For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt")}else{if(!r||typeof r!="function")throw new Error("JS SigV4a implementation is not available or not a valid constructor. Please check whether you have installed the @aws-sdk/signature-v4a package explicitly. The CRT implementation is not available for browsers. You must also register the package by calling [require('@aws-sdk/signature-v4a');] or an ESM equivalent such as [import '@aws-sdk/signature-v4a';]. For more information please go to https://github.com/aws/aws-sdk-js-v3#using-javascript-non-crt-implementation-of-sigv4a");this.sigv4aSigner=new r({...this.signerOptions})}}return this.sigv4aSigner}};xe();Zt();Is();nn();var cI="required",x="type",w="rules",S="conditions",C="fn",v="argv",Z="ref",ye="assign",V="url",z="properties",oa="backend",mo="authSchemes",yr="disableDoubleEncoding",Sr="signingName",Co="signingRegion",K="headers",uI="signingRegionSet";var On="isSet",ar="booleanEquals",X="error",Uy="aws.partition",We="stringEquals",Vt="getAttr",zt="name",It="substring",rH="bucketSuffix",pI="parseURL",O="endpoint",A="tree",Fy="aws.isVirtualHostableS3Bucket",Gy="{url#scheme}://{Bucket}.{url#authority}{url#path}",Ci="not",oH="accessPointSuffix",By="{url#scheme}://{url#authority}{url#path}",dj="hardwareType",lj="regionPrefix",nH="bucketAliasSuffix",iI="outpostId",Kc="isValidHostLabel",dI="sigv4a",ym="s3-outposts",Op="s3",mj="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",fj="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",sH="https://{Bucket}.s3.{partitionResult#dnsSuffix}",hj="aws.parseArn",gj="bucketArn",xj="arnType",Hy="",lI="s3-object-lambda",yj="accesspoint",mI="accessPointName",iH="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",aH="mrapPartition",cH="outpostType",uH="arnPrefix",Sj="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",pH="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",dH="https://s3.{partitionResult#dnsSuffix}",wp={[cI]:!1,[x]:"string"},Ap={[cI]:!0,default:!1,[x]:"boolean"},lm={[cI]:!1,[x]:"boolean"},gs={[C]:ar,[v]:[{[Z]:"Accelerate"},!0]},Ot={[C]:ar,[v]:[{[Z]:"UseFIPS"},!0]},_t={[C]:ar,[v]:[{[Z]:"UseDualStack"},!0]},ir={[C]:On,[v]:[{[Z]:"Endpoint"}]},Ej={[C]:Uy,[v]:[{[Z]:"Region"}],[ye]:"partitionResult"},lH={[C]:We,[v]:[{[C]:Vt,[v]:[{[Z]:"partitionResult"},zt]},"aws-cn"]},fm={[C]:On,[v]:[{[Z]:"Bucket"}]},Be={[Z]:"Bucket"},mH={[S]:[gs],[X]:"S3Express does not support S3 Accelerate.",[x]:X},fH={[S]:[ir,{[C]:pI,[v]:[{[Z]:"Endpoint"}],[ye]:"url"}],[w]:[{[S]:[{[C]:On,[v]:[{[Z]:"DisableS3ExpressSessionAuth"}]},{[C]:ar,[v]:[{[Z]:"DisableS3ExpressSessionAuth"},!0]}],[w]:[{[S]:[{[C]:ar,[v]:[{[C]:Vt,[v]:[{[Z]:"url"},"isIp"]},!0]}],[w]:[{[S]:[{[C]:"uriEncode",[v]:[Be],[ye]:"uri_encoded_bucket"}],[w]:[{[O]:{[V]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[z]:{[oa]:"S3Express",[mo]:[{[yr]:!0,[zt]:"sigv4",[Sr]:"s3express",[Co]:"{Region}"}]},[K]:{}},[x]:O}],[x]:A}],[x]:A},{[S]:[{[C]:Fy,[v]:[Be,!1]}],[w]:[{[O]:{[V]:Gy,[z]:{[oa]:"S3Express",[mo]:[{[yr]:!0,[zt]:"sigv4",[Sr]:"s3express",[Co]:"{Region}"}]},[K]:{}},[x]:O}],[x]:A},{[X]:"S3Express bucket name is not a valid virtual hostable name.",[x]:X}],[x]:A},{[S]:[{[C]:ar,[v]:[{[C]:Vt,[v]:[{[Z]:"url"},"isIp"]},!0]}],[w]:[{[S]:[{[C]:"uriEncode",[v]:[Be],[ye]:"uri_encoded_bucket"}],[w]:[{[O]:{[V]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[z]:{[oa]:"S3Express",[mo]:[{[yr]:!0,[zt]:"sigv4-s3express",[Sr]:"s3express",[Co]:"{Region}"}]},[K]:{}},[x]:O}],[x]:A}],[x]:A},{[S]:[{[C]:Fy,[v]:[Be,!1]}],[w]:[{[O]:{[V]:Gy,[z]:{[oa]:"S3Express",[mo]:[{[yr]:!0,[zt]:"sigv4-s3express",[Sr]:"s3express",[Co]:"{Region}"}]},[K]:{}},[x]:O}],[x]:A},{[X]:"S3Express bucket name is not a valid virtual hostable name.",[x]:X}],[x]:A},Ko={[C]:pI,[v]:[{[Z]:"Endpoint"}],[ye]:"url"},Mv={[C]:ar,[v]:[{[C]:Vt,[v]:[{[Z]:"url"},"isIp"]},!0]},_j={[Z]:"url"},Rj={[C]:"uriEncode",[v]:[Be],[ye]:"uri_encoded_bucket"},Dn={[oa]:"S3Express",[mo]:[{[yr]:!0,[zt]:"sigv4",[Sr]:"s3express",[Co]:"{Region}"}]},pe={},bj={[C]:Fy,[v]:[Be,!1]},hH={[X]:"S3Express bucket name is not a valid virtual hostable name.",[x]:X},gH={[C]:On,[v]:[{[Z]:"UseS3ExpressControlEndpoint"}]},xH={[C]:ar,[v]:[{[Z]:"UseS3ExpressControlEndpoint"},!0]},fe={[C]:Ci,[v]:[ir]},Oe={[C]:ar,[v]:[{[Z]:"UseDualStack"},!1]},be={[C]:ar,[v]:[{[Z]:"UseFIPS"},!1]},Ny={[X]:"Unrecognized S3Express bucket name format.",[x]:X},yH={[C]:Ci,[v]:[fm]},SH={[Z]:dj},EH={[S]:[fe],[X]:"Expected a endpoint to be specified but no endpoint was found",[x]:X},$y={[mo]:[{[yr]:!0,[zt]:dI,[Sr]:ym,[uI]:["*"]},{[yr]:!0,[zt]:"sigv4",[Sr]:ym,[Co]:"{Region}"}]},Bv={[C]:ar,[v]:[{[Z]:"ForcePathStyle"},!1]},zme={[Z]:"ForcePathStyle"},xr={[C]:ar,[v]:[{[Z]:"Accelerate"},!1]},br={[C]:We,[v]:[{[Z]:"Region"},"aws-global"]},uo={[mo]:[{[yr]:!0,[zt]:"sigv4",[Sr]:Op,[Co]:"us-east-1"}]},Ne={[C]:Ci,[v]:[br]},po={[C]:ar,[v]:[{[Z]:"UseGlobalEndpoint"},!0]},_H={[V]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[z]:{[mo]:[{[yr]:!0,[zt]:"sigv4",[Sr]:Op,[Co]:"{Region}"}]},[K]:{}},Er={[mo]:[{[yr]:!0,[zt]:"sigv4",[Sr]:Op,[Co]:"{Region}"}]},lo={[C]:ar,[v]:[{[Z]:"UseGlobalEndpoint"},!1]},RH={[V]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[z]:Er,[K]:{}},bH={[V]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[z]:Er,[K]:{}},CH={[V]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[z]:Er,[K]:{}},Uv={[C]:ar,[v]:[{[C]:Vt,[v]:[_j,"isIp"]},!1]},Fv={[V]:mj,[z]:Er,[K]:{}},aI={[V]:Gy,[z]:Er,[K]:{}},vH={[O]:aI,[x]:O},Gv={[V]:fj,[z]:Er,[K]:{}},IH={[V]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[z]:Er,[K]:{}},Ly={[X]:"Invalid region: region was not a valid DNS name.",[x]:X},fn={[Z]:gj},Cj={[Z]:xj},Hv={[C]:Vt,[v]:[fn,"service"]},fI={[Z]:mI},TH={[S]:[_t],[X]:"S3 Object Lambda does not support Dual-stack",[x]:X},wH={[S]:[gs],[X]:"S3 Object Lambda does not support S3 Accelerate",[x]:X},AH={[S]:[{[C]:On,[v]:[{[Z]:"DisableAccessPoints"}]},{[C]:ar,[v]:[{[Z]:"DisableAccessPoints"},!0]}],[X]:"Access points are not supported for this operation",[x]:X},jv={[S]:[{[C]:On,[v]:[{[Z]:"UseArnRegion"}]},{[C]:ar,[v]:[{[Z]:"UseArnRegion"},!1]},{[C]:Ci,[v]:[{[C]:We,[v]:[{[C]:Vt,[v]:[fn,"region"]},"{Region}"]}]}],[X]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[x]:X},vj={[C]:Vt,[v]:[{[Z]:"bucketPartition"},zt]},Ij={[C]:Vt,[v]:[fn,"accountId"]},Vv={[mo]:[{[yr]:!0,[zt]:"sigv4",[Sr]:lI,[Co]:"{bucketArn#region}"}]},DH={[X]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[x]:X},zv={[X]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[x]:X},Kv={[X]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[x]:X},Wv={[X]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[x]:X},OH={[X]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[x]:X},PH={[X]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[x]:X},mm={[mo]:[{[yr]:!0,[zt]:"sigv4",[Sr]:Op,[Co]:"{bucketArn#region}"}]},kH={[mo]:[{[yr]:!0,[zt]:dI,[Sr]:ym,[uI]:["*"]},{[yr]:!0,[zt]:"sigv4",[Sr]:ym,[Co]:"{bucketArn#region}"}]},NH={[C]:hj,[v]:[Be]},$H={[V]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[z]:Er,[K]:{}},LH={[V]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[z]:Er,[K]:{}},MH={[V]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[z]:Er,[K]:{}},qv={[V]:Sj,[z]:Er,[K]:{}},BH={[V]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[z]:Er,[K]:{}},UH={[Z]:"UseObjectLambdaEndpoint"},Jv={[mo]:[{[yr]:!0,[zt]:"sigv4",[Sr]:lI,[Co]:"{Region}"}]},FH={[V]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[z]:Er,[K]:{}},GH={[V]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[z]:Er,[K]:{}},HH={[V]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[z]:Er,[K]:{}},Qv={[V]:By,[z]:Er,[K]:{}},jH={[V]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[z]:Er,[K]:{}},Yv=[{[Z]:"Region"}],Kme=[{[Z]:"Endpoint"}],Wme=[Be],Xv=[gs],Dp=[ir,Ko],VH=[{[C]:On,[v]:[{[Z]:"DisableS3ExpressSessionAuth"}]},{[C]:ar,[v]:[{[Z]:"DisableS3ExpressSessionAuth"},!0]}],qme=[Rj],Zv=[bj],hs=[Ej],eI=[Ot,_t],hm=[Ot,Oe],gm=[be,_t],xm=[be,Oe],zH=[{[C]:It,[v]:[Be,6,14,!0],[ye]:"s3expressAvailabilityZoneId"},{[C]:It,[v]:[Be,14,16,!0],[ye]:"s3expressAvailabilityZoneDelim"},{[C]:We,[v]:[{[Z]:"s3expressAvailabilityZoneDelim"},"--"]}],Ri=[{[S]:[Ot,_t],[O]:{[V]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.dualstack.{Region}.{partitionResult#dnsSuffix}",[z]:Dn,[K]:{}},[x]:O},{[S]:hm,[O]:{[V]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[z]:Dn,[K]:{}},[x]:O},{[S]:gm,[O]:{[V]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.dualstack.{Region}.{partitionResult#dnsSuffix}",[z]:Dn,[K]:{}},[x]:O},{[S]:xm,[O]:{[V]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[z]:Dn,[K]:{}},[x]:O}],KH=[{[C]:It,[v]:[Be,6,15,!0],[ye]:"s3expressAvailabilityZoneId"},{[C]:It,[v]:[Be,15,17,!0],[ye]:"s3expressAvailabilityZoneDelim"},{[C]:We,[v]:[{[Z]:"s3expressAvailabilityZoneDelim"},"--"]}],WH=[{[C]:It,[v]:[Be,6,19,!0],[ye]:"s3expressAvailabilityZoneId"},{[C]:It,[v]:[Be,19,21,!0],[ye]:"s3expressAvailabilityZoneDelim"},{[C]:We,[v]:[{[Z]:"s3expressAvailabilityZoneDelim"},"--"]}],qH=[{[C]:It,[v]:[Be,6,20,!0],[ye]:"s3expressAvailabilityZoneId"},{[C]:It,[v]:[Be,20,22,!0],[ye]:"s3expressAvailabilityZoneDelim"},{[C]:We,[v]:[{[Z]:"s3expressAvailabilityZoneDelim"},"--"]}],JH=[{[C]:It,[v]:[Be,6,26,!0],[ye]:"s3expressAvailabilityZoneId"},{[C]:It,[v]:[Be,26,28,!0],[ye]:"s3expressAvailabilityZoneDelim"},{[C]:We,[v]:[{[Z]:"s3expressAvailabilityZoneDelim"},"--"]}],bi=[{[S]:[Ot,_t],[O]:{[V]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.dualstack.{Region}.{partitionResult#dnsSuffix}",[z]:{[oa]:"S3Express",[mo]:[{[yr]:!0,[zt]:"sigv4-s3express",[Sr]:"s3express",[Co]:"{Region}"}]},[K]:{}},[x]:O},{[S]:hm,[O]:{[V]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[z]:{[oa]:"S3Express",[mo]:[{[yr]:!0,[zt]:"sigv4-s3express",[Sr]:"s3express",[Co]:"{Region}"}]},[K]:{}},[x]:O},{[S]:gm,[O]:{[V]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.dualstack.{Region}.{partitionResult#dnsSuffix}",[z]:{[oa]:"S3Express",[mo]:[{[yr]:!0,[zt]:"sigv4-s3express",[Sr]:"s3express",[Co]:"{Region}"}]},[K]:{}},[x]:O},{[S]:xm,[O]:{[V]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[z]:{[oa]:"S3Express",[mo]:[{[yr]:!0,[zt]:"sigv4-s3express",[Sr]:"s3express",[Co]:"{Region}"}]},[K]:{}},[x]:O}],QH=[Be,0,7,!0],YH=[{[C]:It,[v]:[Be,7,15,!0],[ye]:"s3expressAvailabilityZoneId"},{[C]:It,[v]:[Be,15,17,!0],[ye]:"s3expressAvailabilityZoneDelim"},{[C]:We,[v]:[{[Z]:"s3expressAvailabilityZoneDelim"},"--"]}],XH=[{[C]:It,[v]:[Be,7,16,!0],[ye]:"s3expressAvailabilityZoneId"},{[C]:It,[v]:[Be,16,18,!0],[ye]:"s3expressAvailabilityZoneDelim"},{[C]:We,[v]:[{[Z]:"s3expressAvailabilityZoneDelim"},"--"]}],ZH=[{[C]:It,[v]:[Be,7,20,!0],[ye]:"s3expressAvailabilityZoneId"},{[C]:It,[v]:[Be,20,22,!0],[ye]:"s3expressAvailabilityZoneDelim"},{[C]:We,[v]:[{[Z]:"s3expressAvailabilityZoneDelim"},"--"]}],ej=[{[C]:It,[v]:[Be,7,21,!0],[ye]:"s3expressAvailabilityZoneId"},{[C]:It,[v]:[Be,21,23,!0],[ye]:"s3expressAvailabilityZoneDelim"},{[C]:We,[v]:[{[Z]:"s3expressAvailabilityZoneDelim"},"--"]}],tj=[{[C]:It,[v]:[Be,7,27,!0],[ye]:"s3expressAvailabilityZoneId"},{[C]:It,[v]:[Be,27,29,!0],[ye]:"s3expressAvailabilityZoneDelim"},{[C]:We,[v]:[{[Z]:"s3expressAvailabilityZoneDelim"},"--"]}],Jme=[fm],rj=[{[C]:Kc,[v]:[{[Z]:iI},!1]}],oj=[{[C]:We,[v]:[{[Z]:lj},"beta"]}],Qme=["*"],nj=[{[C]:Kc,[v]:[{[Z]:"Region"},!1]}],Ha=[{[C]:We,[v]:[{[Z]:"Region"},"us-east-1"]}],tI=[{[C]:We,[v]:[Cj,yj]}],sj=[{[C]:Vt,[v]:[fn,"resourceId[1]"],[ye]:mI},{[C]:Ci,[v]:[{[C]:We,[v]:[fI,Hy]}]}],Yme=[fn,"resourceId[1]"],ij=[_t],rI=[{[C]:Ci,[v]:[{[C]:We,[v]:[{[C]:Vt,[v]:[fn,"region"]},Hy]}]}],aj=[{[C]:Ci,[v]:[{[C]:On,[v]:[{[C]:Vt,[v]:[fn,"resourceId[2]"]}]}]}],Xme=[fn,"resourceId[2]"],oI=[{[C]:Uy,[v]:[{[C]:Vt,[v]:[fn,"region"]}],[ye]:"bucketPartition"}],cj=[{[C]:We,[v]:[vj,{[C]:Vt,[v]:[{[Z]:"partitionResult"},zt]}]}],nI=[{[C]:Kc,[v]:[{[C]:Vt,[v]:[fn,"region"]},!0]}],sI=[{[C]:Kc,[v]:[Ij,!1]}],uj=[{[C]:Kc,[v]:[fI,!1]}],My=[Ot],pj=[{[C]:Kc,[v]:[{[Z]:"Region"},!0]}],Zme={version:"1.0",parameters:{Bucket:wp,Region:wp,UseFIPS:Ap,UseDualStack:Ap,Endpoint:wp,ForcePathStyle:Ap,Accelerate:Ap,UseGlobalEndpoint:Ap,UseObjectLambdaEndpoint:lm,Key:wp,Prefix:wp,CopySource:wp,DisableAccessPoints:lm,DisableMultiRegionAccessPoints:Ap,UseArnRegion:lm,UseS3ExpressControlEndpoint:lm,DisableS3ExpressSessionAuth:lm},[w]:[{[S]:[{[C]:On,[v]:Yv}],[w]:[{[S]:[gs,Ot],error:"Accelerate cannot be used with FIPS",[x]:X},{[S]:[_t,ir],error:"Cannot set dual-stack in combination with a custom endpoint.",[x]:X},{[S]:[ir,Ot],error:"A custom endpoint cannot be combined with FIPS",[x]:X},{[S]:[ir,gs],error:"A custom endpoint cannot be combined with S3 Accelerate",[x]:X},{[S]:[Ot,Ej,lH],error:"Partition does not support FIPS",[x]:X},{[S]:[fm,{[C]:It,[v]:[Be,0,6,!0],[ye]:rH},{[C]:We,[v]:[{[Z]:rH},"--x-s3"]}],[w]:[mH,fH,{[S]:[gH,xH],[w]:[{[S]:hs,[w]:[{[S]:[Rj,fe],[w]:[{[S]:eI,endpoint:{[V]:"https://s3express-control-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[z]:Dn,[K]:pe},[x]:O},{[S]:hm,endpoint:{[V]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[z]:Dn,[K]:pe},[x]:O},{[S]:gm,endpoint:{[V]:"https://s3express-control.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[z]:Dn,[K]:pe},[x]:O},{[S]:xm,endpoint:{[V]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[z]:Dn,[K]:pe},[x]:O}],[x]:A}],[x]:A}],[x]:A},{[S]:Zv,[w]:[{[S]:hs,[w]:[{[S]:VH,[w]:[{[S]:zH,[w]:Ri,[x]:A},{[S]:KH,[w]:Ri,[x]:A},{[S]:WH,[w]:Ri,[x]:A},{[S]:qH,[w]:Ri,[x]:A},{[S]:JH,[w]:Ri,[x]:A},Ny],[x]:A},{[S]:zH,[w]:bi,[x]:A},{[S]:KH,[w]:bi,[x]:A},{[S]:WH,[w]:bi,[x]:A},{[S]:qH,[w]:bi,[x]:A},{[S]:JH,[w]:bi,[x]:A},Ny],[x]:A}],[x]:A},hH],[x]:A},{[S]:[fm,{[C]:It,[v]:QH,[ye]:oH},{[C]:We,[v]:[{[Z]:oH},"--xa-s3"]}],[w]:[mH,fH,{[S]:Zv,[w]:[{[S]:hs,[w]:[{[S]:VH,[w]:[{[S]:YH,[w]:Ri,[x]:A},{[S]:XH,[w]:Ri,[x]:A},{[S]:ZH,[w]:Ri,[x]:A},{[S]:ej,[w]:Ri,[x]:A},{[S]:tj,[w]:Ri,[x]:A},Ny],[x]:A},{[S]:YH,[w]:bi,[x]:A},{[S]:XH,[w]:bi,[x]:A},{[S]:ZH,[w]:bi,[x]:A},{[S]:ej,[w]:bi,[x]:A},{[S]:tj,[w]:bi,[x]:A},Ny],[x]:A}],[x]:A},hH],[x]:A},{[S]:[yH,gH,xH],[w]:[{[S]:hs,[w]:[{[S]:Dp,endpoint:{[V]:By,[z]:Dn,[K]:pe},[x]:O},{[S]:eI,endpoint:{[V]:"https://s3express-control-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[z]:Dn,[K]:pe},[x]:O},{[S]:hm,endpoint:{[V]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}",[z]:Dn,[K]:pe},[x]:O},{[S]:gm,endpoint:{[V]:"https://s3express-control.dualstack.{Region}.{partitionResult#dnsSuffix}",[z]:Dn,[K]:pe},[x]:O},{[S]:xm,endpoint:{[V]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}",[z]:Dn,[K]:pe},[x]:O}],[x]:A}],[x]:A},{[S]:[fm,{[C]:It,[v]:[Be,49,50,!0],[ye]:dj},{[C]:It,[v]:[Be,8,12,!0],[ye]:lj},{[C]:It,[v]:QH,[ye]:nH},{[C]:It,[v]:[Be,32,49,!0],[ye]:iI},{[C]:Uy,[v]:Yv,[ye]:"regionPartition"},{[C]:We,[v]:[{[Z]:nH},"--op-s3"]}],[w]:[{[S]:rj,[w]:[{[S]:Zv,[w]:[{[S]:[{[C]:We,[v]:[SH,"e"]}],[w]:[{[S]:oj,[w]:[EH,{[S]:Dp,endpoint:{[V]:"https://{Bucket}.ec2.{url#authority}",[z]:$y,[K]:pe},[x]:O}],[x]:A},{endpoint:{[V]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[z]:$y,[K]:pe},[x]:O}],[x]:A},{[S]:[{[C]:We,[v]:[SH,"o"]}],[w]:[{[S]:oj,[w]:[EH,{[S]:Dp,endpoint:{[V]:"https://{Bucket}.op-{outpostId}.{url#authority}",[z]:$y,[K]:pe},[x]:O}],[x]:A},{endpoint:{[V]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[z]:$y,[K]:pe},[x]:O}],[x]:A},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[x]:X}],[x]:A},{error:"Invalid Outposts Bucket alias - it must be a valid bucket name.",[x]:X}],[x]:A},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[x]:X}],[x]:A},{[S]:Jme,[w]:[{[S]:[ir,{[C]:Ci,[v]:[{[C]:On,[v]:[{[C]:pI,[v]:Kme}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[x]:X},{[S]:[Bv,bj],[w]:[{[S]:hs,[w]:[{[S]:nj,[w]:[{[S]:[gs,lH],error:"S3 Accelerate cannot be used in this region",[x]:X},{[S]:[_t,Ot,xr,fe,br],endpoint:{[V]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[z]:uo,[K]:pe},[x]:O},{[S]:[_t,Ot,xr,fe,Ne,po],[w]:[{endpoint:_H,[x]:O}],[x]:A},{[S]:[_t,Ot,xr,fe,Ne,lo],endpoint:_H,[x]:O},{[S]:[Oe,Ot,xr,fe,br],endpoint:{[V]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[z]:uo,[K]:pe},[x]:O},{[S]:[Oe,Ot,xr,fe,Ne,po],[w]:[{endpoint:RH,[x]:O}],[x]:A},{[S]:[Oe,Ot,xr,fe,Ne,lo],endpoint:RH,[x]:O},{[S]:[_t,be,gs,fe,br],endpoint:{[V]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[z]:uo,[K]:pe},[x]:O},{[S]:[_t,be,gs,fe,Ne,po],[w]:[{endpoint:bH,[x]:O}],[x]:A},{[S]:[_t,be,gs,fe,Ne,lo],endpoint:bH,[x]:O},{[S]:[_t,be,xr,fe,br],endpoint:{[V]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[z]:uo,[K]:pe},[x]:O},{[S]:[_t,be,xr,fe,Ne,po],[w]:[{endpoint:CH,[x]:O}],[x]:A},{[S]:[_t,be,xr,fe,Ne,lo],endpoint:CH,[x]:O},{[S]:[Oe,be,xr,ir,Ko,Mv,br],endpoint:{[V]:mj,[z]:uo,[K]:pe},[x]:O},{[S]:[Oe,be,xr,ir,Ko,Uv,br],endpoint:{[V]:Gy,[z]:uo,[K]:pe},[x]:O},{[S]:[Oe,be,xr,ir,Ko,Mv,Ne,po],[w]:[{[S]:Ha,endpoint:Fv,[x]:O},{endpoint:Fv,[x]:O}],[x]:A},{[S]:[Oe,be,xr,ir,Ko,Uv,Ne,po],[w]:[{[S]:Ha,endpoint:aI,[x]:O},vH],[x]:A},{[S]:[Oe,be,xr,ir,Ko,Mv,Ne,lo],endpoint:Fv,[x]:O},{[S]:[Oe,be,xr,ir,Ko,Uv,Ne,lo],endpoint:aI,[x]:O},{[S]:[Oe,be,gs,fe,br],endpoint:{[V]:fj,[z]:uo,[K]:pe},[x]:O},{[S]:[Oe,be,gs,fe,Ne,po],[w]:[{[S]:Ha,endpoint:Gv,[x]:O},{endpoint:Gv,[x]:O}],[x]:A},{[S]:[Oe,be,gs,fe,Ne,lo],endpoint:Gv,[x]:O},{[S]:[Oe,be,xr,fe,br],endpoint:{[V]:sH,[z]:uo,[K]:pe},[x]:O},{[S]:[Oe,be,xr,fe,Ne,po],[w]:[{[S]:Ha,endpoint:{[V]:sH,[z]:Er,[K]:pe},[x]:O},{endpoint:IH,[x]:O}],[x]:A},{[S]:[Oe,be,xr,fe,Ne,lo],endpoint:IH,[x]:O}],[x]:A},Ly],[x]:A}],[x]:A},{[S]:[ir,Ko,{[C]:We,[v]:[{[C]:Vt,[v]:[_j,"scheme"]},"http"]},{[C]:Fy,[v]:[Be,!0]},Bv,be,Oe,xr],[w]:[{[S]:hs,[w]:[{[S]:nj,[w]:[vH],[x]:A},Ly],[x]:A}],[x]:A},{[S]:[Bv,{[C]:hj,[v]:Wme,[ye]:gj}],[w]:[{[S]:[{[C]:Vt,[v]:[fn,"resourceId[0]"],[ye]:xj},{[C]:Ci,[v]:[{[C]:We,[v]:[Cj,Hy]}]}],[w]:[{[S]:[{[C]:We,[v]:[Hv,lI]}],[w]:[{[S]:tI,[w]:[{[S]:sj,[w]:[TH,wH,{[S]:rI,[w]:[AH,{[S]:aj,[w]:[jv,{[S]:oI,[w]:[{[S]:hs,[w]:[{[S]:cj,[w]:[{[S]:nI,[w]:[{[S]:[{[C]:We,[v]:[Ij,Hy]}],error:"Invalid ARN: Missing account id",[x]:X},{[S]:sI,[w]:[{[S]:uj,[w]:[{[S]:Dp,endpoint:{[V]:iH,[z]:Vv,[K]:pe},[x]:O},{[S]:My,endpoint:{[V]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[z]:Vv,[K]:pe},[x]:O},{endpoint:{[V]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[z]:Vv,[K]:pe},[x]:O}],[x]:A},DH],[x]:A},zv],[x]:A},Kv],[x]:A},Wv],[x]:A}],[x]:A}],[x]:A},OH],[x]:A},{error:"Invalid ARN: bucket ARN is missing a region",[x]:X}],[x]:A},PH],[x]:A},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[x]:X}],[x]:A},{[S]:tI,[w]:[{[S]:sj,[w]:[{[S]:rI,[w]:[{[S]:tI,[w]:[{[S]:rI,[w]:[AH,{[S]:aj,[w]:[jv,{[S]:oI,[w]:[{[S]:hs,[w]:[{[S]:[{[C]:We,[v]:[vj,"{partitionResult#name}"]}],[w]:[{[S]:nI,[w]:[{[S]:[{[C]:We,[v]:[Hv,Op]}],[w]:[{[S]:sI,[w]:[{[S]:uj,[w]:[{[S]:Xv,error:"Access Points do not support S3 Accelerate",[x]:X},{[S]:eI,endpoint:{[V]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[z]:mm,[K]:pe},[x]:O},{[S]:hm,endpoint:{[V]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[z]:mm,[K]:pe},[x]:O},{[S]:gm,endpoint:{[V]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[z]:mm,[K]:pe},[x]:O},{[S]:[be,Oe,ir,Ko],endpoint:{[V]:iH,[z]:mm,[K]:pe},[x]:O},{[S]:xm,endpoint:{[V]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[z]:mm,[K]:pe},[x]:O}],[x]:A},DH],[x]:A},zv],[x]:A},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[x]:X}],[x]:A},Kv],[x]:A},Wv],[x]:A}],[x]:A}],[x]:A},OH],[x]:A}],[x]:A}],[x]:A},{[S]:[{[C]:Kc,[v]:[fI,!0]}],[w]:[{[S]:ij,error:"S3 MRAP does not support dual-stack",[x]:X},{[S]:My,error:"S3 MRAP does not support FIPS",[x]:X},{[S]:Xv,error:"S3 MRAP does not support S3 Accelerate",[x]:X},{[S]:[{[C]:ar,[v]:[{[Z]:"DisableMultiRegionAccessPoints"},!0]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[x]:X},{[S]:[{[C]:Uy,[v]:Yv,[ye]:aH}],[w]:[{[S]:[{[C]:We,[v]:[{[C]:Vt,[v]:[{[Z]:aH},zt]},{[C]:Vt,[v]:[fn,"partition"]}]}],[w]:[{endpoint:{[V]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[z]:{[mo]:[{[yr]:!0,name:dI,[Sr]:Op,[uI]:Qme}]},[K]:pe},[x]:O}],[x]:A},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[x]:X}],[x]:A}],[x]:A},{error:"Invalid Access Point Name",[x]:X}],[x]:A},PH],[x]:A},{[S]:[{[C]:We,[v]:[Hv,ym]}],[w]:[{[S]:ij,error:"S3 Outposts does not support Dual-stack",[x]:X},{[S]:My,error:"S3 Outposts does not support FIPS",[x]:X},{[S]:Xv,error:"S3 Outposts does not support S3 Accelerate",[x]:X},{[S]:[{[C]:On,[v]:[{[C]:Vt,[v]:[fn,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[x]:X},{[S]:[{[C]:Vt,[v]:Yme,[ye]:iI}],[w]:[{[S]:rj,[w]:[jv,{[S]:oI,[w]:[{[S]:hs,[w]:[{[S]:cj,[w]:[{[S]:nI,[w]:[{[S]:sI,[w]:[{[S]:[{[C]:Vt,[v]:Xme,[ye]:cH}],[w]:[{[S]:[{[C]:Vt,[v]:[fn,"resourceId[3]"],[ye]:mI}],[w]:[{[S]:[{[C]:We,[v]:[{[Z]:cH},yj]}],[w]:[{[S]:Dp,endpoint:{[V]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[z]:kH,[K]:pe},[x]:O},{endpoint:{[V]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[z]:kH,[K]:pe},[x]:O}],[x]:A},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[x]:X}],[x]:A},{error:"Invalid ARN: expected an access point name",[x]:X}],[x]:A},{error:"Invalid ARN: Expected a 4-component resource",[x]:X}],[x]:A},zv],[x]:A},Kv],[x]:A},Wv],[x]:A}],[x]:A}],[x]:A},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[x]:X}],[x]:A},{error:"Invalid ARN: The Outpost Id was not set",[x]:X}],[x]:A},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[x]:X}],[x]:A},{error:"Invalid ARN: No ARN type specified",[x]:X}],[x]:A},{[S]:[{[C]:It,[v]:[Be,0,4,!1],[ye]:uH},{[C]:We,[v]:[{[Z]:uH},"arn:"]},{[C]:Ci,[v]:[{[C]:On,[v]:[NH]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[x]:X},{[S]:[{[C]:ar,[v]:[zme,!0]},NH],error:"Path-style addressing cannot be used with ARN buckets",[x]:X},{[S]:qme,[w]:[{[S]:hs,[w]:[{[S]:[xr],[w]:[{[S]:[_t,fe,Ot,br],endpoint:{[V]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[z]:uo,[K]:pe},[x]:O},{[S]:[_t,fe,Ot,Ne,po],[w]:[{endpoint:$H,[x]:O}],[x]:A},{[S]:[_t,fe,Ot,Ne,lo],endpoint:$H,[x]:O},{[S]:[Oe,fe,Ot,br],endpoint:{[V]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[z]:uo,[K]:pe},[x]:O},{[S]:[Oe,fe,Ot,Ne,po],[w]:[{endpoint:LH,[x]:O}],[x]:A},{[S]:[Oe,fe,Ot,Ne,lo],endpoint:LH,[x]:O},{[S]:[_t,fe,be,br],endpoint:{[V]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[z]:uo,[K]:pe},[x]:O},{[S]:[_t,fe,be,Ne,po],[w]:[{endpoint:MH,[x]:O}],[x]:A},{[S]:[_t,fe,be,Ne,lo],endpoint:MH,[x]:O},{[S]:[Oe,ir,Ko,be,br],endpoint:{[V]:Sj,[z]:uo,[K]:pe},[x]:O},{[S]:[Oe,ir,Ko,be,Ne,po],[w]:[{[S]:Ha,endpoint:qv,[x]:O},{endpoint:qv,[x]:O}],[x]:A},{[S]:[Oe,ir,Ko,be,Ne,lo],endpoint:qv,[x]:O},{[S]:[Oe,fe,be,br],endpoint:{[V]:pH,[z]:uo,[K]:pe},[x]:O},{[S]:[Oe,fe,be,Ne,po],[w]:[{[S]:Ha,endpoint:{[V]:pH,[z]:Er,[K]:pe},[x]:O},{endpoint:BH,[x]:O}],[x]:A},{[S]:[Oe,fe,be,Ne,lo],endpoint:BH,[x]:O}],[x]:A},{error:"Path-style addressing cannot be used with S3 Accelerate",[x]:X}],[x]:A}],[x]:A}],[x]:A},{[S]:[{[C]:On,[v]:[UH]},{[C]:ar,[v]:[UH,!0]}],[w]:[{[S]:hs,[w]:[{[S]:pj,[w]:[TH,wH,{[S]:Dp,endpoint:{[V]:By,[z]:Jv,[K]:pe},[x]:O},{[S]:My,endpoint:{[V]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[z]:Jv,[K]:pe},[x]:O},{endpoint:{[V]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[z]:Jv,[K]:pe},[x]:O}],[x]:A},Ly],[x]:A}],[x]:A},{[S]:[yH],[w]:[{[S]:hs,[w]:[{[S]:pj,[w]:[{[S]:[Ot,_t,fe,br],endpoint:{[V]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[z]:uo,[K]:pe},[x]:O},{[S]:[Ot,_t,fe,Ne,po],[w]:[{endpoint:FH,[x]:O}],[x]:A},{[S]:[Ot,_t,fe,Ne,lo],endpoint:FH,[x]:O},{[S]:[Ot,Oe,fe,br],endpoint:{[V]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[z]:uo,[K]:pe},[x]:O},{[S]:[Ot,Oe,fe,Ne,po],[w]:[{endpoint:GH,[x]:O}],[x]:A},{[S]:[Ot,Oe,fe,Ne,lo],endpoint:GH,[x]:O},{[S]:[be,_t,fe,br],endpoint:{[V]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[z]:uo,[K]:pe},[x]:O},{[S]:[be,_t,fe,Ne,po],[w]:[{endpoint:HH,[x]:O}],[x]:A},{[S]:[be,_t,fe,Ne,lo],endpoint:HH,[x]:O},{[S]:[be,Oe,ir,Ko,br],endpoint:{[V]:By,[z]:uo,[K]:pe},[x]:O},{[S]:[be,Oe,ir,Ko,Ne,po],[w]:[{[S]:Ha,endpoint:Qv,[x]:O},{endpoint:Qv,[x]:O}],[x]:A},{[S]:[be,Oe,ir,Ko,Ne,lo],endpoint:Qv,[x]:O},{[S]:[be,Oe,fe,br],endpoint:{[V]:dH,[z]:uo,[K]:pe},[x]:O},{[S]:[be,Oe,fe,Ne,po],[w]:[{[S]:Ha,endpoint:{[V]:dH,[z]:Er,[K]:pe},[x]:O},{endpoint:jH,[x]:O}],[x]:A},{[S]:[be,Oe,fe,Ne,lo],endpoint:jH,[x]:O}],[x]:A},Ly],[x]:A}],[x]:A}],[x]:A},{error:"A region must be set when sending requests to S3.",[x]:X}]},Tj=Zme;var efe=new lr({size:50,params:["Accelerate","Bucket","DisableAccessPoints","DisableMultiRegionAccessPoints","DisableS3ExpressSessionAuth","Endpoint","ForcePathStyle","Region","UseArnRegion","UseDualStack","UseFIPS","UseGlobalEndpoint","UseObjectLambdaEndpoint","UseS3ExpressControlEndpoint"]}),jy=(t,e={})=>efe.get(t,()=>Br(Tj,{endpointParams:t,logger:e.logger}));jt.aws=_r;var tfe=t=>async(e,r,o)=>{if(!o)throw new Error("Could not find `input` for `defaultEndpointRuleSetHttpAuthSchemeParametersProvider`");let n=await t(e,r,o),s=nt(r)?.commandInstance?.constructor?.getEndpointParameterInstructions;if(!s)throw new Error(`getEndpointParameterInstructions() is not defined on '${r.commandName}'`);let i=await OR(o,{getEndpointParameterInstructions:s},e);return Object.assign(n,i)},rfe=async(t,e,r)=>({operation:nt(e).operation,region:await ge(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),wj=tfe(rfe);function Aj(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"s3",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function Dj(t){return{schemeId:"aws.auth#sigv4a",signingProperties:{name:"s3",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}var ofe=(t,e,r)=>n=>{let i=t(n).properties?.authSchemes;if(!i)return e(n);let a=[];for(let c of i){let{name:u,properties:m={},...f}=c,h=u.toLowerCase();u!==h&&console.warn(`HttpAuthScheme has been normalized with lowercasing: '${u}' to '${h}'`);let g;if(h==="sigv4a"){g="aws.auth#sigv4a";let T=i.find(M=>{let U=M.name.toLowerCase();return U!=="sigv4a"&&U.startsWith("sigv4")});if(Tp.sigv4aDependency()==="none"&&T)continue}else if(h.startsWith("sigv4"))g="aws.auth#sigv4";else throw new Error(`Unknown HttpAuthScheme found in '@smithy.rules#endpointRuleSet': '${h}'`);let _=r[g];if(!_)throw new Error(`Could not find HttpAuthOption create function for '${g}'`);let b=_(n);b.schemeId=g,b.signingProperties={...b.signingProperties||{},...f,...m},a.push(b)}return a},nfe=t=>{let e=[];switch(t.operation){default:e.push(Aj(t)),e.push(Dj(t))}return e},Oj=ofe(jy,nfe,{"aws.auth#sigv4":Aj,"aws.auth#sigv4a":Dj}),Pj=t=>{let e=Gr(t),r=KN(e);return Object.assign(r,{authSchemePreference:ge(t.authSchemePreference??[])})};xe();F();var kj=t=>Object.assign(t,{useFipsEndpoint:t.useFipsEndpoint??!1,useDualstackEndpoint:t.useDualstackEndpoint??!1,forcePathStyle:t.forcePathStyle??!1,useAccelerateEndpoint:t.useAccelerateEndpoint??!1,useGlobalEndpoint:t.useGlobalEndpoint??!1,disableMultiregionAccessPoints:t.disableMultiregionAccessPoints??!1,defaultSigningName:"s3",clientContextParams:t.clientContextParams??{}}),xs={ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};ve();F();var Cr=class t extends mr{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}};var Vy=class t extends Cr{name="NoSuchUpload";$fault="client";constructor(e){super({name:"NoSuchUpload",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},zy=class t extends Cr{name="ObjectNotInActiveTierError";$fault="client";constructor(e){super({name:"ObjectNotInActiveTierError",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Ky=class t extends Cr{name="BucketAlreadyExists";$fault="client";constructor(e){super({name:"BucketAlreadyExists",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Wy=class t extends Cr{name="BucketAlreadyOwnedByYou";$fault="client";constructor(e){super({name:"BucketAlreadyOwnedByYou",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},qy=class t extends Cr{name="NoSuchBucket";$fault="client";constructor(e){super({name:"NoSuchBucket",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Jy=class t extends Cr{name="InvalidObjectState";$fault="client";StorageClass;AccessTier;constructor(e){super({name:"InvalidObjectState",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.StorageClass=e.StorageClass,this.AccessTier=e.AccessTier}},Qy=class t extends Cr{name="NoSuchKey";$fault="client";constructor(e){super({name:"NoSuchKey",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Yy=class t extends Cr{name="NotFound";$fault="client";constructor(e){super({name:"NotFound",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Xy=class t extends Cr{name="EncryptionTypeMismatch";$fault="client";constructor(e){super({name:"EncryptionTypeMismatch",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Zy=class t extends Cr{name="InvalidRequest";$fault="client";constructor(e){super({name:"InvalidRequest",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},eS=class t extends Cr{name="InvalidWriteOffset";$fault="client";constructor(e){super({name:"InvalidWriteOffset",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},tS=class t extends Cr{name="TooManyParts";$fault="client";constructor(e){super({name:"TooManyParts",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},rS=class t extends Cr{name="IdempotencyParameterMismatch";$fault="client";constructor(e){super({name:"IdempotencyParameterMismatch",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},oS=class t extends Cr{name="ObjectAlreadyInActiveTierError";$fault="client";constructor(e){super({name:"ObjectAlreadyInActiveTierError",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}};var sfe="Account",ife="AnalyticsAndOperator",nS="AccelerateConfiguration",vS="AccessControlList",Pp="ACL",Vj="AnalyticsConfigurationList",Wc="AccessControlPolicy",zj="AccessControlTranslation",Sm="AnalyticsConfiguration",Kj="AbortDate",afe="AnalyticsExportDestination",cfe="AnalyticsFilter",ufe="AllowedHeaders",pfe="AllowedHeader",dfe="AccountId",Wj="AbortIncompleteMultipartUpload",Nj="AccessKeyId",lfe="AllowedMethods",mfe="AbortMultipartUpload",ffe="AbortMultipartUploadOutput",hfe="AbortMultipartUploadRequest",gfe="AllowedMethod",xfe="AllowedOrigins",yfe="AllowedOrigin",Sfe="AccessPointAlias",qj="AccessPointArn",Efe="AllowQuotedRecordDelimiter",bI="AcceptRanges",Jj="AbortRuleId",sS="AbacStatus",_fe="AnalyticsS3BucketDestination",Rfe="ApplyServerSideEncryptionByDefault",bfe="ArchiveStatus",Qj="AccessTier",bm="And",P="Bucket",CI="BucketArn",Cfe="BucketAlreadyExists",vfe="BucketAccountId",Ife="BucketAlreadyOwnedByYou",Yj="BlockedEncryptionTypes",vI="BypassGovernanceRetention",Tfe="BucketInfo",Wo="BucketKeyEnabled",wfe="BucketLifecycleConfiguration",Afe="BucketLocationName",iS="BucketLoggingStatus",Dfe="BucketLocationType",Ofe="BucketName",Xj="BytesProcessed",$j="BlockPublicAcls",Lj="BlockPublicPolicy",II="BucketRegion",Zj="BytesReturned",eV="BytesScanned",Cm="Body",TI="Buckets",tV="Checksum",Ue="ChecksumAlgorithm",Pfe="CannedACL",kfe="CreateBucket",hI="CreateBucketConfiguration",Nfe="CreateBucketMetadataConfiguration",$fe="CreateBucketMetadataConfigurationRequest",Lfe="CreateBucketMetadataTableConfiguration",Mfe="CreateBucketMetadataTableConfigurationRequest",Bfe="CreateBucketOutput",Ufe="CreateBucketRequest",kp="CacheControl",qo="ChecksumCRC32",Jo="ChecksumCRC32C",Qo="ChecksumCRC64NVME",vm="Cache-Control",Ffe="CreationDate",Im="Content-Disposition",Np="ContentDisposition",Gfe="ContinuationEvent",Tm="Content-Encoding",$p="ContentEncoding",Hfe="CloudFunction",jfe="CloudFunctionConfiguration",Lp="ContentLanguage",wm="Content-Language",Am="Content-Length",Dm="ContentLength",Gt="Content-MD5",Ht="ContentMD5",Vfe="CompletedMultipartUpload",zfe="CompleteMultipartUploadOutput",Kfe="CreateMultipartUploadOutput",Wfe="CompleteMultipartUploadResult",qfe="CompleteMultipartUploadRequest",Jfe="CreateMultipartUploadRequest",rV="CompleteMultipartUpload",Qfe="CreateMultipartUpload",oV="ChecksumMode",Yfe="CopyObject",Xfe="CopyObjectOutput",nV="CopyObjectResult",aS="CORSConfiguration",wI="CORSRules",AI="CORSRule",Zfe="CopyObjectRequest",ehe="CommonPrefix",the="CommonPrefixList",rhe="CompletedPartList",sV="CopyPartResult",ohe="CompletedPart",IS="CommonPrefixes",DI="ContentRange",nhe="ConfirmRemoveSelfBucketAccess",iV="Content-Range",aV="CopySource",Yo="ChecksumSHA1",Xo="ChecksumSHA256",cV="CopySourceIfMatch",uV="CopySourceIfModifiedSince",pV="CopySourceIfNoneMatch",dV="CopySourceIfUnmodifiedSince",she="CreateSessionOutput",ihe="CreateSessionResult",ahe="CopySourceRange",che="CreateSessionRequest",lV="CopySourceSSECustomerAlgorithm",OI="CopySourceSSECustomerKey",mV="CopySourceSSECustomerKeyMD5",fV="CSV",hV="CopySourceVersionId",uhe="CSVInput",phe="CSVOutput",PI="ConfigurationState",dhe="CreateSession",Pn="ChecksumType",Om="Content-Type",lhe="ClientToken",Mp="ContentType",mhe="CompressionType",hn="ContinuationToken",gV="Condition",fhe="Code",hhe="Comments",xV="Contents",ghe="Cont",Mj="Credentials",Bp="Days",xhe="DaysAfterInitiation",yhe="DeleteBucket",She="DeleteBucketAnalyticsConfiguration",Ehe="DeleteBucketAnalyticsConfigurationRequest",_he="DeleteBucketCors",Rhe="DeleteBucketCorsRequest",bhe="DeleteBucketEncryption",Che="DeleteBucketEncryptionRequest",vhe="DeleteBucketInventoryConfiguration",Ihe="DeleteBucketInventoryConfigurationRequest",The="DeleteBucketIntelligentTieringConfiguration",whe="DeleteBucketIntelligentTieringConfigurationRequest",Ahe="DeleteBucketLifecycle",Dhe="DeleteBucketLifecycleRequest",Ohe="DeleteBucketMetadataConfiguration",Phe="DeleteBucketMetadataConfigurationRequest",khe="DeleteBucketMetricsConfigurationRequest",Nhe="DeleteBucketMetricsConfiguration",$he="DeleteBucketMetadataTableConfiguration",Lhe="DeleteBucketMetadataTableConfigurationRequest",Mhe="DeleteBucketOwnershipControls",Bhe="DeleteBucketOwnershipControlsRequest",Uhe="DeleteBucketPolicy",Fhe="DeleteBucketPolicyRequest",Ghe="DeleteBucketRequest",Hhe="DeleteBucketReplicationRequest",jhe="DeleteBucketReplication",Vhe="DeleteBucketTagging",zhe="DeleteBucketTaggingRequest",Khe="DeleteBucketWebsite",Whe="DeleteBucketWebsiteRequest",qhe="DataExport",Jhe="DestinationIfMatch",Qhe="DestinationIfModifiedSince",Yhe="DestinationIfNoneMatch",Xhe="DestinationIfUnmodifiedSince",qc="DeleteMarker",Zhe="DeleteMarkerEntry",yV="DeleteMarkerReplication",ege="DeleteMarkerVersionId",SV="DeleteMarkers",kI="DisplayName",tge="DeletedObject",rge="DeleteObjectOutput",oge="DeleteObjectsOutput",nge="DeleteObjectRequest",sge="DeleteObjectsRequest",ige="DeleteObjectTagging",age="DeleteObjectTaggingOutput",cge="DeleteObjectTaggingRequest",uge="DeletedObjects",pge="DeleteObject",dge="DeleteObjects",lge="DeletePublicAccessBlock",mge="DeletePublicAccessBlockRequest",fge="DataRedundancy",EV="DefaultRetention",hge="DeleteResult",_V="DestinationResult",RV="Date",gI="Delete",gge="Deleted",ja="Delimiter",TS="Destination",xge="Description",bV="Details",vi="Expiration",yge="EmailAddress",CV="EventBridgeConfiguration",N="ExpectedBucketOwner",Pm="EncryptionConfiguration",vV="ErrorCode",Sge="ErrorDetails",NI="ErrorDocument",Ege="EndEvent",_ge="ExposeHeaders",Rge="ExposeHeader",IV="ErrorMessage",bge="ExpiredObjectDeleteMarker",TV="ExistingObjectReplication",cS="ExpiresString",wV="ExpectedSourceBucketOwner",$I="EncryptionType",Cge="EncryptionTypeList",vge="EncryptionTypeMismatch",fo="ETag",Va="EncodingType",Ige="EventThreshold",AV="ExpressionType",LI="Encryption",Tge="Enabled",DV="End",OV="Errors",km="Error",MI="Events",BI="Event",Ls="Expires",PV="Expression",na="Filter",kV="FieldDelimiter",wge="FileHeaderInfo",Age="FetchOwner",NV="FilterRule",Dge="FilterRuleList",Oge="FilterRules",Pge="Field",$V="Format",kge="Frequency",wS="Grants",Nge="GetBucketAbac",$ge="GetBucketAccelerateConfiguration",Lge="GetBucketAccelerateConfigurationOutput",Mge="GetBucketAnalyticsConfigurationOutput",Bge="GetBucketAccelerateConfigurationRequest",Uge="GetBucketAnalyticsConfigurationRequest",Fge="GetBucketAnalyticsConfiguration",Gge="GetBucketAbacOutput",Hge="GetBucketAclOutput",jge="GetBucketAbacRequest",Vge="GetBucketAclRequest",zge="GetBucketAcl",Kge="GetBucketCors",Wge="GetBucketCorsOutput",qge="GetBucketCorsRequest",Jge="GetBucketEncryption",Qge="GetBucketEncryptionOutput",Yge="GetBucketEncryptionRequest",Xge="GetBucketInventoryConfiguration",Zge="GetBucketInventoryConfigurationOutput",e0e="GetBucketInventoryConfigurationRequest",t0e="GetBucketIntelligentTieringConfiguration",r0e="GetBucketIntelligentTieringConfigurationOutput",o0e="GetBucketIntelligentTieringConfigurationRequest",n0e="GetBucketLocation",s0e="GetBucketLifecycleConfiguration",i0e="GetBucketLifecycleConfigurationOutput",a0e="GetBucketLifecycleConfigurationRequest",c0e="GetBucketLocationOutput",u0e="GetBucketLoggingOutput",p0e="GetBucketLocationRequest",d0e="GetBucketLoggingRequest",l0e="GetBucketLogging",m0e="GetBucketMetadataConfiguration",f0e="GetBucketMetadataConfigurationOutput",h0e="GetBucketMetricsConfigurationOutput",LV="GetBucketMetadataConfigurationResult",g0e="GetBucketMetadataConfigurationRequest",x0e="GetBucketMetricsConfigurationRequest",y0e="GetBucketMetricsConfiguration",S0e="GetBucketMetadataTableConfiguration",E0e="GetBucketMetadataTableConfigurationOutput",MV="GetBucketMetadataTableConfigurationResult",_0e="GetBucketMetadataTableConfigurationRequest",R0e="GetBucketNotificationConfiguration",b0e="GetBucketNotificationConfigurationRequest",C0e="GetBucketOwnershipControls",v0e="GetBucketOwnershipControlsOutput",I0e="GetBucketOwnershipControlsRequest",T0e="GetBucketPolicy",w0e="GetBucketPolicyOutput",A0e="GetBucketPolicyRequest",D0e="GetBucketPolicyStatus",O0e="GetBucketPolicyStatusOutput",P0e="GetBucketPolicyStatusRequest",k0e="GetBucketReplication",N0e="GetBucketReplicationOutput",$0e="GetBucketRequestPayment",L0e="GetBucketRequestPaymentOutput",M0e="GetBucketRequestPaymentRequest",B0e="GetBucketReplicationRequest",U0e="GetBucketTagging",F0e="GetBucketTaggingOutput",G0e="GetBucketTaggingRequest",H0e="GetBucketVersioning",j0e="GetBucketVersioningOutput",V0e="GetBucketVersioningRequest",z0e="GetBucketWebsite",K0e="GetBucketWebsiteOutput",W0e="GetBucketWebsiteRequest",Up="GrantFullControl",BV="GlacierJobParameters",q0e="GetObject",J0e="GetObjectAcl",Q0e="GetObjectAclOutput",Y0e="GetObjectAttributesOutput",X0e="GetObjectAttributesParts",Z0e="GetObjectAclRequest",exe="GetObjectAttributesResponse",txe="GetObjectAttributesRequest",rxe="GetObjectAttributes",oxe="GetObjectLockConfiguration",nxe="GetObjectLockConfigurationOutput",sxe="GetObjectLockConfigurationRequest",ixe="GetObjectLegalHold",axe="GetObjectLegalHoldOutput",cxe="GetObjectLegalHoldRequest",uxe="GetObjectOutput",pxe="GetObjectRequest",dxe="GetObjectRetentionOutput",lxe="GetObjectRetentionRequest",mxe="GetObjectRetention",fxe="GetObjectTagging",hxe="GetObjectTaggingOutput",gxe="GetObjectTorrentOutput",xxe="GetObjectTaggingRequest",yxe="GetObjectTorrentRequest",Sxe="GetObjectTorrent",Exe="GetPublicAccessBlock",_xe="GetPublicAccessBlockOutput",Rxe="GetPublicAccessBlockRequest",Fp="GrantRead",Gp="GrantReadACP",UI="GrantWrite",Hp="GrantWriteACP",FI="Grant",GI="Grantee",bxe="HeadBucket",Cxe="HeadBucketOutput",vxe="HeadBucketRequest",Ixe="HttpErrorCodeReturnedEquals",UV="HostName",Txe="HeadObject",wxe="HeadObjectOutput",Axe="HeadObjectRequest",Dxe="HttpRedirectCode",vr="Id",Em="InventoryConfiguration",FV="InventoryConfigurationList",jp="ID",HI="IndexDocument",Oxe="InventoryDestination",Pxe="IsEnabled",kxe="InventoryEncryption",Nxe="InventoryFilter",GV="IsLatest",Vp="IfMatch",$xe="IfMatchInitiatedTime",Lxe="IfMatchLastModifiedTime",Mxe="IfMatchSize",jI="If-Modified-Since",HV="IfModifiedSince",Bxe="InitiateMultipartUploadResult",Jc="If-Match",Nm="IfNoneMatch",zp="If-None-Match",Uxe="InventoryOptionalFields",Fxe="InvalidObjectState",Gxe="IncludedObjectVersions",Bj="IsPublic",Uj="IgnorePublicAcls",Hxe="IdempotencyParameterMismatch",jxe="InvalidRequest",Vxe="IsRestoreInProgress",VI="InputSerialization",zxe="InventoryS3BucketDestination",Kxe="InventorySchedule",Ii="IsTruncated",Wxe="IntelligentTieringAndOperator",_m="IntelligentTieringConfiguration",jV="IntelligentTieringConfigurationList",VV="InventoryTableConfigurationResult",qxe="InventoryTableConfigurationUpdates",uS="InventoryTableConfiguration",Jxe="IntelligentTieringFilter",zV="IfUnmodifiedSince",zI="If-Unmodified-Since",Qxe="InvalidWriteOffset",KI="Initiator",Yxe="Initiated",KV="JSON",Xxe="JSONInput",Zxe="JSONOutput",pS="JournalTableConfiguration",WV="JournalTableConfigurationResult",eye="JournalTableConfigurationUpdates",Ae="Key",tye="KeyCount",rye="KeyId",oye="KmsKeyArn",AS="KeyMarker",nye="KMSContext",sye="KMSKeyId",iye="KMSMasterKeyID",aye="KeyPrefixEquals",dS="Location",cye="ListAllMyBucketsResult",uye="ListAllMyDirectoryBucketsResult",pye="ListBuckets",dye="ListBucketAnalyticsConfigurations",lye="ListBucketAnalyticsConfigurationsOutput",mye="ListBucketAnalyticsConfigurationResult",fye="ListBucketAnalyticsConfigurationsRequest",hye="ListBucketInventoryConfigurations",gye="ListBucketInventoryConfigurationsOutput",xye="ListBucketInventoryConfigurationsRequest",yye="ListBucketIntelligentTieringConfigurations",Sye="ListBucketIntelligentTieringConfigurationsOutput",Eye="ListBucketIntelligentTieringConfigurationsRequest",_ye="ListBucketMetricsConfigurations",Rye="ListBucketMetricsConfigurationsOutput",bye="ListBucketMetricsConfigurationsRequest",Cye="ListBucketsOutput",vye="ListBucketsRequest",qV="ListBucketResult",xI="LocationConstraint",yI="LifecycleConfiguration",Iye="ListDirectoryBuckets",Tye="ListDirectoryBucketsOutput",wye="ListDirectoryBucketsRequest",WI="LoggingEnabled",Aye="LifecycleExpiration",Dye="LambdaFunctionArn",Oye="LambdaFunctionConfiguration",Pye="LambdaFunctionConfigurationList",kye="LambdaFunctionConfigurations",lS="LegalHold",Nye="LocationInfo",$ye="ListInventoryConfigurationsResult",Ti="LastModified",Lye="ListMetricsConfigurationsResult",Mye="LastModifiedTime",Bye="ListMultipartUploads",Uye="ListMultipartUploadsOutput",Fye="ListMultipartUploadsResult",Gye="ListMultipartUploadsRequest",qI="Last-Modified",Hye="ListObjects",jye="ListObjectsOutput",Vye="ListObjectsRequest",zye="ListObjectsV2",Kye="ListObjectsV2Output",Wye="ListObjectVersionsOutput",qye="ListObjectsV2Request",Jye="ListObjectVersionsRequest",Qye="ListObjectVersions",Yye="ListParts",Xye="ListPartsOutput",Zye="ListPartsResult",eSe="ListPartsRequest",tSe="LifecycleRule",rSe="LifecycleRuleAndOperator",oSe="LifecycleRuleFilter",nSe="LifecycleRules",sSe="ListVersionsResult",Kp="Metadata",iSe="MetricsAndOperator",aSe="MaxAgeSeconds",cSe="MaxBuckets",SI="MetadataConfiguration",JV="MetricsConfigurationList",QV="MetadataConfigurationResult",Rm="MetricsConfiguration",uSe="MetadataDirective",pSe="MaxDirectoryBuckets",YV="MfaDelete",XV="MetadataEntry",dSe="MetricsFilter",JI="MFA",ZV="MFADelete",Wp="MaxKeys",QI="MissingMeta",lSe="MpuObjectSize",DS="MaxParts",EI="MetadataTableConfiguration",e7="MetadataTableConfigurationResult",mSe="MetadataTableEncryptionConfiguration",t7="MultipartUpload",fSe="MultipartUploadList",r7="MaxUploads",o7="Marker",n7="Metrics",hSe="Message",gSe="Minutes",s7="Mode",Qc="Name",_I="NotificationConfiguration",xSe="NotificationConfigurationFilter",$m="NextContinuationToken",i7="NoncurrentDays",ySe="NotFound",a7="NextKeyMarker",SSe="NextMarker",c7="NewerNoncurrentVersions",u7="NextPartNumberMarker",ESe="NoSuchBucket",_Se="NoSuchKey",RSe="NoSuchUpload",bSe="NextUploadIdMarker",p7="NoncurrentVersionExpiration",CSe="NextVersionIdMarker",vSe="NoncurrentVersionTransitions",ISe="NoncurrentVersionTransitionList",d7="NoncurrentVersionTransition",Bs="Owner",TSe="ObjectAttributes",wSe="ObjectAlreadyInActiveTierError",mS="OwnershipControls",ASe="OwnershipControlsRule",DSe="OwnershipControlsRules",OSe="OptionalFields",PSe="ObjectIdentifier",kSe="ObjectIdentifierList",l7="OutputLocation",fS="ObjectLockConfiguration",NSe="ObjectLockEnabled",$Se="ObjectLockEnabledForBucket",LSe="ObjectLockLegalHold",qp="ObjectLockLegalHoldStatus",Jp="ObjectLockMode",MSe="ObjectLockRetention",Qp="ObjectLockRetainUntilDate",BSe="ObjectLockRule",USe="ObjectList",FSe="ObjectNotInActiveTierError",m7="ObjectOwnership",YI="OptionalObjectAttributes",GSe="ObjectParts",HSe="ObjectPart",jSe="ObjectSize",f7="ObjectSizeGreaterThan",h7="ObjectSizeLessThan",VSe="OutputSchemaVersion",XI="OutputSerialization",zSe="ObjectVersion",KSe="ObjectVersionList",WSe="Objects",g7="Object",Tt="Prefix",hS="PublicAccessBlockConfiguration",qSe="PutBucketAbac",JSe="PutBucketAccelerateConfiguration",QSe="PutBucketAccelerateConfigurationRequest",YSe="PutBucketAnalyticsConfigurationRequest",XSe="PutBucketAnalyticsConfiguration",ZSe="PutBucketAbacRequest",eEe="PutBucketAclRequest",tEe="PutBucketAcl",rEe="PutBucketCors",oEe="PutBucketCorsRequest",nEe="PutBucketEncryption",sEe="PutBucketEncryptionRequest",iEe="PutBucketInventoryConfiguration",aEe="PutBucketInventoryConfigurationRequest",cEe="PutBucketIntelligentTieringConfiguration",uEe="PutBucketIntelligentTieringConfigurationRequest",pEe="PutBucketLogging",dEe="PutBucketLifecycleConfiguration",lEe="PutBucketLifecycleConfigurationOutput",mEe="PutBucketLifecycleConfigurationRequest",fEe="PutBucketLoggingRequest",hEe="PutBucketMetricsConfiguration",gEe="PutBucketMetricsConfigurationRequest",xEe="PutBucketNotificationConfiguration",yEe="PutBucketNotificationConfigurationRequest",SEe="PutBucketOwnershipControls",EEe="PutBucketOwnershipControlsRequest",_Ee="PutBucketPolicy",REe="PutBucketPolicyRequest",bEe="PutBucketReplication",CEe="PutBucketRequestPayment",vEe="PutBucketRequestPaymentRequest",IEe="PutBucketReplicationRequest",TEe="PutBucketTagging",wEe="PutBucketTaggingRequest",AEe="PutBucketVersioning",DEe="PutBucketVersioningRequest",OEe="PutBucketWebsite",PEe="PutBucketWebsiteRequest",OS="PartsCount",kEe="PartitionDateSource",NEe="ProgressEvent",$Ee="ParquetInput",LEe="PartsList",Yc="PartNumber",PS="PartNumberMarker",MEe="PutObject",BEe="PutObjectAcl",UEe="PutObjectAclOutput",FEe="PutObjectAclRequest",GEe="PutObjectLockConfiguration",HEe="PutObjectLockConfigurationOutput",jEe="PutObjectLockConfigurationRequest",VEe="PutObjectLegalHold",zEe="PutObjectLegalHoldOutput",KEe="PutObjectLegalHoldRequest",WEe="PutObjectOutput",qEe="PutObjectRequest",JEe="PutObjectRetentionOutput",QEe="PutObjectRetentionRequest",YEe="PutObjectRetention",XEe="PutObjectTagging",ZEe="PutObjectTaggingOutput",e_e="PutObjectTaggingRequest",gS="PartitionedPrefix",t_e="PutPublicAccessBlock",r_e="PutPublicAccessBlockRequest",x7="PolicyStatus",kS="Parts",NS="Part",o_e="Parquet",y7="Payer",S7="Payload",E7="Permission",_7="Policy",R7="Progress",n_e="Priority",b7="Protocol",s_e="Quiet",i_e="QueueArn",C7="QuoteCharacter",a_e="QueueConfigurationList",c_e="QueueConfigurations",v7="QueueConfiguration",I7="QuoteEscapeCharacter",u_e="QuoteFields",p_e="Queue",Lm="Rules",ZI="RedirectAllRequestsTo",Pt="RequestCharged",T7="ResponseCacheControl",w7="ResponseContentDisposition",A7="ResponseContentEncoding",D7="ResponseContentLanguage",O7="ResponseContentType",xS="ReplicationConfiguration",eT="RecordDelimiter",P7="ResponseExpires",d_e="RestoreExpiryDate",$S="RecordExpiration",l_e="RecordsEvent",m_e="ReplicaKmsKeyID",f_e="ReplaceKeyPrefixWith",h_e="ReplaceKeyWith",k7="ReplicaModifications",g_e="RenameObject",x_e="RenameObjectOutput",y_e="RestoreObjectOutput",S_e="RestoreOutputPath",E_e="RenameObjectRequest",__e="RestoreObjectRequest",R_e="RestoreObject",yt="RequestPayer",Fj="RestrictPublicBuckets",yS="RequestPaymentConfiguration",N7="RequestProgress",tT="RoutingRules",b_e="ReplicationRuleAndOperator",C_e="ReplicationRuleFilter",v_e="ReplicationRule",I_e="ReplicationRules",T_e="RequestRoute",RI="RestoreRequest",$7="RoutingRule",rT="ReplicationStatus",oT="RestoreStatus",w_e="RenameSource",L7="ReplicationTime",A_e="ReplicationTimeValue",D_e="RequestToken",O_e="RetainUntilDate",SS="Range",nT="Restore",P_e="Records",M7="Redirect",ES="Retention",k_e="Role",Yp="Rule",Mo="Status",B7="StartAfter",Gj="SecretAccessKey",N_e="SseAlgorithm",$_e="StreamingBlob",U7="S3BucketDestination",Bo="StorageClass",F7="StorageClassAnalysis",L_e="StorageClassAnalysisDataExport",M_e="SessionCredentialValue",B_e="SessionCredentials",U_e="StatusCode",F_e="SkipDestinationValidation",G_e="StatsEvent",H_e="SourceIfMatch",j_e="SourceIfModifiedSince",V_e="SourceIfNoneMatch",z_e="SourceIfUnmodifiedSince",G7="SSE-KMS",H7="SseKmsEncryptedObjects",K_e="S3KeyFilter",W_e="S3Key",q_e="S3Location",J_e="SessionMode",Q_e="SelectObjectContent",Y_e="SelectObjectContentEventStream",X_e="SelectObjectContentOutput",Z_e="SelectObjectContentRequest",j7="SelectParameters",_S="SimplePrefix",V7="ScanRange",z7="SSE-S3",K7="SourceSelectionCriteria",gn="ServerSideEncryption",eRe="SSEAlgorithm",tRe="ServerSideEncryptionByDefault",RS="ServerSideEncryptionConfiguration",Ir="SSECustomerAlgorithm",ys="SSECustomerKey",Tr="SSECustomerKeyMD5",W7="SSEKMS",sa="SSEKMSEncryptionContext",Zo="SSEKMSKeyId",rRe="ServerSideEncryptionRule",oRe="ServerSideEncryptionRules",q7="SSES3",Hj="SessionToken",J7="S3TablesDestination",Q7="S3TablesDestinationResult",nRe="S3",sRe="Schedule",Xp="Size",iRe="Start",Y7="Stats",aRe="Suffix",Zp="Tags",sT="TableArn",cRe="TopicArn",uRe="TargetBucket",iT="TableBucketArn",pRe="TableBucketType",aT="TagCount",dRe="TopicConfigurationList",lRe="TopicConfigurations",X7="TopicConfiguration",mRe="TaggingDirective",cT="TransitionDefaultMinimumObjectSize",Z7="TargetGrants",fRe="TargetGrant",hRe="TieringList",gRe="TransitionList",xRe="TooManyParts",ez="TableNamespace",LS="TableName",tz="TargetObjectKeyFormat",yRe="TargetPrefix",SRe="TotalPartsCount",MS="TagSet",rz="TableStatus",Ss="Tag",Ms="Tagging",oz="Tier",ERe="Tierings",nz="Tiering",_Re="Time",sz="Token",RRe="Topic",bRe="Transitions",iz="Transition",Mm="Type",CRe="Uploads",vRe="UpdateBucketMetadataInventoryTableConfiguration",IRe="UpdateBucketMetadataInventoryTableConfigurationRequest",TRe="UpdateBucketMetadataJournalTableConfiguration",wRe="UpdateBucketMetadataJournalTableConfigurationRequest",za="UploadId",az="UploadIdMarker",cz="UserMetadata",ARe="UploadPart",DRe="UploadPartCopy",ORe="UploadPartCopyOutput",PRe="UploadPartCopyRequest",kRe="UploadPartOutput",NRe="UploadPartRequest",$Re="URI",LRe="Upload",uT="Value",bS="VersioningConfiguration",dt="VersionId",uz="VersionIdMarker",MRe="Versions",BRe="Version",CS="WebsiteConfiguration",URe="WriteGetObjectResponse",FRe="WriteGetObjectResponseRequest",GRe="WriteOffsetBytes",Bm="WebsiteRedirectLocation",HRe="Years",pz="accept-ranges",jRe="bucket-region",xn="client",Xc="continuation-token",BS="delimiter",yn="error",pT="eventPayload",VRe="endpoint",US="encoding-type",zRe="fetch-owner",k="http",St="httpChecksum",kn="httpError",d="httpHeader",KRe="hostLabel",qe="httpPayload",ed="httpPrefixHeaders",j="httpQuery",dz="http://www.w3.org/2001/XMLSchema-instance",Es="id",WRe="idempotencyToken",lz="key-marker",qRe="marker",JRe="max-buckets",QRe="max-directory-buckets",dT="max-keys",YRe="max-parts",XRe="max-uploads",Um="prefix",FS="partNumber",ZRe="part-number-marker",mz="response-cache-control",fz="response-content-disposition",hz="response-content-encoding",gz="response-content-language",xz="response-content-type",yz="response-expires",Sz="streaming",ebe="start-after",Ez="smithy.ts.sdk.synthetic.com.amazonaws.s3",Fm="uploadId",tbe="upload-id-marker",Sn="versionId",rbe="version-id-marker",_z="xsi",obe="xmlAttribute",de="xmlFlattened",I="xmlName",Rz="xmlNamespace",td="x-amz-acl",bz="x-amz-abort-date",nbe="x-amz-access-point-alias",Cz="x-amz-abort-rule-id",sbe="x-amz-archive-status",vz="x-amz-bucket-arn",lT="x-amz-bypass-governance-retention",ibe="x-amz-bucket-location-name",abe="x-amz-bucket-location-type",cbe="x-amz-bucket-object-lock-enabled",Iz="x-amz-bucket-object-lock-token",ube="x-amz-bucket-region",mT="x-amz-checksum-algorithm",Zc="x-amz-checksum-crc32",eu="x-amz-checksum-crc32c",tu="x-amz-checksum-crc64nvme",Tz="x-amz-checksum-mode",pbe="x-amz-confirm-remove-self-bucket-access",ru="x-amz-checksum-sha1",ou="x-amz-checksum-sha256",wz="x-amz-copy-source",Az="x-amz-copy-source-if-match",Dz="x-amz-copy-source-if-modified-since",Oz="x-amz-copy-source-if-none-match",Pz="x-amz-copy-source-if-unmodified-since",dbe="x-amz-create-session-mode",lbe="x-amz-copy-source-range",kz="x-amz-copy-source-server-side-encryption-customer-algorithm",Nz="x-amz-copy-source-server-side-encryption-customer-key",$z="x-amz-copy-source-server-side-encryption-customer-key-MD5",Lz="x-amz-copy-source-version-id",rd="x-amz-checksum-type",mbe="x-amz-client-token",GS="x-amz-delete-marker",Gm="x-amz-expiration",$="x-amz-expected-bucket-owner",fbe="x-amz-fwd-error-code",hbe="x-amz-fwd-error-message",gbe="x-amz-fwd-header-Cache-Control",xbe="x-amz-fwd-header-Content-Disposition",ybe="x-amz-fwd-header-Content-Encoding",Sbe="x-amz-fwd-header-Content-Language",Ebe="x-amz-fwd-header-Content-Range",_be="x-amz-fwd-header-Content-Type",Rbe="x-amz-fwd-header-ETag",bbe="x-amz-fwd-header-Expires",Cbe="x-amz-fwd-header-Last-Modified",vbe="x-amz-fwd-header-accept-ranges",Ibe="x-amz-fwd-header-x-amz-checksum-crc32",Tbe="x-amz-fwd-header-x-amz-checksum-crc32c",wbe="x-amz-fwd-header-x-amz-checksum-crc64nvme",Abe="x-amz-fwd-header-x-amz-checksum-sha1",Dbe="x-amz-fwd-header-x-amz-checksum-sha256",Obe="x-amz-fwd-header-x-amz-delete-marker",Pbe="x-amz-fwd-header-x-amz-expiration",kbe="x-amz-fwd-header-x-amz-missing-meta",Nbe="x-amz-fwd-header-x-amz-mp-parts-count",$be="x-amz-fwd-header-x-amz-object-lock-legal-hold",Lbe="x-amz-fwd-header-x-amz-object-lock-mode",Mbe="x-amz-fwd-header-x-amz-object-lock-retain-until-date",Bbe="x-amz-fwd-header-x-amz-restore",Ube="x-amz-fwd-header-x-amz-request-charged",Fbe="x-amz-fwd-header-x-amz-replication-status",Gbe="x-amz-fwd-header-x-amz-storage-class",Hbe="x-amz-fwd-header-x-amz-server-side-encryption",jbe="x-amz-fwd-header-x-amz-server-side-encryption-aws-kms-key-id",Vbe="x-amz-fwd-header-x-amz-server-side-encryption-bucket-key-enabled",zbe="x-amz-fwd-header-x-amz-server-side-encryption-customer-algorithm",Kbe="x-amz-fwd-header-x-amz-server-side-encryption-customer-key-MD5",Wbe="x-amz-fwd-header-x-amz-tagging-count",qbe="x-amz-fwd-header-x-amz-version-id",Jbe="x-amz-fwd-status",od="x-amz-grant-full-control",nd="x-amz-grant-read",sd="x-amz-grant-read-acp",fT="x-amz-grant-write",id="x-amz-grant-write-acp",Qbe="x-amz-if-match-initiated-time",Ybe="x-amz-if-match-last-modified-time",Xbe="x-amz-if-match-size",ad="x-amz-meta-",hT="x-amz-mfa",Zbe="x-amz-metadata-directive",Mz="x-amz-missing-meta",eCe="x-amz-mp-object-size",tCe="x-amz-max-parts",Bz="x-amz-mp-parts-count",rCe="x-amz-object-attributes",Hm="x-amz-object-lock-legal-hold",jm="x-amz-object-lock-mode",Vm="x-amz-object-lock-retain-until-date",oCe="x-amz-object-ownership",gT="x-amz-optional-object-attributes",nCe="x-amz-object-size",sCe="x-amz-part-number-marker",Uz="x-amz-restore",$t="x-amz-request-charged",iCe="x-amz-restore-output-path",Et="x-amz-request-payer",aCe="x-amz-request-route",Fz="x-amz-replication-status",cCe="x-amz-rename-source",uCe="x-amz-rename-source-if-match",pCe="x-amz-rename-source-if-modified-since",dCe="x-amz-rename-source-if-none-match",lCe="x-amz-rename-source-if-unmodified-since",mCe="x-amz-request-token",zm="x-amz-storage-class",Rt="x-amz-sdk-checksum-algorithm",fCe="x-amz-skip-destination-validation",Gz="x-amz-source-expected-bucket-owner",Nn="x-amz-server-side-encryption",$n="x-amz-server-side-encryption-aws-kms-key-id",Ln="x-amz-server-side-encryption-bucket-key-enabled",Ka="x-amz-server-side-encryption-context",ho="x-amz-server-side-encryption-customer-algorithm",Us="x-amz-server-side-encryption-customer-key",go="x-amz-server-side-encryption-customer-key-MD5",xT="x-amz-tagging",Hz="x-amz-tagging-count",hCe="x-amz-tagging-directive",yT="x-amz-transition-default-minimum-object-size",wi="x-amz-version-id",gCe="x-amz-write-offset-bytes",Km="x-amz-website-redirect-location",xCe="xsi:type",l="com.amazonaws.s3",jz=[0,l,OI,8,0],jj=[0,l,M_e,8,0],Fs=[0,l,ys,8,0],Wa=[0,l,sa,8,0],vo=[0,l,Zo,8,0],Wm=[0,l,$_e,{[Sz]:1},42],Vz=[3,l,sS,0,[Mo],[0]],yCe=[3,l,Wj,0,[xhe],[1]],SCe=[3,l,ffe,0,[Pt],[[0,{[d]:$t}]]],ECe=[3,l,hfe,0,[P,Ae,za,yt,N,$xe],[[0,1],[0,1],[0,{[j]:Fm}],[0,{[d]:Et}],[0,{[d]:$}],[6,{[d]:Qbe}]]],_Ce=[3,l,nS,0,[Mo],[0]],zz=[3,l,Wc,0,[wS,Bs],[[()=>jS,{[I]:vS}],()=>ia]],RCe=[3,l,zj,0,[Bs],[0]],bCe=[3,l,ife,0,[Tt,Zp],[0,[()=>aa,{[de]:1,[I]:Ss}]]],ST=[3,l,Sm,0,[vr,na,F7],[0,[()=>ODe,0],()=>FAe]],CCe=[3,l,afe,0,[U7],[()=>vCe]],vCe=[3,l,_fe,0,[$V,vfe,P,Tt],[0,0,0,0]],ICe=[3,l,Yj,0,[$I],[[()=>cDe,{[de]:1}]]],TCe=[3,l,P,0,[Qc,Ffe,II,CI],[0,4,0,0]],wCe=[-3,l,Cfe,{[yn]:xn,[kn]:409},[],[]];R.for(l).registerError(wCe,Ky);var ACe=[-3,l,Ife,{[yn]:xn,[kn]:409},[],[]];R.for(l).registerError(ACe,Wy);var DCe=[3,l,Tfe,0,[fge,Mm],[0,0]],OCe=[3,l,wfe,0,[Lm],[[()=>lK,{[de]:1,[I]:Yp}]]],PCe=[3,l,iS,0,[WI],[[()=>Yz,0]]],kCe=[3,l,tV,0,[qo,Jo,Qo,Yo,Xo,Pn],[0,0,0,0,0,0]],NCe=[3,l,ehe,0,[Tt],[0]],$Ce=[3,l,Vfe,0,[kS],[[()=>sDe,{[de]:1,[I]:NS}]]],LCe=[3,l,ohe,0,[fo,qo,Jo,Qo,Yo,Xo,Yc],[0,0,0,0,0,0,1]],MCe=[3,l,zfe,{[I]:Wfe},[dS,P,Ae,vi,fo,qo,Jo,Qo,Yo,Xo,Pn,gn,dt,Zo,Wo,Pt],[0,0,0,[0,{[d]:Gm}],0,0,0,0,0,0,0,[0,{[d]:Nn}],[0,{[d]:wi}],[()=>vo,{[d]:$n}],[2,{[d]:Ln}],[0,{[d]:$t}]]],BCe=[3,l,qfe,0,[P,Ae,t7,za,qo,Jo,Qo,Yo,Xo,Pn,lSe,yt,N,Vp,Nm,Ir,ys,Tr],[[0,1],[0,1],[()=>$Ce,{[qe]:1,[I]:rV}],[0,{[j]:Fm}],[0,{[d]:Zc}],[0,{[d]:eu}],[0,{[d]:tu}],[0,{[d]:ru}],[0,{[d]:ou}],[0,{[d]:rd}],[1,{[d]:eCe}],[0,{[d]:Et}],[0,{[d]:$}],[0,{[d]:Jc}],[0,{[d]:zp}],[0,{[d]:ho}],[()=>Fs,{[d]:Us}],[0,{[d]:go}]]],UCe=[3,l,gV,0,[Ixe,aye],[0,0]],FCe=[3,l,Gfe,0,[],[]],GCe=[3,l,Xfe,0,[nV,vi,hV,dt,gn,Ir,Tr,Zo,sa,Wo,Pt],[[()=>jCe,16],[0,{[d]:Gm}],[0,{[d]:Lz}],[0,{[d]:wi}],[0,{[d]:Nn}],[0,{[d]:ho}],[0,{[d]:go}],[()=>vo,{[d]:$n}],[()=>Wa,{[d]:Ka}],[2,{[d]:Ln}],[0,{[d]:$t}]]],HCe=[3,l,Zfe,0,[Pp,P,kp,Ue,Np,$p,Lp,Mp,aV,cV,uV,pV,dV,Ls,Up,Fp,Gp,Hp,Vp,Nm,Ae,Kp,uSe,mRe,gn,Bo,Bm,Ir,ys,Tr,Zo,sa,Wo,lV,OI,mV,yt,Ms,Jp,Qp,qp,N,wV],[[0,{[d]:td}],[0,1],[0,{[d]:vm}],[0,{[d]:mT}],[0,{[d]:Im}],[0,{[d]:Tm}],[0,{[d]:wm}],[0,{[d]:Om}],[0,{[d]:wz}],[0,{[d]:Az}],[4,{[d]:Dz}],[0,{[d]:Oz}],[4,{[d]:Pz}],[4,{[d]:Ls}],[0,{[d]:od}],[0,{[d]:nd}],[0,{[d]:sd}],[0,{[d]:id}],[0,{[d]:Jc}],[0,{[d]:zp}],[0,1],[128,{[ed]:ad}],[0,{[d]:Zbe}],[0,{[d]:hCe}],[0,{[d]:Nn}],[0,{[d]:zm}],[0,{[d]:Km}],[0,{[d]:ho}],[()=>Fs,{[d]:Us}],[0,{[d]:go}],[()=>vo,{[d]:$n}],[()=>Wa,{[d]:Ka}],[2,{[d]:Ln}],[0,{[d]:kz}],[()=>jz,{[d]:Nz}],[0,{[d]:$z}],[0,{[d]:Et}],[0,{[d]:xT}],[0,{[d]:jm}],[5,{[d]:Vm}],[0,{[d]:Hm}],[0,{[d]:$}],[0,{[d]:Gz}]]],jCe=[3,l,nV,0,[fo,Ti,Pn,qo,Jo,Qo,Yo,Xo],[0,4,0,0,0,0,0,0]],VCe=[3,l,sV,0,[fo,Ti,qo,Jo,Qo,Yo,Xo],[0,4,0,0,0,0,0]],zCe=[3,l,aS,0,[wI],[[()=>dK,{[de]:1,[I]:AI}]]],KCe=[3,l,AI,0,[jp,ufe,lfe,xfe,_ge,aSe],[0,[64,{[de]:1,[I]:pfe}],[64,{[de]:1,[I]:gfe}],[64,{[de]:1,[I]:yfe}],[64,{[de]:1,[I]:Rge}],1]],WCe=[3,l,hI,0,[xI,dS,P,Zp],[0,()=>YTe,()=>DCe,[()=>aa,0]]],qCe=[3,l,$fe,0,[P,Ht,Ue,SI,N],[[0,1],[0,{[d]:Gt}],[0,{[d]:Rt}],[()=>XTe,{[qe]:1,[I]:SI}],[0,{[d]:$}]]],JCe=[3,l,Mfe,0,[P,Ht,Ue,EI,N],[[0,1],[0,{[d]:Gt}],[0,{[d]:Rt}],[()=>twe,{[qe]:1,[I]:EI}],[0,{[d]:$}]]],QCe=[3,l,Bfe,0,[dS,CI],[[0,{[d]:dS}],[0,{[d]:vz}]]],YCe=[3,l,Ufe,0,[Pp,P,hI,Up,Fp,Gp,UI,Hp,$Se,m7],[[0,{[d]:td}],[0,1],[()=>WCe,{[qe]:1,[I]:hI}],[0,{[d]:od}],[0,{[d]:nd}],[0,{[d]:sd}],[0,{[d]:fT}],[0,{[d]:id}],[2,{[d]:cbe}],[0,{[d]:oCe}]]],XCe=[3,l,Kfe,{[I]:Bxe},[Kj,Jj,P,Ae,za,gn,Ir,Tr,Zo,sa,Wo,Pt,Ue,Pn],[[4,{[d]:bz}],[0,{[d]:Cz}],[0,{[I]:P}],0,0,[0,{[d]:Nn}],[0,{[d]:ho}],[0,{[d]:go}],[()=>vo,{[d]:$n}],[()=>Wa,{[d]:Ka}],[2,{[d]:Ln}],[0,{[d]:$t}],[0,{[d]:mT}],[0,{[d]:rd}]]],ZCe=[3,l,Jfe,0,[Pp,P,kp,Np,$p,Lp,Mp,Ls,Up,Fp,Gp,Hp,Ae,Kp,gn,Bo,Bm,Ir,ys,Tr,Zo,sa,Wo,yt,Ms,Jp,Qp,qp,N,Ue,Pn],[[0,{[d]:td}],[0,1],[0,{[d]:vm}],[0,{[d]:Im}],[0,{[d]:Tm}],[0,{[d]:wm}],[0,{[d]:Om}],[4,{[d]:Ls}],[0,{[d]:od}],[0,{[d]:nd}],[0,{[d]:sd}],[0,{[d]:id}],[0,1],[128,{[ed]:ad}],[0,{[d]:Nn}],[0,{[d]:zm}],[0,{[d]:Km}],[0,{[d]:ho}],[()=>Fs,{[d]:Us}],[0,{[d]:go}],[()=>vo,{[d]:$n}],[()=>Wa,{[d]:Ka}],[2,{[d]:Ln}],[0,{[d]:Et}],[0,{[d]:xT}],[0,{[d]:jm}],[5,{[d]:Vm}],[0,{[d]:Hm}],[0,{[d]:$}],[0,{[d]:mT}],[0,{[d]:rd}]]],eve=[3,l,she,{[I]:ihe},[gn,Zo,sa,Wo,Mj],[[0,{[d]:Nn}],[()=>vo,{[d]:$n}],[()=>Wa,{[d]:Ka}],[2,{[d]:Ln}],[()=>PAe,{[I]:Mj}]]],tve=[3,l,che,0,[J_e,P,gn,Zo,sa,Wo],[[0,{[d]:dbe}],[0,1],[0,{[d]:Nn}],[()=>vo,{[d]:$n}],[()=>Wa,{[d]:Ka}],[2,{[d]:Ln}]]],rve=[3,l,uhe,0,[wge,hhe,I7,eT,kV,C7,Efe],[0,0,0,0,0,0,2]],ove=[3,l,phe,0,[u_e,I7,eT,kV,C7],[0,0,0,0,0]],nve=[3,l,EV,0,[s7,Bp,HRe],[0,1,1]],sve=[3,l,gI,0,[WSe,s_e],[[()=>yDe,{[de]:1,[I]:g7}],2]],ive=[3,l,Ehe,0,[P,vr,N],[[0,1],[0,{[j]:Es}],[0,{[d]:$}]]],ave=[3,l,Rhe,0,[P,N],[[0,1],[0,{[d]:$}]]],cve=[3,l,Che,0,[P,N],[[0,1],[0,{[d]:$}]]],uve=[3,l,whe,0,[P,vr,N],[[0,1],[0,{[j]:Es}],[0,{[d]:$}]]],pve=[3,l,Ihe,0,[P,vr,N],[[0,1],[0,{[j]:Es}],[0,{[d]:$}]]],dve=[3,l,Dhe,0,[P,N],[[0,1],[0,{[d]:$}]]],lve=[3,l,Phe,0,[P,N],[[0,1],[0,{[d]:$}]]],mve=[3,l,Lhe,0,[P,N],[[0,1],[0,{[d]:$}]]],fve=[3,l,khe,0,[P,vr,N],[[0,1],[0,{[j]:Es}],[0,{[d]:$}]]],hve=[3,l,Bhe,0,[P,N],[[0,1],[0,{[d]:$}]]],gve=[3,l,Fhe,0,[P,N],[[0,1],[0,{[d]:$}]]],xve=[3,l,Hhe,0,[P,N],[[0,1],[0,{[d]:$}]]],yve=[3,l,Ghe,0,[P,N],[[0,1],[0,{[d]:$}]]],Sve=[3,l,zhe,0,[P,N],[[0,1],[0,{[d]:$}]]],Eve=[3,l,Whe,0,[P,N],[[0,1],[0,{[d]:$}]]],_ve=[3,l,tge,0,[Ae,dt,qc,ege],[0,0,2,0]],Rve=[3,l,Zhe,0,[Bs,Ae,dt,GV,Ti],[()=>ia,0,0,2,4]],bve=[3,l,yV,0,[Mo],[0]],Cve=[3,l,rge,0,[qc,dt,Pt],[[2,{[d]:GS}],[0,{[d]:wi}],[0,{[d]:$t}]]],vve=[3,l,nge,0,[P,Ae,JI,dt,yt,vI,N,Vp,Lxe,Mxe],[[0,1],[0,1],[0,{[d]:hT}],[0,{[j]:Sn}],[0,{[d]:Et}],[2,{[d]:lT}],[0,{[d]:$}],[0,{[d]:Jc}],[6,{[d]:Ybe}],[1,{[d]:Xbe}]]],Ive=[3,l,oge,{[I]:hge},[gge,Pt,OV],[[()=>iDe,{[de]:1}],[0,{[d]:$t}],[()=>uDe,{[de]:1,[I]:km}]]],Tve=[3,l,sge,0,[P,gI,JI,yt,vI,N,Ue],[[0,1],[()=>sve,{[qe]:1,[I]:gI}],[0,{[d]:hT}],[0,{[d]:Et}],[2,{[d]:lT}],[0,{[d]:$}],[0,{[d]:Rt}]]],wve=[3,l,age,0,[dt],[[0,{[d]:wi}]]],Ave=[3,l,cge,0,[P,Ae,dt,N],[[0,1],[0,1],[0,{[j]:Sn}],[0,{[d]:$}]]],Dve=[3,l,mge,0,[P,N],[[0,1],[0,{[d]:$}]]],Ove=[3,l,TS,0,[P,sfe,Bo,zj,Pm,L7,n7],[0,0,0,()=>RCe,()=>Nve,()=>hAe,()=>owe]],Pve=[3,l,_V,0,[pRe,iT,ez],[0,0,0]],kve=[3,l,LI,0,[$I,sye,nye],[0,[()=>vo,0],0]],Nve=[3,l,Pm,0,[m_e],[0]],$ve=[-3,l,vge,{[yn]:xn,[kn]:400},[],[]];R.for(l).registerError($ve,Xy);var Lve=[3,l,Ege,0,[],[]],Mve=[3,l,km,0,[Ae,dt,fhe,hSe],[0,0,0,0]],ET=[3,l,Sge,0,[vV,IV],[0,0]],Kz=[3,l,NI,0,[Ae],[0]],Bve=[3,l,CV,0,[],[]],Uve=[3,l,TV,0,[Mo],[0]],Fve=[3,l,NV,0,[Qc,uT],[0,0]],Gve=[3,l,Gge,0,[sS],[[()=>Vz,16]]],Hve=[3,l,jge,0,[P,N],[[0,1],[0,{[d]:$}]]],jve=[3,l,Lge,{[I]:nS},[Mo,Pt],[0,[0,{[d]:$t}]]],Vve=[3,l,Bge,0,[P,N,yt],[[0,1],[0,{[d]:$}],[0,{[d]:Et}]]],zve=[3,l,Hge,{[I]:Wc},[Bs,wS],[()=>ia,[()=>jS,{[I]:vS}]]],Kve=[3,l,Vge,0,[P,N],[[0,1],[0,{[d]:$}]]],Wve=[3,l,Mge,0,[Sm],[[()=>ST,16]]],qve=[3,l,Uge,0,[P,vr,N],[[0,1],[0,{[j]:Es}],[0,{[d]:$}]]],Jve=[3,l,Wge,{[I]:aS},[wI],[[()=>dK,{[de]:1,[I]:AI}]]],Qve=[3,l,qge,0,[P,N],[[0,1],[0,{[d]:$}]]],Yve=[3,l,Qge,0,[RS],[[()=>uK,16]]],Xve=[3,l,Yge,0,[P,N],[[0,1],[0,{[d]:$}]]],Zve=[3,l,r0e,0,[_m],[[()=>_T,16]]],eIe=[3,l,o0e,0,[P,vr,N],[[0,1],[0,{[j]:Es}],[0,{[d]:$}]]],tIe=[3,l,Zge,0,[Em],[[()=>RT,16]]],rIe=[3,l,e0e,0,[P,vr,N],[[0,1],[0,{[j]:Es}],[0,{[d]:$}]]],oIe=[3,l,i0e,{[I]:yI},[Lm,cT],[[()=>lK,{[de]:1,[I]:Yp}],[0,{[d]:yT}]]],nIe=[3,l,a0e,0,[P,N],[[0,1],[0,{[d]:$}]]],sIe=[3,l,c0e,{[I]:xI},[xI],[0]],iIe=[3,l,p0e,0,[P,N],[[0,1],[0,{[d]:$}]]],aIe=[3,l,u0e,{[I]:iS},[WI],[[()=>Yz,0]]],cIe=[3,l,d0e,0,[P,N],[[0,1],[0,{[d]:$}]]],uIe=[3,l,f0e,0,[LV],[[()=>dIe,16]]],pIe=[3,l,g0e,0,[P,N],[[0,1],[0,{[d]:$}]]],dIe=[3,l,LV,0,[QV],[()=>ZTe]],lIe=[3,l,E0e,0,[MV],[[()=>fIe,16]]],mIe=[3,l,_0e,0,[P,N],[[0,1],[0,{[d]:$}]]],fIe=[3,l,MV,0,[e7,Mo,km],[()=>rwe,0,()=>ET]],hIe=[3,l,h0e,0,[Rm],[[()=>CT,16]]],gIe=[3,l,x0e,0,[P,vr,N],[[0,1],[0,{[j]:Es}],[0,{[d]:$}]]],xIe=[3,l,b0e,0,[P,N],[[0,1],[0,{[d]:$}]]],yIe=[3,l,v0e,0,[mS],[[()=>oK,16]]],SIe=[3,l,I0e,0,[P,N],[[0,1],[0,{[d]:$}]]],EIe=[3,l,w0e,0,[_7],[[0,16]]],_Ie=[3,l,A0e,0,[P,N],[[0,1],[0,{[d]:$}]]],RIe=[3,l,O0e,0,[x7],[[()=>Cwe,16]]],bIe=[3,l,P0e,0,[P,N],[[0,1],[0,{[d]:$}]]],CIe=[3,l,N0e,0,[xS],[[()=>iK,16]]],vIe=[3,l,B0e,0,[P,N],[[0,1],[0,{[d]:$}]]],IIe=[3,l,L0e,{[I]:yS},[y7],[0]],TIe=[3,l,M0e,0,[P,N],[[0,1],[0,{[d]:$}]]],wIe=[3,l,F0e,{[I]:Ms},[MS],[[()=>aa,0]]],AIe=[3,l,G0e,0,[P,N],[[0,1],[0,{[d]:$}]]],DIe=[3,l,j0e,{[I]:bS},[Mo,ZV],[0,[0,{[I]:YV}]]],OIe=[3,l,V0e,0,[P,N],[[0,1],[0,{[d]:$}]]],PIe=[3,l,K0e,{[I]:CS},[ZI,HI,NI,tT],[()=>sK,()=>qz,()=>Kz,[()=>fK,0]]],kIe=[3,l,W0e,0,[P,N],[[0,1],[0,{[d]:$}]]],NIe=[3,l,Q0e,{[I]:Wc},[Bs,wS,Pt],[()=>ia,[()=>jS,{[I]:vS}],[0,{[d]:$t}]]],$Ie=[3,l,Z0e,0,[P,Ae,dt,yt,N],[[0,1],[0,1],[0,{[j]:Sn}],[0,{[d]:Et}],[0,{[d]:$}]]],LIe=[3,l,Y0e,{[I]:exe},[qc,Ti,dt,Pt,fo,tV,GSe,Bo,jSe],[[2,{[d]:GS}],[4,{[d]:qI}],[0,{[d]:wi}],[0,{[d]:$t}],0,()=>kCe,[()=>MIe,0],0,1]],MIe=[3,l,X0e,0,[SRe,PS,u7,DS,Ii,kS],[[1,{[I]:OS}],0,0,1,2,[()=>RDe,{[de]:1,[I]:NS}]]],BIe=[3,l,txe,0,[P,Ae,dt,DS,PS,Ir,ys,Tr,yt,N,TSe],[[0,1],[0,1],[0,{[j]:Sn}],[1,{[d]:tCe}],[0,{[d]:sCe}],[0,{[d]:ho}],[()=>Fs,{[d]:Us}],[0,{[d]:go}],[0,{[d]:Et}],[0,{[d]:$}],[64,{[d]:rCe}]]],UIe=[3,l,axe,0,[lS],[[()=>eK,{[qe]:1,[I]:lS}]]],FIe=[3,l,cxe,0,[P,Ae,dt,yt,N],[[0,1],[0,1],[0,{[j]:Sn}],[0,{[d]:Et}],[0,{[d]:$}]]],GIe=[3,l,nxe,0,[fS],[[()=>Zz,16]]],HIe=[3,l,sxe,0,[P,N],[[0,1],[0,{[d]:$}]]],jIe=[3,l,uxe,0,[Cm,qc,bI,vi,nT,Ti,Dm,fo,qo,Jo,Qo,Yo,Xo,Pn,QI,dt,kp,Np,$p,Lp,DI,Mp,Ls,cS,Bm,gn,Kp,Ir,Tr,Zo,Wo,Bo,Pt,rT,OS,aT,Jp,Qp,qp],[[()=>Wm,16],[2,{[d]:GS}],[0,{[d]:pz}],[0,{[d]:Gm}],[0,{[d]:Uz}],[4,{[d]:qI}],[1,{[d]:Am}],[0,{[d]:fo}],[0,{[d]:Zc}],[0,{[d]:eu}],[0,{[d]:tu}],[0,{[d]:ru}],[0,{[d]:ou}],[0,{[d]:rd}],[1,{[d]:Mz}],[0,{[d]:wi}],[0,{[d]:vm}],[0,{[d]:Im}],[0,{[d]:Tm}],[0,{[d]:wm}],[0,{[d]:iV}],[0,{[d]:Om}],[4,{[d]:Ls}],[0,{[d]:cS}],[0,{[d]:Km}],[0,{[d]:Nn}],[128,{[ed]:ad}],[0,{[d]:ho}],[0,{[d]:go}],[()=>vo,{[d]:$n}],[2,{[d]:Ln}],[0,{[d]:zm}],[0,{[d]:$t}],[0,{[d]:Fz}],[1,{[d]:Bz}],[1,{[d]:Hz}],[0,{[d]:jm}],[5,{[d]:Vm}],[0,{[d]:Hm}]]],VIe=[3,l,pxe,0,[P,Vp,HV,Nm,zV,Ae,SS,T7,w7,A7,D7,O7,P7,dt,Ir,ys,Tr,yt,Yc,N,oV],[[0,1],[0,{[d]:Jc}],[4,{[d]:jI}],[0,{[d]:zp}],[4,{[d]:zI}],[0,1],[0,{[d]:SS}],[0,{[j]:mz}],[0,{[j]:fz}],[0,{[j]:hz}],[0,{[j]:gz}],[0,{[j]:xz}],[6,{[j]:yz}],[0,{[j]:Sn}],[0,{[d]:ho}],[()=>Fs,{[d]:Us}],[0,{[d]:go}],[0,{[d]:Et}],[1,{[j]:FS}],[0,{[d]:$}],[0,{[d]:Tz}]]],zIe=[3,l,dxe,0,[ES],[[()=>tK,{[qe]:1,[I]:ES}]]],KIe=[3,l,lxe,0,[P,Ae,dt,yt,N],[[0,1],[0,1],[0,{[j]:Sn}],[0,{[d]:Et}],[0,{[d]:$}]]],WIe=[3,l,hxe,{[I]:Ms},[dt,MS],[[0,{[d]:wi}],[()=>aa,0]]],qIe=[3,l,xxe,0,[P,Ae,dt,N,yt],[[0,1],[0,1],[0,{[j]:Sn}],[0,{[d]:$}],[0,{[d]:Et}]]],JIe=[3,l,gxe,0,[Cm,Pt],[[()=>Wm,16],[0,{[d]:$t}]]],QIe=[3,l,yxe,0,[P,Ae,yt,N],[[0,1],[0,1],[0,{[d]:Et}],[0,{[d]:$}]]],YIe=[3,l,_xe,0,[hS],[[()=>nK,16]]],XIe=[3,l,Rxe,0,[P,N],[[0,1],[0,{[d]:$}]]],ZIe=[3,l,BV,0,[oz],[0]],eTe=[3,l,FI,0,[GI,E7],[[()=>Wz,{[Rz]:[_z,dz]}],0]],Wz=[3,l,GI,0,[kI,yge,jp,$Re,Mm],[0,0,0,0,[0,{[obe]:1,[I]:xCe}]]],tTe=[3,l,Cxe,0,[CI,Dfe,Afe,II,Sfe],[[0,{[d]:vz}],[0,{[d]:abe}],[0,{[d]:ibe}],[0,{[d]:ube}],[2,{[d]:nbe}]]],rTe=[3,l,vxe,0,[P,N],[[0,1],[0,{[d]:$}]]],oTe=[3,l,wxe,0,[qc,bI,vi,nT,bfe,Ti,Dm,qo,Jo,Qo,Yo,Xo,Pn,fo,QI,dt,kp,Np,$p,Lp,Mp,DI,Ls,cS,Bm,gn,Kp,Ir,Tr,Zo,Wo,Bo,Pt,rT,OS,aT,Jp,Qp,qp],[[2,{[d]:GS}],[0,{[d]:pz}],[0,{[d]:Gm}],[0,{[d]:Uz}],[0,{[d]:sbe}],[4,{[d]:qI}],[1,{[d]:Am}],[0,{[d]:Zc}],[0,{[d]:eu}],[0,{[d]:tu}],[0,{[d]:ru}],[0,{[d]:ou}],[0,{[d]:rd}],[0,{[d]:fo}],[1,{[d]:Mz}],[0,{[d]:wi}],[0,{[d]:vm}],[0,{[d]:Im}],[0,{[d]:Tm}],[0,{[d]:wm}],[0,{[d]:Om}],[0,{[d]:iV}],[4,{[d]:Ls}],[0,{[d]:cS}],[0,{[d]:Km}],[0,{[d]:Nn}],[128,{[ed]:ad}],[0,{[d]:ho}],[0,{[d]:go}],[()=>vo,{[d]:$n}],[2,{[d]:Ln}],[0,{[d]:zm}],[0,{[d]:$t}],[0,{[d]:Fz}],[1,{[d]:Bz}],[1,{[d]:Hz}],[0,{[d]:jm}],[5,{[d]:Vm}],[0,{[d]:Hm}]]],nTe=[3,l,Axe,0,[P,Vp,HV,Nm,zV,Ae,SS,T7,w7,A7,D7,O7,P7,dt,Ir,ys,Tr,yt,Yc,N,oV],[[0,1],[0,{[d]:Jc}],[4,{[d]:jI}],[0,{[d]:zp}],[4,{[d]:zI}],[0,1],[0,{[d]:SS}],[0,{[j]:mz}],[0,{[j]:fz}],[0,{[j]:hz}],[0,{[j]:gz}],[0,{[j]:xz}],[6,{[j]:yz}],[0,{[j]:Sn}],[0,{[d]:ho}],[()=>Fs,{[d]:Us}],[0,{[d]:go}],[0,{[d]:Et}],[1,{[j]:FS}],[0,{[d]:$}],[0,{[d]:Tz}]]],sTe=[-3,l,Hxe,{[yn]:xn,[kn]:400},[],[]];R.for(l).registerError(sTe,rS);var qz=[3,l,HI,0,[aRe],[0]],Jz=[3,l,KI,0,[jp,kI],[0,0]],Qz=[3,l,VI,0,[fV,mhe,KV,o_e],[()=>rve,0,()=>RTe,()=>_we]],iTe=[3,l,Wxe,0,[Tt,Zp],[0,[()=>aa,{[de]:1,[I]:Ss}]]],_T=[3,l,_m,0,[vr,na,Mo,ERe],[0,[()=>aTe,0],0,[()=>TDe,{[de]:1,[I]:nz}]]],aTe=[3,l,Jxe,0,[Tt,Ss,bm],[0,()=>cd,[()=>iTe,0]]],cTe=[-3,l,Fxe,{[yn]:xn,[kn]:403},[Bo,Qj],[0,0]];R.for(l).registerError(cTe,Jy);var uTe=[-3,l,jxe,{[yn]:xn,[kn]:400},[],[]];R.for(l).registerError(uTe,Zy);var pTe=[-3,l,Qxe,{[yn]:xn,[kn]:400},[],[]];R.for(l).registerError(pTe,eS);var RT=[3,l,Em,0,[TS,Pxe,na,vr,Gxe,OSe,sRe],[[()=>dTe,0],2,()=>mTe,0,0,[()=>mDe,0],()=>hTe]],dTe=[3,l,Oxe,0,[U7],[[()=>fTe,0]]],lTe=[3,l,kxe,0,[q7,W7],[[()=>MAe,{[I]:z7}],[()=>$Ae,{[I]:G7}]]],mTe=[3,l,Nxe,0,[Tt],[0]],fTe=[3,l,zxe,0,[dfe,P,$V,Tt,LI],[0,0,0,0,[()=>lTe,0]]],hTe=[3,l,Kxe,0,[kge],[0]],gTe=[3,l,uS,0,[PI,Pm],[0,()=>bT]],xTe=[3,l,VV,0,[PI,rz,km,LS,sT],[0,0,()=>ET,0,0]],yTe=[3,l,qxe,0,[PI,Pm],[0,()=>bT]],STe=[3,l,pS,0,[$S,Pm],[()=>IT,()=>bT]],ETe=[3,l,WV,0,[rz,km,LS,sT,$S],[0,()=>ET,0,0,()=>IT]],_Te=[3,l,eye,0,[$S],[()=>IT]],RTe=[3,l,Xxe,0,[Mm],[0]],bTe=[3,l,Zxe,0,[eT],[0]],CTe=[3,l,Oye,0,[vr,Dye,MI,na],[0,[0,{[I]:Hfe}],[64,{[de]:1,[I]:BI}],[()=>vT,0]]],vTe=[3,l,Aye,0,[RV,Bp,bge],[5,1,2]],ITe=[3,l,tSe,0,[vi,jp,Tt,na,Mo,bRe,vSe,p7,Wj],[()=>vTe,0,0,[()=>wTe,0],0,[()=>ADe,{[de]:1,[I]:iz}],[()=>xDe,{[de]:1,[I]:d7}],()=>iwe,()=>yCe]],TTe=[3,l,rSe,0,[Tt,Zp,f7,h7],[0,[()=>aa,{[de]:1,[I]:Ss}],1,1]],wTe=[3,l,oSe,0,[Tt,Ss,f7,h7,bm],[0,()=>cd,1,1,[()=>TTe,0]]],ATe=[3,l,lye,{[I]:mye},[Ii,hn,$m,Vj],[2,0,0,[()=>nDe,{[de]:1,[I]:Sm}]]],DTe=[3,l,fye,0,[P,hn,N],[[0,1],[0,{[j]:Xc}],[0,{[d]:$}]]],OTe=[3,l,Sye,0,[Ii,hn,$m,jV],[2,0,0,[()=>dDe,{[de]:1,[I]:_m}]]],PTe=[3,l,Eye,0,[P,hn,N],[[0,1],[0,{[j]:Xc}],[0,{[d]:$}]]],kTe=[3,l,gye,{[I]:$ye},[hn,FV,Ii,$m],[0,[()=>lDe,{[de]:1,[I]:Em}],2,0]],NTe=[3,l,xye,0,[P,hn,N],[[0,1],[0,{[j]:Xc}],[0,{[d]:$}]]],$Te=[3,l,Rye,{[I]:Lye},[Ii,hn,$m,JV],[2,0,0,[()=>hDe,{[de]:1,[I]:Rm}]]],LTe=[3,l,bye,0,[P,hn,N],[[0,1],[0,{[j]:Xc}],[0,{[d]:$}]]],MTe=[3,l,Cye,{[I]:cye},[TI,Bs,hn,Tt],[[()=>pK,0],()=>ia,0,0]],BTe=[3,l,vye,0,[cSe,hn,Tt,II],[[1,{[j]:JRe}],[0,{[j]:Xc}],[0,{[j]:Um}],[0,{[j]:jRe}]]],UTe=[3,l,Tye,{[I]:uye},[TI,hn],[[()=>pK,0],0]],FTe=[3,l,wye,0,[hn,pSe],[[0,{[j]:Xc}],[1,{[j]:QRe}]]],GTe=[3,l,Uye,{[I]:Fye},[P,AS,az,a7,Tt,ja,bSe,r7,Ii,CRe,IS,Va,Pt],[0,0,0,0,0,0,0,1,2,[()=>gDe,{[de]:1,[I]:LRe}],[()=>HS,{[de]:1}],0,[0,{[d]:$t}]]],HTe=[3,l,Gye,0,[P,ja,Va,AS,r7,Tt,az,N,yt],[[0,1],[0,{[j]:BS}],[0,{[j]:US}],[0,{[j]:lz}],[1,{[j]:XRe}],[0,{[j]:Um}],[0,{[j]:tbe}],[0,{[d]:$}],[0,{[d]:Et}]]],jTe=[3,l,jye,{[I]:qV},[Ii,o7,SSe,xV,Qc,Tt,ja,Wp,IS,Va,Pt],[2,0,0,[()=>mK,{[de]:1}],0,0,0,1,[()=>HS,{[de]:1}],0,[0,{[d]:$t}]]],VTe=[3,l,Vye,0,[P,ja,Va,o7,Wp,Tt,yt,N,YI],[[0,1],[0,{[j]:BS}],[0,{[j]:US}],[0,{[j]:qRe}],[1,{[j]:dT}],[0,{[j]:Um}],[0,{[d]:Et}],[0,{[d]:$}],[64,{[d]:gT}]]],zTe=[3,l,Kye,{[I]:qV},[Ii,xV,Qc,Tt,ja,Wp,IS,Va,tye,hn,$m,B7,Pt],[2,[()=>mK,{[de]:1}],0,0,0,1,[()=>HS,{[de]:1}],0,1,0,0,0,[0,{[d]:$t}]]],KTe=[3,l,qye,0,[P,ja,Va,Wp,Tt,hn,Age,B7,yt,N,YI],[[0,1],[0,{[j]:BS}],[0,{[j]:US}],[1,{[j]:dT}],[0,{[j]:Um}],[0,{[j]:Xc}],[2,{[j]:zRe}],[0,{[j]:ebe}],[0,{[d]:Et}],[0,{[d]:$}],[64,{[d]:gT}]]],WTe=[3,l,Wye,{[I]:sSe},[Ii,AS,uz,a7,CSe,MRe,SV,Qc,Tt,ja,Wp,IS,Va,Pt],[2,0,0,0,0,[()=>SDe,{[de]:1,[I]:BRe}],[()=>aDe,{[de]:1,[I]:qc}],0,0,0,1,[()=>HS,{[de]:1}],0,[0,{[d]:$t}]]],qTe=[3,l,Jye,0,[P,ja,Va,AS,Wp,Tt,uz,N,yt,YI],[[0,1],[0,{[j]:BS}],[0,{[j]:US}],[0,{[j]:lz}],[1,{[j]:dT}],[0,{[j]:Um}],[0,{[j]:rbe}],[0,{[d]:$}],[0,{[d]:Et}],[64,{[d]:gT}]]],JTe=[3,l,Xye,{[I]:Zye},[Kj,Jj,P,Ae,za,PS,u7,DS,Ii,kS,KI,Bs,Bo,Pt,Ue,Pn],[[4,{[d]:bz}],[0,{[d]:Cz}],0,0,0,0,0,1,2,[()=>_De,{[de]:1,[I]:NS}],()=>Jz,()=>ia,0,[0,{[d]:$t}],0,0]],QTe=[3,l,eSe,0,[P,Ae,DS,PS,za,yt,N,Ir,ys,Tr],[[0,1],[0,1],[1,{[j]:YRe}],[0,{[j]:ZRe}],[0,{[j]:Fm}],[0,{[d]:Et}],[0,{[d]:$}],[0,{[d]:ho}],[()=>Fs,{[d]:Us}],[0,{[d]:go}]]],YTe=[3,l,Nye,0,[Mm,Qc],[0,0]],Yz=[3,l,WI,0,[uRe,Z7,yRe,tz],[0,[()=>IDe,0],0,[()=>jAe,0]]],XTe=[3,l,SI,0,[pS,uS],[()=>STe,()=>gTe]],ZTe=[3,l,QV,0,[_V,WV,VV],[()=>Pve,()=>ETe,()=>xTe]],ewe=[3,l,XV,0,[Qc,uT],[0,0]],twe=[3,l,EI,0,[J7],[()=>CAe]],rwe=[3,l,e7,0,[Q7],[()=>vAe]],bT=[3,l,mSe,0,[N_e,oye],[0,0]],owe=[3,l,n7,0,[Mo,Ige],[0,()=>aK]],nwe=[3,l,iSe,0,[Tt,Zp,qj],[0,[()=>aa,{[de]:1,[I]:Ss}],0]],CT=[3,l,Rm,0,[vr,na],[0,[()=>PDe,0]]],swe=[3,l,t7,0,[za,Ae,Yxe,Bo,Bs,KI,Ue,Pn],[0,0,4,0,()=>ia,()=>Jz,0,0]],iwe=[3,l,p7,0,[i7,c7],[1,1]],awe=[3,l,d7,0,[i7,Bo,c7],[1,0,1]],cwe=[-3,l,ESe,{[yn]:xn,[kn]:404},[],[]];R.for(l).registerError(cwe,qy);var uwe=[-3,l,_Se,{[yn]:xn,[kn]:404},[],[]];R.for(l).registerError(uwe,Qy);var pwe=[-3,l,RSe,{[yn]:xn,[kn]:404},[],[]];R.for(l).registerError(pwe,Vy);var dwe=[-3,l,ySe,{[yn]:xn},[],[]];R.for(l).registerError(dwe,Yy);var Xz=[3,l,_I,0,[lRe,c_e,kye,CV],[[()=>wDe,{[de]:1,[I]:X7}],[()=>bDe,{[de]:1,[I]:v7}],[()=>fDe,{[de]:1,[I]:jfe}],()=>Bve]],vT=[3,l,xSe,0,[Ae],[[()=>RAe,{[I]:W_e}]]],lwe=[3,l,g7,0,[Ae,Ti,fo,Ue,Pn,Xp,Bo,Bs,oT],[0,4,0,[64,{[de]:1}],0,1,0,()=>ia,()=>cK]],mwe=[-3,l,wSe,{[yn]:xn,[kn]:403},[],[]];R.for(l).registerError(mwe,oS);var fwe=[3,l,PSe,0,[Ae,dt,fo,Mye,Xp],[0,0,0,6,1]],Zz=[3,l,fS,0,[NSe,Yp],[0,()=>hwe]],eK=[3,l,LSe,0,[Mo],[0]],tK=[3,l,MSe,0,[s7,O_e],[0,5]],hwe=[3,l,BSe,0,[EV],[()=>nve]],gwe=[-3,l,FSe,{[yn]:xn,[kn]:403},[],[]];R.for(l).registerError(gwe,zy);var xwe=[3,l,HSe,0,[Yc,Xp,qo,Jo,Qo,Yo,Xo],[1,1,0,0,0,0,0]],ywe=[3,l,zSe,0,[fo,Ue,Pn,Xp,Bo,Ae,dt,GV,Ti,Bs,oT],[0,[64,{[de]:1}],0,1,0,0,0,2,4,()=>ia,()=>cK]],Swe=[3,l,l7,0,[nRe],[[()=>bAe,0]]],rK=[3,l,XI,0,[fV,KV],[()=>ove,()=>bTe]],ia=[3,l,Bs,0,[kI,jp],[0,0]],oK=[3,l,mS,0,[Lm],[[()=>EDe,{[de]:1,[I]:Yp}]]],Ewe=[3,l,ASe,0,[m7],[0]],_we=[3,l,$Ee,0,[],[]],Rwe=[3,l,NS,0,[Yc,Ti,fo,Xp,qo,Jo,Qo,Yo,Xo],[1,4,0,1,0,0,0,0,0]],bwe=[3,l,gS,{[I]:gS},[kEe],[0]],Cwe=[3,l,x7,0,[Bj],[[2,{[I]:Bj}]]],vwe=[3,l,R7,0,[eV,Xj,Zj],[1,1,1]],Iwe=[3,l,NEe,0,[bV],[[()=>vwe,{[pT]:1}]]],nK=[3,l,hS,0,[$j,Uj,Lj,Fj],[[2,{[I]:$j}],[2,{[I]:Uj}],[2,{[I]:Lj}],[2,{[I]:Fj}]]],Twe=[3,l,ZSe,0,[P,Ht,Ue,N,sS],[[0,1],[0,{[d]:Gt}],[0,{[d]:Rt}],[0,{[d]:$}],[()=>Vz,{[qe]:1,[I]:sS}]]],wwe=[3,l,QSe,0,[P,nS,N,Ue],[[0,1],[()=>_Ce,{[qe]:1,[I]:nS}],[0,{[d]:$}],[0,{[d]:Rt}]]],Awe=[3,l,eEe,0,[Pp,Wc,P,Ht,Ue,Up,Fp,Gp,UI,Hp,N],[[0,{[d]:td}],[()=>zz,{[qe]:1,[I]:Wc}],[0,1],[0,{[d]:Gt}],[0,{[d]:Rt}],[0,{[d]:od}],[0,{[d]:nd}],[0,{[d]:sd}],[0,{[d]:fT}],[0,{[d]:id}],[0,{[d]:$}]]],Dwe=[3,l,YSe,0,[P,vr,Sm,N],[[0,1],[0,{[j]:Es}],[()=>ST,{[qe]:1,[I]:Sm}],[0,{[d]:$}]]],Owe=[3,l,oEe,0,[P,aS,Ht,Ue,N],[[0,1],[()=>zCe,{[qe]:1,[I]:aS}],[0,{[d]:Gt}],[0,{[d]:Rt}],[0,{[d]:$}]]],Pwe=[3,l,sEe,0,[P,Ht,Ue,RS,N],[[0,1],[0,{[d]:Gt}],[0,{[d]:Rt}],[()=>uK,{[qe]:1,[I]:RS}],[0,{[d]:$}]]],kwe=[3,l,uEe,0,[P,vr,N,_m],[[0,1],[0,{[j]:Es}],[0,{[d]:$}],[()=>_T,{[qe]:1,[I]:_m}]]],Nwe=[3,l,aEe,0,[P,vr,Em,N],[[0,1],[0,{[j]:Es}],[()=>RT,{[qe]:1,[I]:Em}],[0,{[d]:$}]]],$we=[3,l,lEe,0,[cT],[[0,{[d]:yT}]]],Lwe=[3,l,mEe,0,[P,Ue,yI,N,cT],[[0,1],[0,{[d]:Rt}],[()=>OCe,{[qe]:1,[I]:yI}],[0,{[d]:$}],[0,{[d]:yT}]]],Mwe=[3,l,fEe,0,[P,iS,Ht,Ue,N],[[0,1],[()=>PCe,{[qe]:1,[I]:iS}],[0,{[d]:Gt}],[0,{[d]:Rt}],[0,{[d]:$}]]],Bwe=[3,l,gEe,0,[P,vr,Rm,N],[[0,1],[0,{[j]:Es}],[()=>CT,{[qe]:1,[I]:Rm}],[0,{[d]:$}]]],Uwe=[3,l,yEe,0,[P,_I,N,F_e],[[0,1],[()=>Xz,{[qe]:1,[I]:_I}],[0,{[d]:$}],[2,{[d]:fCe}]]],Fwe=[3,l,EEe,0,[P,Ht,N,mS,Ue],[[0,1],[0,{[d]:Gt}],[0,{[d]:$}],[()=>oK,{[qe]:1,[I]:mS}],[0,{[d]:Rt}]]],Gwe=[3,l,REe,0,[P,Ht,Ue,nhe,_7,N],[[0,1],[0,{[d]:Gt}],[0,{[d]:Rt}],[2,{[d]:pbe}],[0,16],[0,{[d]:$}]]],Hwe=[3,l,IEe,0,[P,Ht,Ue,xS,sz,N],[[0,1],[0,{[d]:Gt}],[0,{[d]:Rt}],[()=>iK,{[qe]:1,[I]:xS}],[0,{[d]:Iz}],[0,{[d]:$}]]],jwe=[3,l,vEe,0,[P,Ht,Ue,yS,N],[[0,1],[0,{[d]:Gt}],[0,{[d]:Rt}],[()=>gAe,{[qe]:1,[I]:yS}],[0,{[d]:$}]]],Vwe=[3,l,wEe,0,[P,Ht,Ue,Ms,N],[[0,1],[0,{[d]:Gt}],[0,{[d]:Rt}],[()=>TT,{[qe]:1,[I]:Ms}],[0,{[d]:$}]]],zwe=[3,l,DEe,0,[P,Ht,Ue,JI,bS,N],[[0,1],[0,{[d]:Gt}],[0,{[d]:Rt}],[0,{[d]:hT}],[()=>eDe,{[qe]:1,[I]:bS}],[0,{[d]:$}]]],Kwe=[3,l,PEe,0,[P,Ht,Ue,CS,N],[[0,1],[0,{[d]:Gt}],[0,{[d]:Rt}],[()=>tDe,{[qe]:1,[I]:CS}],[0,{[d]:$}]]],Wwe=[3,l,UEe,0,[Pt],[[0,{[d]:$t}]]],qwe=[3,l,FEe,0,[Pp,Wc,P,Ht,Ue,Up,Fp,Gp,UI,Hp,Ae,yt,dt,N],[[0,{[d]:td}],[()=>zz,{[qe]:1,[I]:Wc}],[0,1],[0,{[d]:Gt}],[0,{[d]:Rt}],[0,{[d]:od}],[0,{[d]:nd}],[0,{[d]:sd}],[0,{[d]:fT}],[0,{[d]:id}],[0,1],[0,{[d]:Et}],[0,{[j]:Sn}],[0,{[d]:$}]]],Jwe=[3,l,zEe,0,[Pt],[[0,{[d]:$t}]]],Qwe=[3,l,KEe,0,[P,Ae,lS,yt,dt,Ht,Ue,N],[[0,1],[0,1],[()=>eK,{[qe]:1,[I]:lS}],[0,{[d]:Et}],[0,{[j]:Sn}],[0,{[d]:Gt}],[0,{[d]:Rt}],[0,{[d]:$}]]],Ywe=[3,l,HEe,0,[Pt],[[0,{[d]:$t}]]],Xwe=[3,l,jEe,0,[P,fS,yt,sz,Ht,Ue,N],[[0,1],[()=>Zz,{[qe]:1,[I]:fS}],[0,{[d]:Et}],[0,{[d]:Iz}],[0,{[d]:Gt}],[0,{[d]:Rt}],[0,{[d]:$}]]],Zwe=[3,l,WEe,0,[vi,fo,qo,Jo,Qo,Yo,Xo,Pn,gn,dt,Ir,Tr,Zo,sa,Wo,Xp,Pt],[[0,{[d]:Gm}],[0,{[d]:fo}],[0,{[d]:Zc}],[0,{[d]:eu}],[0,{[d]:tu}],[0,{[d]:ru}],[0,{[d]:ou}],[0,{[d]:rd}],[0,{[d]:Nn}],[0,{[d]:wi}],[0,{[d]:ho}],[0,{[d]:go}],[()=>vo,{[d]:$n}],[()=>Wa,{[d]:Ka}],[2,{[d]:Ln}],[1,{[d]:nCe}],[0,{[d]:$t}]]],eAe=[3,l,qEe,0,[Pp,Cm,P,kp,Np,$p,Lp,Dm,Ht,Mp,Ue,qo,Jo,Qo,Yo,Xo,Ls,Vp,Nm,Up,Fp,Gp,Hp,Ae,GRe,Kp,gn,Bo,Bm,Ir,ys,Tr,Zo,sa,Wo,yt,Ms,Jp,Qp,qp,N],[[0,{[d]:td}],[()=>Wm,16],[0,1],[0,{[d]:vm}],[0,{[d]:Im}],[0,{[d]:Tm}],[0,{[d]:wm}],[1,{[d]:Am}],[0,{[d]:Gt}],[0,{[d]:Om}],[0,{[d]:Rt}],[0,{[d]:Zc}],[0,{[d]:eu}],[0,{[d]:tu}],[0,{[d]:ru}],[0,{[d]:ou}],[4,{[d]:Ls}],[0,{[d]:Jc}],[0,{[d]:zp}],[0,{[d]:od}],[0,{[d]:nd}],[0,{[d]:sd}],[0,{[d]:id}],[0,1],[1,{[d]:gCe}],[128,{[ed]:ad}],[0,{[d]:Nn}],[0,{[d]:zm}],[0,{[d]:Km}],[0,{[d]:ho}],[()=>Fs,{[d]:Us}],[0,{[d]:go}],[()=>vo,{[d]:$n}],[()=>Wa,{[d]:Ka}],[2,{[d]:Ln}],[0,{[d]:Et}],[0,{[d]:xT}],[0,{[d]:jm}],[5,{[d]:Vm}],[0,{[d]:Hm}],[0,{[d]:$}]]],tAe=[3,l,JEe,0,[Pt],[[0,{[d]:$t}]]],rAe=[3,l,QEe,0,[P,Ae,ES,yt,dt,vI,Ht,Ue,N],[[0,1],[0,1],[()=>tK,{[qe]:1,[I]:ES}],[0,{[d]:Et}],[0,{[j]:Sn}],[2,{[d]:lT}],[0,{[d]:Gt}],[0,{[d]:Rt}],[0,{[d]:$}]]],oAe=[3,l,ZEe,0,[dt],[[0,{[d]:wi}]]],nAe=[3,l,e_e,0,[P,Ae,dt,Ht,Ue,Ms,N,yt],[[0,1],[0,1],[0,{[j]:Sn}],[0,{[d]:Gt}],[0,{[d]:Rt}],[()=>TT,{[qe]:1,[I]:Ms}],[0,{[d]:$}],[0,{[d]:Et}]]],sAe=[3,l,r_e,0,[P,Ht,Ue,hS,N],[[0,1],[0,{[d]:Gt}],[0,{[d]:Rt}],[()=>nK,{[qe]:1,[I]:hS}],[0,{[d]:$}]]],iAe=[3,l,v7,0,[vr,i_e,MI,na],[0,[0,{[I]:p_e}],[64,{[de]:1,[I]:BI}],[()=>vT,0]]],IT=[3,l,$S,0,[vi,Bp],[0,1]],aAe=[3,l,l_e,0,[S7],[[21,{[pT]:1}]]],cAe=[3,l,M7,0,[UV,Dxe,b7,f_e,h_e],[0,0,0,0,0]],sK=[3,l,ZI,0,[UV,b7],[0,0]],uAe=[3,l,x_e,0,[],[]],pAe=[3,l,E_e,0,[P,Ae,w_e,Jhe,Yhe,Qhe,Xhe,H_e,V_e,j_e,z_e,lhe],[[0,1],[0,1],[0,{[d]:cCe}],[0,{[d]:Jc}],[0,{[d]:zp}],[4,{[d]:jI}],[4,{[d]:zI}],[0,{[d]:uCe}],[0,{[d]:dCe}],[6,{[d]:pCe}],[6,{[d]:lCe}],[0,{[d]:mbe,[WRe]:1}]]],dAe=[3,l,k7,0,[Mo],[0]],iK=[3,l,xS,0,[k_e,Lm],[0,[()=>CDe,{[de]:1,[I]:Yp}]]],lAe=[3,l,v_e,0,[jp,n_e,Tt,na,Mo,K7,TV,TS,yV],[0,1,0,[()=>fAe,0],0,()=>NAe,()=>Uve,()=>Ove,()=>bve]],mAe=[3,l,b_e,0,[Tt,Zp],[0,[()=>aa,{[de]:1,[I]:Ss}]]],fAe=[3,l,C_e,0,[Tt,Ss,bm],[0,()=>cd,[()=>mAe,0]]],hAe=[3,l,L7,0,[Mo,_Re],[0,()=>aK]],aK=[3,l,A_e,0,[gSe],[1]],gAe=[3,l,yS,0,[y7],[0]],xAe=[3,l,N7,0,[Tge],[2]],yAe=[3,l,y_e,0,[Pt,S_e],[[0,{[d]:$t}],[0,{[d]:iCe}]]],SAe=[3,l,__e,0,[P,Ae,dt,RI,yt,Ue,N],[[0,1],[0,1],[0,{[j]:Sn}],[()=>EAe,{[qe]:1,[I]:RI}],[0,{[d]:Et}],[0,{[d]:Rt}],[0,{[d]:$}]]],EAe=[3,l,RI,0,[Bp,BV,Mm,oz,xge,j7,l7],[1,()=>ZIe,0,0,0,()=>AAe,[()=>Swe,0]]],cK=[3,l,oT,0,[Vxe,d_e],[2,4]],_Ae=[3,l,$7,0,[gV,M7],[()=>UCe,()=>cAe]],RAe=[3,l,K_e,0,[Oge],[[()=>pDe,{[de]:1,[I]:NV}]]],bAe=[3,l,q_e,0,[Ofe,Tt,LI,Pfe,vS,Ms,cz,Bo],[0,0,[()=>kve,0],0,[()=>jS,0],[()=>TT,0],[()=>DDe,0],0]],CAe=[3,l,J7,0,[iT,LS],[0,0]],vAe=[3,l,Q7,0,[iT,LS,sT,ez],[0,0,0,0]],IAe=[3,l,V7,0,[iRe,DV],[1,1]],TAe=[3,l,X_e,0,[S7],[[()=>kDe,16]]],wAe=[3,l,Z_e,0,[P,Ae,Ir,ys,Tr,PV,AV,N7,VI,XI,V7,N],[[0,1],[0,1],[0,{[d]:ho}],[()=>Fs,{[d]:Us}],[0,{[d]:go}],0,0,()=>xAe,()=>Qz,()=>rK,()=>IAe,[0,{[d]:$}]]],AAe=[3,l,j7,0,[VI,AV,PV,XI],[()=>Qz,0,0,()=>rK]],DAe=[3,l,tRe,0,[eRe,iye],[0,[()=>vo,0]]],uK=[3,l,RS,0,[Lm],[[()=>vDe,{[de]:1,[I]:Yp}]]],OAe=[3,l,rRe,0,[Rfe,Wo,Yj],[[()=>DAe,0],2,[()=>ICe,0]]],PAe=[3,l,B_e,0,[Nj,Gj,Hj,vi],[[0,{[I]:Nj}],[()=>jj,{[I]:Gj}],[()=>jj,{[I]:Hj}],[4,{[I]:vi}]]],kAe=[3,l,_S,{[I]:_S},[],[]],NAe=[3,l,K7,0,[H7,k7],[()=>LAe,()=>dAe]],$Ae=[3,l,W7,{[I]:G7},[rye],[[()=>vo,0]]],LAe=[3,l,H7,0,[Mo],[0]],MAe=[3,l,q7,{[I]:z7},[],[]],BAe=[3,l,Y7,0,[eV,Xj,Zj],[1,1,1]],UAe=[3,l,G_e,0,[bV],[[()=>BAe,{[pT]:1}]]],FAe=[3,l,F7,0,[qhe],[()=>GAe]],GAe=[3,l,L_e,0,[VSe,TS],[0,()=>CCe]],cd=[3,l,Ss,0,[Ae,uT],[0,0]],TT=[3,l,Ms,0,[MS],[[()=>aa,0]]],HAe=[3,l,fRe,0,[GI,E7],[[()=>Wz,{[Rz]:[_z,dz]}],0]],jAe=[3,l,tz,0,[_S,gS],[[()=>kAe,{[I]:_S}],[()=>bwe,{[I]:gS}]]],VAe=[3,l,nz,0,[Bp,Qj],[1,0]],zAe=[-3,l,xRe,{[yn]:xn,[kn]:400},[],[]];R.for(l).registerError(zAe,tS);var KAe=[3,l,X7,0,[vr,cRe,MI,na],[0,[0,{[I]:RRe}],[64,{[de]:1,[I]:BI}],[()=>vT,0]]],WAe=[3,l,iz,0,[RV,Bp,Bo],[5,1,0]],qAe=[3,l,IRe,0,[P,Ht,Ue,uS,N],[[0,1],[0,{[d]:Gt}],[0,{[d]:Rt}],[()=>yTe,{[qe]:1,[I]:uS}],[0,{[d]:$}]]],JAe=[3,l,wRe,0,[P,Ht,Ue,pS,N],[[0,1],[0,{[d]:Gt}],[0,{[d]:Rt}],[()=>_Te,{[qe]:1,[I]:pS}],[0,{[d]:$}]]],QAe=[3,l,ORe,0,[hV,sV,gn,Ir,Tr,Zo,Wo,Pt],[[0,{[d]:Lz}],[()=>VCe,16],[0,{[d]:Nn}],[0,{[d]:ho}],[0,{[d]:go}],[()=>vo,{[d]:$n}],[2,{[d]:Ln}],[0,{[d]:$t}]]],YAe=[3,l,PRe,0,[P,aV,cV,uV,pV,dV,ahe,Ae,Yc,za,Ir,ys,Tr,lV,OI,mV,yt,N,wV],[[0,1],[0,{[d]:wz}],[0,{[d]:Az}],[4,{[d]:Dz}],[0,{[d]:Oz}],[4,{[d]:Pz}],[0,{[d]:lbe}],[0,1],[1,{[j]:FS}],[0,{[j]:Fm}],[0,{[d]:ho}],[()=>Fs,{[d]:Us}],[0,{[d]:go}],[0,{[d]:kz}],[()=>jz,{[d]:Nz}],[0,{[d]:$z}],[0,{[d]:Et}],[0,{[d]:$}],[0,{[d]:Gz}]]],XAe=[3,l,kRe,0,[gn,fo,qo,Jo,Qo,Yo,Xo,Ir,Tr,Zo,Wo,Pt],[[0,{[d]:Nn}],[0,{[d]:fo}],[0,{[d]:Zc}],[0,{[d]:eu}],[0,{[d]:tu}],[0,{[d]:ru}],[0,{[d]:ou}],[0,{[d]:ho}],[0,{[d]:go}],[()=>vo,{[d]:$n}],[2,{[d]:Ln}],[0,{[d]:$t}]]],ZAe=[3,l,NRe,0,[Cm,P,Dm,Ht,Ue,qo,Jo,Qo,Yo,Xo,Ae,Yc,za,Ir,ys,Tr,yt,N],[[()=>Wm,16],[0,1],[1,{[d]:Am}],[0,{[d]:Gt}],[0,{[d]:Rt}],[0,{[d]:Zc}],[0,{[d]:eu}],[0,{[d]:tu}],[0,{[d]:ru}],[0,{[d]:ou}],[0,1],[1,{[j]:FS}],[0,{[j]:Fm}],[0,{[d]:ho}],[()=>Fs,{[d]:Us}],[0,{[d]:go}],[0,{[d]:Et}],[0,{[d]:$}]]],eDe=[3,l,bS,0,[ZV,Mo],[[0,{[I]:YV}],0]],tDe=[3,l,CS,0,[NI,HI,ZI,tT],[()=>Kz,()=>qz,()=>sK,[()=>fK,0]]],rDe=[3,l,FRe,0,[T_e,D_e,Cm,U_e,vV,IV,bI,kp,Np,$p,Lp,Dm,DI,Mp,qo,Jo,Qo,Yo,Xo,qc,fo,Ls,vi,Ti,QI,Kp,Jp,qp,Qp,OS,rT,Pt,nT,gn,Ir,Zo,Tr,Bo,aT,dt,Wo],[[0,{[KRe]:1,[d]:aCe}],[0,{[d]:mCe}],[()=>Wm,16],[1,{[d]:Jbe}],[0,{[d]:fbe}],[0,{[d]:hbe}],[0,{[d]:vbe}],[0,{[d]:gbe}],[0,{[d]:xbe}],[0,{[d]:ybe}],[0,{[d]:Sbe}],[1,{[d]:Am}],[0,{[d]:Ebe}],[0,{[d]:_be}],[0,{[d]:Ibe}],[0,{[d]:Tbe}],[0,{[d]:wbe}],[0,{[d]:Abe}],[0,{[d]:Dbe}],[2,{[d]:Obe}],[0,{[d]:Rbe}],[4,{[d]:bbe}],[0,{[d]:Pbe}],[4,{[d]:Cbe}],[1,{[d]:kbe}],[128,{[ed]:ad}],[0,{[d]:Lbe}],[0,{[d]:$be}],[5,{[d]:Mbe}],[1,{[d]:Nbe}],[0,{[d]:Fbe}],[0,{[d]:Ube}],[0,{[d]:Bbe}],[0,{[d]:Hbe}],[0,{[d]:zbe}],[()=>vo,{[d]:jbe}],[0,{[d]:Kbe}],[0,{[d]:Gbe}],[1,{[d]:Wbe}],[0,{[d]:qbe}],[2,{[d]:Vbe}]]],Ce="unit",oDe=[-3,Ez,"S3ServiceException",0,[],[]];R.for(Ez).registerError(oDe,Cr);var nDe=[1,l,Vj,0,[()=>ST,0]],pK=[1,l,TI,0,[()=>TCe,{[I]:P}]];var HS=[1,l,the,0,()=>NCe],sDe=[1,l,rhe,0,()=>LCe],dK=[1,l,wI,0,[()=>KCe,0]],iDe=[1,l,uge,0,()=>_ve],aDe=[1,l,SV,0,()=>Rve],cDe=[1,l,Cge,0,[0,{[I]:$I}]],uDe=[1,l,OV,0,()=>Mve];var pDe=[1,l,Dge,0,()=>Fve],jS=[1,l,wS,0,[()=>eTe,{[I]:FI}]],dDe=[1,l,jV,0,[()=>_T,0]],lDe=[1,l,FV,0,[()=>RT,0]],mDe=[1,l,Uxe,0,[0,{[I]:Pge}]],fDe=[1,l,Pye,0,[()=>CTe,0]],lK=[1,l,nSe,0,[()=>ITe,0]],hDe=[1,l,JV,0,[()=>CT,0]],gDe=[1,l,fSe,0,()=>swe],xDe=[1,l,ISe,0,()=>awe];var yDe=[1,l,kSe,0,()=>fwe],mK=[1,l,USe,0,[()=>lwe,0]],SDe=[1,l,KSe,0,[()=>ywe,0]];var EDe=[1,l,DSe,0,()=>Ewe],_De=[1,l,kS,0,()=>Rwe],RDe=[1,l,LEe,0,()=>xwe],bDe=[1,l,a_e,0,[()=>iAe,0]],CDe=[1,l,I_e,0,[()=>lAe,0]],fK=[1,l,tT,0,[()=>_Ae,{[I]:$7}]],vDe=[1,l,oRe,0,[()=>OAe,0]],aa=[1,l,MS,0,[()=>cd,{[I]:Ss}]],IDe=[1,l,Z7,0,[()=>HAe,{[I]:FI}]],TDe=[1,l,hRe,0,()=>VAe],wDe=[1,l,dRe,0,[()=>KAe,0]],ADe=[1,l,gRe,0,()=>WAe],DDe=[1,l,cz,0,[()=>ewe,{[I]:XV}]];var ODe=[4,l,cfe,0,[Tt,Ss,bm],[0,()=>cd,[()=>bCe,0]]],PDe=[4,l,dSe,0,[Tt,Ss,qj,bm],[0,()=>cd,0,[()=>nwe,0]]],kDe=[4,l,Y_e,{[Sz]:1},[P_e,Y7,R7,ghe,DV],[[()=>aAe,0],[()=>UAe,0],[()=>Iwe,0],()=>FCe,()=>Lve]],jxt=[9,l,mfe,{[k]:["DELETE","/{Key+}?x-id=AbortMultipartUpload",204]},()=>ECe,()=>SCe],Vxt=[9,l,rV,{[k]:["POST","/{Key+}",200]},()=>BCe,()=>MCe],zxt=[9,l,Yfe,{[k]:["PUT","/{Key+}?x-id=CopyObject",200]},()=>HCe,()=>GCe],Kxt=[9,l,kfe,{[k]:["PUT","/",200]},()=>YCe,()=>QCe],Wxt=[9,l,Nfe,{[St]:"-",[k]:["POST","/?metadataConfiguration",200]},()=>qCe,()=>Ce],qxt=[9,l,Lfe,{[St]:"-",[k]:["POST","/?metadataTable",200]},()=>JCe,()=>Ce],Jxt=[9,l,Qfe,{[k]:["POST","/{Key+}?uploads",200]},()=>ZCe,()=>XCe],hK=[9,l,dhe,{[k]:["GET","/?session",200]},()=>tve,()=>eve],Qxt=[9,l,yhe,{[k]:["DELETE","/",204]},()=>yve,()=>Ce],Yxt=[9,l,She,{[k]:["DELETE","/?analytics",204]},()=>ive,()=>Ce],Xxt=[9,l,_he,{[k]:["DELETE","/?cors",204]},()=>ave,()=>Ce],Zxt=[9,l,bhe,{[k]:["DELETE","/?encryption",204]},()=>cve,()=>Ce],eyt=[9,l,The,{[k]:["DELETE","/?intelligent-tiering",204]},()=>uve,()=>Ce],tyt=[9,l,vhe,{[k]:["DELETE","/?inventory",204]},()=>pve,()=>Ce],ryt=[9,l,Ahe,{[k]:["DELETE","/?lifecycle",204]},()=>dve,()=>Ce],oyt=[9,l,Ohe,{[k]:["DELETE","/?metadataConfiguration",204]},()=>lve,()=>Ce],nyt=[9,l,$he,{[k]:["DELETE","/?metadataTable",204]},()=>mve,()=>Ce],syt=[9,l,Nhe,{[k]:["DELETE","/?metrics",204]},()=>fve,()=>Ce],iyt=[9,l,Mhe,{[k]:["DELETE","/?ownershipControls",204]},()=>hve,()=>Ce],ayt=[9,l,Uhe,{[k]:["DELETE","/?policy",204]},()=>gve,()=>Ce],cyt=[9,l,jhe,{[k]:["DELETE","/?replication",204]},()=>xve,()=>Ce],uyt=[9,l,Vhe,{[k]:["DELETE","/?tagging",204]},()=>Sve,()=>Ce],pyt=[9,l,Khe,{[k]:["DELETE","/?website",204]},()=>Eve,()=>Ce],gK=[9,l,pge,{[k]:["DELETE","/{Key+}?x-id=DeleteObject",204]},()=>vve,()=>Cve],dyt=[9,l,dge,{[St]:"-",[k]:["POST","/?delete",200]},()=>Tve,()=>Ive],lyt=[9,l,ige,{[k]:["DELETE","/{Key+}?tagging",204]},()=>Ave,()=>wve],myt=[9,l,lge,{[k]:["DELETE","/?publicAccessBlock",204]},()=>Dve,()=>Ce],fyt=[9,l,Nge,{[k]:["GET","/?abac",200]},()=>Hve,()=>Gve],hyt=[9,l,$ge,{[k]:["GET","/?accelerate",200]},()=>Vve,()=>jve],gyt=[9,l,zge,{[k]:["GET","/?acl",200]},()=>Kve,()=>zve],xyt=[9,l,Fge,{[k]:["GET","/?analytics&x-id=GetBucketAnalyticsConfiguration",200]},()=>qve,()=>Wve],yyt=[9,l,Kge,{[k]:["GET","/?cors",200]},()=>Qve,()=>Jve],Syt=[9,l,Jge,{[k]:["GET","/?encryption",200]},()=>Xve,()=>Yve],Eyt=[9,l,t0e,{[k]:["GET","/?intelligent-tiering&x-id=GetBucketIntelligentTieringConfiguration",200]},()=>eIe,()=>Zve],_yt=[9,l,Xge,{[k]:["GET","/?inventory&x-id=GetBucketInventoryConfiguration",200]},()=>rIe,()=>tIe],Ryt=[9,l,s0e,{[k]:["GET","/?lifecycle",200]},()=>nIe,()=>oIe],byt=[9,l,n0e,{[k]:["GET","/?location",200]},()=>iIe,()=>sIe],Cyt=[9,l,l0e,{[k]:["GET","/?logging",200]},()=>cIe,()=>aIe],vyt=[9,l,m0e,{[k]:["GET","/?metadataConfiguration",200]},()=>pIe,()=>uIe],Iyt=[9,l,S0e,{[k]:["GET","/?metadataTable",200]},()=>mIe,()=>lIe],Tyt=[9,l,y0e,{[k]:["GET","/?metrics&x-id=GetBucketMetricsConfiguration",200]},()=>gIe,()=>hIe],wyt=[9,l,R0e,{[k]:["GET","/?notification",200]},()=>xIe,()=>Xz],Ayt=[9,l,C0e,{[k]:["GET","/?ownershipControls",200]},()=>SIe,()=>yIe],Dyt=[9,l,T0e,{[k]:["GET","/?policy",200]},()=>_Ie,()=>EIe],Oyt=[9,l,D0e,{[k]:["GET","/?policyStatus",200]},()=>bIe,()=>RIe],Pyt=[9,l,k0e,{[k]:["GET","/?replication",200]},()=>vIe,()=>CIe],kyt=[9,l,$0e,{[k]:["GET","/?requestPayment",200]},()=>TIe,()=>IIe],Nyt=[9,l,U0e,{[k]:["GET","/?tagging",200]},()=>AIe,()=>wIe],$yt=[9,l,H0e,{[k]:["GET","/?versioning",200]},()=>OIe,()=>DIe],Lyt=[9,l,z0e,{[k]:["GET","/?website",200]},()=>kIe,()=>PIe],xK=[9,l,q0e,{[St]:"-",[k]:["GET","/{Key+}?x-id=GetObject",200]},()=>VIe,()=>jIe],Myt=[9,l,J0e,{[k]:["GET","/{Key+}?acl",200]},()=>$Ie,()=>NIe],Byt=[9,l,rxe,{[k]:["GET","/{Key+}?attributes",200]},()=>BIe,()=>LIe],Uyt=[9,l,ixe,{[k]:["GET","/{Key+}?legal-hold",200]},()=>FIe,()=>UIe],Fyt=[9,l,oxe,{[k]:["GET","/?object-lock",200]},()=>HIe,()=>GIe],Gyt=[9,l,mxe,{[k]:["GET","/{Key+}?retention",200]},()=>KIe,()=>zIe],Hyt=[9,l,fxe,{[k]:["GET","/{Key+}?tagging",200]},()=>qIe,()=>WIe],jyt=[9,l,Sxe,{[k]:["GET","/{Key+}?torrent",200]},()=>QIe,()=>JIe],Vyt=[9,l,Exe,{[k]:["GET","/?publicAccessBlock",200]},()=>XIe,()=>YIe],zyt=[9,l,bxe,{[k]:["HEAD","/",200]},()=>rTe,()=>tTe],yK=[9,l,Txe,{[k]:["HEAD","/{Key+}",200]},()=>nTe,()=>oTe],Kyt=[9,l,dye,{[k]:["GET","/?analytics&x-id=ListBucketAnalyticsConfigurations",200]},()=>DTe,()=>ATe],Wyt=[9,l,yye,{[k]:["GET","/?intelligent-tiering&x-id=ListBucketIntelligentTieringConfigurations",200]},()=>PTe,()=>OTe],qyt=[9,l,hye,{[k]:["GET","/?inventory&x-id=ListBucketInventoryConfigurations",200]},()=>NTe,()=>kTe],Jyt=[9,l,_ye,{[k]:["GET","/?metrics&x-id=ListBucketMetricsConfigurations",200]},()=>LTe,()=>$Te],Qyt=[9,l,pye,{[k]:["GET","/?x-id=ListBuckets",200]},()=>BTe,()=>MTe],Yyt=[9,l,Iye,{[k]:["GET","/?x-id=ListDirectoryBuckets",200]},()=>FTe,()=>UTe],Xyt=[9,l,Bye,{[k]:["GET","/?uploads",200]},()=>HTe,()=>GTe],Zyt=[9,l,Hye,{[k]:["GET","/",200]},()=>VTe,()=>jTe],SK=[9,l,zye,{[k]:["GET","/?list-type=2",200]},()=>KTe,()=>zTe],eSt=[9,l,Qye,{[k]:["GET","/?versions",200]},()=>qTe,()=>WTe],tSt=[9,l,Yye,{[k]:["GET","/{Key+}?x-id=ListParts",200]},()=>QTe,()=>JTe],rSt=[9,l,qSe,{[St]:"-",[k]:["PUT","/?abac",200]},()=>Twe,()=>Ce],oSt=[9,l,JSe,{[St]:"-",[k]:["PUT","/?accelerate",200]},()=>wwe,()=>Ce],nSt=[9,l,tEe,{[St]:"-",[k]:["PUT","/?acl",200]},()=>Awe,()=>Ce],sSt=[9,l,XSe,{[k]:["PUT","/?analytics",200]},()=>Dwe,()=>Ce],iSt=[9,l,rEe,{[St]:"-",[k]:["PUT","/?cors",200]},()=>Owe,()=>Ce],aSt=[9,l,nEe,{[St]:"-",[k]:["PUT","/?encryption",200]},()=>Pwe,()=>Ce],cSt=[9,l,cEe,{[k]:["PUT","/?intelligent-tiering",200]},()=>kwe,()=>Ce],uSt=[9,l,iEe,{[k]:["PUT","/?inventory",200]},()=>Nwe,()=>Ce],pSt=[9,l,dEe,{[St]:"-",[k]:["PUT","/?lifecycle",200]},()=>Lwe,()=>$we],dSt=[9,l,pEe,{[St]:"-",[k]:["PUT","/?logging",200]},()=>Mwe,()=>Ce],lSt=[9,l,hEe,{[k]:["PUT","/?metrics",200]},()=>Bwe,()=>Ce],mSt=[9,l,xEe,{[k]:["PUT","/?notification",200]},()=>Uwe,()=>Ce],fSt=[9,l,SEe,{[St]:"-",[k]:["PUT","/?ownershipControls",200]},()=>Fwe,()=>Ce],hSt=[9,l,_Ee,{[St]:"-",[k]:["PUT","/?policy",200]},()=>Gwe,()=>Ce],gSt=[9,l,bEe,{[St]:"-",[k]:["PUT","/?replication",200]},()=>Hwe,()=>Ce],xSt=[9,l,CEe,{[St]:"-",[k]:["PUT","/?requestPayment",200]},()=>jwe,()=>Ce],ySt=[9,l,TEe,{[St]:"-",[k]:["PUT","/?tagging",200]},()=>Vwe,()=>Ce],SSt=[9,l,AEe,{[St]:"-",[k]:["PUT","/?versioning",200]},()=>zwe,()=>Ce],ESt=[9,l,OEe,{[St]:"-",[k]:["PUT","/?website",200]},()=>Kwe,()=>Ce],EK=[9,l,MEe,{[St]:"-",[k]:["PUT","/{Key+}?x-id=PutObject",200]},()=>eAe,()=>Zwe],_St=[9,l,BEe,{[St]:"-",[k]:["PUT","/{Key+}?acl",200]},()=>qwe,()=>Wwe],RSt=[9,l,VEe,{[St]:"-",[k]:["PUT","/{Key+}?legal-hold",200]},()=>Qwe,()=>Jwe],bSt=[9,l,GEe,{[St]:"-",[k]:["PUT","/?object-lock",200]},()=>Xwe,()=>Ywe],CSt=[9,l,YEe,{[St]:"-",[k]:["PUT","/{Key+}?retention",200]},()=>rAe,()=>tAe],vSt=[9,l,XEe,{[St]:"-",[k]:["PUT","/{Key+}?tagging",200]},()=>nAe,()=>oAe],ISt=[9,l,t_e,{[St]:"-",[k]:["PUT","/?publicAccessBlock",200]},()=>sAe,()=>Ce],TSt=[9,l,g_e,{[k]:["PUT","/{Key+}?renameObject",200]},()=>pAe,()=>uAe],wSt=[9,l,R_e,{[St]:"-",[k]:["POST","/{Key+}?restore",200]},()=>SAe,()=>yAe],ASt=[9,l,Q_e,{[k]:["POST","/{Key+}?select&select-type=2",200]},()=>wAe,()=>TAe],DSt=[9,l,vRe,{[St]:"-",[k]:["PUT","/?metadataInventoryTable",200]},()=>qAe,()=>Ce],OSt=[9,l,TRe,{[St]:"-",[k]:["PUT","/?metadataJournalTable",200]},()=>JAe,()=>Ce],PSt=[9,l,ARe,{[St]:"-",[k]:["PUT","/{Key+}?x-id=UploadPart",200]},()=>ZAe,()=>XAe],kSt=[9,l,DRe,{[k]:["PUT","/{Key+}?x-id=UploadPartCopy",200]},()=>YAe,()=>QAe],NSt=[9,l,URe,{[VRe]:["{RequestRoute}."],[k]:["POST","/WriteGetObjectResponse",200]},()=>rDe,()=>Ce];var VS=class extends Y.classBuilder().ep({...xs,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions()),_i(o)]}).s("AmazonS3","CreateSession",{}).n("S3Client","CreateSessionCommand").sc(hK).build(){};var _K={name:"@aws-sdk/client-s3",description:"AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",version:"3.958.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-s3","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"yarn g:vitest run","test:browser":"node ./test/browser-build/esbuild && yarn g:vitest run -c vitest.config.browser.mts","test:browser:watch":"node ./test/browser-build/esbuild && yarn g:vitest watch -c vitest.config.browser.mts","test:e2e":"yarn g:vitest run -c vitest.config.e2e.mts && yarn test:browser","test:e2e:watch":"yarn g:vitest watch -c vitest.config.e2e.mts","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs","test:integration":"yarn g:vitest run -c vitest.config.integ.mts","test:integration:watch":"yarn g:vitest watch -c vitest.config.integ.mts","test:watch":"yarn g:vitest watch"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha1-browser":"5.2.0","@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.957.0","@aws-sdk/credential-provider-node":"3.958.0","@aws-sdk/middleware-bucket-endpoint":"3.957.0","@aws-sdk/middleware-expect-continue":"3.957.0","@aws-sdk/middleware-flexible-checksums":"3.957.0","@aws-sdk/middleware-host-header":"3.957.0","@aws-sdk/middleware-location-constraint":"3.957.0","@aws-sdk/middleware-logger":"3.957.0","@aws-sdk/middleware-recursion-detection":"3.957.0","@aws-sdk/middleware-sdk-s3":"3.957.0","@aws-sdk/middleware-ssec":"3.957.0","@aws-sdk/middleware-user-agent":"3.957.0","@aws-sdk/region-config-resolver":"3.957.0","@aws-sdk/signature-v4-multi-region":"3.957.0","@aws-sdk/types":"3.957.0","@aws-sdk/util-endpoints":"3.957.0","@aws-sdk/util-user-agent-browser":"3.957.0","@aws-sdk/util-user-agent-node":"3.957.0","@smithy/config-resolver":"^4.4.5","@smithy/core":"^3.20.0","@smithy/eventstream-serde-browser":"^4.2.7","@smithy/eventstream-serde-config-resolver":"^4.3.7","@smithy/eventstream-serde-node":"^4.2.7","@smithy/fetch-http-handler":"^5.3.8","@smithy/hash-blob-browser":"^4.2.8","@smithy/hash-node":"^4.2.7","@smithy/hash-stream-node":"^4.2.7","@smithy/invalid-dependency":"^4.2.7","@smithy/md5-js":"^4.2.7","@smithy/middleware-content-length":"^4.2.7","@smithy/middleware-endpoint":"^4.4.1","@smithy/middleware-retry":"^4.4.17","@smithy/middleware-serde":"^4.2.8","@smithy/middleware-stack":"^4.2.7","@smithy/node-config-provider":"^4.3.7","@smithy/node-http-handler":"^4.4.7","@smithy/protocol-http":"^5.3.7","@smithy/smithy-client":"^4.10.2","@smithy/types":"^4.11.0","@smithy/url-parser":"^4.2.7","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.16","@smithy/util-defaults-mode-node":"^4.2.19","@smithy/util-endpoints":"^3.2.7","@smithy/util-middleware":"^4.2.7","@smithy/util-retry":"^4.2.7","@smithy/util-stream":"^4.5.8","@smithy/util-utf8":"^4.2.0","@smithy/util-waiter":"^4.2.7",tslib:"^2.6.2"},devDependencies:{"@aws-sdk/signature-v4-crt":"3.957.0","@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"}};Je();zd();var $De="AWS_S3_USE_ARN_REGION",LDe="s3_use_arn_region",RK={environmentVariableSelector:t=>Xn(t,$De,an.ENV),configFileSelector:t=>Xn(t,LDe,an.CONFIG),default:void 0};ii();rr();Gi();Gi();var ud=class t{bytes;constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let o=7,n=Math.abs(Math.round(e));o>-1&&n>0;o--,n/=256)r[o]=n;return e<0&&bK(r),new t(r)}valueOf(){let e=this.bytes.slice(0),r=e[0]&128;return r&&bK(e),parseInt(qt(e),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function bK(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}var zS=class{toUtf8;fromUtf8;constructor(e,r){this.toUtf8=e,this.fromUtf8=r}format(e){let r=[];for(let s of Object.keys(e)){let i=this.fromUtf8(s);r.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(e[s]))}let o=new Uint8Array(r.reduce((s,i)=>s+i.byteLength,0)),n=0;for(let s of r)o.set(s,n),n+=s.byteLength;return o}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,e.value,!1),new Uint8Array(r.buffer);case"integer":let o=new DataView(new ArrayBuffer(5));return o.setUint8(0,4),o.setInt32(1,e.value,!1),new Uint8Array(o.buffer);case"long":let n=new Uint8Array(9);return n[0]=5,n.set(e.value.bytes,1),n;case"binary":let s=new DataView(new ArrayBuffer(3+e.value.byteLength));s.setUint8(0,6),s.setUint16(1,e.value.byteLength,!1);let i=new Uint8Array(s.buffer);return i.set(e.value,3),i;case"string":let a=this.fromUtf8(e.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let u=new Uint8Array(c.buffer);return u.set(a,3),u;case"timestamp":let m=new Uint8Array(9);return m[0]=8,m.set(ud.fromNumber(e.value.valueOf()).bytes,1),m;case"uuid":if(!zDe.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let f=new Uint8Array(17);return f[0]=9,f.set(Lf(e.value.replace(/\-/g,"")),1),f}}parse(e){let r={},o=0;for(;o<e.byteLength;){let n=e.getUint8(o++),s=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+o,n));switch(o+=n,e.getUint8(o++)){case 0:r[s]={type:vK,value:!0};break;case 1:r[s]={type:vK,value:!1};break;case 2:r[s]={type:MDe,value:e.getInt8(o++)};break;case 3:r[s]={type:BDe,value:e.getInt16(o,!1)},o+=2;break;case 4:r[s]={type:UDe,value:e.getInt32(o,!1)},o+=4;break;case 5:r[s]={type:FDe,value:new ud(new Uint8Array(e.buffer,e.byteOffset+o,8))},o+=8;break;case 6:let i=e.getUint16(o,!1);o+=2,r[s]={type:GDe,value:new Uint8Array(e.buffer,e.byteOffset+o,i)},o+=i;break;case 7:let a=e.getUint16(o,!1);o+=2,r[s]={type:HDe,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+o,a))},o+=a;break;case 8:r[s]={type:jDe,value:new Date(new ud(new Uint8Array(e.buffer,e.byteOffset+o,8)).valueOf())},o+=8;break;case 9:let c=new Uint8Array(e.buffer,e.byteOffset+o,16);o+=16,r[s]={type:VDe,value:`${qt(c.subarray(0,4))}-${qt(c.subarray(4,6))}-${qt(c.subarray(6,8))}-${qt(c.subarray(8,10))}-${qt(c.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return r}},CK;(function(t){t[t.boolTrue=0]="boolTrue",t[t.boolFalse=1]="boolFalse",t[t.byte=2]="byte",t[t.short=3]="short",t[t.integer=4]="integer",t[t.long=5]="long",t[t.byteArray=6]="byteArray",t[t.string=7]="string",t[t.timestamp=8]="timestamp",t[t.uuid=9]="uuid"})(CK||(CK={}));var vK="boolean",MDe="byte",BDe="short",UDe="integer",FDe="long",GDe="binary",HDe="string",jDe="timestamp",VDe="uuid",zDe=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;var IK=4,qa=IK*2,nu=4,KDe=qa+nu*2;function TK({byteLength:t,byteOffset:e,buffer:r}){if(t<KDe)throw new Error("Provided message too short to accommodate event stream message overhead");let o=new DataView(r,e,t),n=o.getUint32(0,!1);if(t!==n)throw new Error("Reported message length does not match received message length");let s=o.getUint32(IK,!1),i=o.getUint32(qa,!1),a=o.getUint32(t-nu,!1),c=new zc().update(new Uint8Array(r,e,qa));if(i!==c.digest())throw new Error(`The prelude checksum specified in the message (${i}) does not match the calculated CRC32 checksum (${c.digest()})`);if(c.update(new Uint8Array(r,e+qa,t-(qa+nu))),a!==c.digest())throw new Error(`The message checksum (${c.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(r,e+qa+nu,s),body:new Uint8Array(r,e+qa+nu+s,n-s-(qa+nu+nu))}}var KS=class{headerMarshaller;messageBuffer;isEndOfStream;constructor(e,r){this.headerMarshaller=new zS(e,r),this.messageBuffer=[],this.isEndOfStream=!1}feed(e){this.messageBuffer.push(this.decode(e))}endOfStream(){this.isEndOfStream=!0}getMessage(){let e=this.messageBuffer.pop(),r=this.isEndOfStream;return{getMessage(){return e},isEndOfStream(){return r}}}getAvailableMessages(){let e=this.messageBuffer;this.messageBuffer=[];let r=this.isEndOfStream;return{getMessages(){return e},isEndOfStream(){return r}}}encode({headers:e,body:r}){let o=this.headerMarshaller.format(e),n=o.byteLength+r.byteLength+16,s=new Uint8Array(n),i=new DataView(s.buffer,s.byteOffset,s.byteLength),a=new zc;return i.setUint32(0,n,!1),i.setUint32(4,o.byteLength,!1),i.setUint32(8,a.update(s.subarray(0,8)).digest(),!1),s.set(o,12),s.set(r,o.byteLength+12),i.setUint32(n-4,a.update(s.subarray(8,n-4)).digest(),!1),s}decode(e){let{headers:r,body:o}=TK(e);return{headers:this.headerMarshaller.parse(r),body:o}}formatHeaders(e){return this.headerMarshaller.format(e)}};var WS=class{options;constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let e of this.options.inputStream)yield this.options.decoder.decode(e)}};var qS=class{options;constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let e of this.options.messageStream)yield this.options.encoder.encode(e);this.options.includeEndFrame&&(yield new Uint8Array(0))}};var JS=class{options;constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let e of this.options.messageStream){let r=await this.options.deserializer(e);r!==void 0&&(yield r)}}};var QS=class{options;constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let e of this.options.inputStream)yield this.options.serializer(e)}};function wK(t){let e=0,r=0,o=null,n=null,s=a=>{if(typeof a!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+a);e=a,r=4,o=new Uint8Array(a),new DataView(o.buffer).setUint32(0,a,!1)},i=async function*(){let a=t[Symbol.asyncIterator]();for(;;){let{value:c,done:u}=await a.next();if(u){if(e)if(e===r)yield o;else throw new Error("Truncated event message received.");else return;return}let m=c.length,f=0;for(;f<m;){if(!o){let g=m-f;n||(n=new Uint8Array(4));let _=Math.min(4-r,g);if(n.set(c.slice(f,f+_),r),r+=_,f+=_,r<4)break;s(new DataView(n.buffer).getUint32(0,!1)),n=null}let h=Math.min(e-r,m-f);o.set(c.slice(f,f+h),r),r+=h,f+=h,e&&e===r&&(yield o,o=null,e=0,r=0)}}};return{[Symbol.asyncIterator]:i}}function AK(t,e){return async function(r){let{value:o}=r.headers[":message-type"];if(o==="error"){let n=new Error(r.headers[":error-message"].value||"UnknownError");throw n.name=r.headers[":error-code"].value,n}else if(o==="exception"){let n=r.headers[":exception-type"].value,s={[n]:r},i=await t(s);if(i.$unknown){let a=new Error(e(r.body));throw a.name=n,a}throw i[n]}else if(o==="event"){let n={[r.headers[":event-type"].value]:r},s=await t(n);return s.$unknown?void 0:s}else throw Error(`Unrecognizable event type: ${r.headers[":event-type"].value}`)}}var YS=class{eventStreamCodec;utfEncoder;constructor({utf8Encoder:e,utf8Decoder:r}){this.eventStreamCodec=new KS(e,r),this.utfEncoder=e}deserialize(e,r){let o=wK(e);return new JS({messageStream:new WS({inputStream:o,decoder:this.eventStreamCodec}),deserializer:AK(r,this.utfEncoder)})}serialize(e,r){return new qS({messageStream:new QS({inputStream:e,serializer:r}),encoder:this.eventStreamCodec,includeEndFrame:!0})}};import{Readable as WDe}from"stream";async function*DK(t){let e=!1,r=!1,o=new Array;for(t.on("error",n=>{if(e||(e=!0),n)throw n}),t.on("data",n=>{o.push(n)}),t.on("end",()=>{e=!0});!r;){let n=await new Promise(s=>setTimeout(()=>s(o.shift()),0));n&&(yield n),r=e&&o.length===0}}var XS=class{universalMarshaller;constructor({utf8Encoder:e,utf8Decoder:r}){this.universalMarshaller=new YS({utf8Decoder:r,utf8Encoder:e})}deserialize(e,r){let o=typeof e[Symbol.asyncIterator]=="function"?e:DK(e);return this.universalMarshaller.deserialize(o,r)}serialize(e,r){return WDe.from(this.universalMarshaller.serialize(e,r))}};var OK=t=>new XS(t);ai();wt();import{Writable as qDe}from"stream";var ZS=class extends qDe{hash;constructor(e,r){super(r),this.hash=e}_write(e,r,o){try{this.hash.update(Fo(e))}catch(n){return o(n)}o()}};var PK=(t,e)=>{if(e.readableFlowing!==null)throw new Error("Unable to calculate hash for flowing readable stream");let r=new t,o=new ZS(r);return e.pipe(o),new Promise((n,s)=>{e.on("error",i=>{o.end(),s(i)}),o.on("error",s),o.on("finish",()=>{r.digest().then(n).catch(s)})})};Rr();Vo();Vn();F();ci();ui();Zn();Je();Yn();F();Jn();Kt();ga();wt();var kK=t=>({apiVersion:"2006-03-01",base64Decoder:t?.base64Decoder??st,base64Encoder:t?.base64Encoder??we,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??jy,extensions:t?.extensions??[],getAwsChunkedEncodingStream:t?.getAwsChunkedEncodingStream??eO,httpAuthSchemeProvider:t?.httpAuthSchemeProvider??Oj,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new Ct},{schemeId:"aws.auth#sigv4a",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4a"),signer:new $d}],logger:t?.logger??new Bt,protocol:t?.protocol??Rh,protocolSettings:t?.protocolSettings??{defaultNamespace:"com.amazonaws.s3",xmlNamespace:"http://s3.amazonaws.com/doc/2006-03-01/",version:"2006-03-01",serviceTarget:"AmazonS3"},sdkStreamMixin:t?.sdkStreamMixin??Cu,serviceId:t?.serviceId??"S3",signerConstructor:t?.signerConstructor??Tp,signingEscapePath:t?.signingEscapePath??!1,urlParser:t?.urlParser??Mt,useArnRegion:t?.useArnRegion??void 0,utf8Decoder:t?.utf8Decoder??it,utf8Encoder:t?.utf8Encoder??Xe});var NK=t=>{jr(process.version);let e=so(t),r=()=>e().then(Hr),o=kK(t);Ur(process.version);let n={profile:t?.profile,logger:o.logger};return{...o,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??G(Fr,n),bodyLengthChecker:t?.bodyLengthChecker??no,credentialDefaultProvider:t?.credentialDefaultProvider??ks,defaultUserAgentProvider:t?.defaultUserAgentProvider??ro({serviceId:o.serviceId,clientVersion:_K.version}),disableS3ExpressSessionAuth:t?.disableS3ExpressSessionAuth??G(Nv,n),eventStreamSerdeProvider:t?.eventStreamSerdeProvider??OK,maxAttempts:t?.maxAttempts??G(Xr,t),md5:t?.md5??Qt.bind(null,"md5"),region:t?.region??G(Jt,{...fr,...n}),requestChecksumCalculation:t?.requestChecksumCalculation??G(y8,n),requestHandler:Wt.create(t?.requestHandler??r),responseChecksumValidation:t?.responseChecksumValidation??G(S8,n),retryMode:t?.retryMode??G({...eo,default:async()=>(await r()).retryMode||hr},t),sha1:t?.sha1??Qt.bind(null,"sha1"),sha256:t?.sha256??Qt.bind(null,"sha256"),sigv4aSigningRegionSet:t?.sigv4aSigningRegionSet??G(WN,n),streamCollector:t?.streamCollector??ur,streamHasher:t?.streamHasher??PK,useArnRegion:t?.useArnRegion??G(RK,n),useDualstackEndpoint:t?.useDualstackEndpoint??G(Wr,n),useFipsEndpoint:t?.useFipsEndpoint??G(qr,n),userAgentAppId:t?.userAgentAppId??G(oo,n)}};ws();Pe();F();var $K=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,o=t.credentials;return{setHttpAuthScheme(n){let s=e.findIndex(i=>i.schemeId===n.schemeId);s===-1?e.push(n):e.splice(s,1,n)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(n){r=n},httpAuthSchemeProvider(){return r},setCredentials(n){o=n},credentials(){return o}}},LK=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()});var MK=(t,e)=>{let r=Object.assign(io(t),Vr(t),Ar(t),$K(t));return e.forEach(o=>o.configure(r)),Object.assign(t,ao(r),zr(r),Dr(r),LK(r))};var eE=class extends Nt{config;constructor(...[e]){let r=NK(e||{});super(r),this.initConfig=r;let o=kj(r),n=Mr(o),s=L8(n),i=Zr(s),a=Jr(i),c=a,u=Yr(c),m=tH(u),f=Pj(m),h=Q8(f,{session:[()=>this,VS]}),g=MK(h,e?.extensions||[]);this.config=g,this.middlewareStack.use(Lr(this.config)),this.middlewareStack.use(Kr(this.config)),this.middlewareStack.use(to(this.config)),this.middlewareStack.use(Qr(this.config)),this.middlewareStack.use(Or(this.config)),this.middlewareStack.use(Pr(this.config)),this.middlewareStack.use(kr(this.config)),this.middlewareStack.use(Nr(this.config,{httpAuthSchemeParametersProvider:wj,identityProviderConfigProvider:async _=>new dr({"aws.auth#sigv4":_.credentials,"aws.auth#sigv4a":_.credentials})})),this.middlewareStack.use($r(this.config)),this.middlewareStack.use(eH(this.config)),this.middlewareStack.use(g8(this.config)),this.middlewareStack.use(F8(this.config)),this.middlewareStack.use($v(this.config)),this.middlewareStack.use(Lv(this.config))}destroy(){super.destroy()}};function JDe(t){return e=>async r=>{let o={...r.input},n=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(let s of n){let i=o[s.target];if(i){let a;typeof i=="string"?YDe(i,t)?a=t.base64Decoder(i):(a=t.utf8Decoder(i),o[s.target]=t.base64Encoder(a)):(a=ArrayBuffer.isView(i)?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i),o[s.target]=t.base64Encoder(a));let c=new t.md5;c.update(a),o[s.hash]=t.base64Encoder(await c.digest())}}return e({...r,input:o})}}var QDe={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},pd=t=>({applyToStack:e=>{e.add(JDe(t),QDe)}});function YDe(t,e){if(!/^(?:[A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t))return!1;try{return e.base64Decoder(t).length===32}catch{return!1}}xe();F();var tE=class extends Y.classBuilder().ep({...xs,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions()),_i(o)]}).s("AmazonS3","DeleteObject",{}).n("S3Client","DeleteObjectCommand").sc(gK).build(){};xe();F();var rE=class extends Y.classBuilder().ep({...xs,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions()),Dy(o,{requestChecksumRequired:!1,requestValidationModeMember:"ChecksumMode",responseAlgorithms:["CRC64NVME","CRC32","CRC32C","SHA256","SHA1"]}),pd(o),Oy(o)]}).s("AmazonS3","GetObject",{}).n("S3Client","GetObjectCommand").sc(xK).build(){};xe();F();var qm=class extends Y.classBuilder().ep({...xs,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions()),_i(o),pd(o),Oy(o)]}).s("AmazonS3","HeadObject",{}).n("S3Client","HeadObjectCommand").sc(yK).build(){};xe();F();var oE=class extends Y.classBuilder().ep({...xs,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions()),_i(o)]}).s("AmazonS3","ListObjectsV2",{}).n("S3Client","ListObjectsV2Command").sc(SK).build(){};xe();F();var nE=class extends Y.classBuilder().ep({...xs,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,r,o,n){return[ee(o,e.getEndpointParameterInstructions()),Dy(o,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),M8(o),_i(o),pd(o)]}).s("AmazonS3","PutObject",{}).n("S3Client","PutObjectCommand").sc(EK).build(){};var XDe=E.object({name:E.string().min(1),version:E.string().min(1),type:E.enum(["dedicated","shared"]),description:E.string().optional(),parameters:E.array(E.object({name:E.string(),type:E.string(),description:E.string().optional(),required:E.boolean().default(!1)})).optional(),tags:E.record(E.string()).optional(),createdAt:E.string(),updatedAt:E.string()}),ZDe=E.object({bucketName:E.string().min(1),key:E.string().min(1),content:E.string().min(1),contentType:E.string().default("application/x-yaml"),metadata:E.record(E.string()).optional(),tags:E.record(E.string()).optional(),serverSideEncryption:E.string().default("AES256")}),AT=class{client;config;bucketName;constructor(e,r){this.config=wr(),this.bucketName=e;let o=r||this.config.aws.region;this.client=new eE({region:o,maxAttempts:3})}async uploadTemplate(e){try{let r=ZDe.parse(e);y.info("Uploading CloudFormation template to S3",{bucket:r.bucketName,key:r.key,size:r.content.length});let o=new nE({Bucket:r.bucketName,Key:r.key,Body:r.content,ContentType:r.contentType,Metadata:r.metadata,ServerSideEncryption:r.serverSideEncryption}),n=await this.client.send(o),s=`https://${r.bucketName}.s3.${this.client.config.region}.amazonaws.com/${r.key}`;return y.info("CloudFormation template uploaded successfully",{bucket:r.bucketName,key:r.key,url:s,versionId:n.VersionId,etag:n.ETag}),{url:s,...n.VersionId&&{versionId:n.VersionId}}}catch(r){throw y.error("Failed to upload CloudFormation template",{error:r instanceof Error?r.message:"Unknown error",bucket:e.bucketName,key:e.key}),r}}async downloadTemplate(e,r){try{y.info("Downloading CloudFormation template from S3",{bucket:this.bucketName,key:e,versionId:r});let o=new rE({Bucket:this.bucketName,Key:e,VersionId:r}),n=await this.client.send(o);if(!n.Body)throw new Error("Template content is empty");let s=await n.Body.transformToString();return y.info("CloudFormation template downloaded successfully",{bucket:this.bucketName,key:e,size:s.length,contentType:n.ContentType}),{content:s,metadata:n.Metadata||{}}}catch(o){throw y.error("Failed to download CloudFormation template",{error:o instanceof Error?o.message:"Unknown error",bucket:this.bucketName,key:e,versionId:r}),o}}async listTemplates(e,r,o){try{y.info("Listing CloudFormation templates from S3",{bucket:this.bucketName,prefix:e,maxKeys:r});let n=new oE({Bucket:this.bucketName,Prefix:e,MaxKeys:r||100,ContinuationToken:o}),s=await this.client.send(n),i=[];if(s.Contents){for(let a of s.Contents)if(a.Key&&a.LastModified&&a.Size!==void 0)try{let c=new qm({Bucket:this.bucketName,Key:a.Key}),u=await this.client.send(c),m=this.parseTemplateMetadata(u.Metadata||{}),f=`https://${this.bucketName}.s3.${this.client.config.region}.amazonaws.com/${a.Key}`;i.push({key:a.Key,url:f,metadata:m,size:a.Size,lastModified:a.LastModified,etag:a.ETag||"",...u.VersionId&&{versionId:u.VersionId}})}catch(c){y.warn("Failed to get metadata for template",{key:a.Key,error:c instanceof Error?c.message:"Unknown error"})}}return y.info("CloudFormation templates listed successfully",{bucket:this.bucketName,count:i.length,hasMore:!!s.NextContinuationToken}),{templates:i,totalCount:s.KeyCount||0,...s.NextContinuationToken&&{continuationToken:s.NextContinuationToken}}}catch(n){throw y.error("Failed to list CloudFormation templates",{error:n instanceof Error?n.message:"Unknown error",bucket:this.bucketName,prefix:e}),n}}async getTemplateInfo(e,r){try{let o=new qm({Bucket:this.bucketName,Key:e,VersionId:r}),n=await this.client.send(o),s=this.parseTemplateMetadata(n.Metadata||{}),i=`https://${this.bucketName}.s3.${this.client.config.region}.amazonaws.com/${e}`;return{key:e,url:i,metadata:s,size:n.ContentLength||0,lastModified:n.LastModified||new Date,etag:n.ETag||"",...n.VersionId&&{versionId:n.VersionId}}}catch(o){return y.error("Failed to get template info",{error:o instanceof Error?o.message:"Unknown error",bucket:this.bucketName,key:e,versionId:r}),null}}async deleteTemplate(e,r){try{y.info("Deleting CloudFormation template from S3",{bucket:this.bucketName,key:e,versionId:r});let o=new tE({Bucket:this.bucketName,Key:e,VersionId:r});return await this.client.send(o),y.info("CloudFormation template deleted successfully",{bucket:this.bucketName,key:e,versionId:r}),!0}catch(o){return y.error("Failed to delete CloudFormation template",{error:o instanceof Error?o.message:"Unknown error",bucket:this.bucketName,key:e,versionId:r}),!1}}async createTemplateVersion(e,r,o){try{let n=new Date().toISOString().replace(/[:.]/g,"-"),s=`${e.replace(/\.(yaml|yml|json)$/,"")}-${n}.$1`,i={bucketName:this.bucketName,key:s,content:r,contentType:"application/x-yaml",serverSideEncryption:"AES256",metadata:{"original-key":e,"version-timestamp":n,...o}};return await this.uploadTemplate(i)}catch(n){throw y.error("Failed to create template version",{error:n instanceof Error?n.message:"Unknown error",sourceKey:e}),n}}async validateTemplateFormat(e){let r=[];try{return e.trim().startsWith("{")?JSON.parse(e):!e.includes("AWSTemplateFormatVersion")&&!e.includes("Resources")&&r.push("Template must contain AWSTemplateFormatVersion or Resources section"),e.includes("Resources")||r.push("Template must contain a Resources section"),{valid:r.length===0,errors:r}}catch(o){return r.push(`Template format error: ${o instanceof Error?o.message:"Invalid format"}`),{valid:!1,errors:r}}}parseTemplateMetadata(e){try{let r={name:e["template-name"]||"Unknown",version:e["template-version"]||"1.0.0",type:e["template-type"]||"dedicated",description:e["template-description"],createdAt:e["created-at"]||new Date().toISOString(),updatedAt:e["updated-at"]||new Date().toISOString()};if(e["template-parameters"])try{r.parameters=JSON.parse(e["template-parameters"])}catch{}if(e["template-tags"])try{r.tags=JSON.parse(e["template-tags"])}catch{}return XDe.parse(r)}catch{return{name:"Unknown",version:"1.0.0",type:"dedicated",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}}},wT=new Map;function BK(t,e){let r=`${t}-${e||"default"}`;return wT.has(r)||wT.set(r,new AT(t,e)),wT.get(r)}var eOe=E.object({targetAccountId:E.string().regex(/^\d{12}$/,"Must be a valid 12-digit AWS account ID"),region:E.string().min(1),roleName:E.string().min(1),externalId:E.string().optional(),sessionName:E.string().min(1).max(64),durationSeconds:E.number().min(900).max(43200).default(3600)}),tOe=E.object({allowedAccountIds:E.array(E.string().regex(/^\d{12}$/)).min(1),requireExternalId:E.boolean().default(!0),maxSessionDuration:E.number().min(900).max(43200).default(3600)}),OT=class{stsClient;config;validationConfig;constructor(e,r){this.config=wr(),this.validationConfig=tOe.parse(e);let o=r||this.config.aws.region;this.stsClient=new ra({region:o,maxAttempts:3})}async assumeRole(e){try{let r=eOe.parse(e);if(!this.validationConfig.allowedAccountIds.includes(r.targetAccountId))throw new Error(`Target account ${r.targetAccountId} is not in the allowed accounts list`);if(this.validationConfig.requireExternalId&&!r.externalId)throw new Error("External ID is required for cross-account role assumption");let o=`arn:aws:iam::${r.targetAccountId}:role/${r.roleName}`;y.info("Attempting cross-account role assumption",{targetAccountId:r.targetAccountId,roleArn:o,sessionName:r.sessionName,region:r.region,hasExternalId:!!r.externalId});let n=await this.getCurrentIdentity(),s=new Rp({RoleArn:o,RoleSessionName:r.sessionName,ExternalId:r.externalId,DurationSeconds:Math.min(r.durationSeconds,this.validationConfig.maxSessionDuration)}),i=await this.stsClient.send(s);if(!i.Credentials||!i.AssumedRoleUser)throw new Error("Failed to assume role: No credentials or assumed role user returned");let a={accountId:r.targetAccountId,roleArn:o,sessionName:r.sessionName,credentials:{accessKeyId:i.Credentials.AccessKeyId,secretAccessKey:i.Credentials.SecretAccessKey,sessionToken:i.Credentials.SessionToken,expiration:i.Credentials.Expiration},assumedRoleUser:{assumedRoleId:i.AssumedRoleUser.AssumedRoleId,arn:i.AssumedRoleUser.Arn}};return y.info("Cross-account role assumption successful",{sourceAccount:n.accountId,sourceArn:n.arn,targetAccountId:r.targetAccountId,assumedRoleArn:a.assumedRoleUser.arn,assumedRoleId:a.assumedRoleUser.assumedRoleId,sessionExpiration:a.credentials.expiration,correlationId:this.generateCorrelationId()}),a}catch(r){throw y.error("Cross-account role assumption failed",{error:r instanceof Error?r.message:"Unknown error",targetAccountId:e.targetAccountId,roleName:e.roleName,correlationId:this.generateCorrelationId()}),r}}async validateRole(e){try{let r={...e,durationSeconds:900,sessionName:`${e.sessionName}-validation`},o=await this.assumeRole(r);return y.info("Cross-account role validation successful",{targetAccountId:e.targetAccountId,roleName:e.roleName,assumedRoleId:o.assumedRoleUser.assumedRoleId}),{valid:!0}}catch(r){let o=r instanceof Error?r.message:"Unknown validation error";return y.warn("Cross-account role validation failed",{targetAccountId:e.targetAccountId,roleName:e.roleName,error:o}),{valid:!1,error:o}}}generateRoleArn(e,r){if(!/^\d{12}$/.test(e))throw new Error("Invalid AWS account ID format");return`arn:aws:iam::${e}:role/${r}`}generateStandardRoleName(e){let r=this.config.cloudformation.crossAccountRolePrefix;return e?`${r}-${e}`:r}async getCurrentIdentity(){try{let e=new bp({}),r=await this.stsClient.send(e);return{accountId:r.Account,arn:r.Arn,userId:r.UserId}}catch(e){throw y.error("Failed to get current AWS identity",{error:e instanceof Error?e.message:"Unknown error"}),new Error("Unable to determine current AWS identity")}}generateCorrelationId(){return`cross-account-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}isSessionValid(e){return e.credentials.expiration>new Date}getSessionTimeRemaining(e){let r=new Date,o=e.credentials.expiration;return o<=r?0:Math.floor((o.getTime()-r.getTime())/1e3)}createAssumedRoleSTSClient(e,r){let o=r||this.config.aws.region;return new ra({region:o,credentials:{accessKeyId:e.credentials.accessKeyId,secretAccessKey:e.credentials.secretAccessKey,sessionToken:e.credentials.sessionToken},maxAttempts:3})}};function rOe(t,e){let r={allowedAccountIds:t,requireExternalId:wr().stage==="prod",maxSessionDuration:3600};return new OT(r,e)}var DT=null;function sE(t,e){if(!DT){if(!t||t.length===0)throw new Error("Allowed account IDs must be provided for cross-account role manager initialization");DT=rOe(t,e)}return DT}var oOe=E.object({template_key:E.string().min(1).optional(),cross_account_config:E.object({target_account_id:E.string().regex(/^\d{12}$/,"Must be a valid 12-digit AWS account ID"),role_name:E.string().min(1),external_id:E.string().optional()}).optional(),parameters:E.array(E.object({ParameterKey:E.string(),ParameterValue:E.string()})).optional(),tags:E.array(E.object({Key:E.string(),Value:E.string()})).optional()}),PT=async(t,e)=>{try{let r=t.params.id;if(!r){H(e,"ValidationError","Cluster ID is required",t.correlationId);return}y.info("Processing cluster deployment request",{correlationId:t.correlationId,clusterId:r,requestedBy:t.context.staff_id,requestedByEmail:t.context.email});let o=oOe.safeParse(t.body||{});if(!o.success){y.warn("Cluster deployment validation failed",{correlationId:t.correlationId,clusterId:r,errors:o.error.errors}),H(e,"ValidationError","Invalid cluster deployment data",t.correlationId,{validationErrors:o.error.errors});return}let{template_key:n,cross_account_config:s,parameters:i,tags:a}=o.data,c=await se.getCluster(r,t.correlationId);if(!c.found||!c.cluster){y.warn("Cluster not found for deployment",{correlationId:t.correlationId,clusterId:r}),H(e,"NotFound","Cluster not found",t.correlationId);return}let u=c.cluster;if(u.status==="deploying"){y.warn("Cluster deployment already in progress",{correlationId:t.correlationId,clusterId:r,currentStatus:u.status}),H(e,"Conflict","Cluster deployment already in progress",t.correlationId);return}await se.updateCluster(r,{status:"deploying",deployment_status:"DEPLOYMENT_INITIATED"},t.correlationId);try{let m=wr(),f=n||`${u.type}-cluster-template.yaml`,g=await BK(m.s3.templateBucket).getTemplateInfo(f);if(!g)throw new Error(`Template not found: ${f}`);let _=`control-plane-${u.name}-${r.substring(0,8)}`,b=[{ParameterKey:"ClusterName",ParameterValue:u.name},{ParameterKey:"ClusterType",ParameterValue:u.type},{ParameterKey:"Region",ParameterValue:u.region},{ParameterKey:"CIDR",ParameterValue:u.cidr},{ParameterKey:"ClusterId",ParameterValue:u.cluster_id}],T={stackName:_,templateUrl:g.url,parameters:[...b,...i||[]],tags:[{Key:"ClusterId",Value:u.cluster_id},{Key:"ClusterName",Value:u.name},{Key:"ClusterType",Value:u.type},{Key:"ManagedBy",Value:"ControlPlaneAPI"},...a||[]],capabilities:["CAPABILITY_IAM","CAPABILITY_NAMED_IAM"],timeoutInMinutes:60},M=Sy(u.region),U;if(s){y.info("Initiating cross-account cluster deployment",{correlationId:t.correlationId,clusterId:r,targetAccountId:s.target_account_id,stackName:_});let le=sE([],u.region),Qe={targetAccountId:s.target_account_id,region:u.region,roleName:s.role_name,externalId:s.external_id,sessionName:`cluster-deployment-${r.substring(0,8)}`,durationSeconds:3600},Lt=await le.assumeRole(Qe),Mn={roleArn:Lt.roleArn,sessionName:Lt.sessionName,externalId:s.external_id};U=await M.deployStack(T,Mn)}else y.info("Initiating same-account cluster deployment",{correlationId:t.correlationId,clusterId:r,stackName:_}),U=await M.deployStack(T);await se.updateCluster(r,{status:U.status==="CREATE_FAILED"?"failed":"deploying",deployment_status:U.status,deployment_id:U.stackId},t.correlationId),y.info("Cluster deployment initiated successfully",{correlationId:t.correlationId,clusterId:r,stackId:U.stackId,stackName:_,status:U.status}),e.status(200).json({success:!0,data:{cluster_id:r,deployment_id:U.stackId,stack_name:_,status:U.status,template_url:g.url,initiated_at:new Date().toISOString()},timestamp:new Date().toISOString()})}catch(m){await se.updateCluster(r,{status:"failed",deployment_status:"DEPLOYMENT_FAILED"},t.correlationId),y.error("Cluster deployment failed",{correlationId:t.correlationId,clusterId:r,error:m instanceof Error?m.message:"Unknown deployment error"}),H(e,"InternalError",`Cluster deployment failed: ${m instanceof Error?m.message:"Unknown error"}`,t.correlationId)}}catch(r){y.error("Cluster deployment handler error",{correlationId:t.correlationId,clusterId:t.params.id,error:r instanceof Error?r.message:"Unknown error"}),H(e,"InternalError","Cluster deployment failed",t.correlationId)}};var nOe=E.object({cross_account_config:E.string().optional().transform(t=>{if(t)try{return JSON.parse(t)}catch{return}}).pipe(E.object({target_account_id:E.string().regex(/^\d{12}$/),role_name:E.string().min(1),external_id:E.string().optional()}).optional()),include_events:E.string().optional().transform(t=>t==="true")}),kT=async(t,e)=>{try{let r=t.params.id;if(!r){H(e,"ValidationError","Cluster ID is required",t.correlationId);return}y.info("Processing cluster status request",{correlationId:t.correlationId,clusterId:r,requestedBy:t.context.staff_id,requestedByEmail:t.context.email});let o=nOe.safeParse(t.query);if(!o.success){y.warn("Cluster status query validation failed",{correlationId:t.correlationId,clusterId:r,errors:o.error.errors}),H(e,"ValidationError","Invalid query parameters",t.correlationId,{validationErrors:o.error.errors});return}let{cross_account_config:n,include_events:s}=o.data,i=await se.getCluster(r,t.correlationId);if(!i.found||!i.cluster){y.warn("Cluster not found for status check",{correlationId:t.correlationId,clusterId:r}),H(e,"NotFound","Cluster not found",t.correlationId);return}let a=i.cluster;if(!a.deployment_id){y.info("Cluster status retrieved (no deployment)",{correlationId:t.correlationId,clusterId:r,status:a.status}),e.status(200).json({success:!0,data:{cluster_id:r,cluster_status:a.status,deployment_status:a.deployment_status||"NOT_DEPLOYED",deployment_id:null,stack_outputs:a.stack_outputs||{},last_updated:a.updated_at,deployed_at:a.deployed_at},timestamp:new Date().toISOString()});return}try{let c=Sy(a.region),u,m=[];if(n){y.info("Checking cross-account cluster deployment status",{correlationId:t.correlationId,clusterId:r,targetAccountId:n.target_account_id,deploymentId:a.deployment_id});let _=sE([],a.region),b={targetAccountId:n.target_account_id,region:a.region,roleName:n.role_name,externalId:n.external_id,sessionName:`status-check-${r.substring(0,8)}`,durationSeconds:3600},T=await _.assumeRole(b),M={roleArn:T.roleArn,sessionName:T.sessionName,externalId:n.external_id};u=await c.getStackStatus(a.deployment_id,M),s&&u&&(m=await c.getStackEvents(a.deployment_id,M))}else y.info("Checking same-account cluster deployment status",{correlationId:t.correlationId,clusterId:r,deploymentId:a.deployment_id}),u=await c.getStackStatus(a.deployment_id),s&&u&&(m=await c.getStackEvents(a.deployment_id));if(!u){y.warn("CloudFormation stack not found",{correlationId:t.correlationId,clusterId:r,deploymentId:a.deployment_id}),await se.updateCluster(r,{status:"failed",deployment_status:"STACK_NOT_FOUND"},t.correlationId),e.status(200).json({success:!0,data:{cluster_id:r,cluster_status:"failed",deployment_status:"STACK_NOT_FOUND",deployment_id:a.deployment_id,stack_outputs:{},last_updated:new Date().toISOString(),deployed_at:a.deployed_at,error:"CloudFormation stack not found"},timestamp:new Date().toISOString()});return}let f=a.status,h=a.deployed_at;u.status==="CREATE_COMPLETE"||u.status==="UPDATE_COMPLETE"?(f="deployed",h=h||new Date().toISOString()):u.status?.includes("FAILED")||u.status?.includes("ROLLBACK")?f="failed":u.status?.includes("IN_PROGRESS")&&(f="deploying"),(f!==a.status||u.status!==a.deployment_status||u.outputs&&JSON.stringify(u.outputs)!==JSON.stringify(a.stack_outputs))&&await se.updateCluster(r,{status:f,deployment_status:u.status,stack_outputs:u.outputs||a.stack_outputs||{},...h&&h!==a.deployed_at&&{deployed_at:h}},t.correlationId),y.info("Cluster status retrieved successfully",{correlationId:t.correlationId,clusterId:r,clusterStatus:f,deploymentStatus:u.status}),e.status(200).json({success:!0,data:{cluster_id:r,cluster_status:f,deployment_status:u.status,deployment_id:a.deployment_id,stack_outputs:u.outputs||{},last_updated:new Date().toISOString(),deployed_at:h,...s&&m.length>0&&{recent_events:m.slice(0,10).map(g=>({timestamp:g.Timestamp,resource_type:g.ResourceType,logical_resource_id:g.LogicalResourceId,resource_status:g.ResourceStatus,resource_status_reason:g.ResourceStatusReason}))}},timestamp:new Date().toISOString()})}catch(c){y.error("Failed to get CloudFormation stack status",{correlationId:t.correlationId,clusterId:r,deploymentId:a.deployment_id,error:c instanceof Error?c.message:"Unknown status error"}),e.status(200).json({success:!0,data:{cluster_id:r,cluster_status:a.status,deployment_status:a.deployment_status||"STATUS_CHECK_FAILED",deployment_id:a.deployment_id,stack_outputs:a.stack_outputs||{},last_updated:a.updated_at,deployed_at:a.deployed_at,error:`Failed to check deployment status: ${c instanceof Error?c.message:"Unknown error"}`},timestamp:new Date().toISOString()})}}catch(r){y.error("Cluster status handler error",{correlationId:t.correlationId,clusterId:t.params.id,error:r instanceof Error?r.message:"Unknown error"}),H(e,"InternalError","Failed to get cluster status",t.correlationId)}};function UK(t){t.get("/clusters",bn(),Ws,rv),t.post("/clusters",bn(),Ws,_n({body:Rf}),ov),t.post("/clusters/:id/deploy",bn(),Ws,PT),t.get("/clusters/:id/status",bn(),Ws,kT)}var ca=null;function sOe(){if(ca)return ca;y.info("Initializing Lambda function with internal routing");try{return ca=bw(),CG(ca),vG(ca),IG(ca),UK(ca),y.info("Router initialized successfully with all routes registered"),ca}catch(t){throw y.error("Failed to initialize router",{error:t}),t}}var XRt=async(t,e)=>{e.callbackWaitsForEmptyEventLoop=!1;try{let r=sOe(),o=t.requestContext?.requestId||"unknown",n=t.httpMethod||t.requestContext?.http?.method||"UNKNOWN",s=t.path||t.rawPath||"/";y.info("Processing request",{method:n,path:s,correlationId:o,coldStart:!ca});let i=await r.handle(t,e);return y.info("Request processed successfully",{statusCode:i.statusCode,correlationId:o}),i}catch(r){let o=t.requestContext?.requestId||"unknown";return y.error("Unhandled error in Lambda handler",{error:r instanceof Error?r.message:String(r),stack:r instanceof Error?r.stack:void 0,correlationId:o}),{statusCode:500,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","X-Correlation-ID":o},body:JSON.stringify({error:{code:"InternalError",message:"Internal server error",correlationId:o},timestamp:new Date().toISOString()})}}};export{XRt as handler};
//# sourceMappingURL=index.mjs.map
