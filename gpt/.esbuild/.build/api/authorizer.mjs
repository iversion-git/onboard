var BN=Object.create;var od=Object.defineProperty;var GN=Object.getOwnPropertyDescriptor;var HN=Object.getOwnPropertyNames;var VN=Object.getPrototypeOf,jN=Object.prototype.hasOwnProperty;var c=(e,t)=>()=>(e&&(t=e(e=0)),t);var ni=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Et=(e,t)=>{for(var r in t)od(e,r,{get:t[r],enumerable:!0})},WN=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of HN(t))!jN.call(e,n)&&n!==r&&od(e,n,{get:()=>t[n],enumerable:!(o=GN(t,n))||o.enumerable});return e};var zN=(e,t,r)=>(r=e!=null?BN(VN(e)):{},WN(t||!e||!e.__esModule?od(r,"default",{value:e,enumerable:!0}):r,e));var Dt,kt,dh=c(()=>{Dt=e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),kt=e=>({httpHandler:e.httpHandler()})});var lh=c(()=>{dh()});var fh=c(()=>{});var mh,hh=c(()=>{(function(e){e.HEADER="header",e.QUERY="query"})(mh||(mh={}))});var gh,yh=c(()=>{(function(e){e.HEADER="header",e.QUERY="query"})(gh||(gh={}))});var Sh=c(()=>{});var xh=c(()=>{});var Eh=c(()=>{});var _h=c(()=>{});var Th=c(()=>{hh();yh();Sh();xh();Eh();_h()});var wh=c(()=>{});var bh=c(()=>{});var Rh=c(()=>{});var vh=c(()=>{});var Ih=c(()=>{});var Ah=c(()=>{});var Ch=c(()=>{});var Ph=c(()=>{Ih();Ah();Ch()});var Oh=c(()=>{});var Nh=c(()=>{});var ls,Dh=c(()=>{(function(e){e.HTTP="http",e.HTTPS="https"})(ls||(ls={}))});var kh=c(()=>{});var $h=c(()=>{});var Mh=c(()=>{});var Lh=c(()=>{});var Uh=c(()=>{});var Fh=c(()=>{kh();$h();Mh();Lh();Uh()});var Bh=c(()=>{});var fs,Gh=c(()=>{(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(fs||(fs={}))});var Hh=c(()=>{});var Vh=c(()=>{});var jh=c(()=>{Hh();Vh();Gh()});var Wh=c(()=>{});var zh,Kh=c(()=>{(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(zh||(zh={}))});var qh=c(()=>{});var Jh=c(()=>{});var Yh=c(()=>{});var Xh=c(()=>{});var Qh=c(()=>{});var Zh=c(()=>{Jh();Yh();Xh();Qh()});var eg=c(()=>{});var ci,tg=c(()=>{ci="__smithy_context"});var rg=c(()=>{});var lo,og=c(()=>{(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(lo||(lo={}))});var ng=c(()=>{});var sg=c(()=>{});var ig=c(()=>{});var ag=c(()=>{});var cg=c(()=>{});var pg=c(()=>{});var ug=c(()=>{});var dg=c(()=>{});var lg=c(()=>{});var fg=c(()=>{});var mg=c(()=>{});var hg=c(()=>{});var gg=c(()=>{});var yg=c(()=>{});var Sg,xg=c(()=>{(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(Sg||(Sg={}))});var Eg=c(()=>{});var _g=c(()=>{});var Tg=c(()=>{});var wg=c(()=>{});var bg=c(()=>{});var Rg=c(()=>{});var vg=c(()=>{});var Lo=c(()=>{fh();Th();wh();bh();Rh();vh();Ph();Oh();Nh();Dh();Fh();Bh();jh();Wh();Kh();qh();Zh();eg();tg();rg();og();ng();sg();ig();ag();cg();pg();ug();dg();lg();fg();mg();hg();gg();yg();xg();Eg();_g();Tg();wg();bg();Rg();vg()});var Ig=c(()=>{});var Ag=c(()=>{});var Cg=c(()=>{});function nk(e){return Object.keys(e).reduce((t,r)=>{let o=e[r];return{...t,[r]:Array.isArray(o)?[...o]:o}},{})}var J,Pg=c(()=>{J=class e{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new e({...t,headers:{...t.headers}});return r.query&&(r.query=nk(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return e.clone(this)}}});var $t,Og=c(()=>{$t=class{statusCode;reason;headers;body;constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}}});var Ng=c(()=>{});var Dg=c(()=>{});var ue=c(()=>{lh();Ig();Ag();Cg();Pg();Og();Ng();Dg()});var sk,ik,Mt,Cn=c(()=>{ue();sk=e=>t=>async r=>{if(!J.isInstance(r.request))return t(r);let{request:o}=r,{handlerProtocol:n=""}=e.requestHandler.metadata||{};if(n.indexOf("h2")>=0&&!o.headers[":authority"])delete o.headers.host,o.headers[":authority"]=o.hostname+(o.port?":"+o.port:"");else if(!o.headers.host){let s=o.hostname;o.port!=null&&(s+=`:${o.port}`),o.headers.host=s}return t(r)},ik={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Mt=e=>({applyToStack:t=>{t.add(sk(e),ik)}})});var ak,ck,Lt,kg=c(()=>{ak=()=>(e,t)=>async r=>{try{let o=await e(r),{clientName:n,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:p,overrideOutputFilterSensitiveLog:u}=a,d=p??t.inputFilterSensitiveLog,l=u??t.outputFilterSensitiveLog,{$metadata:m,...f}=o.output;return i?.info?.({clientName:n,commandName:s,input:d(r.input),output:l(f),metadata:m}),o}catch(o){let{clientName:n,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:p}=a,u=p??t.inputFilterSensitiveLog;throw i?.error?.({clientName:n,commandName:s,input:u(r.input),error:o,metadata:o.$metadata}),o}},ck={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Lt=e=>({applyToStack:t=>{t.add(ak(),ck)}})});var Pn=c(()=>{kg()});var $g,Mg=c(()=>{$g={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"}});var pi,ad,Da,cd,pd,ka,Lg=c(()=>{pi={REQUEST_ID:Symbol.for("_AWS_LAMBDA_REQUEST_ID"),X_RAY_TRACE_ID:Symbol.for("_AWS_LAMBDA_X_RAY_TRACE_ID"),TENANT_ID:Symbol.for("_AWS_LAMBDA_TENANT_ID")},ad=["true","1"].includes(process.env?.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA??"");ad||(globalThis.awslambda=globalThis.awslambda||{});Da=class{static PROTECTED_KEYS=pi;isProtectedKey(t){return Object.values(pi).includes(t)}getRequestId(){return this.get(pi.REQUEST_ID)??"-"}getXRayTraceId(){return this.get(pi.X_RAY_TRACE_ID)}getTenantId(){return this.get(pi.TENANT_ID)}},cd=class extends Da{currentContext;getContext(){return this.currentContext}hasContext(){return this.currentContext!==void 0}get(t){return this.currentContext?.[t]}set(t,r){if(this.isProtectedKey(t))throw new Error(`Cannot modify protected Lambda context field: ${String(t)}`);this.currentContext=this.currentContext||{},this.currentContext[t]=r}run(t,r){return this.currentContext=t,r()}},pd=class e extends Da{als;static async create(){let t=new e,r=await import("node:async_hooks");return t.als=new r.AsyncLocalStorage,t}getContext(){return this.als.getStore()}hasContext(){return this.als.getStore()!==void 0}get(t){return this.als.getStore()?.[t]}set(t,r){if(this.isProtectedKey(t))throw new Error(`Cannot modify protected Lambda context field: ${String(t)}`);let o=this.als.getStore();if(!o)throw new Error("No context available");o[t]=r}run(t,r){return this.als.run(t,r)}};(function(e){let t=null;async function r(){return t||(t=(async()=>{let n="AWS_LAMBDA_MAX_CONCURRENCY"in process.env?await pd.create():new cd;return!ad&&globalThis.awslambda?.InvokeStore?globalThis.awslambda.InvokeStore:(!ad&&globalThis.awslambda&&(globalThis.awslambda.InvokeStore=n),n)})()),t}e.getInstanceAsync=r,e._testing=process.env.AWS_LAMBDA_BENCHMARK_MODE==="1"?{reset:()=>{t=null,globalThis.awslambda?.InvokeStore&&delete globalThis.awslambda.InvokeStore,globalThis.awslambda={}}}:void 0})(ka||(ka={}))});var ud,pk,uk,Ug,dd=c(()=>{Lg();ue();ud="X-Amzn-Trace-Id",pk="AWS_LAMBDA_FUNCTION_NAME",uk="_X_AMZN_TRACE_ID",Ug=()=>e=>async t=>{let{request:r}=t;if(!J.isInstance(r))return e(t);let o=Object.keys(r.headers??{}).find(d=>d.toLowerCase()===ud.toLowerCase())??ud;if(r.headers.hasOwnProperty(o))return e(t);let n=process.env[pk],s=process.env[uk],p=(await ka.getInstanceAsync())?.getXRayTraceId()??s,u=d=>typeof d=="string"&&d.length>0;return u(n)&&u(p)&&(r.headers[ud]=p),e({...t,request:r})}});var Ut,Fg=c(()=>{Mg();dd();Ut=e=>({applyToStack:t=>{t.add(Ug(),$g)}})});var On=c(()=>{Fg();dd()});var Bg=c(()=>{});var fe,Gg=c(()=>{Lo();fe=e=>e[ci]||(e[ci]={})});var Y,Hg=c(()=>{Y=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});var Ge=c(()=>{Gg();Hg()});var Vg,jg=c(()=>{Vg=(e,t)=>{if(!t||t.length===0)return e;let r=[];for(let o of t)for(let n of e)n.schemeId.split("#")[1]===o&&r.push(n);for(let o of e)r.find(({schemeId:n})=>n===o.schemeId)||r.push(o);return r}});function dk(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var Wg,ld=c(()=>{Ge();jg();Wg=(e,t)=>(r,o)=>async n=>{let s=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,o,n.input)),i=e.authSchemePreference?await e.authSchemePreference():[],a=Vg(s,i),p=dk(e.httpAuthSchemes),u=fe(o),d=[];for(let l of a){let m=p.get(l.schemeId);if(!m){d.push(`HttpAuthScheme \`${l.schemeId}\` was not enabled for this service.`);continue}let f=m.identityProvider(await t.identityProviderConfigProvider(e));if(!f){d.push(`HttpAuthScheme \`${l.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:h={},signingProperties:g={}}=l.propertiesExtractor?.(e,o)||{};l.identityProperties=Object.assign(l.identityProperties||{},h),l.signingProperties=Object.assign(l.signingProperties||{},g),u.selectedHttpAuthScheme={httpAuthOption:l,identity:await f(l.identityProperties),signer:m.signer};break}if(!u.selectedHttpAuthScheme)throw new Error(d.join(`
`));return r(n)}});var lk,Ft,zg=c(()=>{ld();lk={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},Ft=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:o=>{o.addRelativeTo(Wg(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),lk)}})});var Kg=c(()=>{});var qg=c(()=>{});var $a,Jg=c(()=>{$a={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var fd=c(()=>{Kg();Jg();qg()});var Jj,Yg=c(()=>{fd();Jj={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:$a.name}});var Xg=c(()=>{ld();zg();Yg()});var fk,mk,Qg,md=c(()=>{ue();Ge();fk=e=>t=>{throw t},mk=(e,t)=>{},Qg=e=>(t,r)=>async o=>{if(!J.isInstance(o.request))return t(o);let s=fe(r).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:a,signer:p}=s,u=await t({...o,request:await p.sign(o.request,a,i)}).catch((p.errorHandler||fk)(i));return(p.successHandler||mk)(u.response,i),u}});var hk,Bt,Zg=c(()=>{md();hk={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},Bt=e=>({applyToStack:t=>{t.addRelativeTo(Qg(e),hk)}})});var ey=c(()=>{md();Zg()});var Nn,ty=c(()=>{Nn=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function ui(e,t,r,o,n){return async function*(i,a,...p){let u=a,d=i.startingToken??u[r],l=!0,m;for(;l;){if(u[r]=d,n&&(u[n]=u[n]??i.pageSize),i.client instanceof e)m=await gk(t,i.client,a,i.withCommand,...p);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield m;let f=d;d=yk(m,o),l=!!(d&&(!i.stopOnSameToken||d!==f))}return void 0}}var gk,yk,ry=c(()=>{gk=async(e,t,r,o=s=>s,...n)=>{let s=new e(r);return s=o(s)??s,await t.send(s,...n)};yk=(e,t)=>{let r=e,o=t.split(".");for(let n of o){if(!r||typeof r!="object")return;r=r[n]}return r}});var Ma,hd=c(()=>{Ma=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]"});import{Buffer as gd}from"buffer";var fo,ms,Dn=c(()=>{hd();fo=(e,t=0,r=e.byteLength-t)=>{if(!Ma(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return gd.from(e,t,r)},ms=(e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?gd.from(e,t):gd.from(e)}});var Sk,le,oy=c(()=>{Dn();Sk=/^[A-Za-z0-9+/]*={0,2}$/,le=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!Sk.exec(e))throw new TypeError("Invalid base64 string.");let t=ms(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}});var ce,yd=c(()=>{Dn();ce=e=>{let t=ms(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)}});var Nr,ny=c(()=>{yd();Nr=e=>typeof e=="string"?ce(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)});var ie,sy=c(()=>{Dn();ie=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return fo(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}});var ge=c(()=>{yd();ny();sy()});var ae,iy=c(()=>{Dn();ge();ae=e=>{let t;if(typeof e=="string"?t=ce(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return fo(t.buffer,t.byteOffset,t.byteLength).toString("base64")}});var He=c(()=>{oy();iy()});var hs,ay=c(()=>{He();ge();hs=class e extends Uint8Array{static fromString(t,r="utf-8"){if(typeof t=="string")return r==="base64"?e.mutate(le(t)):e.mutate(ce(t));throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}static mutate(t){return Object.setPrototypeOf(t,e.prototype),t}transformToString(t="utf-8"){return t==="base64"?ae(this):ie(this)}}});var cy=c(()=>{});var Sd,xd=c(()=>{Sd=e=>typeof ReadableStream=="function"&&(e?.constructor?.name===ReadableStream.name||e instanceof ReadableStream)});var py=c(()=>{});var uy=c(()=>{});var dy=c(()=>{});var ly=c(()=>{});var Vr,xk,fy=c(()=>{Vr=e=>encodeURIComponent(e).replace(/[!'()*]/g,xk),xk=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`});var my=c(()=>{});var La=c(()=>{fy();my()});function hy(e){let t=[];for(let r of Object.keys(e).sort()){let o=e[r];if(r=Vr(r),Array.isArray(o))for(let n=0,s=o.length;n<s;n++)t.push(`${r}=${Vr(o[n])}`);else{let n=r;(o||typeof o=="string")&&(n+=`=${Vr(o)}`),t.push(n)}}return t.join("&")}var gy=c(()=>{La()});var yy,Sy=c(()=>{yy=["ECONNRESET","EPIPE","ETIMEDOUT"]});var xy,Ey=c(()=>{xy=e=>{let t={};for(let r of Object.keys(e)){let o=e[r];t[r]=Array.isArray(o)?o.join(","):o}return t}});var ye,kn=c(()=>{ye={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)}});var _y,Ty,wy=c(()=>{kn();_y=1e3,Ty=(e,t,r=0)=>{if(!r)return-1;let o=n=>{let s=ye.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`@smithy/node-http-handler - the request socket did not establish a connection with the server within the configured timeout of ${r} ms.`),{name:"TimeoutError"}))},r-n),i=a=>{a?.connecting?a.on("connect",()=>{ye.clearTimeout(s)}):ye.clearTimeout(s)};e.socket?i(e.socket):e.on("socket",i)};return r<2e3?(o(0),0):ye.setTimeout(o.bind(null,_y),_y)}});var by,Ry=c(()=>{kn();by=(e,t,r=0,o,n)=>r?ye.setTimeout(()=>{let s=`@smithy/node-http-handler - [${o?"ERROR":"WARN"}] a request has exceeded the configured ${r} ms requestTimeout.`;if(o){let i=Object.assign(new Error(s),{name:"TimeoutError",code:"ETIMEDOUT"});e.destroy(i),t(i)}else s+=" Init client requestHandler with throwOnRequestTimeout=true to turn this into an error.",n?.warn?.(s)},r):-1});var Ek,vy,Iy=c(()=>{kn();Ek=3e3,vy=(e,{keepAlive:t,keepAliveMsecs:r},o=Ek)=>{if(t!==!0)return-1;let n=()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",s=>{s.setKeepAlive(t,r||0)})};return o===0?(n(),0):ye.setTimeout(n,o)}});var Ay,Cy,Py=c(()=>{kn();Ay=3e3,Cy=(e,t,r=0)=>{let o=n=>{let s=r-n,i=()=>{e.destroy(),t(Object.assign(new Error(`@smithy/node-http-handler - the request socket timed out after ${r} ms of inactivity (configured by client requestHandler).`),{name:"TimeoutError"}))};e.socket?(e.socket.setTimeout(s,i),e.on("close",()=>e.socket?.removeListener("timeout",i))):e.setTimeout(s,i)};return 0<r&&r<6e3?(o(0),0):ye.setTimeout(o.bind(null,r===0?0:Ay),Ay)}});import{Readable as _k}from"stream";async function Ny(e,t,r=Oy,o=!1){let n=t.headers??{},s=n.Expect||n.expect,i=-1,a=!0;!o&&s==="100-continue"&&(a=await Promise.race([new Promise(p=>{i=Number(ye.setTimeout(()=>p(!0),Math.max(Oy,r)))}),new Promise(p=>{e.on("continue",()=>{ye.clearTimeout(i),p(!0)}),e.on("response",()=>{ye.clearTimeout(i),p(!1)}),e.on("error",()=>{ye.clearTimeout(i),p(!1)})})])),a&&Tk(e,t.body)}function Tk(e,t){if(t instanceof _k){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}var Oy,Dy=c(()=>{kn();Oy=6e3});import{Agent as Ed,request as wk}from"http";import{Agent as _d,request as bk}from"https";var Ve,ky=c(()=>{ue();gy();Sy();Ey();wy();Ry();Iy();Py();kn();Dy();Ve=class e{config;configProvider;socketWarningTimestamp=0;externalAgent=!1;metadata={handlerProtocol:"http/1.1"};static create(t){return typeof t?.handle=="function"?t:new e(t)}static checkSocketUsage(t,r,o=console){let{sockets:n,requests:s,maxSockets:i}=t;if(typeof i!="number"||i===1/0||Date.now()-15e3<r)return r;if(n&&s)for(let p in n){let u=n[p]?.length??0,d=s[p]?.length??0;if(u>=i&&d>=2*i)return o?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${u} and ${d} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}constructor(t){this.configProvider=new Promise((r,o)=>{typeof t=="function"?t().then(n=>{r(this.resolveDefaultConfig(n))}).catch(o):r(this.resolveDefaultConfig(t))})}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:o,socketTimeout:n,socketAcquisitionWarningTimeout:s,httpAgent:i,httpsAgent:a,throwOnRequestTimeout:p}=t||{},u=!0,d=50;return{connectionTimeout:o,requestTimeout:r,socketTimeout:n,socketAcquisitionWarningTimeout:s,throwOnRequestTimeout:p,httpAgent:i instanceof Ed||typeof i?.destroy=="function"?(this.externalAgent=!0,i):new Ed({keepAlive:u,maxSockets:d,...i}),httpsAgent:a instanceof _d||typeof a?.destroy=="function"?(this.externalAgent=!0,a):new _d({keepAlive:u,maxSockets:d,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:r,requestTimeout:o}={}){return this.config||(this.config=await this.configProvider),new Promise((n,s)=>{let i=this.config,a,p=[],u=async se=>{await a,p.forEach(ye.clearTimeout),n(se)},d=async se=>{await a,p.forEach(ye.clearTimeout),s(se)};if(r?.aborted){let se=new Error("Request aborted");se.name="AbortError",d(se);return}let l=t.protocol==="https:",m=t.headers??{},f=(m.Expect??m.expect)==="100-continue",h=l?i.httpsAgent:i.httpAgent;f&&!this.externalAgent&&(h=new(l?_d:Ed)({keepAlive:!1,maxSockets:1/0})),p.push(ye.setTimeout(()=>{this.socketWarningTimestamp=e.checkSocketUsage(h,this.socketWarningTimestamp,i.logger)},i.socketAcquisitionWarningTimeout??(i.requestTimeout??2e3)+(i.connectionTimeout??1e3)));let g=hy(t.query||{}),y;if(t.username!=null||t.password!=null){let se=t.username??"",At=t.password??"";y=`${se}:${At}`}let _=t.path;g&&(_+=`?${g}`),t.fragment&&(_+=`#${t.fragment}`);let R=t.hostname??"";R[0]==="["&&R.endsWith("]")?R=t.hostname.slice(1,-1):R=t.hostname;let z={headers:t.headers,host:R,method:t.method,path:_,port:t.port,agent:h,auth:y},Te=(l?bk:wk)(z,se=>{let At=new $t({statusCode:se.statusCode||-1,reason:se.statusMessage,headers:xy(se.headers),body:se});u({response:At})});if(Te.on("error",se=>{yy.includes(se.code)?d(Object.assign(se,{name:"TimeoutError"})):d(se)}),r){let se=()=>{Te.destroy();let At=new Error("Request aborted");At.name="AbortError",d(At)};if(typeof r.addEventListener=="function"){let At=r;At.addEventListener("abort",se,{once:!0}),Te.once("close",()=>At.removeEventListener("abort",se))}else r.onabort=se}let Pe=o??i.requestTimeout;p.push(Ty(Te,d,i.connectionTimeout)),p.push(by(Te,d,Pe,i.throwOnRequestTimeout,i.logger??console)),p.push(Cy(Te,d,i.socketTimeout));let dn=z.agent;typeof dn=="object"&&"keepAlive"in dn&&p.push(vy(Te,{keepAlive:dn.keepAlive,keepAliveMsecs:dn.keepAliveMsecs})),a=Ny(Te,t,Pe,this.externalAgent).catch(se=>(p.forEach(ye.clearTimeout),s(se)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(o=>({...o,[t]:r}))}httpHandlerConfigs(){return this.config??{}}}});var $y=c(()=>{});import{Writable as Rk}from"stream";var Ua,My=c(()=>{Ua=class extends Rk{bufferedBytes=[];_write(t,r,o){this.bufferedBytes.push(t),o()}}});async function Ik(e){let t=[],r=e.getReader(),o=!1,n=0;for(;!o;){let{done:a,value:p}=await r.read();p&&(t.push(p),n+=p.length),o=a}let s=new Uint8Array(n),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}var st,vk,Ly=c(()=>{My();st=e=>vk(e)?Ik(e):new Promise((t,r)=>{let o=new Ua;e.pipe(o),e.on("error",n=>{o.end(),r(n)}),o.on("error",r),o.on("finish",function(){let n=new Uint8Array(Buffer.concat(this.bufferedBytes));t(n)})}),vk=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream});var mo=c(()=>{ky();$y();Ly()});var Uy=c(()=>{});async function Ak(e){let t=await Pk(e),r=le(t);return new Uint8Array(r)}async function Ck(e){let t=[],r=e.getReader(),o=!1,n=0;for(;!o;){let{done:a,value:p}=await r.read();p&&(t.push(p),n+=p.length),o=a}let s=new Uint8Array(n),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}function Pk(e){return new Promise((t,r)=>{let o=new FileReader;o.onloadend=()=>{if(o.readyState!==2)return r(new Error("Reader aborted too early"));let n=o.result??"",s=n.indexOf(","),i=s>-1?s+1:n.length;t(n.substring(i))},o.onabort=()=>r(new Error("Read aborted")),o.onerror=()=>r(o.error),o.readAsDataURL(e)})}var Fy,By=c(()=>{He();Fy=async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):Ak(e):Ck(e)});var Gy=c(()=>{Uy();By()});function Vy(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let o=e.slice(r,r+2).toLowerCase();if(o in Td)t[r/2]=Td[o];else throw new Error(`Cannot decode unrecognized sequence ${o} as hexadecimal`)}return t}function it(e){let t="";for(let r=0;r<e.byteLength;r++)t+=Hy[e[r]];return t}var Hy,Td,$n=c(()=>{Hy={},Td={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),Hy[e]=t,Td[t]=e}});var jy,zy,Wy,Ky=c(()=>{Gy();He();$n();ge();xd();jy="The stream has already been transformed.",zy=e=>{if(!Wy(e)&&!Sd(e)){let n=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${n}`)}let t=!1,r=async()=>{if(t)throw new Error(jy);return t=!0,await Fy(e)},o=n=>{if(typeof n.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return n.stream()};return Object.assign(e,{transformToByteArray:r,transformToString:async n=>{let s=await r();if(n==="base64")return ae(s);if(n==="hex")return it(s);if(n===void 0||n==="utf8"||n==="utf-8")return ie(s);if(typeof TextDecoder=="function")return new TextDecoder(n).decode(s);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(t)throw new Error(jy);if(t=!0,Wy(e))return o(e);if(Sd(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})},Wy=e=>typeof Blob=="function"&&e instanceof Blob});import{Readable as wd}from"stream";var qy,Fa,Jy=c(()=>{mo();Dn();Ky();qy="The stream has already been transformed.",Fa=e=>{if(!(e instanceof wd))try{return zy(e)}catch{let n=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${n}`)}let t=!1,r=async()=>{if(t)throw new Error(qy);return t=!0,await st(e)};return Object.assign(e,{transformToByteArray:r,transformToString:async o=>{let n=await r();return o===void 0||Buffer.isEncoding(o)?fo(n.buffer,n.byteOffset,n.byteLength).toString(o):new TextDecoder(o).decode(n)},transformToWebStream:()=>{if(t)throw new Error(qy);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof wd.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return t=!0,wd.toWeb(e)}})}});var Yy=c(()=>{});var Ba=c(()=>{ay();cy();py();uy();dy();ly();Jy();Yy();xd()});var at,Ga=c(()=>{Ba();at=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return hs.mutate(e);if(!e)return hs.mutate(new Uint8Array);let r=t.streamCollector(e);return hs.mutate(await r)}});function gs(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var bd=c(()=>{});var Uo,Rd=c(()=>{Uo=e=>typeof e=="function"?e():e});var Ha,Va=c(()=>{Ha=(e,t,r,o,n)=>({name:t,namespace:e,traits:r,input:o,output:n})});var Xy,vd,Qy=c(()=>{ue();Ge();Va();Xy=e=>(t,r)=>async o=>{let{response:n}=await t(o),{operationSchema:s}=fe(r),[,i,a,p,u,d]=s??[];try{let l=await e.protocol.deserializeResponse(Ha(i,a,p,u,d),{...e,...r},n);return{response:n,output:l}}catch(l){if(Object.defineProperty(l,"$response",{value:n,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in l)){let m="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{l.message+=`
  `+m}catch{!r.logger||r.logger?.constructor?.name==="NoOpLogger"?console.warn(m):r.logger?.warn?.(m)}typeof l.$responseBodyText<"u"&&l.$response&&(l.$response.body=l.$responseBodyText);try{if($t.isInstance(n)){let{headers:f={}}=n,h=Object.entries(f);l.$metadata={httpStatusCode:n.statusCode,requestId:vd(/^x-[\w-]+-request-?id$/,h),extendedRequestId:vd(/^x-[\w-]+-id-2$/,h),cfId:vd(/^x-[\w-]+-cf-id$/,h)}}}catch{}}throw l}},vd=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1]});var Zy,eS=c(()=>{Ge();Va();Zy=e=>(t,r)=>async o=>{let{operationSchema:n}=fe(r),[,s,i,a,p,u]=n??[],d=r.endpointV2?.url&&e.urlParser?async()=>e.urlParser(r.endpointV2.url):e.endpoint,l=await e.protocol.serializeRequest(Ha(s,i,a,p,u),o.input,{...e,...r,endpoint:d});return t({...o,request:l})}});function Gt(e){return{applyToStack:t=>{t.add(Zy(e),Nk),t.add(Xy(e),Ok),e.protocol.setSerdeContext(e)}}}var Ok,Nk,tS=c(()=>{Qy();eS();Ok={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Nk={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var Ht,Mn=c(()=>{Ht=class{name;namespace;traits;static assign(t,r){return Object.assign(t,r)}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}getName(){return this.namespace+"#"+this.name}}});var rS,oS=c(()=>{Mn();rS=class e extends Ht{static symbol=Symbol.for("@smithy/lis");name;traits;valueSchema;symbol=e.symbol}});var nS,sS=c(()=>{Mn();nS=class e extends Ht{static symbol=Symbol.for("@smithy/map");name;traits;keySchema;valueSchema;symbol=e.symbol}});var iS,aS=c(()=>{Mn();iS=class e extends Ht{static symbol=Symbol.for("@smithy/ope");name;traits;input;output;symbol=e.symbol}});var ja,Id=c(()=>{Mn();ja=class e extends Ht{static symbol=Symbol.for("@smithy/str");name;traits;memberNames;memberList;symbol=e.symbol}});var cS,pS=c(()=>{Id();cS=class e extends ja{static symbol=Symbol.for("@smithy/err");ctor;symbol=e.symbol}});function ho(e){if(typeof e=="object")return e;e=e|0;let t={},r=0;for(let o of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(e>>r++&1)===1&&(t[o]=1);return t}var Ad=c(()=>{});function di(e,t){if(e instanceof N)return Object.assign(e,{memberName:t,_isMemberSchema:!0});let r=N;return new r(e,t)}var N,Cd,Dk,uS=c(()=>{Rd();Ad();N=class e{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=e.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(t,r){this.ref=t,this.memberName=r;let o=[],n=t,s=t;for(this._isMemberSchema=!1;Cd(n);)o.push(n[1]),n=n[0],s=Uo(n),this._isMemberSchema=!0;if(o.length>0){this.memberTraits={};for(let i=o.length-1;i>=0;--i){let a=o[i];Object.assign(this.memberTraits,ho(a))}}else this.memberTraits=0;if(s instanceof e){let i=this.memberTraits;Object.assign(this,s),this.memberTraits=Object.assign({},i,s.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=r??s.memberName;return}if(this.schema=Uo(s),Dk(this.schema)?(this.name=`${this.schema[1]}#${this.schema[2]}`,this.traits=this.schema[3]):(this.name=this.memberName??String(s),this.traits=0),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}static of(t){let r=Uo(t);if(r instanceof e)return r;if(Cd(r)){let[o,n]=r;if(o instanceof e)return Object.assign(o.getMergedTraits(),ho(n)),o;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(t,null,2)}.`)}return new e(r)}getSchema(){let t=this.schema;return t[0]===0?t[4]:t}getName(t=!1){let{name:r}=this;return!t&&r&&r.includes("#")?r.split("#")[1]:r||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=64&&t<128:t[0]===1}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=128&&t<=255:t[0]===2}isStructSchema(){let r=this.getSchema()[0];return r===3||r===-3||r===4}isUnionSchema(){return this.getSchema()[0]===4}isBlobSchema(){let t=this.getSchema();return t===21||t===42}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=4&&t<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){let{streaming:t}=this.getMergedTraits();return!!t||this.getSchema()===42}isIdempotencyToken(){let t=s=>(s&4)===4||!!s?.idempotencyToken,{normalizedTraits:r,traits:o,memberTraits:n}=this;return t(r)||t(o)||t(n)}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return ho(this.memberTraits)}getOwnTraits(){return ho(this.traits)}getKeySchema(){let[t,r]=[this.isDocumentSchema(),this.isMapSchema()];if(!t&&!r)throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let o=this.getSchema(),n=t?15:o[4]??0;return di([n,0],"key")}getValueSchema(){let t=this.getSchema(),[r,o,n]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],s=typeof t=="number"?63&t:t&&typeof t=="object"&&(o||n)?t[3+t[0]]:r?15:void 0;if(s!=null)return di([s,0],o?"value":"member");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(t){let r=this.getSchema();if(this.isStructSchema()&&r[4].includes(t)){let o=r[4].indexOf(t),n=r[5][o];return di(Cd(n)?n:[n,0],t)}if(this.isDocumentSchema())return di([15,0],t);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${t}.`)}getMemberSchemas(){let t={};try{for(let[r,o]of this.structIterator())t[r]=o}catch{}return t}getEventStreamMember(){if(this.isStructSchema()){for(let[t,r]of this.structIterator())if(r.isStreaming()&&r.isStructSchema())return t}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");let t=this.getSchema();for(let r=0;r<t[4].length;++r)yield[t[4][r],di([t[5][r],0],t[4][r])]}};Cd=e=>Array.isArray(e)&&e.length===2,Dk=e=>Array.isArray(e)&&e.length>=5});var dS,lS=c(()=>{Mn();dS=class e extends Ht{static symbol=Symbol.for("@smithy/sim");name;schemaRef;traits;symbol=e.symbol}});var fS=c(()=>{});var x,mS=c(()=>{x=class e{namespace;schemas;exceptions;static registries=new Map;constructor(t,r=new Map,o=new Map){this.namespace=t,this.schemas=r,this.exceptions=o}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}register(t,r){let o=this.normalizeShapeId(t);e.for(o.split("#")[0]).schemas.set(o,r)}getSchema(t){let r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}registerError(t,r){let o=t,n=e.for(o[1]);n.schemas.set(o[1]+"#"+o[2],o),n.exceptions.set(o,r)}getErrorCtor(t){let r=t;return e.for(r[1]).exceptions.get(r)}getBaseException(){for(let t of this.exceptions.keys())if(Array.isArray(t)){let[,r,o]=t,n=r+"#"+o;if(n.startsWith("smithy.ts.sdk.synthetic.")&&n.endsWith("ServiceException"))return t}}find(t){return[...this.schemas.values()].find(t)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}}});var K=c(()=>{Rd();tS();oS();sS();aS();Va();pS();uS();Mn();lS();Id();fS();Ad();mS()});var hS=c(()=>{});var Pd,kk,gS,$k,yS,SS,xS,Mk,ES,_S,Lk,Wa,ys,TS,Uk,Fk,Od=c(()=>{Pd=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&Fk.warn(Uk(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},kk=Math.ceil(34028234663852886e22),gS=e=>{let t=Pd(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>kk)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},$k=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},yS=e=>xS(e,16),SS=e=>xS(e,8),xS=(e,t)=>{let r=$k(e);if(r!==void 0&&Mk(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},Mk=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},ES=e=>Pd(typeof e=="string"?Wa(e):e),_S=e=>gS(typeof e=="string"?Wa(e):e),Lk=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Wa=e=>{let t=e.match(Lk);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},ys=e=>yS(typeof e=="string"?Wa(e):e),TS=e=>SS(typeof e=="string"?Wa(e):e),Uk=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),Fk={warn:console.warn}});function xs(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),o=e.getUTCDay(),n=e.getUTCDate(),s=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),p=n<10?`0${n}`:`${n}`,u=s<10?`0${s}`:`${s}`,d=i<10?`0${i}`:`${i}`,l=a<10?`0${a}`:`${a}`;return`${Bk[o]}, ${p} ${Dd[r]} ${t} ${u}:${d}:${l} GMT`}var Bk,Dd,Gk,wS,Hk,bS,Vk,jk,Wk,RS,vS,li,zk,Kk,qk,Nd,Jk,Yk,Xk,jr,Qk,Zk,Ss,IS=c(()=>{Od();Bk=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Dd=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];Gk=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),wS=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=Gk.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,o,n,s,i,a,p,u]=t,d=ys(Ss(o)),l=jr(n,"month",1,12),m=jr(s,"day",1,31);return li(d,l,m,{hours:i,minutes:a,seconds:p,fractionalMilliseconds:u})},Hk=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),bS=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=Hk.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,o,n,s,i,a,p,u,d]=t,l=ys(Ss(o)),m=jr(n,"month",1,12),f=jr(s,"day",1,31),h=li(l,m,f,{hours:i,minutes:a,seconds:p,fractionalMilliseconds:u});return d.toUpperCase()!="Z"&&h.setTime(h.getTime()-Zk(d)),h},Vk=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),jk=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Wk=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),RS=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=Vk.exec(e);if(t){let[r,o,n,s,i,a,p,u]=t;return li(ys(Ss(s)),Nd(n),jr(o,"day",1,31),{hours:i,minutes:a,seconds:p,fractionalMilliseconds:u})}if(t=jk.exec(e),t){let[r,o,n,s,i,a,p,u]=t;return qk(li(zk(s),Nd(n),jr(o,"day",1,31),{hours:i,minutes:a,seconds:p,fractionalMilliseconds:u}))}if(t=Wk.exec(e),t){let[r,o,n,s,i,a,p,u]=t;return li(ys(Ss(u)),Nd(o),jr(n.trimLeft(),"day",1,31),{hours:s,minutes:i,seconds:a,fractionalMilliseconds:p})}throw new TypeError("Invalid RFC-7231 date-time value")},vS=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=ES(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},li=(e,t,r,o)=>{let n=t-1;return Yk(e,n,r),new Date(Date.UTC(e,n,r,jr(o.hours,"hour",0,23),jr(o.minutes,"minute",0,59),jr(o.seconds,"seconds",0,60),Qk(o.fractionalMilliseconds)))},zk=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+ys(Ss(e));return r<t?r+100:r},Kk=50*365*24*60*60*1e3,qk=e=>e.getTime()-new Date().getTime()>Kk?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,Nd=e=>{let t=Dd.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},Jk=[31,28,31,30,31,30,31,31,30,31,30,31],Yk=(e,t,r)=>{let o=Jk[t];if(t===1&&Xk(e)&&(o=29),r>o)throw new TypeError(`Invalid day for ${Dd[t]} in ${e}: ${r}`)},Xk=e=>e%4===0&&(e%100!==0||e%400===0),jr=(e,t,r,o)=>{let n=TS(Ss(e));if(n<r||n>o)throw new TypeError(`${t} must be between ${r} and ${o}, inclusive`);return n},Qk=e=>e==null?0:_S("0."+e)*1e3,Zk=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let o=Number(e.substring(1,3)),n=Number(e.substring(4,6));return r*(o*60+n)*60*1e3},Ss=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});import AS from"crypto";var kd,CS=c(()=>{kd=AS.randomUUID.bind(AS)});var je,go,PS=c(()=>{CS();je=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0")),go=()=>{if(kd)return kd();let e=new Uint8Array(16);return crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128,je[e[0]]+je[e[1]]+je[e[2]]+je[e[3]]+"-"+je[e[4]]+je[e[5]]+"-"+je[e[6]]+je[e[7]]+"-"+je[e[8]]+je[e[9]]+"-"+je[e[10]]+je[e[11]]+je[e[12]]+je[e[13]]+je[e[14]]+je[e[15]]}});var $d=c(()=>{PS()});var OS=c(()=>{$d()});var ct,NS=c(()=>{ct=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};ct.from=e=>e&&typeof e=="object"&&(e instanceof ct||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?ct(String(e)):ct(JSON.stringify(e));ct.fromObject=ct.from});function DS(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var kS=c(()=>{});function yo(e,t,r){let o=Number(e);if(o<t||o>r)throw new Error(`Value ${o} out of range [${t}, ${r}]`)}var Md,Ld,Ud,$S,MS,e$,t$,r$,o$,n$,LS,US,FS,BS=c(()=>{Md="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",Ld="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",Ud="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",$S="(\\d?\\d)",MS="(\\d{4})",e$=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),t$=new RegExp(`^${Md}, ${$S} ${Ld} ${MS} ${Ud} GMT$`),r$=new RegExp(`^${Md}, ${$S}-${Ld}-(\\d\\d) ${Ud} GMT$`),o$=new RegExp(`^${Md} ${Ld} ( [1-9]|\\d\\d) ${Ud} ${MS}$`),n$=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],LS=e=>{if(e==null)return;let t=NaN;if(typeof e=="number")t=e;else if(typeof e=="string"){if(!/^-?\d*\.?\d+$/.test(e))throw new TypeError("parseEpochTimestamp - numeric string invalid.");t=Number.parseFloat(e)}else typeof e=="object"&&e.tag===1&&(t=e.value);if(isNaN(t)||Math.abs(t)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(t*1e3))},US=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC3339 timestamps must be strings");let t=e$.exec(e);if(!t)throw new TypeError(`Invalid RFC3339 timestamp format ${e}`);let[,r,o,n,s,i,a,,p,u]=t;yo(o,1,12),yo(n,1,31),yo(s,0,23),yo(i,0,59),yo(a,0,60);let d=new Date(Date.UTC(Number(r),Number(o)-1,Number(n),Number(s),Number(i),Number(a),Number(p)?Math.round(parseFloat(`0.${p}`)*1e3):0));if(d.setUTCFullYear(Number(r)),u.toUpperCase()!="Z"){let[,l,m,f]=/([+-])(\d\d):(\d\d)/.exec(u)||[void 0,"+",0,0],h=l==="-"?1:-1;d.setTime(d.getTime()+h*(Number(m)*60*60*1e3+Number(f)*60*1e3))}return d},FS=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC7231 timestamps must be strings.");let t,r,o,n,s,i,a,p;if((p=t$.exec(e))?[,t,r,o,n,s,i,a]=p:(p=r$.exec(e))?([,t,r,o,n,s,i,a]=p,o=(Number(o)+1900).toString()):(p=o$.exec(e))&&([,r,t,n,s,i,a,o]=p),o&&i){let u=Date.UTC(Number(o),n$.indexOf(r),Number(t),Number(n),Number(s),Number(i),a?Math.round(parseFloat(`0.${a}`)*1e3):0);yo(t,1,31),yo(n,0,23),yo(s,0,59),yo(i,0,60);let d=new Date(u);return d.setUTCFullYear(Number(o)),d}throw new TypeError(`Invalid RFC7231 date-time value ${e}.`)}});function GS(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let o=e.split(t);if(r===1)return o;let n=[],s="";for(let i=0;i<o.length;i++)s===""?s=o[i]:s+=t+o[i],(i+1)%r===0&&(n.push(s),s="");return s!==""&&n.push(s),n}var HS=c(()=>{});var za,VS=c(()=>{za=e=>{let t=e.length,r=[],o=!1,n,s=0;for(let i=0;i<t;++i){let a=e[i];switch(a){case'"':n!=="\\"&&(o=!o);break;case",":o||(r.push(e.slice(s,i)),s=i+1);break;default:}n=a}return r.push(e.slice(s)),r.map(i=>{i=i.trim();let a=i.length;return a<2?i:(i[0]==='"'&&i[a-1]==='"'&&(i=i.slice(1,a-1)),i.replace(/\\"/g,'"'))})}});var jS,ve,WS=c(()=>{jS=/^-?\d*(\.\d+)?$/,ve=class e{string;type;constructor(t,r){if(this.string=t,this.type=r,!jS.test(t))throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||typeof t!="object")return!1;let r=t;return e.prototype.isPrototypeOf(t)||r.type==="bigDecimal"&&jS.test(r.string)}}});var Wr=c(()=>{hS();IS();OS();NS();Od();kS();BS();HS();VS();WS()});var zr,Es=c(()=>{zr=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});var Fd,zS=c(()=>{ge();Fd=class{marshaller;serializer;deserializer;serdeContext;defaultContentType;constructor({marshaller:t,serializer:r,deserializer:o,serdeContext:n,defaultContentType:s}){this.marshaller=t,this.serializer=r,this.deserializer=o,this.serdeContext=n,this.defaultContentType=s}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:o}){let n=this.marshaller,s=r.getEventStreamMember(),i=r.getMemberSchema(s),a=this.serializer,p=this.defaultContentType,u=Symbol("initialRequestMarker"),d={async*[Symbol.asyncIterator](){if(o){let l={":event-type":{type:"string",value:"initial-request"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:p}};a.write(r,o);let m=a.flush();yield{[u]:!0,headers:l,body:m}}for await(let l of t)yield l}};return n.serialize(d,l=>{if(l[u])return{headers:l.headers,body:l.body};let m=Object.keys(l).find(R=>R!=="__type")??"",{additionalHeaders:f,body:h,eventType:g,explicitPayloadContentType:y}=this.writeEventBody(m,i,l);return{headers:{":event-type":{type:"string",value:g},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:y??p},...f},body:h}})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:o}){let n=this.marshaller,s=r.getEventStreamMember(),a=r.getMemberSchema(s).getMemberSchemas(),p=Symbol("initialResponseMarker"),u=n.deserialize(t.body,async m=>{let f=Object.keys(m).find(g=>g!=="__type")??"",h=m[f].body;if(f==="initial-response"){let g=await this.deserializer.read(r,h);return delete g[s],{[p]:!0,...g}}else if(f in a){let g=a[f];if(g.isStructSchema()){let y={},_=!1;for(let[R,z]of g.structIterator()){let{eventHeader:re,eventPayload:Te}=z.getMergedTraits();if(_=_||!!(re||Te),Te)z.isBlobSchema()?y[R]=h:z.isStringSchema()?y[R]=(this.serdeContext?.utf8Encoder??ie)(h):z.isStructSchema()&&(y[R]=await this.deserializer.read(z,h));else if(re){let Pe=m[f].headers[R]?.value;Pe!=null&&(z.isNumericSchema()?Pe&&typeof Pe=="object"&&"bytes"in Pe?y[R]=BigInt(Pe.toString()):y[R]=Number(Pe):y[R]=Pe)}}if(_)return{[f]:y}}return{[f]:await this.deserializer.read(g,h)}}else return{$unknown:m}}),d=u[Symbol.asyncIterator](),l=await d.next();if(l.done)return u;if(l.value?.[p]){if(!r)throw new Error("@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.");for(let[m,f]of Object.entries(l.value))o[m]=f}return{async*[Symbol.asyncIterator](){for(l?.value?.[p]||(yield l.value);;){let{done:m,value:f}=await d.next();if(m)break;yield f}}}}writeEventBody(t,r,o){let n=this.serializer,s=t,i=null,a,p=r.getSchema()[4].includes(t),u={};if(p){let m=r.getMemberSchema(t);if(m.isStructSchema()){for(let[f,h]of m.structIterator()){let{eventHeader:g,eventPayload:y}=h.getMergedTraits();if(y)i=f;else if(g){let _=o[t][f],R="binary";h.isNumericSchema()?(-2)**31<=_&&_<=2**31-1?R="integer":R="long":h.isTimestampSchema()?R="timestamp":h.isStringSchema()?R="string":h.isBooleanSchema()&&(R="boolean"),_!=null&&(u[f]={type:R,value:_},delete o[t][f])}}if(i!==null){let f=m.getMemberSchema(i);f.isBlobSchema()?a="application/octet-stream":f.isStringSchema()&&(a="text/plain"),n.write(f,o[t][i])}else n.write(m,o[t])}else throw new Error("@smithy/core/event-streams - non-struct member not supported in event stream union.")}else{let[m,f]=o[t];s=m,n.write(15,f)}let d=n.flush();return{body:typeof d=="string"?(this.serdeContext?.utf8Decoder??ce)(d):d,eventType:s,explicitPayloadContentType:a,additionalHeaders:u}}}});var KS={};Et(KS,{EventStreamSerde:()=>Fd});var qS=c(()=>{zS()});var _s,Ka=c(()=>{K();ue();Es();_s=class extends zr{options;constructor(t){super(),this.options=t}getRequestType(){return J}getResponseType(){return $t}setSerdeContext(t){this.serdeContext=t,this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(t)}updateServiceEndpoint(t,r){if("url"in r){t.protocol=r.url.protocol,t.hostname=r.url.hostname,t.port=r.url.port?Number(r.url.port):void 0,t.path=r.url.pathname,t.fragment=r.url.hash||void 0,t.username=r.url.username||void 0,t.password=r.url.password||void 0,t.query||(t.query={});for(let[o,n]of r.url.searchParams.entries())t.query[o]=n;return t}else return t.protocol=r.protocol,t.hostname=r.hostname,t.port=r.port?Number(r.port):void 0,t.path=r.path,t.query={...r.query},t}setHostPrefix(t,r,o){let n=N.of(r.input),s=ho(r.traits??{});if(s.endpoint){let i=s.endpoint?.[0];if(typeof i=="string"){let a=[...n.structIterator()].filter(([,p])=>p.getMergedTraits().hostLabel);for(let[p]of a){let u=o[p];if(typeof u!="string")throw new Error(`@smithy/core/schema - ${p} in input must be a string as hostLabel.`);i=i.replace(`{${p}}`,u)}t.hostname=i+t.hostname}}}deserializeMetadata(t){return{httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:o}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:t,requestSchema:r,initialRequest:o})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:o}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:o})}async loadEventStreamCapability(){let{EventStreamSerde:t}=await Promise.resolve().then(()=>(qS(),KS));return new t({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(t,r,o,n,s){return[]}getEventStreamMarshaller(){let t=this.serdeContext;if(!t.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return t.eventStreamMarshaller}}});var qa,JS=c(()=>{K();Wr();ue();Ba();Ga();bd();Ka();qa=class extends _s{async serializeRequest(t,r,o){let n={...r??{}},s=this.serializer,i={},a={},p=await o.endpoint(),u=N.of(t?.input),d=u.getSchema(),l=!1,m,f=new J({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:i,headers:a,body:void 0});if(p){this.updateServiceEndpoint(f,p),this.setHostPrefix(f,t,n);let h=ho(t.traits);if(h.http){f.method=h.http[0];let[g,y]=h.http[1].split("?");f.path=="/"?f.path=g:f.path+=g;let _=new URLSearchParams(y??"");Object.assign(i,Object.fromEntries(_))}}for(let[h,g]of u.structIterator()){let y=g.getMergedTraits()??{},_=n[h];if(!(_==null&&!g.isIdempotencyToken()))if(y.httpPayload)g.isStreaming()?g.isStructSchema()?n[h]&&(m=await this.serializeEventStream({eventStream:n[h],requestSchema:u})):m=_:(s.write(g,_),m=s.flush()),delete n[h];else if(y.httpLabel){s.write(g,_);let R=s.flush();f.path.includes(`{${h}+}`)?f.path=f.path.replace(`{${h}+}`,R.split("/").map(gs).join("/")):f.path.includes(`{${h}}`)&&(f.path=f.path.replace(`{${h}}`,gs(R))),delete n[h]}else if(y.httpHeader)s.write(g,_),a[y.httpHeader.toLowerCase()]=String(s.flush()),delete n[h];else if(typeof y.httpPrefixHeaders=="string"){for(let[R,z]of Object.entries(_)){let re=y.httpPrefixHeaders+R;s.write([g.getValueSchema(),{httpHeader:re}],z),a[re.toLowerCase()]=s.flush()}delete n[h]}else y.httpQuery||y.httpQueryParams?(this.serializeQuery(g,_,i),delete n[h]):l=!0}return l&&n&&(s.write(d,n),m=s.flush()),f.headers=a,f.query=i,f.body=m,f}serializeQuery(t,r,o){let n=this.serializer,s=t.getMergedTraits();if(s.httpQueryParams){for(let[i,a]of Object.entries(r))if(!(i in o)){let p=t.getValueSchema();Object.assign(p.getMergedTraits(),{...s,httpQuery:i,httpQueryParams:void 0}),this.serializeQuery(p,a,o)}return}if(t.isListSchema()){let i=!!t.getMergedTraits().sparse,a=[];for(let p of r){n.write([t.getValueSchema(),s],p);let u=n.flush();(i||u!==void 0)&&a.push(u)}o[s.httpQuery]=a}else n.write([t,s],r),o[s.httpQuery]=n.flush()}async deserializeResponse(t,r,o){let n=this.deserializer,s=N.of(t.output),i={};if(o.statusCode>=300){let p=await at(o.body,r);throw p.byteLength>0&&Object.assign(i,await n.read(15,p)),await this.handleError(t,r,o,i,this.deserializeMetadata(o)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let p in o.headers){let u=o.headers[p];delete o.headers[p],o.headers[p.toLowerCase()]=u}let a=await this.deserializeHttpMessage(s,r,o,i);if(a.length){let p=await at(o.body,r);if(p.byteLength>0){let u=await n.read(s,p);for(let d of a)i[d]=u[d]}}else a.discardResponseBody&&await at(o.body,r);return i.$metadata=this.deserializeMetadata(o),i}async deserializeHttpMessage(t,r,o,n,s){let i;n instanceof Set?i=s:i=n;let a=!0,p=this.deserializer,u=N.of(t),d=[];for(let[l,m]of u.structIterator()){let f=m.getMemberTraits();if(f.httpPayload){if(a=!1,m.isStreaming())m.isStructSchema()?i[l]=await this.deserializeEventStream({response:o,responseSchema:u}):i[l]=Fa(o.body);else if(o.body){let g=await at(o.body,r);g.byteLength>0&&(i[l]=await p.read(m,g))}}else if(f.httpHeader){let h=String(f.httpHeader).toLowerCase(),g=o.headers[h];if(g!=null)if(m.isListSchema()){let y=m.getValueSchema();y.getMergedTraits().httpHeader=h;let _;y.isTimestampSchema()&&y.getSchema()===4?_=GS(g,",",2):_=za(g);let R=[];for(let z of _)R.push(await p.read(y,z.trim()));i[l]=R}else i[l]=await p.read(m,g)}else if(f.httpPrefixHeaders!==void 0){i[l]={};for(let[h,g]of Object.entries(o.headers))if(h.startsWith(f.httpPrefixHeaders)){let y=m.getValueSchema();y.getMergedTraits().httpHeader=h,i[l][h.slice(f.httpPrefixHeaders.length)]=await p.read(y,g)}}else f.httpResponseCode?i[l]=o.statusCode:d.push(l)}return d.discardResponseBody=a,d}}});var Ts,YS=c(()=>{K();ue();Ga();Ka();Ts=class extends _s{async serializeRequest(t,r,o){let n=this.serializer,s={},i={},a=await o.endpoint(),p=N.of(t?.input),u=p.getSchema(),d,l=new J({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:s,headers:i,body:void 0});a&&(this.updateServiceEndpoint(l,a),this.setHostPrefix(l,t,r));let m={...r};if(r){let f=p.getEventStreamMember();if(f){if(m[f]){let h={};for(let[g,y]of p.structIterator())g!==f&&m[g]&&(n.write(y,m[g]),h[g]=n.flush());d=await this.serializeEventStream({eventStream:m[f],requestSchema:p,initialRequest:h})}}else n.write(u,m),d=n.flush()}return l.headers=i,l.query=s,l.body=d,l.method="POST",l}async deserializeResponse(t,r,o){let n=this.deserializer,s=N.of(t.output),i={};if(o.statusCode>=300){let p=await at(o.body,r);throw p.byteLength>0&&Object.assign(i,await n.read(15,p)),await this.handleError(t,r,o,i,this.deserializeMetadata(o)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let p in o.headers){let u=o.headers[p];delete o.headers[p],o.headers[p.toLowerCase()]=u}let a=s.getEventStreamMember();if(a)i[a]=await this.deserializeEventStream({response:o,responseSchema:s,initialResponseContainer:i});else{let p=await at(o.body,r);p.byteLength>0&&Object.assign(i,await n.read(s,p))}return i.$metadata=this.deserializeMetadata(o),i}}});var XS=c(()=>{});var QS=c(()=>{});function Kr(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===5||e.getSchema()===6||e.getSchema()===7))return e.getSchema();let{httpLabel:r,httpPrefixHeaders:o,httpHeader:n,httpQuery:s}=e.getMergedTraits();return(t.httpBindings?typeof o=="string"||n?6:s||r?5:void 0:void 0)??t.timestampFormat.default}var Ja=c(()=>{});var ws,Bd=c(()=>{K();Wr();He();ge();Es();Ja();ws=class extends zr{settings;constructor(t){super(),this.settings=t}read(t,r){let o=N.of(t);if(o.isListSchema())return za(r).map(n=>this.read(o.getValueSchema(),n));if(o.isBlobSchema())return(this.serdeContext?.base64Decoder??le)(r);if(o.isTimestampSchema())switch(Kr(o,this.settings)){case 5:return US(r);case 6:return FS(r);case 7:return LS(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(o.isStringSchema()){let n=o.getMergedTraits().mediaType,s=r;if(n)return o.getMergedTraits().httpHeader&&(s=this.base64ToUtf8(s)),(n==="application/json"||n.endsWith("+json"))&&(s=ct.from(s)),s}return o.isNumericSchema()?Number(r):o.isBigIntegerSchema()?BigInt(r):o.isBigDecimalSchema()?new ve(r,"bigDecimal"):o.isBooleanSchema()?String(r).toLowerCase()==="true":r}base64ToUtf8(t){return(this.serdeContext?.utf8Encoder??ie)((this.serdeContext?.base64Decoder??le)(t))}}});var Ya,ZS=c(()=>{K();ge();Es();Bd();Ya=class extends zr{codecDeserializer;stringDeserializer;constructor(t,r){super(),this.codecDeserializer=t,this.stringDeserializer=new ws(r)}setSerdeContext(t){this.stringDeserializer.setSerdeContext(t),this.codecDeserializer.setSerdeContext(t),this.serdeContext=t}read(t,r){let o=N.of(t),n=o.getMergedTraits(),s=this.serdeContext?.utf8Encoder??ie;if(n.httpHeader||n.httpResponseCode)return this.stringDeserializer.read(o,s(r));if(n.httpPayload){if(o.isBlobSchema()){let i=this.serdeContext?.utf8Decoder??ce;return typeof r=="string"?i(r):r}else if(o.isStringSchema())return"byteLength"in r?s(r):r}return this.codecDeserializer.read(o,r)}}});var Xa,Gd=c(()=>{K();Wr();He();Es();Ja();Xa=class extends zr{settings;stringBuffer="";constructor(t){super(),this.settings=t}write(t,r){let o=N.of(t);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(o.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${o.getName(!0)}`);switch(Kr(o,this.settings)){case 5:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case 6:this.stringBuffer=xs(r);break;case 7:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(o.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??ae)(r);return}if(o.isListSchema()&&Array.isArray(r)){let i="";for(let a of r){this.write([o.getValueSchema(),o.getMergedTraits()],a);let p=this.flush(),u=o.getValueSchema().isTimestampSchema()?p:DS(p);i!==""&&(i+=", "),i+=u}this.stringBuffer=i;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let n=o.getMergedTraits().mediaType,s=r;if(n&&((n==="application/json"||n.endsWith("+json"))&&(s=ct.from(s)),o.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??ae)(s.toString());return}this.stringBuffer=r;break;default:o.isIdempotencyToken()?this.stringBuffer=go():this.stringBuffer=String(r)}}flush(){let t=this.stringBuffer;return this.stringBuffer="",t}}});var Qa,ex=c(()=>{K();Gd();Qa=class{codecSerializer;stringSerializer;buffer;constructor(t,r,o=new Xa(r)){this.codecSerializer=t,this.stringSerializer=o}setSerdeContext(t){this.codecSerializer.setSerdeContext(t),this.stringSerializer.setSerdeContext(t)}write(t,r){let o=N.of(t),n=o.getMergedTraits();if(n.httpHeader||n.httpLabel||n.httpQuery){this.stringSerializer.write(o,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(o,r)}flush(){if(this.buffer!==void 0){let t=this.buffer;return this.buffer=void 0,t}return this.codecSerializer.flush()}}});var So=c(()=>{Ga();bd();JS();Ka();YS();QS();XS();Bd();ZS();ex();Gd();Ja();Es()});var tx=c(()=>{});function rx(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}var ox=c(()=>{});var pt,nx=c(()=>{pt=class{authSchemes=new Map;constructor(t){for(let[r,o]of Object.entries(t))o!==void 0&&this.authSchemes.set(r,o)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var sx=c(()=>{});var ix=c(()=>{});var Vt,ax=c(()=>{Vt=class{async sign(t,r,o){return t}}});var cx=c(()=>{sx();ix();ax()});var s$,px,Hd,ux,dx=c(()=>{s$=e=>function(r){return Hd(r)&&r.expiration.getTime()-Date.now()<e},px=s$(3e5),Hd=e=>e.expiration!==void 0,ux=(e,t,r)=>{if(e===void 0)return;let o=typeof e!="function"?async()=>Promise.resolve(e):e,n,s,i,a=!1,p=async u=>{s||(s=o(u));try{n=await s,i=!0,a=!1}finally{s=void 0}return n};return t===void 0?async u=>((!i||u?.forceRefresh)&&(n=await p(u)),n):async u=>((!i||u?.forceRefresh)&&(n=await p(u)),a?n:r(n)?(t(n)&&await p(u),n):(a=!0,n))}});var lx=c(()=>{nx();cx();dx()});var Ne=c(()=>{Bg();Xg();ey();ty();ry();tx();ox();lx()});function i$(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}function jt(e){let t=Nn(e.userAgentAppId??Vd),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:async()=>{let o=await t();if(!i$(o)){let n=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof o!="string"?n?.warn("userAgentAppId must be a string or undefined."):o.length>50&&n?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return o}})}var Vd,fx=c(()=>{Ne();Vd=void 0});var ut,mx=c(()=>{ut=class{capacity;data=new Map;parameters=[];constructor({size:t,params:r}){this.capacity=t??50,r&&(this.parameters=r)}get(t,r){let o=this.hash(t);if(o===!1)return r();if(!this.data.has(o)){if(this.data.size>this.capacity+10){let n=this.data.keys(),s=0;for(;;){let{value:i,done:a}=n.next();if(this.data.delete(i),a||++s>10)break}}this.data.set(o,r())}return this.data.get(o)}size(){return this.data.size}hash(t){let r="",{parameters:o}=this;if(o.length===0)return!1;for(let n of o){let s=String(t[n]??"");if(s.includes("|;"))return!1;r+=s+"|;"}return r}}});var a$,fi,jd=c(()=>{a$=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),fi=e=>a$.test(e)||e.startsWith("[")&&e.endsWith("]")});var c$,Ln,Wd=c(()=>{c$=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Ln=(e,t=!1)=>{if(!t)return c$.test(e);let r=e.split(".");for(let o of r)if(!Ln(o))return!1;return!0}});var De,Za=c(()=>{De={}});var xo,hx=c(()=>{xo="endpoints"});function Wt(e){return typeof e!="object"||e==null?e:"ref"in e?`$${Wt(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(Wt).join(", ")})`:JSON.stringify(e,null,2)}var gx=c(()=>{});var mi=c(()=>{hx();gx()});var pe,yx=c(()=>{pe=class extends Error{constructor(t){super(t),this.name="EndpointError"}}});var Sx=c(()=>{});var xx=c(()=>{});var Ex=c(()=>{});var _x=c(()=>{});var Tx=c(()=>{});var wx=c(()=>{});var zt=c(()=>{yx();Sx();xx();Ex();_x();Tx();wx()});var bx,Rx=c(()=>{bx=(e,t)=>e===t});var vx,Ix=c(()=>{zt();vx=e=>{let t=e.split("."),r=[];for(let o of t){let n=o.indexOf("[");if(n!==-1){if(o.indexOf("]")!==o.length-1)throw new pe(`Path: '${e}' does not end with ']'`);let s=o.slice(n+1,-1);if(Number.isNaN(parseInt(s)))throw new pe(`Invalid array index: '${s}' in path: '${e}'`);n!==0&&r.push(o.slice(0,n)),r.push(s)}else r.push(o)}return r}});var ec,Ax=c(()=>{zt();Ix();ec=(e,t)=>vx(t).reduce((r,o)=>{if(typeof r!="object")throw new pe(`Index '${o}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(o)]:r[o]},e)});var Cx,Px=c(()=>{Cx=e=>e!=null});var Ox,Nx=c(()=>{Ox=e=>!e});var zd,Dx,kx=c(()=>{Lo();jd();zd={[ls.HTTP]:80,[ls.HTTPS]:443},Dx=e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:m,port:f,protocol:h="",path:g="",query:y={}}=e,_=new URL(`${h}//${m}${f?`:${f}`:""}${g}`);return _.search=Object.entries(y).map(([R,z])=>`${R}=${z}`).join("&"),_}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:o,hostname:n,pathname:s,protocol:i,search:a}=t;if(a)return null;let p=i.slice(0,-1);if(!Object.values(ls).includes(p))return null;let u=fi(n),d=r.includes(`${o}:${zd[p]}`)||typeof e=="string"&&e.includes(`${o}:${zd[p]}`),l=`${o}${d?`:${zd[p]}`:""}`;return{scheme:p,authority:l,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:u}}});var $x,Mx=c(()=>{$x=(e,t)=>e===t});var Lx,Ux=c(()=>{Lx=(e,t,r,o)=>t>=r||e.length<r?null:o?e.substring(e.length-r,e.length-t):e.substring(t,r)});var Fx,Bx=c(()=>{Fx=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`)});var Kd=c(()=>{Rx();Ax();Px();Wd();Nx();kx();Mx();Ux();Bx()});var Gx,Hx=c(()=>{Kd();Gx={booleanEquals:bx,getAttr:ec,isSet:Cx,isValidHostLabel:Ln,not:Ox,parseURL:Dx,stringEquals:$x,substring:Lx,uriEncode:Fx}});var tc,qd=c(()=>{Kd();tc=(e,t)=>{let r=[],o={...t.endpointParams,...t.referenceRecord},n=0;for(;n<e.length;){let s=e.indexOf("{",n);if(s===-1){r.push(e.slice(n));break}r.push(e.slice(n,s));let i=e.indexOf("}",s);if(i===-1){r.push(e.slice(s));break}e[s+1]==="{"&&e[i+1]==="}"&&(r.push(e.slice(s+1,i)),n=i+2);let a=e.substring(s+1,i);if(a.includes("#")){let[p,u]=a.split("#");r.push(ec(o[p],u))}else r.push(o[a]);n=i+1}return r.join("")}});var Vx,jx=c(()=>{Vx=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e]});var Un,rc,Wx,hi=c(()=>{zt();Za();Hx();qd();jx();Un=(e,t,r)=>{if(typeof e=="string")return tc(e,r);if(e.fn)return Wx.callFunction(e,r);if(e.ref)return Vx(e,r);throw new pe(`'${t}': ${String(e)} is not a string, function or reference.`)},rc=({fn:e,argv:t},r)=>{let o=t.map(s=>["boolean","number"].includes(typeof s)?s:Wx.evaluateExpression(s,"arg",r)),n=e.split(".");return n[0]in De&&n[1]!=null?De[n[0]][n[1]](...o):Gx[e](...o)},Wx={evaluateExpression:Un,callFunction:rc}});var zx=c(()=>{hi()});var Kx,qx=c(()=>{mi();zt();zx();Kx=({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new pe(`'${e}' is already defined in Reference Record.`);let o=rc(t,r);return r.logger?.debug?.(`${xo} evaluateCondition: ${Wt(t)} = ${Wt(o)}`),{result:o===""?!0:!!o,...e!=null&&{toAssign:{name:e,value:o}}}}});var bs,oc=c(()=>{mi();qx();bs=(e=[],t)=>{let r={};for(let o of e){let{result:n,toAssign:s}=Kx(o,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!n)return{result:n};s&&(r[s.name]=s.value,t.logger?.debug?.(`${xo} assign: ${s.name} := ${Wt(s.value)}`))}return{result:!0,referenceRecord:r}}});var Jx,Yx=c(()=>{zt();hi();Jx=(e,t)=>Object.entries(e).reduce((r,[o,n])=>({...r,[o]:n.map(s=>{let i=Un(s,"Header value entry",t);if(typeof i!="string")throw new pe(`Header '${o}' value '${i}' is not a string`);return i})}),{})});var Jd,Xx,Qx,Zx=c(()=>{zt();qd();Jd=(e,t)=>Object.entries(e).reduce((r,[o,n])=>({...r,[o]:Qx.getEndpointProperty(n,t)}),{}),Xx=(e,t)=>{if(Array.isArray(e))return e.map(r=>Xx(r,t));switch(typeof e){case"string":return tc(e,t);case"object":if(e===null)throw new pe(`Unexpected endpoint property: ${e}`);return Qx.getEndpointProperties(e,t);case"boolean":return e;default:throw new pe(`Unexpected endpoint property type: ${typeof e}`)}},Qx={getEndpointProperty:Xx,getEndpointProperties:Jd}});var eE,tE=c(()=>{zt();hi();eE=(e,t)=>{let r=Un(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(o){throw console.error(`Failed to construct URL with ${r}`,o),o}throw new pe(`Endpoint URL must be a string, got ${typeof r}`)}});var rE,oE=c(()=>{mi();oc();Yx();Zx();tE();rE=(e,t)=>{let{conditions:r,endpoint:o}=e,{result:n,referenceRecord:s}=bs(r,t);if(!n)return;let i={...t,referenceRecord:{...t.referenceRecord,...s}},{url:a,properties:p,headers:u}=o;return t.logger?.debug?.(`${xo} Resolving endpoint from template: ${Wt(o)}`),{...u!=null&&{headers:Jx(u,i)},...p!=null&&{properties:Jd(p,i)},url:eE(a,i)}}});var nE,sE=c(()=>{zt();oc();hi();nE=(e,t)=>{let{conditions:r,error:o}=e,{result:n,referenceRecord:s}=bs(r,t);if(n)throw new pe(Un(o,"Error",{...t,referenceRecord:{...t.referenceRecord,...s}}))}});var Yd,p$,iE,aE=c(()=>{zt();oc();oE();sE();Yd=(e,t)=>{for(let r of e)if(r.type==="endpoint"){let o=rE(r,t);if(o)return o}else if(r.type==="error")nE(r,t);else if(r.type==="tree"){let o=iE.evaluateTreeRule(r,t);if(o)return o}else throw new pe(`Unknown endpoint rule: ${r}`);throw new pe("Rules evaluation failed")},p$=(e,t)=>{let{conditions:r,rules:o}=e,{result:n,referenceRecord:s}=bs(r,t);if(n)return iE.evaluateRules(o,{...t,referenceRecord:{...t.referenceRecord,...s}})},iE={evaluateRules:Yd,evaluateTreeRule:p$}});var cE=c(()=>{Za();aE()});var Kt,pE=c(()=>{mi();zt();cE();Kt=(e,t)=>{let{endpointParams:r,logger:o}=t,{parameters:n,rules:s}=e;t.logger?.debug?.(`${xo} Initial EndpointParams: ${Wt(r)}`);let i=Object.entries(n).filter(([,u])=>u.default!=null).map(([u,d])=>[u,d.default]);if(i.length>0)for(let[u,d]of i)r[u]=r[u]??d;let a=Object.entries(n).filter(([,u])=>u.required).map(([u])=>u);for(let u of a)if(r[u]==null)throw new pe(`Missing required parameter: '${u}'`);let p=Yd(s,{endpointParams:r,logger:o,referenceRecord:{}});return t.logger?.debug?.(`${xo} Resolved endpoint: ${Wt(p)}`),p}});var Dr=c(()=>{mx();jd();Wd();Za();pE();zt()});var Xd=c(()=>{Dr()});var Qd,uE=c(()=>{Dr();Xd();Qd=(e,t=!1)=>{if(t){for(let r of e.split("."))if(!Qd(r))return!1;return!0}return!(!Ln(e)||e.length<3||e.length>63||e!==e.toLowerCase()||fi(e))}});var dE,u$,lE,fE=c(()=>{dE=":",u$="/",lE=e=>{let t=e.split(dE);if(t.length<6)return null;let[r,o,n,s,i,...a]=t;if(r!=="arn"||o===""||n===""||a.join(dE)==="")return null;let p=a.map(u=>u.split(u$)).flat();return{partition:o,service:n,region:s,accountId:i,resourceId:p}}});var hE,mE=c(()=>{hE={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"},"us-isob-west-1":{description:"US ISOB West"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],version:"1.1"}});var l$,f$,gE,yE,Zd=c(()=>{mE();l$=hE,f$="",gE=e=>{let{partitions:t}=l$;for(let o of t){let{regions:n,outputs:s}=o;for(let[i,a]of Object.entries(n))if(i===e)return{...s,...a}}for(let o of t){let{regionRegex:n,outputs:s}=o;if(new RegExp(n).test(e))return{...s}}let r=t.find(o=>o.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},yE=()=>f$});var _t,SE=c(()=>{Dr();uE();fE();Zd();_t={isVirtualHostableS3Bucket:Qd,parseArn:lE,partition:gE};De.aws=_t});function xE(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[o,n=null]=r.split("=");o=decodeURIComponent(o),n&&(n=decodeURIComponent(n)),o in t?Array.isArray(t[o])?t[o].push(n):t[o]=[t[o],n]:t[o]=n}return t}var EE=c(()=>{});var Ie,Eo=c(()=>{EE();Ie=e=>{if(typeof e=="string")return Ie(new URL(e));let{hostname:t,pathname:r,port:o,protocol:n,search:s}=e,i;return s&&(i=xE(s)),{hostname:t,port:o?parseInt(o):void 0,protocol:n,path:r,query:i}}});var _E=c(()=>{});var TE=c(()=>{});var wE=c(()=>{});var bE=c(()=>{});var RE=c(()=>{});var vE=c(()=>{});var IE=c(()=>{});var AE=c(()=>{});var CE=c(()=>{wE();bE();RE();vE();IE();AE()});var Fo=c(()=>{SE();Zd();Xd();_E();TE();CE()});var PE,qt,OE=c(()=>{PE={warningEmitted:!1},qt=e=>{e&&!PE.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<20&&(PE.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js ${e} in January 2026.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/c895JFp`))}});function G(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var NE=c(()=>{});function kr(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var DE=c(()=>{});var kE=c(()=>{});var ke=c(()=>{OE();NE();DE();kE()});var el,$E=c(()=>{ue();el=e=>$t.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var nc,tl=c(()=>{nc=e=>new Date(Date.now()+e)});var ME,LE=c(()=>{tl();ME=(e,t)=>Math.abs(nc(t).getTime()-e)>=3e5});var rl,UE=c(()=>{LE();rl=(e,t)=>{let r=Date.parse(e);return ME(r,t)?r-Date.now():t}});var FE=c(()=>{$E();tl();UE()});var gi,BE,$e,GE=c(()=>{ue();FE();gi=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},BE=async e=>{let t=gi("context",e.context),r=gi("config",e.config),o=t.endpointV2?.properties?.authSchemes?.[0],s=await gi("signer",r.signer)(o),i=e?.signingRegion,a=e?.signingRegionSet,p=e?.signingName;return{config:r,signer:s,signingRegion:i,signingRegionSet:a,signingName:p}},$e=class{async sign(t,r,o){if(!J.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let n=await BE(o),{config:s,signer:i}=n,{signingRegion:a,signingName:p}=n,u=o.context;if(u?.authSchemes?.length??0>1){let[l,m]=u.authSchemes;l?.name==="sigv4a"&&m?.name==="sigv4"&&(a=m?.signingRegion??a,p=m?.signingName??p)}return await i.sign(t,{signingDate:nc(s.systemClockOffset),signingRegion:a,signingService:p})}errorHandler(t){return r=>{let o=r.ServerTime??el(r.$response);if(o){let n=gi("config",t.config),s=n.systemClockOffset;n.systemClockOffset=rl(o,n.systemClockOffset),n.systemClockOffset!==s&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let o=el(t);if(o){let n=gi("config",r.config);n.systemClockOffset=rl(o,n.systemClockOffset)}}}});var ol,HE=c(()=>{ol=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var VE,nl=c(()=>{VE=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var jE,WE,Jt,zE=c(()=>{HE();nl();jE="AWS_AUTH_SCHEME_PREFERENCE",WE="auth_scheme_preference",Jt={environmentVariableSelector:(e,t)=>{if(t?.signingName&&VE(t.signingName)in e)return["httpBearerAuth"];if(jE in e)return ol(e[jE])},configFileSelector:e=>{if(WE in e)return ol(e[WE])},default:[]}});var Yt,yi=c(()=>{Yt=class e extends Error{name="ProviderError";tryNextLink;constructor(t,r=!0){let o,n=!0;typeof r=="boolean"?(o=void 0,n=r):r!=null&&typeof r=="object"&&(o=r.logger,n=r.tryNextLink??!0),super(t),this.tryNextLink=n,Object.setPrototypeOf(this,e.prototype),o?.debug?.(`@smithy/property-provider ${n?"->":"(!)"} ${t}`)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}}});var b,KE=c(()=>{yi();b=class e extends Yt{name="CredentialsProviderError";constructor(t,r=!0){super(t,r),Object.setPrototypeOf(this,e.prototype)}}});var Xt,qE=c(()=>{yi();Xt=class e extends Yt{name="TokenProviderError";constructor(t,r=!0){super(t,r),Object.setPrototypeOf(this,e.prototype)}}});var Rs,JE=c(()=>{yi();Rs=(...e)=>async()=>{if(e.length===0)throw new Yt("No providers in chain");let t;for(let r of e)try{return await r()}catch(o){if(t=o,o?.tryNextLink)continue;throw o}throw t}});var YE,XE=c(()=>{YE=e=>()=>Promise.resolve(e)});var sc,QE=c(()=>{sc=(e,t,r)=>{let o,n,s,i=!1,a=async()=>{n||(n=e());try{o=await n,s=!0,i=!1}finally{n=void 0}return o};return t===void 0?async p=>((!s||p?.forceRefresh)&&(o=await a()),o):async p=>((!s||p?.forceRefresh)&&(o=await a()),i?o:r&&!r(o)?(i=!0,o):(t(o)&&await a(),o))}});var Z=c(()=>{KE();yi();qE();JE();XE();QE()});var ZE=c(()=>{});var e_,t_,sl,r_,o_,il,al,cl,pl,m$,n_,s_,Si,i_,a_,c_,p_,ic,u_,d_,l_,ul,f_,Bo=c(()=>{e_="X-Amz-Algorithm",t_="X-Amz-Credential",sl="X-Amz-Date",r_="X-Amz-SignedHeaders",o_="X-Amz-Expires",il="X-Amz-Signature",al="X-Amz-Security-Token",cl="authorization",pl=sl.toLowerCase(),m$="date",n_=[cl,pl,m$],s_=il.toLowerCase(),Si="x-amz-content-sha256",i_=al.toLowerCase(),a_={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},c_=/^proxy-/,p_=/^sec-/,ic="AWS4-HMAC-SHA256",u_="AWS4-HMAC-SHA256-PAYLOAD",d_="UNSIGNED-PAYLOAD",l_=50,ul="aws4_request",f_=60*60*24*7});var ac,dl,cc,h_,m_,ll=c(()=>{$n();ge();Bo();ac={},dl=[],cc=(e,t,r)=>`${e}/${t}/${r}/${ul}`,h_=async(e,t,r,o,n)=>{let s=await m_(e,t.secretAccessKey,t.accessKeyId),i=`${r}:${o}:${n}:${it(s)}:${t.sessionToken}`;if(i in ac)return ac[i];for(dl.push(i);dl.length>l_;)delete ac[dl.shift()];let a=`AWS4${t.secretAccessKey}`;for(let p of[r,o,n,ul])a=await m_(e,a,p);return ac[i]=a},m_=(e,t,r)=>{let o=new e(t);return o.update(Nr(r)),o.digest()}});var fl,g_=c(()=>{Bo();fl=({headers:e},t,r)=>{let o={};for(let n of Object.keys(e).sort()){if(e[n]==null)continue;let s=n.toLowerCase();(s in a_||t?.has(s)||c_.test(s)||p_.test(s))&&(!r||r&&!r.has(s))||(o[s]=e[n].trim().replace(/\s+/g," "))}return o}});var pc,y_=c(()=>{hd();$n();ge();Bo();pc=async({headers:e,body:t},r)=>{for(let o of Object.keys(e))if(o.toLowerCase()===Si)return e[o];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||Ma(t)){let o=new r;return o.update(Nr(t)),it(await o.digest())}return d_}});function x_(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}var uc,S_,h$,ml,E_=c(()=>{$n();ge();uc=class{format(t){let r=[];for(let s of Object.keys(t)){let i=ce(s);r.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(t[s]))}let o=new Uint8Array(r.reduce((s,i)=>s+i.byteLength,0)),n=0;for(let s of r)o.set(s,n),n+=s.byteLength;return o}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let o=new DataView(new ArrayBuffer(5));return o.setUint8(0,4),o.setInt32(1,t.value,!1),new Uint8Array(o.buffer);case"long":let n=new Uint8Array(9);return n[0]=5,n.set(t.value.bytes,1),n;case"binary":let s=new DataView(new ArrayBuffer(3+t.value.byteLength));s.setUint8(0,6),s.setUint16(1,t.value.byteLength,!1);let i=new Uint8Array(s.buffer);return i.set(t.value,3),i;case"string":let a=ce(t.value),p=new DataView(new ArrayBuffer(3+a.byteLength));p.setUint8(0,7),p.setUint16(1,a.byteLength,!1);let u=new Uint8Array(p.buffer);return u.set(a,3),u;case"timestamp":let d=new Uint8Array(9);return d[0]=8,d.set(ml.fromNumber(t.value.valueOf()).bytes,1),d;case"uuid":if(!h$.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let l=new Uint8Array(17);return l[0]=9,l.set(Vy(t.value.replace(/\-/g,"")),1),l}}};(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(S_||(S_={}));h$=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,ml=class e{bytes;constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let o=7,n=Math.abs(Math.round(t));o>-1&&n>0;o--,n/=256)r[o]=n;return t<0&&x_(r),new e(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&x_(t),parseInt(it(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}}});var __,T_=c(()=>{__=(e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1}});var w_,b_=c(()=>{ue();w_=(e,t={})=>{let{headers:r,query:o={}}=J.clone(e);for(let n of Object.keys(r)){let s=n.toLowerCase();(s.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(s)||t.hoistableHeaders?.has(s))&&(o[n]=r[n],delete r[n])}return{...e,headers:r,query:o}}});var hl,R_=c(()=>{ue();Bo();hl=e=>{e=J.clone(e);for(let t of Object.keys(e.headers))n_.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e}});var v_,I_=c(()=>{La();Bo();v_=({query:e={}})=>{let t=[],r={};for(let o of Object.keys(e)){if(o.toLowerCase()===s_)continue;let n=Vr(o);t.push(n);let s=e[o];typeof s=="string"?r[n]=`${n}=${Vr(s)}`:Array.isArray(s)&&(r[n]=s.slice(0).reduce((i,a)=>i.concat([`${n}=${Vr(a)}`]),[]).sort().join("&"))}return t.sort().map(o=>r[o]).filter(o=>o).join("&")}});var A_,g$,C_=c(()=>{A_=e=>g$(e).toISOString().replace(/\.\d{3}Z$/,"Z"),g$=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e});var dc,P_=c(()=>{$n();Ge();La();ge();I_();C_();dc=class{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:t,credentials:r,region:o,service:n,sha256:s,uriEscapePath:i=!0}){this.service=n,this.sha256=s,this.uriEscapePath=i,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=Y(o),this.credentialProvider=Y(r)}createCanonicalRequest(t,r,o){let n=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${v_(t)}
${n.map(s=>`${s}:${r[s]}`).join(`
`)}

${n.join(";")}
${o}`}async createStringToSign(t,r,o,n){let s=new this.sha256;s.update(Nr(o));let i=await s.digest();return`${n}
${t}
${r}
${it(i)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let s of t.split("/"))s?.length!==0&&s!=="."&&(s===".."?r.pop():r.push(s));let o=`${t?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&t?.endsWith("/")?"/":""}`;return Vr(o).replace(/%2F/g,"/")}return t}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(t){let r=A_(t).replace(/[\-:]/g,"");return{longDate:r,shortDate:r.slice(0,8)}}getCanonicalHeaderList(t){return Object.keys(t).sort().join(";")}}});var xi,O_=c(()=>{$n();ge();Bo();ll();g_();y_();E_();T_();b_();R_();P_();xi=class extends dc{headerFormatter=new uc;constructor({applyChecksum:t,credentials:r,region:o,service:n,sha256:s,uriEscapePath:i=!0}){super({applyChecksum:t,credentials:r,region:o,service:n,sha256:s,uriEscapePath:i})}async presign(t,r={}){let{signingDate:o=new Date,expiresIn:n=3600,unsignableHeaders:s,unhoistableHeaders:i,signableHeaders:a,hoistableHeaders:p,signingRegion:u,signingService:d}=r,l=await this.credentialProvider();this.validateResolvedCredentials(l);let m=u??await this.regionProvider(),{longDate:f,shortDate:h}=this.formatDate(o);if(n>f_)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let g=cc(h,m,d??this.service),y=w_(hl(t),{unhoistableHeaders:i,hoistableHeaders:p});l.sessionToken&&(y.query[al]=l.sessionToken),y.query[e_]=ic,y.query[t_]=`${l.accessKeyId}/${g}`,y.query[sl]=f,y.query[o_]=n.toString(10);let _=fl(y,s,a);return y.query[r_]=this.getCanonicalHeaderList(_),y.query[il]=await this.getSignature(f,g,this.getSigningKey(l,m,h,d),this.createCanonicalRequest(y,_,await pc(t,this.sha256))),y}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:o=new Date,priorSignature:n,signingRegion:s,signingService:i}){let a=s??await this.regionProvider(),{shortDate:p,longDate:u}=this.formatDate(o),d=cc(p,a,i??this.service),l=await pc({headers:{},body:r},this.sha256),m=new this.sha256;m.update(t);let f=it(await m.digest()),h=[u_,u,d,n,f,l].join(`
`);return this.signString(h,{signingDate:o,signingRegion:a,signingService:i})}async signMessage(t,{signingDate:r=new Date,signingRegion:o,signingService:n}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:o,signingService:n,priorSignature:t.priorSignature}).then(i=>({message:t.message,signature:i}))}async signString(t,{signingDate:r=new Date,signingRegion:o,signingService:n}={}){let s=await this.credentialProvider();this.validateResolvedCredentials(s);let i=o??await this.regionProvider(),{shortDate:a}=this.formatDate(r),p=new this.sha256(await this.getSigningKey(s,i,a,n));return p.update(Nr(t)),it(await p.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:o,unsignableHeaders:n,signingRegion:s,signingService:i}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let p=s??await this.regionProvider(),u=hl(t),{longDate:d,shortDate:l}=this.formatDate(r),m=cc(l,p,i??this.service);u.headers[pl]=d,a.sessionToken&&(u.headers[i_]=a.sessionToken);let f=await pc(u,this.sha256);!__(Si,u.headers)&&this.applyChecksum&&(u.headers[Si]=f);let h=fl(u,n,o),g=await this.getSignature(d,m,this.getSigningKey(a,p,l,i),this.createCanonicalRequest(u,h,f));return u.headers[cl]=`${ic} Credential=${a.accessKeyId}/${m}, SignedHeaders=${this.getCanonicalHeaderList(h)}, Signature=${g}`,u}async getSignature(t,r,o,n){let s=await this.createStringToSign(t,r,n,ic),i=new this.sha256(await o);return i.update(Nr(s)),it(await i.digest())}getSigningKey(t,r,o,n){return h_(this.sha256,t,o,r,n||this.service)}}});var N_=c(()=>{});var D_=c(()=>{O_();Bo();ll();N_()});function y$(e,{credentials:t,credentialDefaultProvider:r}){let o;return t?t?.memoized?o=t:o=ux(t,px,Hd):r?o=Nn(r(Object.assign({},e,{parentClientConfig:e}))):o=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},o.memoized=!0,o}function S$(e,t){if(t.configBound)return t;let r=async o=>t({...o,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var Qt,k_=c(()=>{ke();Ne();D_();Qt=e=>{let t=e.credentials,r=!!e.credentials,o;Object.defineProperty(e,"credentials",{set(u){u&&u!==t&&u!==o&&(r=!0),t=u;let d=y$(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),l=S$(e,d);r&&!l.attributed?(o=async m=>l(m).then(f=>G(f,"CREDENTIALS_CODE","e")),o.memoized=l.memoized,o.configBound=l.configBound,o.attributed=!0):o=l},get(){return o},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:n=!0,systemClockOffset:s=e.systemClockOffset||0,sha256:i}=e,a;return e.signer?a=Nn(e.signer):e.regionInfoProvider?a=()=>Nn(e.region)().then(async u=>[await e.regionInfoProvider(u,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},u]).then(([u,d])=>{let{signingRegion:l,signingService:m}=u;e.signingRegion=e.signingRegion||l||d,e.signingName=e.signingName||m||e.serviceId;let f={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:n},h=e.signerConstructor||xi;return new h(f)}):a=async u=>{u=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await Nn(e.region)(),properties:{}},u);let d=u.signingRegion,l=u.signingName;e.signingRegion=e.signingRegion||d,e.signingName=e.signingName||l||e.serviceId;let m={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:n},f=e.signerConstructor||xi;return new f(m)},Object.assign(e,{systemClockOffset:s,signingEscapePath:n,signer:a})}});var $_=c(()=>{GE();zE();ZE();k_()});var M_=c(()=>{$_();nl()});var Fn,Go,vs,L_,U_,F_=c(()=>{Fn=(e,t)=>{let r=[];if(e&&r.push(e),t)for(let o of t)r.push(o);return r},Go=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,vs=()=>{let e=[],t=[],r=!1,o=new Set,n=l=>l.sort((m,f)=>L_[f.step]-L_[m.step]||U_[f.priority||"normal"]-U_[m.priority||"normal"]),s=l=>{let m=!1,f=h=>{let g=Fn(h.name,h.aliases);if(g.includes(l)){m=!0;for(let y of g)o.delete(y);return!1}return!0};return e=e.filter(f),t=t.filter(f),m},i=l=>{let m=!1,f=h=>{if(h.middleware===l){m=!0;for(let g of Fn(h.name,h.aliases))o.delete(g);return!1}return!0};return e=e.filter(f),t=t.filter(f),m},a=l=>(e.forEach(m=>{l.add(m.middleware,{...m})}),t.forEach(m=>{l.addRelativeTo(m.middleware,{...m})}),l.identifyOnResolve?.(d.identifyOnResolve()),l),p=l=>{let m=[];return l.before.forEach(f=>{f.before.length===0&&f.after.length===0?m.push(f):m.push(...p(f))}),m.push(l),l.after.reverse().forEach(f=>{f.before.length===0&&f.after.length===0?m.push(f):m.push(...p(f))}),m},u=(l=!1)=>{let m=[],f=[],h={};return e.forEach(y=>{let _={...y,before:[],after:[]};for(let R of Fn(_.name,_.aliases))h[R]=_;m.push(_)}),t.forEach(y=>{let _={...y,before:[],after:[]};for(let R of Fn(_.name,_.aliases))h[R]=_;f.push(_)}),f.forEach(y=>{if(y.toMiddleware){let _=h[y.toMiddleware];if(_===void 0){if(l)return;throw new Error(`${y.toMiddleware} is not found when adding ${Go(y.name,y.aliases)} middleware ${y.relation} ${y.toMiddleware}`)}y.relation==="after"&&_.after.push(y),y.relation==="before"&&_.before.push(y)}}),n(m).map(p).reduce((y,_)=>(y.push(..._),y),[])},d={add:(l,m={})=>{let{name:f,override:h,aliases:g}=m,y={step:"initialize",priority:"normal",middleware:l,...m},_=Fn(f,g);if(_.length>0){if(_.some(R=>o.has(R))){if(!h)throw new Error(`Duplicate middleware name '${Go(f,g)}'`);for(let R of _){let z=e.findIndex(Te=>Te.name===R||Te.aliases?.some(Pe=>Pe===R));if(z===-1)continue;let re=e[z];if(re.step!==y.step||y.priority!==re.priority)throw new Error(`"${Go(re.name,re.aliases)}" middleware with ${re.priority} priority in ${re.step} step cannot be overridden by "${Go(f,g)}" middleware with ${y.priority} priority in ${y.step} step.`);e.splice(z,1)}}for(let R of _)o.add(R)}e.push(y)},addRelativeTo:(l,m)=>{let{name:f,override:h,aliases:g}=m,y={middleware:l,...m},_=Fn(f,g);if(_.length>0){if(_.some(R=>o.has(R))){if(!h)throw new Error(`Duplicate middleware name '${Go(f,g)}'`);for(let R of _){let z=t.findIndex(Te=>Te.name===R||Te.aliases?.some(Pe=>Pe===R));if(z===-1)continue;let re=t[z];if(re.toMiddleware!==y.toMiddleware||re.relation!==y.relation)throw new Error(`"${Go(re.name,re.aliases)}" middleware ${re.relation} "${re.toMiddleware}" middleware cannot be overridden by "${Go(f,g)}" middleware ${y.relation} "${y.toMiddleware}" middleware.`);t.splice(z,1)}}for(let R of _)o.add(R)}t.push(y)},clone:()=>a(vs()),use:l=>{l.applyToStack(d)},remove:l=>typeof l=="string"?s(l):i(l),removeByTag:l=>{let m=!1,f=h=>{let{tags:g,name:y,aliases:_}=h;if(g&&g.includes(l)){let R=Fn(y,_);for(let z of R)o.delete(z);return m=!0,!1}return!0};return e=e.filter(f),t=t.filter(f),m},concat:l=>{let m=a(vs());return m.use(l),m.identifyOnResolve(r||m.identifyOnResolve()||(l.identifyOnResolve?.()??!1)),m},applyToStack:a,identify:()=>u(!0).map(l=>{let m=l.step??l.relation+" "+l.toMiddleware;return Go(l.name,l.aliases)+" - "+m}),identifyOnResolve(l){return typeof l=="boolean"&&(r=l),r},resolve:(l,m)=>{for(let f of u().map(h=>h.middleware).reverse())l=f(l,m);return r&&console.log(d.identify()),l}};return d},L_={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},U_={high:3,normal:2,low:1}});var gl=c(()=>{F_()});var Me,B_=c(()=>{gl();Me=class{config;middlewareStack=vs();initConfig;handlers;constructor(t){this.config=t;let{protocol:r,protocolSettings:o}=t;o&&typeof r=="function"&&(t.protocol=new r(o))}send(t,r,o){let n=typeof r!="function"?r:void 0,s=typeof r=="function"?r:o,i=n===void 0&&this.config.cacheMiddleware===!0,a;if(i){this.handlers||(this.handlers=new WeakMap);let p=this.handlers;p.has(t.constructor)?a=p.get(t.constructor):(a=t.resolveMiddleware(this.middlewareStack,this.config,n),p.set(t.constructor,a))}else delete this.handlers,a=t.resolveMiddleware(this.middlewareStack,this.config,n);if(s)a(t).then(p=>s(null,p.output),p=>s(p)).catch(()=>{});else return a(t).then(p=>p.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}}});var G_=c(()=>{So()});function lc(e,t){if(t==null)return t;let r=N.of(e);if(r.getMergedTraits().sensitive)return yl;if(r.isListSchema()){if(!!r.getValueSchema().getMergedTraits().sensitive)return yl}else if(r.isMapSchema()){if(!!r.getKeySchema().getMergedTraits().sensitive||!!r.getValueSchema().getMergedTraits().sensitive)return yl}else if(r.isStructSchema()&&typeof t=="object"){let o=t,n={};for(let[s,i]of r.structIterator())o[s]!=null&&(n[s]=lc(i,o[s]));return n}return t}var yl,H_=c(()=>{K();yl="***SensitiveInformation***"});var oe,Sl,V_=c(()=>{gl();Lo();H_();oe=class{middlewareStack=vs();schema;static classBuilder(){return new Sl}resolveMiddlewareWithContext(t,r,o,{middlewareFn:n,clientName:s,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:p,smithyContext:u,additionalContext:d,CommandCtor:l}){for(let y of n.bind(this)(l,t,r,o))this.middlewareStack.use(y);let m=t.concat(this.middlewareStack),{logger:f}=r,h={logger:f,clientName:s,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:p,[ci]:{commandInstance:this,...u},...d},{requestHandler:g}=r;return m.resolve(y=>g.handle(y.request,o||{}),h)}},Sl=class{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,o={}){return this._smithyContext={service:t,operation:r,...o},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=o=>o,r=o=>o){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}sc(t){return this._operationSchema=t,this._smithyContext.operationSchema=t,this}build(){let t=this,r;return r=class extends oe{input;static getEndpointParameterInstructions(){return t._ep}constructor(...[o]){super(),this.input=o??{},t._init(this),this.schema=t._operationSchema}resolveMiddleware(o,n,s){let i=t._operationSchema,a=i?.[4]??i?.input,p=i?.[5]??i?.output;return this.resolveMiddlewareWithContext(o,n,s,{CommandCtor:r,middlewareFn:t._middlewareFn,clientName:t._clientName,commandName:t._commandName,inputFilterSensitiveLog:t._inputFilterSensitiveLog??(i?lc.bind(null,a):u=>u),outputFilterSensitiveLog:t._outputFilterSensitiveLog??(i?lc.bind(null,p):u=>u),smithyContext:t._smithyContext,additionalContext:t._additionalContext})}serialize=t._serializer;deserialize=t._deserializer}}}});var j_=c(()=>{});var Ho,W_=c(()=>{Ho=(e,t)=>{for(let r of Object.keys(e)){let o=e[r],n=async function(i,a,p){let u=new o(i);if(typeof a=="function")this.send(u,a);else if(typeof p=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(u,a||{},p)}else return this.send(u,a)},s=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[s]=n}}});var dt,xl,z_=c(()=>{dt=class e extends Error{$fault;$response;$retryable;$metadata;constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let r=t;return e.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let r=t;return this===e?e.isInstance(t):e.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}},xl=(e,t={})=>{Object.entries(t).filter(([,o])=>o!==void 0).forEach(([o,n])=>{(e[o]==null||e[o]==="")&&(e[o]=n)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e}});var K_=c(()=>{});var Zt,q_=c(()=>{Zt=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}}});var J_,er,Y_=c(()=>{J_=!1,er=e=>{e&&!J_&&parseInt(e.substring(1,e.indexOf(".")))<16&&(J_=!0)}});var X_=c(()=>{});var Q_,Z_,eT=c(()=>{Lo();Q_=e=>{let t=[];for(let r in fs){let o=fs[r];e[o]!==void 0&&t.push({algorithmId:()=>o,checksumConstructor:()=>e[o]})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},Z_=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t}});var tT,rT,oT=c(()=>{tT=e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),rT=e=>{let t={};return t.retryStrategy=e.retryStrategy(),t}});var tr,rr,nT=c(()=>{eT();oT();tr=e=>Object.assign(Q_(e),tT(e)),rr=e=>Object.assign(Z_(e),rT(e))});var sT=c(()=>{nT()});var iT=c(()=>{});var El,aT=c(()=>{El=e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=El(e[r]));return e}});var cT=c(()=>{});var We,pT=c(()=>{We=class{trace(){}debug(){}info(){}warn(){}error(){}}});var uT=c(()=>{});var dT=c(()=>{});var lT=c(()=>{});var Ei,fT=c(()=>{Ei=e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(Ei);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=Ei(e[r]));return t}return e}});var P=c(()=>{B_();G_();V_();j_();W_();K_();q_();Y_();z_();X_();sT();iT();aT();cT();pT();uT();dT();lT();fT();Wr()});var Vo,fc=c(()=>{K();P();Vo=class{queryCompat;constructor(t=!1){this.queryCompat=t}resolveRestContentType(t,r){let o=r.getMemberSchemas(),n=Object.values(o).find(s=>!!s.getMergedTraits().httpPayload);if(n){let s=n.getMergedTraits().mediaType;return s||(n.isStringSchema()?"text/plain":n.isBlobSchema()?"application/octet-stream":t)}else if(!r.isUnitSchema()&&Object.values(o).find(i=>{let{httpQuery:a,httpQueryParams:p,httpHeader:u,httpLabel:d,httpPrefixHeaders:l}=i.getMergedTraits();return!a&&!p&&!u&&!d&&l===void 0}))return t}async getErrorSchemaOrThrowBaseException(t,r,o,n,s,i){let a=r,p=t;t.includes("#")&&([a,p]=t.split("#"));let u={$metadata:s,$fault:o.statusCode<500?"client":"server"},d=x.for(a);try{return{errorSchema:i?.(d,p)??d.getSchema(t),errorMetadata:u}}catch{n.message=n.message??n.Message??"UnknownError";let m=x.for("smithy.ts.sdk.synthetic."+a),f=m.getBaseException();if(f){let h=m.getErrorCtor(f)??Error;throw this.decorateServiceException(Object.assign(new h({name:p}),u),n)}throw this.decorateServiceException(Object.assign(new Error(p),u),n)}}decorateServiceException(t,r={}){if(this.queryCompat){let o=t.Message??r.Message,n=xl(t,r);o&&(n.message=o),n.Error={...n.Error,Type:n.Error.Type,Code:n.Error.Code,Message:n.Error.message??n.Error.Message??o};let s=n.$metadata.requestId;return s&&(n.RequestId=s),n}return xl(t,r)}setQueryCompatError(t,r){let o=r.headers?.["x-amzn-query-error"];if(t!==void 0&&o!=null){let[n,s]=o.split(";"),i=Object.entries(t),a={Code:n,Type:s};Object.assign(t,a);for(let[p,u]of i)a[p==="message"?"Message":p]=u;delete a.__type,t.Error=a}}queryCompatOutput(t,r){t.Error&&(r.Error=t.Error),t.Type&&(r.Type=t.Type),t.Code&&(r.Code=t.Code)}findQueryCompatibleError(t,r){try{return t.getSchema(r)}catch{return t.find(n=>N.of(n).getMergedTraits().awsQueryError?.[0]===r)}}}});var mT=c(()=>{});var hT=c(()=>{});var or,Is=c(()=>{or=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});function*mc(e,t){if(e.isUnitSchema())return;let r=e.getSchema();for(let o=0;o<r[4].length;++o){let n=r[4][o],s=r[5][o],i=new N([s,0],n);!(n in t)&&!i.isIdempotencyToken()||(yield[n,i])}}function*gT(e,t,r){if(e.isUnitSchema())return;let o=e.getSchema(),n=Object.keys(t).filter(s=>s!=="__type").length;for(let s=0;s<o[4].length&&n!==0;++s){let i=o[4][s],a=o[5][s],p=new N([a,0],i),u=i;r&&(u=p.getMergedTraits()[r]??i),u in t&&(yield[i,p],n-=1)}}var hc=c(()=>{K()});var As,_l=c(()=>{As=class{from;to;keys;constructor(t,r){this.from=t,this.to=r,this.keys=new Set(Object.keys(this.from).filter(o=>o!=="__type"))}mark(t){this.keys.delete(t)}hasUnknown(){return this.keys.size===1&&Object.keys(this.to).length===0}writeUnknown(){if(this.hasUnknown()){let t=this.keys.values().next().value,r=this.from[t];this.to.$unknown=[t,r]}}}});function yT(e,t,r){if(r?.source){let o=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||o!==String(t)))return o.includes(".")?new ve(o,"bigDecimal"):BigInt(o)}return t}var ST=c(()=>{Wr()});var xT,ET=c(()=>{P();ge();xT=(e,t)=>at(e,t).then(r=>(t?.utf8Encoder??ie)(r))});var _T,gc,_i=c(()=>{ET();_T=(e,t)=>xT(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(o){throw o?.name==="SyntaxError"&&Object.defineProperty(o,"$responseBodyText",{value:r}),o}return{}}),gc=(e,t)=>{let r=(s,i)=>Object.keys(s).find(a=>a.toLowerCase()===i.toLowerCase()),o=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},n=r(e.headers,"x-amzn-errortype");if(n!==void 0)return o(e.headers[n]);if(t&&typeof t=="object"){let s=r(t,"code");if(s&&t[s]!==void 0)return o(t[s]);if(t.__type!==void 0)return o(t.__type)}}});var Cs,Tl=c(()=>{So();K();Wr();He();Is();hc();_l();ST();_i();Cs=class extends or{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,yT):await _T(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let o=r!==null&&typeof r=="object",n=N.of(t);if(o){if(n.isStructSchema()){let i=n.isUnionSchema(),a={},p;i&&(p=new As(r,a));for(let[u,d]of gT(n,r,this.settings.jsonName?"jsonName":!1)){let l=this.settings.jsonName?d.getMergedTraits().jsonName??u:u;i&&p.mark(l),r[l]!=null&&(a[u]=this._read(d,r[l]))}return i&&p.writeUnknown(),a}if(Array.isArray(r)&&n.isListSchema()){let i=n.getValueSchema(),a=[],p=!!n.getMergedTraits().sparse;for(let u of r)(p||u!=null)&&a.push(this._read(i,u));return a}if(n.isMapSchema()){let i=n.getValueSchema(),a={},p=!!n.getMergedTraits().sparse;for(let[u,d]of Object.entries(r))(p||d!=null)&&(a[u]=this._read(i,d));return a}}if(n.isBlobSchema()&&typeof r=="string")return le(r);let s=n.getMergedTraits().mediaType;if(n.isStringSchema()&&typeof r=="string"&&s)return s==="application/json"||s.endsWith("+json")?ct.from(r):r;if(n.isTimestampSchema()&&r!=null)switch(Kr(n,this.settings)){case 5:return bS(r);case 6:return RS(r);case 7:return vS(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(n.isBigDecimalSchema()&&r!=null){if(r instanceof ve)return r;let i=r;return i.type==="bigDecimal"&&"string"in i?new ve(i.string,i.type):new ve(String(r),"bigDecimal")}if(n.isNumericSchema()&&typeof r=="string"){switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return r}if(n.isDocumentSchema())if(o){let i=Array.isArray(r)?[]:{};for(let[a,p]of Object.entries(r))p instanceof ve?i[a]=p:i[a]=this._read(n,p);return i}else return structuredClone(r);return r}}});var TT,yc,wT=c(()=>{Wr();TT="\u039D",yc=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof ve){let o=`${TT+"nv"+this.counter++}_`+r.string;return this.values.set(`"${o}"`,r.string),o}if(typeof r=="bigint"){let o=r.toString(),n=`${TT+"b"+this.counter++}_`+o;return this.values.set(`"${n}"`,o),n}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,o]of this.values)t=t.replace(r,o);return t}}});var Ps,wl=c(()=>{So();K();Wr();He();Is();hc();wT();Ps=class extends or{settings;buffer;useReplacer=!1;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=N.of(t),this.buffer=this._write(this.rootSchema,r)}writeDiscriminatedDocument(t,r){this.write(t,r),typeof this.buffer=="object"&&(this.buffer.__type=N.of(t).getName(!0))}flush(){let{rootSchema:t,useReplacer:r}=this;if(this.rootSchema=void 0,this.useReplacer=!1,t?.isStructSchema()||t?.isDocumentSchema()){if(!r)return JSON.stringify(this.buffer);let o=new yc;return o.replaceInJson(JSON.stringify(this.buffer,o.createReplacer(),0))}return this.buffer}_write(t,r,o){let n=r!==null&&typeof r=="object",s=N.of(t);if(n){if(s.isStructSchema()){let i={};for(let[a,p]of mc(s,r)){let u=this._write(p,r[a],s);if(u!==void 0){let d=p.getMergedTraits().jsonName,l=this.settings.jsonName?d??a:a;i[l]=u}}if(s.isUnionSchema()&&Object.keys(i).length===0){let{$unknown:a}=r;if(Array.isArray(a)){let[p,u]=a;i[p]=this._write(15,u)}}return i}if(Array.isArray(r)&&s.isListSchema()){let i=s.getValueSchema(),a=[],p=!!s.getMergedTraits().sparse;for(let u of r)(p||u!=null)&&a.push(this._write(i,u));return a}if(s.isMapSchema()){let i=s.getValueSchema(),a={},p=!!s.getMergedTraits().sparse;for(let[u,d]of Object.entries(r))(p||d!=null)&&(a[u]=this._write(i,d));return a}if(r instanceof Uint8Array&&(s.isBlobSchema()||s.isDocumentSchema()))return s===this.rootSchema?r:(this.serdeContext?.base64Encoder??ae)(r);if(r instanceof Date&&(s.isTimestampSchema()||s.isDocumentSchema()))switch(Kr(s,this.settings)){case 5:return r.toISOString().replace(".000Z","Z");case 6:return xs(r);case 7:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}r instanceof ve&&(this.useReplacer=!0)}if(!(r===null&&o?.isStructSchema())){if(s.isStringSchema()){if(typeof r>"u"&&s.isIdempotencyToken())return go();let i=s.getMergedTraits().mediaType;return r!=null&&i&&(i==="application/json"||i.endsWith("+json"))?ct.from(r):r}if(typeof r=="number"&&s.isNumericSchema())return Math.abs(r)===1/0||isNaN(r)?String(r):r;if(typeof r=="string"&&s.isBlobSchema())return s===this.rootSchema?r:(this.serdeContext?.base64Encoder??ae)(r);if(typeof r=="bigint"&&(this.useReplacer=!0),s.isDocumentSchema())if(n){let i=Array.isArray(r)?[]:{};for(let[a,p]of Object.entries(r))p instanceof ve?(this.useReplacer=!0,i[a]=p):i[a]=this._write(s,p);return i}else return structuredClone(r);return r}}}});var jo,Sc=c(()=>{Is();Tl();wl();jo=class extends or{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new Ps(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Cs(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var Os,xc=c(()=>{So();K();fc();Sc();_i();Os=class extends Ts{serializer;deserializer;serviceTarget;codec;mixin;awsQueryCompatible;constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:o,jsonCodec:n}){super({defaultNamespace:t}),this.serviceTarget=r,this.codec=n??new jo({timestampFormat:{useTrait:!0,default:7},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!o,this.mixin=new Vo(this.awsQueryCompatible)}async serializeRequest(t,r,o){let n=await super.serializeRequest(t,r,o);return n.path.endsWith("/")||(n.path+="/"),Object.assign(n.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${t.name}`}),this.awsQueryCompatible&&(n.headers["x-amzn-query-mode"]="true"),(Uo(t.input)==="unit"||!n.body)&&(n.body="{}"),n}getPayloadCodec(){return this.codec}async handleError(t,r,o,n,s){this.awsQueryCompatible&&this.mixin.setQueryCompatError(n,o);let i=gc(o,n)??"Unknown",{errorSchema:a,errorMetadata:p}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,o,n,s,this.awsQueryCompatible?this.mixin.findQueryCompatibleError:void 0),u=N.of(a),d=n.message??n.Message??"Unknown",l=x.for(a[1]).getErrorCtor(a)??Error,m=new l(d),f={};for(let[h,g]of u.structIterator())n[h]!=null&&(f[h]=this.codec.createDeserializer().readObject(g,n[h]));throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(n,f),this.mixin.decorateServiceException(Object.assign(m,p,{$fault:u.getMergedTraits().error,message:d},f),n)}}});var Ec,bT=c(()=>{xc();Ec=class extends Os{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:o,jsonCodec:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:o,jsonCodec:n})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var _c,RT=c(()=>{xc();_c=class extends Os{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:o,jsonCodec:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:o,jsonCodec:n})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var Wo,vT=c(()=>{So();K();fc();Sc();_i();Wo=class extends qa{serializer;deserializer;codec;mixin=new Vo;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:7},httpBindings:!0,jsonName:!0};this.codec=new jo(r),this.serializer=new Qa(this.codec.createSerializer(),r),this.deserializer=new Ya(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,o){let n=await super.serializeRequest(t,r,o),s=N.of(t.input);if(!n.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),s);i&&(n.headers["content-type"]=i)}return n.body==null&&n.headers["content-type"]===this.getDefaultContentType()&&(n.body="{}"),n}async deserializeResponse(t,r,o){let n=await super.deserializeResponse(t,r,o),s=N.of(t.output);for(let[i,a]of s.structIterator())a.getMemberTraits().httpPayload&&!(i in n)&&(n[i]=null);return n}async handleError(t,r,o,n,s){let i=gc(o,n)??"Unknown",{errorSchema:a,errorMetadata:p}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,o,n,s),u=N.of(a),d=n.message??n.Message??"Unknown",l=x.for(a[1]).getErrorCtor(a)??Error,m=new l(d);await this.deserializeHttpMessage(a,r,o,n);let f={};for(let[h,g]of u.structIterator()){let y=g.getMergedTraits().jsonName??h;f[h]=this.codec.createDeserializer().readObject(g,n[y])}throw this.mixin.decorateServiceException(Object.assign(m,p,{$fault:u.getMergedTraits().error,message:d},f),n)}getDefaultContentType(){return"application/json"}}});var IT=c(()=>{});var AT=c(()=>{});var CT=c(()=>{});function Tc(e,t){let r=[],o=t.exec(e);for(;o;){let n=[];n.startIndex=t.lastIndex-o[0].length;let s=o.length;for(let i=0;i<s;i++)n.push(o[i]);r.push(n),o=t.exec(e)}return r}function OT(e){return typeof e<"u"}var PT,x$,E$,_$,Ti,wc=c(()=>{"use strict";PT=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",x$=PT+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",E$="["+PT+"]["+x$+"]*",_$=new RegExp("^"+E$+"$");Ti=function(e){let t=_$.exec(e);return!(t===null||typeof t>"u")}});function MT(e,t){t=Object.assign({},T$,t);let r=[],o=!1,n=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let s=0;s<e.length;s++)if(e[s]==="<"&&e[s+1]==="?"){if(s+=2,s=DT(e,s),s.err)return s}else if(e[s]==="<"){let i=s;if(s++,e[s]==="!"){s=kT(e,s);continue}else{let a=!1;e[s]==="/"&&(a=!0,s++);let p="";for(;s<e.length&&e[s]!==">"&&e[s]!==" "&&e[s]!=="	"&&e[s]!==`
`&&e[s]!=="\r";s++)p+=e[s];if(p=p.trim(),p[p.length-1]==="/"&&(p=p.substring(0,p.length-1),s--),!P$(p)){let l;return p.trim().length===0?l="Invalid space after '<'.":l="Tag '"+p+"' is an invalid name.",Se("InvalidTag",l,Qe(e,s))}let u=R$(e,s);if(u===!1)return Se("InvalidAttr","Attributes for '"+p+"' have open quote.",Qe(e,s));let d=u.value;if(s=u.index,d[d.length-1]==="/"){let l=s-d.length;d=d.substring(0,d.length-1);let m=$T(d,t);if(m===!0)o=!0;else return Se(m.err.code,m.err.msg,Qe(e,l+m.err.line))}else if(a)if(u.tagClosed){if(d.trim().length>0)return Se("InvalidTag","Closing tag '"+p+"' can't have attributes or invalid starting.",Qe(e,i));if(r.length===0)return Se("InvalidTag","Closing tag '"+p+"' has not been opened.",Qe(e,i));{let l=r.pop();if(p!==l.tagName){let m=Qe(e,l.tagStartPos);return Se("InvalidTag","Expected closing tag '"+l.tagName+"' (opened in line "+m.line+", col "+m.col+") instead of closing tag '"+p+"'.",Qe(e,i))}r.length==0&&(n=!0)}}else return Se("InvalidTag","Closing tag '"+p+"' doesn't have proper closing.",Qe(e,s));else{let l=$T(d,t);if(l!==!0)return Se(l.err.code,l.err.msg,Qe(e,s-d.length+l.err.line));if(n===!0)return Se("InvalidXml","Multiple possible root nodes found.",Qe(e,s));t.unpairedTags.indexOf(p)!==-1||r.push({tagName:p,tagStartPos:i}),o=!0}for(s++;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="!"){s++,s=kT(e,s);continue}else if(e[s+1]==="?"){if(s=DT(e,++s),s.err)return s}else break;else if(e[s]==="&"){let l=A$(e,s);if(l==-1)return Se("InvalidChar","char '&' is not expected.",Qe(e,s));s=l}else if(n===!0&&!NT(e[s]))return Se("InvalidXml","Extra text at the end",Qe(e,s));e[s]==="<"&&s--}}else{if(NT(e[s]))continue;return Se("InvalidChar","char '"+e[s]+"' is not expected.",Qe(e,s))}if(o){if(r.length==1)return Se("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",Qe(e,r[0].tagStartPos));if(r.length>0)return Se("InvalidXml","Invalid '"+JSON.stringify(r.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return Se("InvalidXml","Start tag expected.",1);return!0}function NT(e){return e===" "||e==="	"||e===`
`||e==="\r"}function DT(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let o=e.substr(r,t-r);if(t>5&&o==="xml")return Se("InvalidXml","XML declaration allowed only at the start of the document.",Qe(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function kT(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}function R$(e,t){let r="",o="",n=!1;for(;t<e.length;t++){if(e[t]===w$||e[t]===b$)o===""?o=e[t]:o!==e[t]||(o="");else if(e[t]===">"&&o===""){n=!0;break}r+=e[t]}return o!==""?!1:{value:r,index:t,tagClosed:n}}function $T(e,t){let r=Tc(e,v$),o={};for(let n=0;n<r.length;n++){if(r[n][1].length===0)return Se("InvalidAttr","Attribute '"+r[n][2]+"' has no space in starting.",wi(r[n]));if(r[n][3]!==void 0&&r[n][4]===void 0)return Se("InvalidAttr","Attribute '"+r[n][2]+"' is without value.",wi(r[n]));if(r[n][3]===void 0&&!t.allowBooleanAttributes)return Se("InvalidAttr","boolean attribute '"+r[n][2]+"' is not allowed.",wi(r[n]));let s=r[n][2];if(!C$(s))return Se("InvalidAttr","Attribute '"+s+"' is an invalid name.",wi(r[n]));if(!o.hasOwnProperty(s))o[s]=1;else return Se("InvalidAttr","Attribute '"+s+"' is repeated.",wi(r[n]))}return!0}function I$(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function A$(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,I$(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function Se(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function C$(e){return Ti(e)}function P$(e){return Ti(e)}function Qe(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function wi(e){return e.startIndex+e[1].length}var T$,w$,b$,v$,LT=c(()=>{"use strict";wc();T$={allowBooleanAttributes:!1,unpairedTags:[]};w$='"',b$="'";v$=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g")});var O$,UT,FT=c(()=>{O$={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e},captureMetaData:!1},UT=function(e){return Object.assign({},O$,e)}});var bc,Tt,Rc=c(()=>{"use strict";typeof Symbol!="function"?bc="@@xmlMetadata":bc=Symbol("XML Node Metadata");Tt=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t,r){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child}),r!==void 0&&(this.child[this.child.length-1][bc]={startIndex:r})}static getMetaDataSymbol(){return bc}}});function bl(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let o=1,n=!1,s=!1,i="";for(;t<e.length;t++)if(e[t]==="<"&&!s){if(n&&Bn(e,"!ENTITY",t)){t+=7;let a,p;[a,p,t]=N$(e,t+1),p.indexOf("&")===-1&&(r[a]={regx:RegExp(`&${a};`,"g"),val:p})}else if(n&&Bn(e,"!ELEMENT",t)){t+=8;let{index:a}=k$(e,t+1);t=a}else if(n&&Bn(e,"!ATTLIST",t))t+=8;else if(n&&Bn(e,"!NOTATION",t)){t+=9;let{index:a}=D$(e,t+1);t=a}else if(Bn(e,"!--",t))s=!0;else throw new Error("Invalid DOCTYPE");o++,i=""}else if(e[t]===">"){if(s?e[t-1]==="-"&&e[t-2]==="-"&&(s=!1,o--):o--,o===0)break}else e[t]==="["?n=!0:i+=e[t];if(o!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}function N$(e,t){t=zo(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t])&&e[t]!=='"'&&e[t]!=="'";)r+=e[t],t++;if(Rl(r),t=zo(e,t),e.substring(t,t+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(e[t]==="%")throw new Error("Parameter entities are not supported");let o="";return[t,o]=vc(e,t,"entity"),t--,[r,o,t]}function D$(e,t){t=zo(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;Rl(r),t=zo(e,t);let o=e.substring(t,t+6).toUpperCase();if(o!=="SYSTEM"&&o!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${o}"`);t+=o.length,t=zo(e,t);let n=null,s=null;if(o==="PUBLIC")[t,n]=vc(e,t,"publicIdentifier"),t=zo(e,t),(e[t]==='"'||e[t]==="'")&&([t,s]=vc(e,t,"systemIdentifier"));else if(o==="SYSTEM"&&([t,s]=vc(e,t,"systemIdentifier"),!s))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:r,publicIdentifier:n,systemIdentifier:s,index:--t}}function vc(e,t,r){let o="",n=e[t];if(n!=='"'&&n!=="'")throw new Error(`Expected quoted string, found "${n}"`);for(t++;t<e.length&&e[t]!==n;)o+=e[t],t++;if(e[t]!==n)throw new Error(`Unterminated ${r} value`);return t++,[t,o]}function k$(e,t){t=zo(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;if(!Rl(r))throw new Error(`Invalid element name: "${r}"`);t=zo(e,t);let o="";if(e[t]==="E"&&Bn(e,"MPTY",t))t+=4;else if(e[t]==="A"&&Bn(e,"NY",t))t+=2;else if(e[t]==="("){for(t++;t<e.length&&e[t]!==")";)o+=e[t],t++;if(e[t]!==")")throw new Error("Unterminated content model")}else throw new Error(`Invalid Element Expression, found "${e[t]}"`);return{elementName:r,contentModel:o.trim(),index:t}}function Bn(e,t,r){for(let o=0;o<t.length;o++)if(t[o]!==e[r+o+1])return!1;return!0}function Rl(e){if(Ti(e))return e;throw new Error(`Invalid entity name ${e}`)}var zo,BT=c(()=>{wc();zo=(e,t)=>{for(;t<e.length&&/\s/.test(e[t]);)t++;return t}});function vl(e,t={}){if(t=Object.assign({},L$,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(e==="0")return 0;if(t.hex&&$$.test(r))return G$(r,16);if(r.includes("e")||r.includes("E"))return F$(e,r,t);{let o=M$.exec(r);if(o){let n=o[1]||"",s=o[2],i=B$(o[3]),a=n?e[s.length+1]===".":e[s.length]===".";if(!t.leadingZeros&&(s.length>1||s.length===1&&!a))return e;{let p=Number(r),u=String(p);if(p===0)return p;if(u.search(/[eE]/)!==-1)return t.eNotation?p:e;if(r.indexOf(".")!==-1)return u==="0"||u===i||u===`${n}${i}`?p:e;let d=s?i:r;return s?d===u||n+d===u?p:e:d===u||d===n+u?p:e}}else return e}}function F$(e,t,r){if(!r.eNotation)return e;let o=t.match(U$);if(o){let n=o[1]||"",s=o[3].indexOf("e")===-1?"E":"e",i=o[2],a=n?e[i.length+1]===s:e[i.length]===s;return i.length>1&&a?e:i.length===1&&(o[3].startsWith(`.${s}`)||o[3][0]===s)?Number(t):r.leadingZeros&&!a?(t=(o[1]||"")+o[3],Number(t)):e}else return e}function B$(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substring(0,e.length-1))),e}function G$(e,t){if(parseInt)return parseInt(e,t);if(Number.parseInt)return Number.parseInt(e,t);if(window&&window.parseInt)return window.parseInt(e,t);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}var $$,M$,L$,U$,GT=c(()=>{$$=/^[-+]?0x[a-fA-F0-9]+$/,M$=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,L$={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};U$=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/});function Il(e){return typeof e=="function"?e:Array.isArray(e)?t=>{for(let r of e)if(typeof r=="string"&&t===r||r instanceof RegExp&&r.test(t))return!0}:()=>!1}var HT=c(()=>{});function H$(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let o=t[r];this.lastEntities[o]={regex:new RegExp("&"+o+";","g"),val:e[o]}}}function V$(e,t,r,o,n,s,i){if(e!==void 0&&(this.options.trimValues&&!o&&(e=e.trim()),e.length>0)){i||(e=this.replaceEntitiesValue(e));let a=this.options.tagValueProcessor(t,e,r,n,s);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?Cl(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?Cl(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function j$(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}function z$(e,t,r){if(this.options.ignoreAttributes!==!0&&typeof e=="string"){let o=Tc(e,W$),n=o.length,s={};for(let i=0;i<n;i++){let a=this.resolveNameSpace(o[i][1]);if(this.ignoreAttributesFn(a,t))continue;let p=o[i][4],u=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(u=this.options.transformAttributeName(u)),u==="__proto__"&&(u="#__proto__"),p!==void 0){this.options.trimValues&&(p=p.trim()),p=this.replaceEntitiesValue(p);let d=this.options.attributeValueProcessor(a,p,t);d==null?s[u]=p:typeof d!=typeof p||d!==p?s[u]=d:s[u]=Cl(p,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[u]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){let i={};return i[this.options.attributesGroupName]=s,i}return s}}function q$(e,t,r,o){this.options.captureMetaData||(o=void 0);let n=this.options.updateTag(t.tagname,r,t[":@"]);n===!1||(typeof n=="string"&&(t.tagname=n),e.addChild(t,o))}function Y$(e,t,r,o){return e&&(o===void 0&&(o=t.child.length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,o),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function X$(e,t,r){let o="*."+r;for(let n in e){let s=e[n];if(o===s||t===s)return!0}return!1}function Q$(e,t,r=">"){let o,n="";for(let s=t;s<e.length;s++){let i=e[s];if(o)i===o&&(o="");else if(i==='"'||i==="'")o=i;else if(i===r[0])if(r[1]){if(e[s+1]===r[1])return{data:n,index:s}}else return{data:n,index:s};else i==="	"&&(i=" ");n+=i}}function Gn(e,t,r,o){let n=e.indexOf(t,r);if(n===-1)throw new Error(o);return n+t.length-1}function Al(e,t,r,o=">"){let n=Q$(e,t+1,o);if(!n)return;let s=n.data,i=n.index,a=s.search(/\s/),p=s,u=!0;a!==-1&&(p=s.substring(0,a),s=s.substring(a+1).trimStart());let d=p;if(r){let l=p.indexOf(":");l!==-1&&(p=p.substr(l+1),u=p!==n.data.substr(l+1))}return{tagName:p,tagExp:s,closeIndex:i,attrExpPresent:u,rawTagName:d}}function Z$(e,t,r){let o=r,n=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let s=Gn(e,">",r,`${t} is not closed`);if(e.substring(r+2,s).trim()===t&&(n--,n===0))return{tagContent:e.substring(o,r),i:s};r=s}else if(e[r+1]==="?")r=Gn(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=Gn(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=Gn(e,"]]>",r,"StopNode is not closed.")-2;else{let s=Al(e,r,">");s&&((s&&s.tagName)===t&&s.tagExp[s.tagExp.length-1]!=="/"&&n++,r=s.closeIndex)}}function Cl(e,t,r){if(t&&typeof e=="string"){let o=e.trim();return o==="true"?!0:o==="false"?!1:vl(e,r)}else return OT(e)?e:""}var bi,W$,K$,J$,VT=c(()=>{"use strict";wc();Rc();BT();GT();HT();bi=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(r,o)=>String.fromCodePoint(Number.parseInt(o,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(r,o)=>String.fromCodePoint(Number.parseInt(o,16))}},this.addExternalEntities=H$,this.parseXml=K$,this.parseTextData=V$,this.resolveNameSpace=j$,this.buildAttributesMap=z$,this.isItStopNode=X$,this.replaceEntitiesValue=J$,this.readStopNodeData=Z$,this.saveTextToParentTag=Y$,this.addChild=q$,this.ignoreAttributesFn=Il(this.options.ignoreAttributes)}};W$=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");K$=function(e){e=e.replace(/\r\n?/g,`
`);let t=new Tt("!xml"),r=t,o="",n="";for(let s=0;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="/"){let a=Gn(e,">",s,"Closing Tag is not closed."),p=e.substring(s+2,a).trim();if(this.options.removeNSPrefix){let l=p.indexOf(":");l!==-1&&(p=p.substr(l+1))}this.options.transformTagName&&(p=this.options.transformTagName(p)),r&&(o=this.saveTextToParentTag(o,r,n));let u=n.substring(n.lastIndexOf(".")+1);if(p&&this.options.unpairedTags.indexOf(p)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${p}>`);let d=0;u&&this.options.unpairedTags.indexOf(u)!==-1?(d=n.lastIndexOf(".",n.lastIndexOf(".")-1),this.tagsNodeStack.pop()):d=n.lastIndexOf("."),n=n.substring(0,d),r=this.tagsNodeStack.pop(),o="",s=a}else if(e[s+1]==="?"){let a=Al(e,s,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(o=this.saveTextToParentTag(o,r,n),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let p=new Tt(a.tagName);p.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(p[":@"]=this.buildAttributesMap(a.tagExp,n,a.tagName)),this.addChild(r,p,n,s)}s=a.closeIndex+1}else if(e.substr(s+1,3)==="!--"){let a=Gn(e,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){let p=e.substring(s+4,a-2);o=this.saveTextToParentTag(o,r,n),r.add(this.options.commentPropName,[{[this.options.textNodeName]:p}])}s=a}else if(e.substr(s+1,2)==="!D"){let a=bl(e,s);this.docTypeEntities=a.entities,s=a.i}else if(e.substr(s+1,2)==="!["){let a=Gn(e,"]]>",s,"CDATA is not closed.")-2,p=e.substring(s+9,a);o=this.saveTextToParentTag(o,r,n);let u=this.parseTextData(p,r.tagname,n,!0,!1,!0,!0);u==null&&(u=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:p}]):r.add(this.options.textNodeName,u),s=a+2}else{let a=Al(e,s,this.options.removeNSPrefix),p=a.tagName,u=a.rawTagName,d=a.tagExp,l=a.attrExpPresent,m=a.closeIndex;this.options.transformTagName&&(p=this.options.transformTagName(p)),r&&o&&r.tagname!=="!xml"&&(o=this.saveTextToParentTag(o,r,n,!1));let f=r;f&&this.options.unpairedTags.indexOf(f.tagname)!==-1&&(r=this.tagsNodeStack.pop(),n=n.substring(0,n.lastIndexOf("."))),p!==t.tagname&&(n+=n?"."+p:p);let h=s;if(this.isItStopNode(this.options.stopNodes,n,p)){let g="";if(d.length>0&&d.lastIndexOf("/")===d.length-1)p[p.length-1]==="/"?(p=p.substr(0,p.length-1),n=n.substr(0,n.length-1),d=p):d=d.substr(0,d.length-1),s=a.closeIndex;else if(this.options.unpairedTags.indexOf(p)!==-1)s=a.closeIndex;else{let _=this.readStopNodeData(e,u,m+1);if(!_)throw new Error(`Unexpected end of ${u}`);s=_.i,g=_.tagContent}let y=new Tt(p);p!==d&&l&&(y[":@"]=this.buildAttributesMap(d,n,p)),g&&(g=this.parseTextData(g,p,n,!0,l,!0,!0)),n=n.substr(0,n.lastIndexOf(".")),y.add(this.options.textNodeName,g),this.addChild(r,y,n,h)}else{if(d.length>0&&d.lastIndexOf("/")===d.length-1){p[p.length-1]==="/"?(p=p.substr(0,p.length-1),n=n.substr(0,n.length-1),d=p):d=d.substr(0,d.length-1),this.options.transformTagName&&(p=this.options.transformTagName(p));let g=new Tt(p);p!==d&&l&&(g[":@"]=this.buildAttributesMap(d,n,p)),this.addChild(r,g,n,h),n=n.substr(0,n.lastIndexOf("."))}else{let g=new Tt(p);this.tagsNodeStack.push(r),p!==d&&l&&(g[":@"]=this.buildAttributesMap(d,n,p)),this.addChild(r,g,n,h),r=g}o="",s=m}}else o+=e[s];return t.child};J$=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e}});function Ol(e,t){return jT(e,t)}function jT(e,t,r){let o,n={};for(let s=0;s<e.length;s++){let i=e[s],a=eM(i),p="";if(r===void 0?p=a:p=r+"."+a,a===t.textNodeName)o===void 0?o=i[a]:o+=""+i[a];else{if(a===void 0)continue;if(i[a]){let u=jT(i[a],t,p),d=rM(u,t);i[Pl]!==void 0&&(u[Pl]=i[Pl]),i[":@"]?tM(u,i[":@"],p,t):Object.keys(u).length===1&&u[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?u=u[t.textNodeName]:Object.keys(u).length===0&&(t.alwaysCreateTextNode?u[t.textNodeName]="":u=""),n[a]!==void 0&&n.hasOwnProperty(a)?(Array.isArray(n[a])||(n[a]=[n[a]]),n[a].push(u)):t.isArray(a,p,d)?n[a]=[u]:n[a]=u}}}return typeof o=="string"?o.length>0&&(n[t.textNodeName]=o):o!==void 0&&(n[t.textNodeName]=o),n}function eM(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let o=t[r];if(o!==":@")return o}}function tM(e,t,r,o){if(t){let n=Object.keys(t),s=n.length;for(let i=0;i<s;i++){let a=n[i];o.isArray(a,r+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function rM(e,t){let{textNodeName:r}=t,o=Object.keys(e).length;return!!(o===0||o===1&&(e[r]||typeof e[r]=="boolean"||e[r]===0))}var Pl,WT=c(()=>{"use strict";Rc();Pl=Tt.getMetaDataSymbol()});var Ns,zT=c(()=>{FT();VT();WT();LT();Rc();Ns=class{constructor(t){this.externalEntities={},this.options=UT(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let s=MT(t,r);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}let o=new bi(this.options);o.addExternalEntities(this.externalEntities);let n=o.parseXml(t);return this.options.preserveOrder||n===void 0?n:Ol(n,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}static getMetaDataSymbol(){return Tt.getMetaDataSymbol()}}});var KT=c(()=>{"use strict";zT()});function Dl(e){return Nl.parse(e,!0)}var Nl,qT=c(()=>{KT();Nl=new Ns({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,t)=>t.trim()===""&&t.includes(`
`)?"":void 0});Nl.addEntity("#xD","\r");Nl.addEntity("#10",`
`)});var JT=c(()=>{CT();AT();qT()});var Ic,kl=c(()=>{JT();So();K();P();ge();Is();_l();Ic=class extends or{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new ws(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,o){let n=N.of(t),s=n.getMemberSchemas();if(n.isStructSchema()&&n.isMemberSchema()&&!!Object.values(s).find(u=>!!u.getMemberTraits().eventPayload)){let u={},d=Object.keys(s)[0];return s[d].isBlobSchema()?u[d]=r:u[d]=this.read(s[d],r),u}let a=(this.serdeContext?.utf8Encoder??ie)(r),p=this.parseXml(a);return this.readSchema(t,o?p[o]:p)}readSchema(t,r){let o=N.of(t);if(o.isUnitSchema())return;let n=o.getMergedTraits();if(o.isListSchema()&&!Array.isArray(r))return this.readSchema(o,[r]);if(r==null)return r;if(typeof r=="object"){let s=!!n.sparse,i=!!n.xmlFlattened;if(o.isListSchema()){let p=o.getValueSchema(),u=[],d=p.getMergedTraits().xmlName??"member",l=i?r:(r[0]??r)[d],m=Array.isArray(l)?l:[l];for(let f of m)(f!=null||s)&&u.push(this.readSchema(p,f));return u}let a={};if(o.isMapSchema()){let p=o.getKeySchema(),u=o.getValueSchema(),d;i?d=Array.isArray(r)?r:[r]:d=Array.isArray(r.entry)?r.entry:[r.entry];let l=p.getMergedTraits().xmlName??"key",m=u.getMergedTraits().xmlName??"value";for(let f of d){let h=f[l],g=f[m];(g!=null||s)&&(a[h]=this.readSchema(u,g))}return a}if(o.isStructSchema()){let p=o.isUnionSchema(),u;p&&(u=new As(r,a));for(let[d,l]of o.structIterator()){let m=l.getMergedTraits(),f=m.httpPayload?m.xmlName??l.getName():l.getMemberTraits().xmlName??d;p&&u.mark(f),r[f]!=null&&(a[d]=this.readSchema(l,r[f]))}return p&&u.writeUnknown(),a}if(o.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${o.getName(!0)}`)}return o.isListSchema()?[]:o.isMapSchema()||o.isStructSchema()?{}:this.stringDeserializer.read(o,r)}parseXml(t){if(t.length){let r;try{r=Dl(t)}catch(i){throw i&&typeof i=="object"&&Object.defineProperty(i,"$responseBodyText",{value:t}),i}let o="#text",n=Object.keys(r)[0],s=r[n];return s[o]&&(s[n]=s[o],delete s[o]),El(s)}return{}}}});var Ac,YT=c(()=>{So();K();Wr();P();He();Is();hc();Ac=class extends or{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,o=""){this.buffer===void 0&&(this.buffer="");let n=N.of(t);if(o&&!o.endsWith(".")&&(o+="."),n.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(o),this.writeValue((this.serdeContext?.base64Encoder??ae)(r)));else if(n.isBooleanSchema()||n.isNumericSchema()||n.isStringSchema())r!=null?(this.writeKey(o),this.writeValue(String(r))):n.isIdempotencyToken()&&(this.writeKey(o),this.writeValue(go()));else if(n.isBigIntegerSchema())r!=null&&(this.writeKey(o),this.writeValue(String(r)));else if(n.isBigDecimalSchema())r!=null&&(this.writeKey(o),this.writeValue(r instanceof ve?r.string:String(r)));else if(n.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(o),Kr(n,this.settings)){case 5:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue(xs(r));break;case 7:this.writeValue(String(r.getTime()/1e3));break}}else if(n.isDocumentSchema())Array.isArray(r)?this.write(79,r,o):r instanceof Date?this.write(4,r,o):r instanceof Uint8Array?this.write(21,r,o):r&&typeof r=="object"?this.write(143,r,o):(this.writeKey(o),this.writeValue(String(r)));else if(n.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(o),this.writeValue(""));else{let s=n.getValueSchema(),i=this.settings.flattenLists||n.getMergedTraits().xmlFlattened,a=1;for(let p of r){if(p==null)continue;let u=this.getKey("member",s.getMergedTraits().xmlName),d=i?`${o}${a}`:`${o}${u}.${a}`;this.write(s,p,d),++a}}}else if(n.isMapSchema()){if(r&&typeof r=="object"){let s=n.getKeySchema(),i=n.getValueSchema(),a=n.getMergedTraits().xmlFlattened,p=1;for(let[u,d]of Object.entries(r)){if(d==null)continue;let l=this.getKey("key",s.getMergedTraits().xmlName),m=a?`${o}${p}.${l}`:`${o}entry.${p}.${l}`,f=this.getKey("value",i.getMergedTraits().xmlName),h=a?`${o}${p}.${f}`:`${o}entry.${p}.${f}`;this.write(s,u,m),this.write(i,d,h),++p}}}else if(n.isStructSchema()){if(r&&typeof r=="object"){let s=!1;for(let[i,a]of mc(n,r)){if(r[i]==null&&!a.isIdempotencyToken())continue;let p=this.getKey(i,a.getMergedTraits().xmlName),u=`${o}${p}`;this.write(a,r[i],u),s=!0}if(!s&&n.isUnionSchema()){let{$unknown:i}=r;if(Array.isArray(i)){let[a,p]=i,u=`${o}${a}`;this.write(15,p,u)}}}}else if(!n.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${n.getName(!0)}`)}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let o=r??t;return this.settings.capitalizeKeys?o[0].toUpperCase()+o.slice(1):o}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${gs(t)}=`}writeValue(t){this.buffer+=gs(t)}}});var Cc,XT=c(()=>{So();K();fc();kl();YT();Cc=class extends Ts{options;serializer;deserializer;mixin=new Vo;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new Ac(r),this.deserializer=new Ic(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,o){let n=await super.serializeRequest(t,r,o);n.path.endsWith("/")||(n.path+="/"),Object.assign(n.headers,{"content-type":"application/x-www-form-urlencoded"}),(Uo(t.input)==="unit"||!n.body)&&(n.body="");let s=t.name.split("#")[1]??t.name;return n.body=`Action=${s}&Version=${this.options.version}`+n.body,n.body.endsWith("&")&&(n.body=n.body.slice(-1)),n}async deserializeResponse(t,r,o){let n=this.deserializer,s=N.of(t.output),i={};if(o.statusCode>=300){let l=await at(o.body,r);l.byteLength>0&&Object.assign(i,await n.read(15,l)),await this.handleError(t,r,o,i,this.deserializeMetadata(o))}for(let l in o.headers){let m=o.headers[l];delete o.headers[l],o.headers[l.toLowerCase()]=m}let a=t.name.split("#")[1]??t.name,p=s.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,u=await at(o.body,r);return u.byteLength>0&&Object.assign(i,await n.read(s,u,p)),{$metadata:this.deserializeMetadata(o),...i}}useNestedResult(){return!0}async handleError(t,r,o,n,s){let i=this.loadQueryErrorCode(o,n)??"Unknown",a=this.loadQueryError(n),p=this.loadQueryErrorMessage(n);a.message=p,a.Error={Type:a.Type,Code:a.Code,Message:p};let{errorSchema:u,errorMetadata:d}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,o,a,s,this.mixin.findQueryCompatibleError),l=N.of(u),m=x.for(u[1]).getErrorCtor(u)??Error,f=new m(p),h={Type:a.Error.Type,Code:a.Error.Code,Error:a.Error};for(let[g,y]of l.structIterator()){let _=y.getMergedTraits().xmlName??g,R=a[_]??n[_];h[g]=this.deserializer.readSchema(y,R)}throw this.mixin.decorateServiceException(Object.assign(f,d,{$fault:l.getMergedTraits().error,message:p},h),n)}loadQueryErrorCode(t,r){let o=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(o!==void 0)return o;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var QT=c(()=>{});var ZT=c(()=>{});var ew=c(()=>{});var tw=c(()=>{});var rw=c(()=>{});var _o=c(()=>{mT();hT();bT();RT();xc();vT();Sc();Tl();wl();IT();_i();QT();XT();rw();tw();kl();ew();ZT()});var we=c(()=>{ke();M_();_o()});async function ow(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&kr(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let s=await t.retryStrategy();typeof s.acquireInitialRetryToken=="function"?s.constructor?.name?.includes("Adaptive")?kr(e,"RETRY_MODE_ADAPTIVE","F"):kr(e,"RETRY_MODE_STANDARD","E"):kr(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let s=e.endpointV2;switch(String(s?.url?.hostname).match(oM)&&kr(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":kr(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":kr(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":kr(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let n=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(n?.$source){let s=n;s.accountId&&kr(e,"RESOLVED_ACCOUNT_ID","T");for(let[i,a]of Object.entries(s.$source??{}))kr(e,i,a)}}var oM,nw=c(()=>{we();oM=/\d{12}\.ddb/});var $l,Pc,Ml,Oc,sw,iw,Ll,aw=c(()=>{$l="user-agent",Pc="x-amz-user-agent",Ml=" ",Oc="/",sw=/[^!$%&'*+\-.^_`|~\w]/g,iw=/[^!$%&'*+\-.^_`|~\w#]/g,Ll="-"});function cw(e){let t="";for(let r in e){let o=e[r];if(t.length+o.length+1<=1024){t.length?t+=","+o:t+=o;continue}break}return t}var pw=c(()=>{});var nM,Nc,sM,nr,uw=c(()=>{Fo();ue();nw();aw();pw();nM=e=>(t,r)=>async o=>{let{request:n}=o;if(!J.isInstance(n))return t(o);let{headers:s}=n,i=r?.userAgent?.map(Nc)||[],a=(await e.defaultUserAgentProvider()).map(Nc);await ow(r,e,o);let p=r;a.push(`m/${cw(Object.assign({},r.__smithy_context?.features,p.__aws_sdk_context?.features))}`);let u=e?.customUserAgent?.map(Nc)||[],d=await e.userAgentAppId();d&&a.push(Nc(["app",`${d}`]));let l=yE(),m=(l?[l]:[]).concat([...a,...i,...u]).join(Ml),f=[...a.filter(h=>h.startsWith("aws-sdk-")),...u].join(Ml);return e.runtime!=="browser"?(f&&(s[Pc]=s[Pc]?`${s[$l]} ${f}`:f),s[$l]=m):s[Pc]=m,t({...o,request:n})},Nc=e=>{let t=e[0].split(Oc).map(i=>i.replace(sw,Ll)).join(Oc),r=e[1]?.replace(iw,Ll),o=t.indexOf(Oc),n=t.substring(0,o),s=t.substring(o+1);return n==="api"&&(s=s.toLowerCase()),[n,s,r].filter(i=>i&&i.length>0).reduce((i,a,p)=>{switch(p){case 0:return a;case 1:return`${i}/${a}`;default:return`${i}#${a}`}},"")},sM={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},nr=e=>({applyToStack:t=>{t.add(nM(e),sM)}})});var Ko=c(()=>{fx();uw()});var Ds,dw=c(()=>{Ds=(e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}}});var lw=c(()=>{});var qo,fw=c(()=>{(function(e){e.ENV="env",e.CONFIG="shared config entry"})(qo||(qo={}))});var Ul=c(()=>{dw();lw();fw()});var iM,aM,sr,mw=c(()=>{Ul();iM="AWS_USE_DUALSTACK_ENDPOINT",aM="use_dualstack_endpoint",sr={environmentVariableSelector:e=>Ds(e,iM,qo.ENV),configFileSelector:e=>Ds(e,aM,qo.CONFIG),default:!1}});var cM,pM,ir,hw=c(()=>{Ul();cM="AWS_USE_FIPS_ENDPOINT",pM="use_fips_endpoint",ir={environmentVariableSelector:e=>Ds(e,cM,qo.ENV),configFileSelector:e=>Ds(e,pM,qo.CONFIG),default:!1}});var gw=c(()=>{});var yw=c(()=>{});var Sw=c(()=>{mw();hw();gw();yw()});var uM,dM,ze,lt,xw=c(()=>{uM="AWS_REGION",dM="region",ze={environmentVariableSelector:e=>e[uM],configFileSelector:e=>e[dM],default:()=>{throw new Error("Region is missing")}},lt={preferredFile:"credentials"}});var Ew,_w,Tw=c(()=>{Dr();Ew=new Set,_w=(e,t=Ln)=>{if(!Ew.has(e)&&!t(e))if(e==="*")console.warn('@smithy/config-resolver WARN - Please use the caller region instead of "*". See "sigv4a" in https://github.com/aws/aws-sdk-js-v3/blob/main/supplemental-docs/CLIENTS.md.');else throw new Error(`Region not accepted: region="${e}" is not a valid hostname component.`);else Ew.add(e)}});var Dc,Fl=c(()=>{Dc=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips"))});var ww,bw=c(()=>{Fl();ww=e=>Dc(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e});var ar,Rw=c(()=>{Tw();bw();Fl();ar=e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{let o=typeof t=="function"?await t():t,n=ww(o);return _w(n),n},useFipsEndpoint:async()=>{let o=typeof t=="string"?t:await t();return Dc(o)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})}});var vw=c(()=>{xw();Rw()});var Iw=c(()=>{});var Aw=c(()=>{});var Cw=c(()=>{});var Pw=c(()=>{Iw();Aw();Cw()});var Ze=c(()=>{Sw();vw();Pw()});function lM(e){return t=>async r=>{let o=r.request;if(J.isInstance(o)){let{body:n,headers:s}=o;if(n&&Object.keys(s).map(i=>i.toLowerCase()).indexOf(Ow)===-1)try{let i=e(n);o.headers={...o.headers,[Ow]:String(i)}}catch{}}return t({...r,request:o})}}var Ow,fM,cr,Hn=c(()=>{ue();Ow="content-length";fM={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},cr=e=>({applyToStack:t=>{t.add(lM(e.bodyLengthChecker),fM)}})});var Nw,mM,hM,gM,yM,SM,Dw=c(()=>{Nw=async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),SM(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!yM(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},mM=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,hM=/(\d+\.){3}\d+/,gM=/\.\./,yM=e=>mM.test(e)&&!hM.test(e)&&!gM.test(e),SM=e=>{let[t,r,o,,,n]=e.split(":"),s=t==="arn"&&e.split(":").length>=6,i=!!(s&&r&&o&&n);if(s&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i}});var kw=c(()=>{Dw()});var $w,Mw=c(()=>{$w=(e,t,r,o=!1)=>{let n=async()=>{let s;return o?s=r.clientContextParams?.[e]??r[e]??r[t]:s=r[e]??r[t],typeof s=="function"?s():s};return e==="credentialScope"||t==="CredentialScope"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.credentialScope??s?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.accountId??s?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let s=await n();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){let{protocol:i,hostname:a,port:p,path:u}=s;return`${i}//${a}${p?":"+p:""}${u}`}}return s}:n}});function kc(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}var Bl=c(()=>{});var Lw,Uw=c(()=>{Z();Bl();Lw=(e,t)=>async()=>{try{let r=e(process.env,t);if(r===void 0)throw new Error;return r}catch(r){throw new b(r.message||`Not found in ENV: ${kc(e.toString())}`,{logger:t?.logger})}}});import{homedir as xM}from"os";import{sep as EM}from"path";var Gl,_M,Jo,ks=c(()=>{Gl={},_M=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",Jo=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:o=`C:${EM}`}=process.env;if(e)return e;if(t)return t;if(r)return`${o}${r}`;let n=_M();return Gl[n]||(Gl[n]=xM()),Gl[n]}});var Hl,TM,ft,Fw=c(()=>{Hl="AWS_PROFILE",TM="default",ft=e=>e.profile||process.env[Hl]||TM});import{createHash as wM}from"crypto";import{join as bM}from"path";var $c,Vl=c(()=>{ks();$c=e=>{let r=wM("sha1").update(e).digest("hex");return bM(Jo(),".aws","sso","cache",`${r}.json`)}});import{readFile as RM}from"fs/promises";var Ri,vi,jl=c(()=>{Vl();Ri={},vi=async e=>{if(Ri[e])return Ri[e];let t=$c(e),r=await RM(t,"utf8");return JSON.parse(r)}});var wt,Mc=c(()=>{wt="."});var Bw,Gw=c(()=>{Lo();Mc();Bw=e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(wt);return r===-1?!1:Object.values(lo).includes(t.substring(0,r))}).reduce((t,[r,o])=>{let n=r.indexOf(wt),s=r.substring(0,n)===lo.PROFILE?r.substring(n+1):r;return t[s]=o,t},{...e.default&&{default:e.default}})});import{join as vM}from"path";var IM,Lc,Wl=c(()=>{ks();IM="AWS_CONFIG_FILE",Lc=()=>process.env[IM]||vM(Jo(),".aws","config")});import{join as AM}from"path";var CM,Hw,Vw=c(()=>{ks();CM="AWS_SHARED_CREDENTIALS_FILE",Hw=()=>process.env[CM]||AM(Jo(),".aws","credentials")});var PM,OM,Ii,zl=c(()=>{Lo();Mc();PM=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,OM=["__proto__","profile __proto__"],Ii=e=>{let t={},r,o;for(let n of e.split(/\r?\n/)){let s=n.split(/(^|\s)[;#]/)[0].trim();if(s[0]==="["&&s[s.length-1]==="]"){r=void 0,o=void 0;let a=s.substring(1,s.length-1),p=PM.exec(a);if(p){let[,u,,d]=p;Object.values(lo).includes(u)&&(r=[u,d].join(wt))}else r=a;if(OM.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=s.indexOf("=");if(![0,-1].includes(a)){let[p,u]=[s.substring(0,a).trim(),s.substring(a+1).trim()];if(u==="")o=p;else{o&&n.trimStart()===n&&(o=void 0),t[r]=t[r]||{};let d=o?[o,p].join(wt):p;t[r][d]=u}}}}return t}});import{readFile as NM}from"node:fs/promises";var Kl,Ai,Yo,Ci=c(()=>{Kl={},Ai={},Yo=(e,t)=>Ai[e]!==void 0?Ai[e]:((!Kl[e]||t?.ignoreCache)&&(Kl[e]=NM(e,"utf8")),Kl[e])});import{join as jw}from"path";var Ww,Uc,Fc=c(()=>{Gw();Wl();Vw();ks();zl();Ci();Mc();Ww=()=>({}),Uc=async(e={})=>{let{filepath:t=Hw(),configFilepath:r=Lc()}=e,o=Jo(),n="~/",s=t;t.startsWith(n)&&(s=jw(o,t.slice(2)));let i=r;r.startsWith(n)&&(i=jw(o,r.slice(2)));let a=await Promise.all([Yo(i,{ignoreCache:e.ignoreCache}).then(Ii).then(Bw).catch(Ww),Yo(s,{ignoreCache:e.ignoreCache}).then(Ii).catch(Ww)]);return{configFile:a[0],credentialsFile:a[1]}}});var zw,Kw=c(()=>{Lo();Fc();zw=e=>Object.entries(e).filter(([t])=>t.startsWith(lo.SSO_SESSION+wt)).reduce((t,[r,o])=>({...t,[r.substring(r.indexOf(wt)+1)]:o}),{})});var DM,Bc,qw=c(()=>{Wl();Kw();zl();Ci();DM=()=>({}),Bc=async(e={})=>Yo(e.configFilepath??Lc()).then(Ii).then(zw).catch(DM)});var Jw,Yw=c(()=>{Jw=(...e)=>{let t={};for(let r of e)for(let[o,n]of Object.entries(r))t[o]!==void 0?Object.assign(t[o],n):t[o]=n;return t}});var qr,Xw=c(()=>{Fc();Yw();qr=async e=>{let t=await Uc(e);return Jw(t.configFile,t.credentialsFile)}});var Pi,Qw=c(()=>{jl();Ci();Pi={getFileRecord(){return Ai},interceptFile(e,t){Ai[e]=Promise.resolve(t)},getTokenRecord(){return Ri},interceptToken(e,t){Ri[e]=t}}});var Zw=c(()=>{});var et=c(()=>{ks();Fw();Vl();jl();Fc();qw();Xw();Qw();Zw();Ci()});var eb,tb=c(()=>{Z();et();Bl();eb=(e,{preferredFile:t="config",...r}={})=>async()=>{let o=ft(r),{configFile:n,credentialsFile:s}=await Uc(r),i=s[o]||{},a=n[o]||{},p=t==="config"?{...i,...a}:{...a,...i};try{let d=e(p,t==="config"?n:s);if(d===void 0)throw new Error;return d}catch(u){throw new b(u.message||`Not found in config files w/ profile [${o}]: ${kc(e.toString())}`,{logger:r.logger})}}});var kM,rb,ob=c(()=>{Z();kM=e=>typeof e=="function",rb=e=>kM(e)?async()=>await e():YE(e)});var v,nb=c(()=>{Z();Uw();tb();ob();v=({environmentVariableSelector:e,configFileSelector:t,default:r},o={})=>{let{signingName:n,logger:s}=o;return sc(Rs(Lw(e,{signingName:n,logger:s}),eb(t,o),rb(r)))}});var pr=c(()=>{nb()});var sb,ib,ab,cb=c(()=>{et();sb="AWS_ENDPOINT_URL",ib="endpoint_url",ab=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(s=>s.toUpperCase()),o=t[[sb,...r].join("_")];if(o)return o;let n=t[sb];if(n)return n},configFileSelector:(t,r)=>{if(r&&t.services){let n=r[["services",t.services].join(wt)];if(n){let s=e.split(" ").map(a=>a.toLowerCase()),i=n[[s.join("_"),ib].join(wt)];if(i)return i}}let o=t[ib];if(o)return o},default:void 0})});var Gc,ql=c(()=>{pr();cb();Gc=async e=>v(ab(e??""))()});var Hc,Vc=c(()=>{Eo();Hc=e=>typeof e=="object"?"url"in e?Ie(e.url):e:Ie(e)});var pb,$M,Jl=c(()=>{kw();Mw();ql();Vc();pb=async(e,t,r,o)=>{if(!r.isCustomEndpoint){let i;r.serviceConfiguredEndpoint?i=await r.serviceConfiguredEndpoint():i=await Gc(r.serviceId),i&&(r.endpoint=()=>Promise.resolve(Hc(i)),r.isCustomEndpoint=!0)}let n=await $M(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(n,o)},$M=async(e,t,r)=>{let o={},n=t?.getEndpointParameterInstructions?.()||{};for(let[s,i]of Object.entries(n))switch(i.type){case"staticContextParams":o[s]=i.value;break;case"contextParams":o[s]=e[i.name];break;case"clientContextParams":case"builtInParams":o[s]=await $w(i.name,s,r,i.type!=="builtInParams")();break;case"operationContextParams":o[s]=i.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}return Object.keys(n).length===0&&Object.assign(o,r),String(r.serviceId).toLowerCase()==="s3"&&await Nw(o),o}});var ub=c(()=>{Jl();Vc()});var db,Yl=c(()=>{Ne();Ge();Jl();db=({config:e,instructions:t})=>(r,o)=>async n=>{e.isCustomEndpoint&&rx(o,"ENDPOINT_OVERRIDE","N");let s=await pb(n.input,{getEndpointParameterInstructions(){return t}},{...e},o);o.endpointV2=s,o.authSchemes=s.properties?.authSchemes;let i=o.authSchemes?.[0];if(i){o.signing_region=i.signingRegion,o.signing_service=i.signingName;let p=fe(o)?.selectedHttpAuthScheme?.httpAuthOption;p&&(p.signingProperties=Object.assign(p.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return r({...n})}});var MM,me,lb=c(()=>{fd();Yl();MM={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:$a.name},me=(e,t)=>({applyToStack:r=>{r.addRelativeTo(db({config:e,instructions:t}),MM)}})});var ur,fb=c(()=>{Ge();ql();Vc();ur=e=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:o,useFipsEndpoint:n}=e,s=r!=null?async()=>Hc(await Y(r)()):void 0,a=Object.assign(e,{endpoint:s,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:Y(o??!1),useFipsEndpoint:Y(n??!1)}),p;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!p&&(p=Gc(e.serviceId)),p),a}});var mb=c(()=>{});var hb=c(()=>{});var Ae=c(()=>{ub();Yl();lb();fb();mb();hb()});var To,$s,mt,jc=c(()=>{(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(To||(To={}));$s=3,mt=To.STANDARD});var gb,yb,Sb,xb,Eb,_b=c(()=>{gb=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],yb=["TimeoutError","RequestTimeout","RequestTimeoutException"],Sb=[500,502,503,504],xb=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],Eb=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"]});var LM,UM,FM,Wc,zc,Tb,Xl=c(()=>{_b();LM=e=>e?.$retryable!==void 0,UM=e=>e.$metadata?.clockSkewCorrected,FM=e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},Wc=e=>e.$metadata?.httpStatusCode===429||gb.includes(e.name)||e.$retryable?.throttling==!0,zc=(e,t=0)=>LM(e)||UM(e)||yb.includes(e.name)||xb.includes(e?.code||"")||Eb.includes(e?.code||"")||Sb.includes(e.$metadata?.httpStatusCode||0)||FM(e)||e.cause!==void 0&&t<=10&&zc(e.cause,t+1),Tb=e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!zc(e)}return!1}});var Kc,Ql=c(()=>{Xl();Kc=class e{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(t){this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(o=>e.setTimeoutFn(o,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),Wc(t)){let n=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=n,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(n),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let o=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(o)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let o=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(o*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}}});var wb,bb,Rb=c(()=>{wb="amz-sdk-invocation-id",bb="amz-sdk-request"});var Ib,Ab=c(()=>{Ib=()=>{let e=100;return{computeNextBackoffDelay:o=>Math.floor(Math.min(2e4,Math.random()*2**o*e)),setDelayBase:o=>{e=o}}}});var Zl,Cb=c(()=>{Zl=({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(2e4,e),getRetryCost:()=>r})});var Ms,ef=c(()=>{jc();Ab();Cb();Ms=class{maxAttempts;mode=To.STANDARD;capacity=500;retryBackoffStrategy=Ib();maxAttemptsProvider;constructor(t){this.maxAttempts=t,this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return Zl({retryDelay:100,retryCount:0})}async refreshRetryTokenForRetry(t,r){let o=await this.getMaxAttempts();if(this.shouldRetry(t,r,o)){let n=r.errorType;this.retryBackoffStrategy.setDelayBase(n==="THROTTLING"?500:100);let s=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),i=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,s):s,a=this.getCapacityCost(n);return this.capacity-=a,Zl({retryDelay:i,retryCount:t.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(500,this.capacity+(t.getRetryCost()??1))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${$s}`),$s}}shouldRetry(t,r,o){return t.getRetryCount()+1<o&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?10:5}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}}});var qc,Pb=c(()=>{jc();Ql();ef();qc=class{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=To.ADAPTIVE;constructor(t,r){this.maxAttemptsProvider=t;let{rateLimiter:o}=r??{};this.rateLimiter=o??new Kc,this.standardRetryStrategy=new Ms(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}}});var Ob=c(()=>{});var Nb=c(()=>{});var wo=c(()=>{Pb();Ob();Ql();ef();jc();Rb();Nb()});var Db=c(()=>{});var kb=c(()=>{});var $b,Mb=c(()=>{$b=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`)});var Lb=c(()=>{});var Ub=c(()=>{});var Fb,Bb,dr,lr,HM,VM,fr,Gb=c(()=>{Ge();wo();Fb="AWS_MAX_ATTEMPTS",Bb="max_attempts",dr={environmentVariableSelector:e=>{let t=e[Fb];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${Fb} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[Bb];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${Bb} mast be a number, got "${t}"`);return r},default:$s},lr=e=>{let{retryStrategy:t,retryMode:r,maxAttempts:o}=e,n=Y(o??$s);return Object.assign(e,{maxAttempts:n,retryStrategy:async()=>t||(await Y(r)()===To.ADAPTIVE?new qc(n):new Ms(n))})},HM="AWS_RETRY_MODE",VM="retry_mode",fr={environmentVariableSelector:e=>e[HM],configFileSelector:e=>e[VM],default:mt}});var Hb=c(()=>{});import{Readable as jM}from"stream";var Vb,jb=c(()=>{Vb=e=>e?.body instanceof jM||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream});var WM,zM,KM,qM,JM,mr,YM,Wb=c(()=>{ue();Xl();P();wo();$d();jb();Mb();WM=e=>(t,r)=>async o=>{let n=await e.retryStrategy(),s=await e.maxAttempts();if(zM(n)){n=n;let i=await n.acquireInitialRetryToken(r.partition_id),a=new Error,p=0,u=0,{request:d}=o,l=J.isInstance(d);for(l&&(d.headers[wb]=go());;)try{l&&(d.headers[bb]=`attempt=${p+1}; max=${s}`);let{response:m,output:f}=await t(o);return n.recordSuccess(i),f.$metadata.attempts=p+1,f.$metadata.totalRetryDelay=u,{response:m,output:f}}catch(m){let f=KM(m);if(a=$b(m),l&&Vb(d))throw(r.logger instanceof We?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{i=await n.refreshRetryTokenForRetry(i,f)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=p+1,a.$metadata.totalRetryDelay=u,a}p=i.getRetryCount();let h=i.getRetryDelay();u+=h,await new Promise(g=>setTimeout(g,h))}}else return n=n,n?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",n.mode]]),n.retry(t,o)},zM=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",KM=e=>{let t={error:e,errorType:qM(e)},r=YM(e.$response);return r&&(t.retryAfterHint=r),t},qM=e=>Wc(e)?"THROTTLING":zc(e)?"TRANSIENT":Tb(e)?"SERVER_ERROR":"CLIENT_ERROR",JM={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},mr=e=>({applyToStack:t=>{t.add(WM(e),JM)}}),YM=e=>{if(!$t.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],o=Number(r);return Number.isNaN(o)?new Date(r):new Date(o*1e3)}});var bt=c(()=>{Ub();Lb();Gb();Db();Hb();kb();Wb()});var Jc,Yc,Qb,Zb,eR,tR,tf,rR=c(()=>{ke();Z();Jc="AWS_ACCESS_KEY_ID",Yc="AWS_SECRET_ACCESS_KEY",Qb="AWS_SESSION_TOKEN",Zb="AWS_CREDENTIAL_EXPIRATION",eR="AWS_CREDENTIAL_SCOPE",tR="AWS_ACCOUNT_ID",tf=e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let t=process.env[Jc],r=process.env[Yc],o=process.env[Qb],n=process.env[Zb],s=process.env[eR],i=process.env[tR];if(t&&r){let a={accessKeyId:t,secretAccessKey:r,...o&&{sessionToken:o},...n&&{expiration:new Date(n)},...s&&{credentialScope:s},...i&&{accountId:i}};return G(a,"CREDENTIALS_ENV_VARS","g"),a}throw new b("Unable to find environment variable credentials.",{logger:e?.logger})}});var oR={};Et(oR,{ENV_ACCOUNT_ID:()=>tR,ENV_CREDENTIAL_SCOPE:()=>eR,ENV_EXPIRATION:()=>Zb,ENV_KEY:()=>Jc,ENV_SECRET:()=>Yc,ENV_SESSION:()=>Qb,fromEnv:()=>tf});var rf=c(()=>{rR()});import{Buffer as ZM}from"buffer";import{request as eL}from"http";function Xo(e){return new Promise((t,r)=>{let o=eL({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});o.on("error",n=>{r(Object.assign(new Yt("Unable to connect to instance metadata service"),n)),o.destroy()}),o.on("timeout",()=>{r(new Yt("TimeoutError from instance metadata service")),o.destroy()}),o.on("response",n=>{let{statusCode:s=400}=n;(s<200||300<=s)&&(r(Object.assign(new Yt("Error response received from instance metadata service"),{statusCode:s})),o.destroy());let i=[];n.on("data",a=>{i.push(a)}),n.on("end",()=>{t(ZM.concat(i)),o.destroy()})}),o.end()})}var Xc=c(()=>{Z()});var Qc,Zc,of=c(()=>{Qc=e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string",Zc=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}})});var Hoe,Voe,Oi,ep=c(()=>{Hoe=1e3,Voe=0,Oi=({maxRetries:e=0,timeout:t=1e3})=>({maxRetries:e,timeout:t})});var Ni,nf=c(()=>{Ni=(e,t)=>{let r=e();for(let o=0;o<t;o++)r=r.catch(e);return r}});import{parse as tL}from"url";var tp,rp,sf,rL,oL,nL,sL,iL,aL,nR=c(()=>{Z();Xc();of();ep();nf();tp="AWS_CONTAINER_CREDENTIALS_FULL_URI",rp="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",sf="AWS_CONTAINER_AUTHORIZATION_TOKEN",rL=(e={})=>{let{timeout:t,maxRetries:r}=Oi(e);return()=>Ni(async()=>{let o=await aL({logger:e.logger}),n=JSON.parse(await oL(t,o));if(!Qc(n))throw new b("Invalid response received from instance metadata service.",{logger:e.logger});return Zc(n)},r)},oL=async(e,t)=>(process.env[sf]&&(t.headers={...t.headers,Authorization:process.env[sf]}),(await Xo({...t,timeout:e})).toString()),nL="169.254.170.2",sL={localhost:!0,"127.0.0.1":!0},iL={"http:":!0,"https:":!0},aL=async({logger:e})=>{if(process.env[rp])return{hostname:nL,path:process.env[rp]};if(process.env[tp]){let t=tL(process.env[tp]);if(!t.hostname||!(t.hostname in sL))throw new b(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in iL))throw new b(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new b(`The container metadata credential provider cannot be used unless the ${rp} or ${tp} environment variable is set`,{tryNextLink:!1,logger:e})}});var op,sR=c(()=>{Z();op=class e extends b{tryNextLink;name="InstanceMetadataV1FallbackError";constructor(t,r=!0){super(t,r),this.tryNextLink=r,Object.setPrototypeOf(this,e.prototype)}}});var Vn,af=c(()=>{(function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"})(Vn||(Vn={}))});var cL,pL,iR,aR=c(()=>{cL="AWS_EC2_METADATA_SERVICE_ENDPOINT",pL="ec2_metadata_service_endpoint",iR={environmentVariableSelector:e=>e[cL],configFileSelector:e=>e[pL],default:void 0}});var Qo,cf=c(()=>{(function(e){e.IPv4="IPv4",e.IPv6="IPv6"})(Qo||(Qo={}))});var uL,dL,cR,pR=c(()=>{cf();uL="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",dL="ec2_metadata_service_endpoint_mode",cR={environmentVariableSelector:e=>e[uL],configFileSelector:e=>e[dL],default:Qo.IPv4}});var np,lL,fL,pf=c(()=>{pr();Eo();af();aR();cf();pR();np=async()=>Ie(await lL()||await fL()),lL=async()=>v(iR)(),fL=async()=>{let e=await v(cR)();switch(e){case Qo.IPv4:return Vn.IPv4;case Qo.IPv6:return Vn.IPv6;default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(Qo)}`)}}});var mL,uf,uR=c(()=>{mL="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",uf=(e,t)=>{let r=300+Math.floor(Math.random()*300),o=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(o)}.
For more information, please visit: `+mL);let n=e.originalExpiration??e.expiration;return{...e,...n?{originalExpiration:n}:{},expiration:o}}});var dR,lR=c(()=>{uR();dR=(e,t={})=>{let r=t?.logger||console,o;return async()=>{let n;try{n=await e(),n.expiration&&n.expiration.getTime()<Date.now()&&(n=uf(n,r))}catch(s){if(o)r.warn("Credential renew failed: ",s),n=uf(o,r);else throw s}return o=n,n}}});var hR,hL,df,fR,mR,gL,yL,SL,xL,EL,gR=c(()=>{pr();Z();sR();Xc();of();ep();nf();pf();lR();hR="/latest/meta-data/iam/security-credentials/",hL="/latest/api/token",df="AWS_EC2_METADATA_V1_DISABLED",fR="ec2_metadata_v1_disabled",mR="x-aws-ec2-metadata-token",gL=(e={})=>dR(yL(e),{logger:e.logger}),yL=(e={})=>{let t=!1,{logger:r,profile:o}=e,{timeout:n,maxRetries:s}=Oi(e),i=async(a,p)=>{if(t||p.headers?.[mR]==null){let l=!1,m=!1,f=await v({environmentVariableSelector:h=>{let g=h[df];if(m=!!g&&g!=="false",g===void 0)throw new b(`${df} not set in env, checking config file next.`,{logger:e.logger});return m},configFileSelector:h=>{let g=h[fR];return l=!!g&&g!=="false",l},default:!1},{profile:o})();if(e.ec2MetadataV1Disabled||f){let h=[];throw e.ec2MetadataV1Disabled&&h.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),l&&h.push(`config file profile (${fR})`),m&&h.push(`process environment variable (${df})`),new op(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${h.join(", ")}].`)}}let d=(await Ni(async()=>{let l;try{l=await xL(p)}catch(m){throw m.statusCode===401&&(t=!1),m}return l},a)).trim();return Ni(async()=>{let l;try{l=await EL(d,p,e)}catch(m){throw m.statusCode===401&&(t=!1),m}return l},a)};return async()=>{let a=await np();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),i(s,{...a,timeout:n});{let p;try{p=(await SL({...a,timeout:n})).toString()}catch(u){if(u?.statusCode===400)throw Object.assign(u,{message:"EC2 Metadata token request returned error"});return(u.message==="TimeoutError"||[403,404,405].includes(u.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),i(s,{...a,timeout:n})}return i(s,{...a,headers:{[mR]:p},timeout:n})}}},SL=async e=>Xo({...e,path:hL,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),xL=async e=>(await Xo({...e,path:hR})).toString(),EL=async(e,t,r)=>{let o=JSON.parse((await Xo({...t,path:hR+e})).toString());if(!Qc(o))throw new b("Invalid response received from instance metadata service.",{logger:r.logger});return Zc(o)}});var yR=c(()=>{});var Di={};Et(Di,{DEFAULT_MAX_RETRIES:()=>Voe,DEFAULT_TIMEOUT:()=>Hoe,ENV_CMDS_AUTH_TOKEN:()=>sf,ENV_CMDS_FULL_URI:()=>tp,ENV_CMDS_RELATIVE_URI:()=>rp,Endpoint:()=>Vn,fromContainerMetadata:()=>rL,fromInstanceMetadata:()=>gL,getInstanceMetadataEndpoint:()=>np,httpRequest:()=>Xo,providerConfigFromInit:()=>Oi});var ki=c(()=>{nR();gR();ep();yR();Xc();pf();af()});var _L,TL,wL,SR,xR=c(()=>{Z();_L="169.254.170.2",TL="169.254.170.23",wL="[fd00:ec2::23]",SR=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===_L||e.hostname===TL||e.hostname===wL)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),o=n=>{let s=parseInt(n,10);return 0<=s&&s<=255};if(r[0]==="127"&&o(r[1])&&o(r[2])&&o(r[3])&&r.length===4)return}throw new b(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}}});function ER(e){return new J({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,o])=>(t[r]=o,t),{}),fragment:e.hash})}async function _R(e,t){let o=await Fa(e.body).transformToString();if(e.statusCode===200){let n=JSON.parse(o);if(typeof n.AccessKeyId!="string"||typeof n.SecretAccessKey!="string"||typeof n.Token!="string"||typeof n.Expiration!="string")throw new b("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:n.AccessKeyId,secretAccessKey:n.SecretAccessKey,sessionToken:n.Token,expiration:wS(n.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let n={};try{n=JSON.parse(o)}catch{}throw Object.assign(new b(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:n.Code,Message:n.Message})}throw new b(`Server responded with status: ${e.statusCode}`,{logger:t})}var TR=c(()=>{Z();ue();P();Ba()});var wR,bR=c(()=>{wR=(e,t,r)=>async()=>{for(let o=0;o<t;++o)try{return await e()}catch{await new Promise(s=>setTimeout(s,r))}return await e()}});import bL from"fs/promises";var RL,vL,IL,AL,CL,RR,vR=c(()=>{ke();mo();Z();xR();TR();bR();RL="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",vL="http://169.254.170.2",IL="AWS_CONTAINER_CREDENTIALS_FULL_URI",AL="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",CL="AWS_CONTAINER_AUTHORIZATION_TOKEN",RR=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[RL],o=e.awsContainerCredentialsFullUri??process.env[IL],n=e.awsContainerAuthorizationToken??process.env[CL],s=e.awsContainerAuthorizationTokenFile??process.env[AL],i=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?.warn?console.warn:e.logger.warn.bind(e.logger);if(r&&o&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),i("awsContainerCredentialsFullUri will take precedence.")),n&&s&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),i("awsContainerAuthorizationToken will take precedence.")),o)t=o;else if(r)t=`${vL}${r}`;else throw new b(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let a=new URL(t);SR(a,e.logger);let p=Ve.create({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return wR(async()=>{let u=ER(a);n?u.headers.Authorization=n:s&&(u.headers.Authorization=(await bL.readFile(s)).toString());try{let d=await p.handle(u);return _R(d.response).then(l=>G(l,"CREDENTIALS_HTTP","z"))}catch(d){throw new b(String(d),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)}});var lf={};Et(lf,{fromHttp:()=>RR});var ff=c(()=>{vR()});var mf,hf=c(()=>{mf=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string")});var PR=c(()=>{});var Ls,sp=c(()=>{Ls="To refresh this SSO session run 'aws sso login' with the corresponding profile."});function OL(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function NL(e){return{schemeId:"smithy.api#noAuth"}}var OR,NR,DR,gf=c(()=>{we();Ge();OR=async(e,t,r)=>({operation:fe(t).operation,region:await Y(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});NR=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(NL(e));break}default:t.push(OL(e))}return t},DR=e=>{let t=Qt(e);return Object.assign(t,{authSchemePreference:Y(e.authSchemePreference??[])})}});var kR,$R,yf=c(()=>{kR=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),$R={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var Us,ip=c(()=>{Us={name:"@aws-sdk/nested-clients",version:"3.958.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},sideEffects:!1,author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.957.0","@aws-sdk/middleware-host-header":"3.957.0","@aws-sdk/middleware-logger":"3.957.0","@aws-sdk/middleware-recursion-detection":"3.957.0","@aws-sdk/middleware-user-agent":"3.957.0","@aws-sdk/region-config-resolver":"3.957.0","@aws-sdk/types":"3.957.0","@aws-sdk/util-endpoints":"3.957.0","@aws-sdk/util-user-agent-browser":"3.957.0","@aws-sdk/util-user-agent-node":"3.957.0","@smithy/config-resolver":"^4.4.5","@smithy/core":"^3.20.0","@smithy/fetch-http-handler":"^5.3.8","@smithy/hash-node":"^4.2.7","@smithy/invalid-dependency":"^4.2.7","@smithy/middleware-content-length":"^4.2.7","@smithy/middleware-endpoint":"^4.4.1","@smithy/middleware-retry":"^4.4.17","@smithy/middleware-serde":"^4.2.8","@smithy/middleware-stack":"^4.2.7","@smithy/node-config-provider":"^4.3.7","@smithy/node-http-handler":"^4.4.7","@smithy/protocol-http":"^5.3.7","@smithy/smithy-client":"^4.10.2","@smithy/types":"^4.11.0","@smithy/url-parser":"^4.2.7","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.16","@smithy/util-defaults-mode-node":"^4.2.19","@smithy/util-endpoints":"^3.2.7","@smithy/util-middleware":"^4.2.7","@smithy/util-retry":"^4.2.7","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./signin.d.ts","./signin.js","./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/signin/runtimeConfig":"./dist-es/submodules/signin/runtimeConfig.browser","./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./package.json":"./package.json","./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"},"./signin":{types:"./dist-types/submodules/signin/index.d.ts",module:"./dist-es/submodules/signin/index.js",node:"./dist-cjs/submodules/signin/index.js",import:"./dist-es/submodules/signin/index.js",require:"./dist-cjs/submodules/signin/index.js"}}}});var MR,LR=c(()=>{MR={isCrtAvailable:!1}});var UR,FR=c(()=>{LR();UR=()=>MR.isCrtAvailable?["md/crt-avail"]:null});import{platform as kL,release as $L}from"os";import{env as BR,versions as ML}from"process";var hr,GR=c(()=>{FR();hr=({serviceId:e,clientVersion:t})=>async r=>{let o=[["aws-sdk-js",t],["ua","2.1"],[`os/${kL()}`,$L()],["lang/js"],["md/nodejs",`${ML.node}`]],n=UR();n&&o.push(n),e&&o.push([`api/${e}`,t]),BR.AWS_EXECUTION_ENV&&o.push([`exec-env/${BR.AWS_EXECUTION_ENV}`]);let s=await r?.userAgentAppId?.();return s?[...o,[`app/${s}`]]:[...o]}});var LL,UL,FL,gr,HR=c(()=>{Ko();LL="AWS_SDK_UA_APP_ID",UL="sdk_ua_app_id",FL="sdk-ua-app-id",gr={environmentVariableSelector:e=>e[LL],configFileSelector:e=>e[UL]??e[FL],default:Vd}});var jn=c(()=>{GR();HR()});import{Buffer as BL}from"buffer";import{createHash as GL,createHmac as HL}from"crypto";function VR(e,t){return BL.isBuffer(e)?e:typeof e=="string"?ms(e,t):ArrayBuffer.isView(e)?fo(e.buffer,e.byteOffset,e.byteLength):fo(e)}var ht,Wn=c(()=>{Dn();ge();ht=class{algorithmIdentifier;secret;hash;constructor(t,r){this.algorithmIdentifier=t,this.secret=r,this.reset()}update(t,r){this.hash.update(Nr(VR(t,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?HL(this.algorithmIdentifier,VR(this.secret)):GL(this.algorithmIdentifier)}}});import{fstatSync as VL,lstatSync as jL,ReadStream as WL}from"node:fs";var yr,jR=c(()=>{yr=e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(e instanceof WL){if(e.path!=null)return jL(e.path).size;if(typeof e.fd=="number")return VL(e.fd).size}throw new Error(`Body Length computation failed for ${e}`)}});var zn=c(()=>{jR()});var WR,Sf,xf,zR,KR,qR,JR=c(()=>{WR="AWS_EXECUTION_ENV",Sf="AWS_REGION",xf="AWS_DEFAULT_REGION",zR="AWS_EC2_METADATA_DISABLED",KR=["in-region","cross-region","mobile","standard","legacy"],qR="/latest/meta-data/placement/region"});var zL,KL,YR,XR=c(()=>{zL="AWS_DEFAULTS_MODE",KL="defaults_mode",YR={environmentVariableSelector:e=>e[zL],configFileSelector:e=>e[KL],default:"legacy"}});var Sr,qL,JL,QR=c(()=>{Ze();pr();Z();JR();XR();Sr=({region:e=v(ze),defaultsMode:t=v(YR)}={})=>sc(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return qL(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${KR.join(", ")}, got ${r}`)}}),qL=async e=>{if(e){let t=typeof e=="function"?await e():e,r=await JL();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},JL=async()=>{if(process.env[WR]&&(process.env[Sf]||process.env[xf]))return process.env[Sf]??process.env[xf];if(!process.env[zR])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>(ki(),Di)),r=await e();return(await t({...r,path:qR})).toString()}catch{}}});var Kn=c(()=>{QR()});var cv,Er,_r,Gs,ZR,$i,Fs,Bs,bo,Ef,_f,ev,tv,rv,pv,uv,xr,ov,dv,nv,sv,iv,av,YL,lv,fv=c(()=>{cv="required",Er="fn",_r="argv",Gs="ref",ZR="isSet",$i="booleanEquals",Fs="error",Bs="endpoint",bo="tree",Ef="PartitionResult",_f="getAttr",ev={[cv]:!1,type:"string"},tv={[cv]:!0,default:!1,type:"boolean"},rv={[Gs]:"Endpoint"},pv={[Er]:$i,[_r]:[{[Gs]:"UseFIPS"},!0]},uv={[Er]:$i,[_r]:[{[Gs]:"UseDualStack"},!0]},xr={},ov={[Er]:_f,[_r]:[{[Gs]:Ef},"supportsFIPS"]},dv={[Gs]:Ef},nv={[Er]:$i,[_r]:[!0,{[Er]:_f,[_r]:[dv,"supportsDualStack"]}]},sv=[pv],iv=[uv],av=[{[Gs]:"Region"}],YL={version:"1.0",parameters:{Region:ev,UseDualStack:tv,UseFIPS:tv,Endpoint:ev},rules:[{conditions:[{[Er]:ZR,[_r]:[rv]}],rules:[{conditions:sv,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Fs},{conditions:iv,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Fs},{endpoint:{url:rv,properties:xr,headers:xr},type:Bs}],type:bo},{conditions:[{[Er]:ZR,[_r]:av}],rules:[{conditions:[{[Er]:"aws.partition",[_r]:av,assign:Ef}],rules:[{conditions:[pv,uv],rules:[{conditions:[{[Er]:$i,[_r]:[!0,ov]},nv],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:xr,headers:xr},type:Bs}],type:bo},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Fs}],type:bo},{conditions:sv,rules:[{conditions:[{[Er]:$i,[_r]:[ov,!0]}],rules:[{conditions:[{[Er]:"stringEquals",[_r]:[{[Er]:_f,[_r]:[dv,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:xr,headers:xr},type:Bs},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:xr,headers:xr},type:Bs}],type:bo},{error:"FIPS is enabled but this partition does not support FIPS",type:Fs}],type:bo},{conditions:iv,rules:[{conditions:[nv],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:xr,headers:xr},type:Bs}],type:bo},{error:"DualStack is enabled but this partition does not support DualStack",type:Fs}],type:bo},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:xr,headers:xr},type:Bs}],type:bo}],type:bo},{error:"Invalid Configuration: Missing Region",type:Fs}]},lv=YL});var XL,mv,hv=c(()=>{Fo();Dr();fv();XL=new ut({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),mv=(e,t={})=>XL.get(e,()=>Kt(lv,{endpointParams:e,logger:t.logger}));De.aws=_t});var gv,yv=c(()=>{we();_o();Ne();P();Eo();He();ge();gf();hv();gv=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??le,base64Encoder:e?.base64Encoder??ae,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??mv,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??NR,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new $e},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Vt}],logger:e?.logger??new We,protocol:e?.protocol??Wo,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.ssooidc",version:"2019-06-10",serviceTarget:"AWSSSOOIDCService"},serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??Ie,utf8Decoder:e?.utf8Decoder??ce,utf8Encoder:e?.utf8Encoder??ie})});var Sv,xv=c(()=>{ip();we();jn();Ze();Wn();bt();pr();mo();P();zn();Kn();wo();yv();Sv=e=>{er(process.version);let t=Sr(e),r=()=>t().then(Zt),o=gv(e);qt(process.version);let n={profile:e?.profile,logger:o.logger};return{...o,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??v(Jt,n),bodyLengthChecker:e?.bodyLengthChecker??yr,defaultUserAgentProvider:e?.defaultUserAgentProvider??hr({serviceId:o.serviceId,clientVersion:Us.version}),maxAttempts:e?.maxAttempts??v(dr,e),region:e?.region??v(ze,{...lt,...n}),requestHandler:Ve.create(e?.requestHandler??r),retryMode:e?.retryMode??v({...fr,default:async()=>(await r()).retryMode||mt},e),sha256:e?.sha256??ht.bind(null,"sha256"),streamCollector:e?.streamCollector??st,useDualstackEndpoint:e?.useDualstackEndpoint??v(sr,n),useFipsEndpoint:e?.useFipsEndpoint??v(ir,n),userAgentAppId:e?.userAgentAppId??v(gr,n)}}});var Tr,wr,Ev=c(()=>{Tr=e=>({setRegion(t){e.region=t},region(){return e.region}}),wr=e=>({region:e.region()})});var _v=c(()=>{});function Tv(e={}){return v({...ze,async default(){return QL.silence||console.warn("@aws-sdk - WARN - default STS region of us-east-1 used. See @aws-sdk/credential-providers README and set a region explicitly."),"us-east-1"}},{...lt,...e})}var QL,wv=c(()=>{Ze();pr();QL={silence:!1}});var Zo=c(()=>{Ev();_v();wv()});var bv,Rv,vv=c(()=>{bv=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,o=e.credentials;return{setHttpAuthScheme(n){let s=t.findIndex(i=>i.schemeId===n.schemeId);s===-1?t.push(n):t.splice(s,1,n)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(n){r=n},httpAuthSchemeProvider(){return r},setCredentials(n){o=n},credentials(){return o}}},Rv=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Iv,Av=c(()=>{Zo();ue();P();vv();Iv=(e,t)=>{let r=Object.assign(Tr(e),tr(e),Dt(e),bv(e));return t.forEach(o=>o.configure(r)),Object.assign(e,wr(r),rr(r),kt(r),Rv(r))}});var Mi,Tf=c(()=>{Cn();Pn();On();Ko();Ze();Ne();K();Hn();Ae();bt();P();gf();yf();xv();Av();Mi=class extends Me{config;constructor(...[t]){let r=Sv(t||{});super(r),this.initConfig=r;let o=kR(r),n=jt(o),s=lr(n),i=ar(s),a=i,p=ur(a),u=DR(p),d=Iv(u,t?.extensions||[]);this.config=d,this.middlewareStack.use(Gt(this.config)),this.middlewareStack.use(nr(this.config)),this.middlewareStack.use(mr(this.config)),this.middlewareStack.use(cr(this.config)),this.middlewareStack.use(Mt(this.config)),this.middlewareStack.use(Lt(this.config)),this.middlewareStack.use(Ut(this.config)),this.middlewareStack.use(Ft(this.config,{httpAuthSchemeParametersProvider:OR,identityProviderConfigProvider:async l=>new pt({"aws.auth#sigv4":l.credentials})})),this.middlewareStack.use(Bt(this.config))}destroy(){super.destroy()}}});var Ce,ap=c(()=>{P();Ce=class e extends dt{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var Ui,Fi,Bi,Gi,Hi,Vi,ji,Wi,zi,Ki,qi,wf=c(()=>{ap();Ui=class e extends Ce{name="AccessDeniedException";$fault="client";error;reason;error_description;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.reason=t.reason,this.error_description=t.error_description}},Fi=class e extends Ce{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Bi=class e extends Ce{name="ExpiredTokenException";$fault="client";error;error_description;constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Gi=class e extends Ce{name="InternalServerException";$fault="server";error;error_description;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Hi=class e extends Ce{name="InvalidClientException";$fault="client";error;error_description;constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Vi=class e extends Ce{name="InvalidGrantException";$fault="client";error;error_description;constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},ji=class e extends Ce{name="InvalidRequestException";$fault="client";error;reason;error_description;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.reason=t.reason,this.error_description=t.error_description}},Wi=class e extends Ce{name="InvalidScopeException";$fault="client";error;error_description;constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},zi=class e extends Ce{name="SlowDownException";$fault="client";error;error_description;constructor(t){super({name:"SlowDownException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ki=class e extends Ce{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},qi=class e extends Ce{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}}});var ZL,e1,t1,r1,o1,n1,s1,i1,a1,c1,p1,u1,d1,l1,f1,m1,h1,g1,y1,S1,Jr,x1,E1,_1,T1,w1,he,b1,$r,R1,v1,Mr,I1,Cv,Pv,A1,C1,P1,Ov,O1,X,N1,D1,k1,$1,Nv,Dv,kv,$v,Mv,Lv,Uv,Fv,Bv,Gv,Hv,Vv,jv,Wv,zv,bf,Rf=c(()=>{K();wf();ap();ZL="AccessDeniedException",e1="AuthorizationPendingException",t1="AccessToken",r1="ClientSecret",o1="CreateToken",n1="CreateTokenRequest",s1="CreateTokenResponse",i1="CodeVerifier",a1="ExpiredTokenException",c1="InvalidClientException",p1="InvalidGrantException",u1="InvalidRequestException",d1="InternalServerException",l1="InvalidScopeException",f1="IdToken",m1="RefreshToken",h1="SlowDownException",g1="UnauthorizedClientException",y1="UnsupportedGrantTypeException",S1="accessToken",Jr="client",x1="clientId",E1="clientSecret",_1="codeVerifier",T1="code",w1="deviceCode",he="error",b1="expiresIn",$r="error_description",R1="grantType",v1="http",Mr="httpError",I1="idToken",Cv="reason",Pv="refreshToken",A1="redirectUri",C1="scope",P1="server",Ov="smithy.ts.sdk.synthetic.com.amazonaws.ssooidc",O1="tokenType",X="com.amazonaws.ssooidc",N1=[0,X,t1,8,0],D1=[0,X,r1,8,0],k1=[0,X,i1,8,0],$1=[0,X,f1,8,0],Nv=[0,X,m1,8,0],Dv=[-3,X,ZL,{[he]:Jr,[Mr]:400},[he,Cv,$r],[0,0,0]];x.for(X).registerError(Dv,Ui);kv=[-3,X,e1,{[he]:Jr,[Mr]:400},[he,$r],[0,0]];x.for(X).registerError(kv,Fi);$v=[3,X,n1,0,[x1,E1,R1,w1,T1,Pv,C1,A1,_1],[0,[()=>D1,0],0,0,0,[()=>Nv,0],64,0,[()=>k1,0]]],Mv=[3,X,s1,0,[S1,O1,b1,Pv,I1],[[()=>N1,0],0,1,[()=>Nv,0],[()=>$1,0]]],Lv=[-3,X,a1,{[he]:Jr,[Mr]:400},[he,$r],[0,0]];x.for(X).registerError(Lv,Bi);Uv=[-3,X,d1,{[he]:P1,[Mr]:500},[he,$r],[0,0]];x.for(X).registerError(Uv,Gi);Fv=[-3,X,c1,{[he]:Jr,[Mr]:401},[he,$r],[0,0]];x.for(X).registerError(Fv,Hi);Bv=[-3,X,p1,{[he]:Jr,[Mr]:400},[he,$r],[0,0]];x.for(X).registerError(Bv,Vi);Gv=[-3,X,u1,{[he]:Jr,[Mr]:400},[he,Cv,$r],[0,0,0]];x.for(X).registerError(Gv,ji);Hv=[-3,X,l1,{[he]:Jr,[Mr]:400},[he,$r],[0,0]];x.for(X).registerError(Hv,Wi);Vv=[-3,X,h1,{[he]:Jr,[Mr]:400},[he,$r],[0,0]];x.for(X).registerError(Vv,zi);jv=[-3,X,g1,{[he]:Jr,[Mr]:400},[he,$r],[0,0]];x.for(X).registerError(jv,Ki);Wv=[-3,X,y1,{[he]:Jr,[Mr]:400},[he,$r],[0,0]];x.for(X).registerError(Wv,qi);zv=[-3,Ov,"SSOOIDCServiceException",0,[],[]];x.for(Ov).registerError(zv,Ce);bf=[9,X,o1,{[v1]:["POST","/token",200]},()=>$v,()=>Mv]});var Ji,vf=c(()=>{Ae();P();yf();Rf();Ji=class extends oe.classBuilder().ep($R).m(function(t,r,o,n){return[me(o,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").sc(bf).build(){}});var M1,cp,Kv=c(()=>{P();vf();Tf();M1={CreateTokenCommand:Ji},cp=class extends Mi{};Ho(M1,cp)});var qv=c(()=>{vf()});var L1,U1,Jv=c(()=>{L1={KMS_ACCESS_DENIED:"KMS_AccessDeniedException"},U1={KMS_DISABLED_KEY:"KMS_DisabledException",KMS_INVALID_KEY_USAGE:"KMS_InvalidKeyUsageException",KMS_INVALID_STATE:"KMS_InvalidStateException",KMS_KEY_NOT_FOUND:"KMS_NotFoundException"}});var Yv=c(()=>{});var If={};Et(If,{$Command:()=>oe,AccessDeniedException:()=>Ui,AccessDeniedException$:()=>Dv,AccessDeniedExceptionReason:()=>L1,AuthorizationPendingException:()=>Fi,AuthorizationPendingException$:()=>kv,CreateToken$:()=>bf,CreateTokenCommand:()=>Ji,CreateTokenRequest$:()=>$v,CreateTokenResponse$:()=>Mv,ExpiredTokenException:()=>Bi,ExpiredTokenException$:()=>Lv,InternalServerException:()=>Gi,InternalServerException$:()=>Uv,InvalidClientException:()=>Hi,InvalidClientException$:()=>Fv,InvalidGrantException:()=>Vi,InvalidGrantException$:()=>Bv,InvalidRequestException:()=>ji,InvalidRequestException$:()=>Gv,InvalidRequestExceptionReason:()=>U1,InvalidScopeException:()=>Wi,InvalidScopeException$:()=>Hv,SSOOIDC:()=>cp,SSOOIDCClient:()=>Mi,SSOOIDCServiceException:()=>Ce,SSOOIDCServiceException$:()=>zv,SlowDownException:()=>zi,SlowDownException$:()=>Vv,UnauthorizedClientException:()=>Ki,UnauthorizedClientException$:()=>jv,UnsupportedGrantTypeException:()=>qi,UnsupportedGrantTypeException$:()=>Wv,__Client:()=>Me});var Af=c(()=>{Tf();Kv();qv();Rf();Jv();wf();Yv();ap()});var Xv,Qv=c(()=>{Xv=async(e,t={},r)=>{let{SSOOIDCClient:o}=await Promise.resolve().then(()=>(Af(),If)),n=i=>t.clientConfig?.[i]??t.parentClientConfig?.[i]??r?.[i];return new o(Object.assign({},t.clientConfig??{},{region:e??t.clientConfig?.region,logger:n("logger"),userAgentAppId:n("userAgentAppId")}))}});var Zv,eI=c(()=>{Qv();Zv=async(e,t,r={},o)=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>(Af(),If));return(await Xv(t,r,o)).send(new n({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))}});var Cf,tI=c(()=>{Z();sp();Cf=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new Xt(`Token is expired. ${Ls}`,!1)}});var en,rI=c(()=>{Z();sp();en=(e,t,r=!1)=>{if(typeof t>"u")throw new Xt(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${Ls}`,!1)}});import{promises as F1}from"fs";var B1,oI,nI=c(()=>{et();({writeFile:B1}=F1),oI=(e,t)=>{let r=$c(e),o=JSON.stringify(t,null,2);return B1(r,o)}});var sI,iI,aI=c(()=>{Z();et();sp();eI();tI();rI();nI();sI=new Date(0),iI=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/token-providers - fromSso");let r=await qr(e),o=ft({profile:e.profile??t?.profile}),n=r[o];if(n){if(!n.sso_session)throw new Xt(`Profile '${o}' is missing required property 'sso_session'.`)}else throw new Xt(`Profile '${o}' could not be found in shared credentials file.`,!1);let s=n.sso_session,a=(await Bc(e))[s];if(!a)throw new Xt(`Sso session '${s}' could not be found in shared credentials file.`,!1);for(let h of["sso_start_url","sso_region"])if(!a[h])throw new Xt(`Sso session '${s}' is missing required property '${h}'.`,!1);let p=a.sso_start_url,u=a.sso_region,d;try{d=await vi(s)}catch{throw new Xt(`The SSO session token associated with profile=${o} was not found or is invalid. ${Ls}`,!1)}en("accessToken",d.accessToken),en("expiresAt",d.expiresAt);let{accessToken:l,expiresAt:m}=d,f={token:l,expiration:new Date(m)};if(f.expiration.getTime()-Date.now()>3e5)return f;if(Date.now()-sI.getTime()<30*1e3)return Cf(f),f;en("clientId",d.clientId,!0),en("clientSecret",d.clientSecret,!0),en("refreshToken",d.refreshToken,!0);try{sI.setTime(Date.now());let h=await Zv(d,u,e,t);en("accessToken",h.accessToken),en("expiresIn",h.expiresIn);let g=new Date(Date.now()+h.expiresIn*1e3);try{await oI(s,{...d,accessToken:h.accessToken,expiresAt:g.toISOString(),refreshToken:h.refreshToken})}catch{}return{token:h.accessToken,expiration:g}}catch{return Cf(f),f}}});var cI=c(()=>{});var pI=c(()=>{});var uI=c(()=>{PR();aI();cI();pI()});function H1(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function pp(e){return{schemeId:"smithy.api#noAuth"}}var dI,lI,fI,Pf=c(()=>{we();Ge();dI=async(e,t,r)=>({operation:fe(t).operation,region:await Y(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});lI=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(pp(e));break}case"ListAccountRoles":{t.push(pp(e));break}case"ListAccounts":{t.push(pp(e));break}case"Logout":{t.push(pp(e));break}default:t.push(H1(e))}return t},fI=e=>{let t=Qt(e);return Object.assign(t,{authSchemePreference:Y(e.authSchemePreference??[])})}});var mI,tn,Hs=c(()=>{mI=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),tn={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var gI,hI=c(()=>{gI={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.958.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.957.0","@aws-sdk/middleware-host-header":"3.957.0","@aws-sdk/middleware-logger":"3.957.0","@aws-sdk/middleware-recursion-detection":"3.957.0","@aws-sdk/middleware-user-agent":"3.957.0","@aws-sdk/region-config-resolver":"3.957.0","@aws-sdk/types":"3.957.0","@aws-sdk/util-endpoints":"3.957.0","@aws-sdk/util-user-agent-browser":"3.957.0","@aws-sdk/util-user-agent-node":"3.957.0","@smithy/config-resolver":"^4.4.5","@smithy/core":"^3.20.0","@smithy/fetch-http-handler":"^5.3.8","@smithy/hash-node":"^4.2.7","@smithy/invalid-dependency":"^4.2.7","@smithy/middleware-content-length":"^4.2.7","@smithy/middleware-endpoint":"^4.4.1","@smithy/middleware-retry":"^4.4.17","@smithy/middleware-serde":"^4.2.8","@smithy/middleware-stack":"^4.2.7","@smithy/node-config-provider":"^4.3.7","@smithy/node-http-handler":"^4.4.7","@smithy/protocol-http":"^5.3.7","@smithy/smithy-client":"^4.10.2","@smithy/types":"^4.11.0","@smithy/url-parser":"^4.2.7","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.16","@smithy/util-defaults-mode-node":"^4.2.19","@smithy/util-endpoints":"^3.2.7","@smithy/util-middleware":"^4.2.7","@smithy/util-retry":"^4.2.7","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var vI,Rr,vr,Ws,yI,Yi,Vs,js,Ro,Of,Nf,SI,xI,EI,II,AI,br,_I,CI,TI,wI,bI,RI,j1,PI,OI=c(()=>{vI="required",Rr="fn",vr="argv",Ws="ref",yI="isSet",Yi="booleanEquals",Vs="error",js="endpoint",Ro="tree",Of="PartitionResult",Nf="getAttr",SI={[vI]:!1,type:"string"},xI={[vI]:!0,default:!1,type:"boolean"},EI={[Ws]:"Endpoint"},II={[Rr]:Yi,[vr]:[{[Ws]:"UseFIPS"},!0]},AI={[Rr]:Yi,[vr]:[{[Ws]:"UseDualStack"},!0]},br={},_I={[Rr]:Nf,[vr]:[{[Ws]:Of},"supportsFIPS"]},CI={[Ws]:Of},TI={[Rr]:Yi,[vr]:[!0,{[Rr]:Nf,[vr]:[CI,"supportsDualStack"]}]},wI=[II],bI=[AI],RI=[{[Ws]:"Region"}],j1={version:"1.0",parameters:{Region:SI,UseDualStack:xI,UseFIPS:xI,Endpoint:SI},rules:[{conditions:[{[Rr]:yI,[vr]:[EI]}],rules:[{conditions:wI,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Vs},{conditions:bI,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Vs},{endpoint:{url:EI,properties:br,headers:br},type:js}],type:Ro},{conditions:[{[Rr]:yI,[vr]:RI}],rules:[{conditions:[{[Rr]:"aws.partition",[vr]:RI,assign:Of}],rules:[{conditions:[II,AI],rules:[{conditions:[{[Rr]:Yi,[vr]:[!0,_I]},TI],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:br,headers:br},type:js}],type:Ro},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Vs}],type:Ro},{conditions:wI,rules:[{conditions:[{[Rr]:Yi,[vr]:[_I,!0]}],rules:[{conditions:[{[Rr]:"stringEquals",[vr]:[{[Rr]:Nf,[vr]:[CI,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:br,headers:br},type:js},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:br,headers:br},type:js}],type:Ro},{error:"FIPS is enabled but this partition does not support FIPS",type:Vs}],type:Ro},{conditions:bI,rules:[{conditions:[TI],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:br,headers:br},type:js}],type:Ro},{error:"DualStack is enabled but this partition does not support DualStack",type:Vs}],type:Ro},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:br,headers:br},type:js}],type:Ro}],type:Ro},{error:"Invalid Configuration: Missing Region",type:Vs}]},PI=j1});var W1,NI,DI=c(()=>{Fo();Dr();OI();W1=new ut({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),NI=(e,t={})=>W1.get(e,()=>Kt(PI,{endpointParams:e,logger:t.logger}));De.aws=_t});var kI,$I=c(()=>{we();_o();Ne();P();Eo();He();ge();Pf();DI();kI=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??le,base64Encoder:e?.base64Encoder??ae,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??NI,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??lI,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new $e},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Vt}],logger:e?.logger??new We,protocol:e?.protocol??Wo,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.sso",version:"2019-06-10",serviceTarget:"SWBPortalService"},serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??Ie,utf8Decoder:e?.utf8Decoder??ce,utf8Encoder:e?.utf8Encoder??ie})});var MI,LI=c(()=>{hI();we();jn();Ze();Wn();bt();pr();mo();P();zn();Kn();wo();$I();MI=e=>{er(process.version);let t=Sr(e),r=()=>t().then(Zt),o=kI(e);qt(process.version);let n={profile:e?.profile,logger:o.logger};return{...o,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??v(Jt,n),bodyLengthChecker:e?.bodyLengthChecker??yr,defaultUserAgentProvider:e?.defaultUserAgentProvider??hr({serviceId:o.serviceId,clientVersion:gI.version}),maxAttempts:e?.maxAttempts??v(dr,e),region:e?.region??v(ze,{...lt,...n}),requestHandler:Ve.create(e?.requestHandler??r),retryMode:e?.retryMode??v({...fr,default:async()=>(await r()).retryMode||mt},e),sha256:e?.sha256??ht.bind(null,"sha256"),streamCollector:e?.streamCollector??st,useDualstackEndpoint:e?.useDualstackEndpoint??v(sr,n),useFipsEndpoint:e?.useFipsEndpoint??v(ir,n),userAgentAppId:e?.userAgentAppId??v(gr,n)}}});var UI,FI,BI=c(()=>{UI=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,o=e.credentials;return{setHttpAuthScheme(n){let s=t.findIndex(i=>i.schemeId===n.schemeId);s===-1?t.push(n):t.splice(s,1,n)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(n){r=n},httpAuthSchemeProvider(){return r},setCredentials(n){o=n},credentials(){return o}}},FI=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var GI,HI=c(()=>{Zo();ue();P();BI();GI=(e,t)=>{let r=Object.assign(Tr(e),tr(e),Dt(e),UI(e));return t.forEach(o=>o.configure(r)),Object.assign(e,wr(r),rr(r),kt(r),FI(r))}});var Yr,Xi=c(()=>{Cn();Pn();On();Ko();Ze();Ne();K();Hn();Ae();bt();P();Pf();Hs();LI();HI();Yr=class extends Me{config;constructor(...[t]){let r=MI(t||{});super(r),this.initConfig=r;let o=mI(r),n=jt(o),s=lr(n),i=ar(s),a=i,p=ur(a),u=fI(p),d=GI(u,t?.extensions||[]);this.config=d,this.middlewareStack.use(Gt(this.config)),this.middlewareStack.use(nr(this.config)),this.middlewareStack.use(mr(this.config)),this.middlewareStack.use(cr(this.config)),this.middlewareStack.use(Mt(this.config)),this.middlewareStack.use(Lt(this.config)),this.middlewareStack.use(Ut(this.config)),this.middlewareStack.use(Ft(this.config,{httpAuthSchemeParametersProvider:dI,identityProviderConfigProvider:async l=>new pt({"aws.auth#sigv4":l.credentials})})),this.middlewareStack.use(Bt(this.config))}destroy(){super.destroy()}}});var vo,Df=c(()=>{P();vo=class e extends dt{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var up,dp,lp,fp,kf=c(()=>{Df();up=class e extends vo{name="InvalidRequestException";$fault="client";constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},dp=class e extends vo{name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},lp=class e extends vo{name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},fp=class e extends vo{name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}}});var z1,K1,q1,J1,Y1,X1,Q1,Z1,eU,tU,rU,oU,nU,sU,iU,aU,cU,pU,uU,dU,lU,fU,mU,mp,hU,gU,yU,hp,VI,gp,yp,SU,xU,Sp,xp,Ep,qn,_p,jI,WI,Tp,zI,EU,_U,KI,TU,qI,wU,bU,wp,ne,bp,RU,vU,IU,AU,CU,PU,OU,NU,DU,kU,$U,MU,LU,UU,FU,BU,GU,HU,VU,jU,JI,YI,XI,QI,zs=c(()=>{K();kf();Df();z1="AccountInfo",K1="AccountListType",q1="AccessTokenType",J1="GetRoleCredentials",Y1="GetRoleCredentialsRequest",X1="GetRoleCredentialsResponse",Q1="InvalidRequestException",Z1="Logout",eU="ListAccounts",tU="ListAccountsRequest",rU="ListAccountRolesRequest",oU="ListAccountRolesResponse",nU="ListAccountsResponse",sU="ListAccountRoles",iU="LogoutRequest",aU="RoleCredentials",cU="RoleInfo",pU="RoleListType",uU="ResourceNotFoundException",dU="SecretAccessKeyType",lU="SessionTokenType",fU="TooManyRequestsException",mU="UnauthorizedException",mp="accountId",hU="accessKeyId",gU="accountList",yU="accountName",hp="accessToken",VI="account_id",gp="client",yp="error",SU="emailAddress",xU="expiration",Sp="http",xp="httpError",Ep="httpHeader",qn="httpQuery",_p="message",jI="maxResults",WI="max_result",Tp="nextToken",zI="next_token",EU="roleCredentials",_U="roleList",KI="roleName",TU="role_name",qI="smithy.ts.sdk.synthetic.com.amazonaws.sso",wU="secretAccessKey",bU="sessionToken",wp="x-amz-sso_bearer_token",ne="com.amazonaws.sso",bp=[0,ne,q1,8,0],RU=[0,ne,dU,8,0],vU=[0,ne,lU,8,0],IU=[3,ne,z1,0,[mp,yU,SU],[0,0,0]],AU=[3,ne,Y1,0,[KI,mp,hp],[[0,{[qn]:TU}],[0,{[qn]:VI}],[()=>bp,{[Ep]:wp}]]],CU=[3,ne,X1,0,[EU],[[()=>LU,0]]],PU=[-3,ne,Q1,{[yp]:gp,[xp]:400},[_p],[0]];x.for(ne).registerError(PU,up);OU=[3,ne,rU,0,[Tp,jI,hp,mp],[[0,{[qn]:zI}],[1,{[qn]:WI}],[()=>bp,{[Ep]:wp}],[0,{[qn]:VI}]]],NU=[3,ne,oU,0,[Tp,_U],[0,()=>jU]],DU=[3,ne,tU,0,[Tp,jI,hp],[[0,{[qn]:zI}],[1,{[qn]:WI}],[()=>bp,{[Ep]:wp}]]],kU=[3,ne,nU,0,[Tp,gU],[0,()=>VU]],$U=[3,ne,iU,0,[hp],[[()=>bp,{[Ep]:wp}]]],MU=[-3,ne,uU,{[yp]:gp,[xp]:404},[_p],[0]];x.for(ne).registerError(MU,dp);LU=[3,ne,aU,0,[hU,wU,bU,xU],[0,[()=>RU,0],[()=>vU,0],1]],UU=[3,ne,cU,0,[KI,mp],[0,0]],FU=[-3,ne,fU,{[yp]:gp,[xp]:429},[_p],[0]];x.for(ne).registerError(FU,lp);BU=[-3,ne,mU,{[yp]:gp,[xp]:401},[_p],[0]];x.for(ne).registerError(BU,fp);GU="unit",HU=[-3,qI,"SSOServiceException",0,[],[]];x.for(qI).registerError(HU,vo);VU=[1,ne,K1,0,()=>IU],jU=[1,ne,pU,0,()=>UU],JI=[9,ne,J1,{[Sp]:["GET","/federation/credentials",200]},()=>AU,()=>CU],YI=[9,ne,sU,{[Sp]:["GET","/assignment/roles",200]},()=>OU,()=>NU],XI=[9,ne,eU,{[Sp]:["GET","/assignment/accounts",200]},()=>DU,()=>kU],QI=[9,ne,Z1,{[Sp]:["POST","/logout",200]},()=>$U,()=>GU]});var Ks,$f=c(()=>{Ae();P();Hs();zs();Ks=class extends oe.classBuilder().ep(tn).m(function(t,r,o,n){return[me(o,t.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").sc(JI).build(){}});var qs,Rp=c(()=>{Ae();P();Hs();zs();qs=class extends oe.classBuilder().ep(tn).m(function(t,r,o,n){return[me(o,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").sc(YI).build(){}});var Js,vp=c(()=>{Ae();P();Hs();zs();Js=class extends oe.classBuilder().ep(tn).m(function(t,r,o,n){return[me(o,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").sc(XI).build(){}});var Ip,Mf=c(()=>{Ae();P();Hs();zs();Ip=class extends oe.classBuilder().ep(tn).m(function(t,r,o,n){return[me(o,t.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").sc(QI).build(){}});var WU,Lf,ZI=c(()=>{P();$f();Rp();vp();Mf();Xi();WU={GetRoleCredentialsCommand:Ks,ListAccountRolesCommand:qs,ListAccountsCommand:Js,LogoutCommand:Ip},Lf=class extends Yr{};Ho(WU,Lf)});var e0=c(()=>{$f();Rp();vp();Mf()});var t0=c(()=>{});var Mpe,r0=c(()=>{Ne();Rp();Xi();Mpe=ui(Yr,qs,"nextToken","nextToken","maxResults")});var Gpe,o0=c(()=>{Ne();vp();Xi();Gpe=ui(Yr,Js,"nextToken","nextToken","maxResults")});var n0=c(()=>{t0();r0();o0()});var s0=c(()=>{});var i0=c(()=>{Xi();ZI();e0();zs();n0();kf();s0()});var a0={};Et(a0,{GetRoleCredentialsCommand:()=>Ks,SSOClient:()=>Yr});var c0=c(()=>{i0()});var Qi,Uf,p0=c(()=>{ke();uI();Z();et();Qi=!1,Uf=async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:o,ssoRoleName:n,ssoClient:s,clientConfig:i,parentClientConfig:a,callerClientConfig:p,profile:u,filepath:d,configFilepath:l,ignoreCache:m,logger:f})=>{let h,g="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let ln=await iI({profile:u,filepath:d,configFilepath:l,ignoreCache:m})();h={accessToken:ln.token,expiresAt:new Date(ln.expiration).toISOString()}}catch(ln){throw new b(ln.message,{tryNextLink:Qi,logger:f})}else try{h=await vi(e)}catch{throw new b(`The SSO session associated with this profile is invalid. ${g}`,{tryNextLink:Qi,logger:f})}if(new Date(h.expiresAt).getTime()-Date.now()<=0)throw new b(`The SSO session associated with this profile has expired. ${g}`,{tryNextLink:Qi,logger:f});let{accessToken:y}=h,{SSOClient:_,GetRoleCredentialsCommand:R}=await Promise.resolve().then(()=>(c0(),a0)),z=s||new _(Object.assign({},i??{},{logger:i?.logger??p?.logger??a?.logger,region:i?.region??o,userAgentAppId:i?.userAgentAppId??p?.userAgentAppId??a?.userAgentAppId})),re;try{re=await z.send(new R({accountId:r,roleName:n,accessToken:y}))}catch(ln){throw new b(ln,{tryNextLink:Qi,logger:f})}let{roleCredentials:{accessKeyId:Te,secretAccessKey:Pe,sessionToken:dn,expiration:se,credentialScope:At,accountId:Zm}={}}=re;if(!Te||!Pe||!dn||!se)throw new b("SSO returns an invalid temporary credential.",{tryNextLink:Qi,logger:f});let rd={accessKeyId:Te,secretAccessKey:Pe,sessionToken:dn,expiration:new Date(se),...At&&{credentialScope:At},...Zm&&{accountId:Zm}};return t?G(rd,"CREDENTIALS_SSO","s"):G(rd,"CREDENTIALS_SSO_LEGACY","u"),rd}});var Ff,Bf=c(()=>{Z();Ff=(e,t)=>{let{sso_start_url:r,sso_account_id:o,sso_region:n,sso_role_name:s}=e;if(!r||!o||!n||!s)throw new b(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e}});var zU,u0=c(()=>{Z();et();hf();p0();Bf();zU=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:o,ssoRegion:n,ssoRoleName:s,ssoSession:i}=e,{ssoClient:a}=e,p=ft({profile:e.profile??t?.profile});if(!r&&!o&&!n&&!s&&!i){let d=(await qr(e))[p];if(!d)throw new b(`Profile ${p} was not found.`,{logger:e.logger});if(!mf(d))throw new b(`Profile ${p} is not configured with SSO credentials.`,{logger:e.logger});if(d?.sso_session){let _=(await Bc(e))[d.sso_session],R=` configurations in profile ${p} and sso-session ${d.sso_session}`;if(n&&n!==_.sso_region)throw new b("Conflicting SSO region"+R,{tryNextLink:!1,logger:e.logger});if(r&&r!==_.sso_start_url)throw new b("Conflicting SSO start_url"+R,{tryNextLink:!1,logger:e.logger});d.sso_region=_.sso_region,d.sso_start_url=_.sso_start_url}let{sso_start_url:l,sso_account_id:m,sso_region:f,sso_role_name:h,sso_session:g}=Ff(d,e.logger);return Uf({ssoStartUrl:l,ssoSession:g,ssoAccountId:m,ssoRegion:f,ssoRoleName:h,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,callerClientConfig:e.callerClientConfig,profile:p,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}else{if(!r||!o||!n||!s)throw new b('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return Uf({ssoStartUrl:r,ssoSession:i,ssoAccountId:o,ssoRegion:n,ssoRoleName:s,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,callerClientConfig:e.callerClientConfig,profile:p,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}}});var d0=c(()=>{});var Gf={};Et(Gf,{fromSSO:()=>zU,isSsoProfile:()=>mf,validateSsoProfile:()=>Ff});var Hf=c(()=>{u0();hf();d0();Bf()});var l0,Vf,f0=c(()=>{ke();Z();l0=(e,t,r)=>{let o={EcsContainer:async n=>{let{fromHttp:s}=await Promise.resolve().then(()=>(ff(),lf)),{fromContainerMetadata:i}=await Promise.resolve().then(()=>(ki(),Di));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>Rs(s(n??{}),i(n))().then(Vf)},Ec2InstanceMetadata:async n=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:s}=await Promise.resolve().then(()=>(ki(),Di));return async()=>s(n)().then(Vf)},Environment:async n=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:s}=await Promise.resolve().then(()=>(rf(),oR));return async()=>s(n)().then(Vf)}};if(e in o)return o[e];throw new b(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},Vf=e=>G(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p")});function KU(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function qU(e){return{schemeId:"smithy.api#noAuth"}}var m0,h0,JU,g0,jf=c(()=>{we();Ge();Zi();m0=async(e,t,r)=>({operation:fe(t).operation,region:await Y(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});h0=e=>{let t=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{t.push(qU(e));break}default:t.push(KU(e))}return t},JU=e=>Object.assign(e,{stsClientCtor:Xr}),g0=e=>{let t=JU(e),r=Qt(t);return Object.assign(r,{authSchemePreference:Y(e.authSchemePreference??[])})}});var y0,Ap,Cp=c(()=>{y0=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),Ap={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var A0,M,j,W,on,rn,Le,C0,P0,O0,de,S0,Qr,Ys,zf,x0,Wf,N0,E0,Ue,_0,D0,k0,Ke,Rt,T0,$0,M0,w0,L0,b0,R0,v0,I0,YU,U0,F0=c(()=>{A0="required",M="type",j="fn",W="argv",on="ref",rn="booleanEquals",Le="stringEquals",C0="sigv4",P0="sts",O0="us-east-1",de="endpoint",S0="https://sts.{Region}.{PartitionResult#dnsSuffix}",Qr="tree",Ys="error",zf="getAttr",x0={[A0]:!1,[M]:"string"},Wf={[A0]:!0,default:!1,[M]:"boolean"},N0={[on]:"Endpoint"},E0={[j]:"isSet",[W]:[{[on]:"Region"}]},Ue={[on]:"Region"},_0={[j]:"aws.partition",[W]:[Ue],assign:"PartitionResult"},D0={[on]:"UseFIPS"},k0={[on]:"UseDualStack"},Ke={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:C0,signingName:P0,signingRegion:O0}]},headers:{}},Rt={},T0={conditions:[{[j]:Le,[W]:[Ue,"aws-global"]}],[de]:Ke,[M]:de},$0={[j]:rn,[W]:[D0,!0]},M0={[j]:rn,[W]:[k0,!0]},w0={[j]:zf,[W]:[{[on]:"PartitionResult"},"supportsFIPS"]},L0={[on]:"PartitionResult"},b0={[j]:rn,[W]:[!0,{[j]:zf,[W]:[L0,"supportsDualStack"]}]},R0=[{[j]:"isSet",[W]:[N0]}],v0=[$0],I0=[M0],YU={version:"1.0",parameters:{Region:x0,UseDualStack:Wf,UseFIPS:Wf,Endpoint:x0,UseGlobalEndpoint:Wf},rules:[{conditions:[{[j]:rn,[W]:[{[on]:"UseGlobalEndpoint"},!0]},{[j]:"not",[W]:R0},E0,_0,{[j]:rn,[W]:[D0,!1]},{[j]:rn,[W]:[k0,!1]}],rules:[{conditions:[{[j]:Le,[W]:[Ue,"ap-northeast-1"]}],endpoint:Ke,[M]:de},{conditions:[{[j]:Le,[W]:[Ue,"ap-south-1"]}],endpoint:Ke,[M]:de},{conditions:[{[j]:Le,[W]:[Ue,"ap-southeast-1"]}],endpoint:Ke,[M]:de},{conditions:[{[j]:Le,[W]:[Ue,"ap-southeast-2"]}],endpoint:Ke,[M]:de},T0,{conditions:[{[j]:Le,[W]:[Ue,"ca-central-1"]}],endpoint:Ke,[M]:de},{conditions:[{[j]:Le,[W]:[Ue,"eu-central-1"]}],endpoint:Ke,[M]:de},{conditions:[{[j]:Le,[W]:[Ue,"eu-north-1"]}],endpoint:Ke,[M]:de},{conditions:[{[j]:Le,[W]:[Ue,"eu-west-1"]}],endpoint:Ke,[M]:de},{conditions:[{[j]:Le,[W]:[Ue,"eu-west-2"]}],endpoint:Ke,[M]:de},{conditions:[{[j]:Le,[W]:[Ue,"eu-west-3"]}],endpoint:Ke,[M]:de},{conditions:[{[j]:Le,[W]:[Ue,"sa-east-1"]}],endpoint:Ke,[M]:de},{conditions:[{[j]:Le,[W]:[Ue,O0]}],endpoint:Ke,[M]:de},{conditions:[{[j]:Le,[W]:[Ue,"us-east-2"]}],endpoint:Ke,[M]:de},{conditions:[{[j]:Le,[W]:[Ue,"us-west-1"]}],endpoint:Ke,[M]:de},{conditions:[{[j]:Le,[W]:[Ue,"us-west-2"]}],endpoint:Ke,[M]:de},{endpoint:{url:S0,properties:{authSchemes:[{name:C0,signingName:P0,signingRegion:"{Region}"}]},headers:Rt},[M]:de}],[M]:Qr},{conditions:R0,rules:[{conditions:v0,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[M]:Ys},{conditions:I0,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[M]:Ys},{endpoint:{url:N0,properties:Rt,headers:Rt},[M]:de}],[M]:Qr},{conditions:[E0],rules:[{conditions:[_0],rules:[{conditions:[$0,M0],rules:[{conditions:[{[j]:rn,[W]:[!0,w0]},b0],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Rt,headers:Rt},[M]:de}],[M]:Qr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[M]:Ys}],[M]:Qr},{conditions:v0,rules:[{conditions:[{[j]:rn,[W]:[w0,!0]}],rules:[{conditions:[{[j]:Le,[W]:[{[j]:zf,[W]:[L0,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:Rt,headers:Rt},[M]:de},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Rt,headers:Rt},[M]:de}],[M]:Qr},{error:"FIPS is enabled but this partition does not support FIPS",[M]:Ys}],[M]:Qr},{conditions:I0,rules:[{conditions:[b0],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Rt,headers:Rt},[M]:de}],[M]:Qr},{error:"DualStack is enabled but this partition does not support DualStack",[M]:Ys}],[M]:Qr},T0,{endpoint:{url:S0,properties:Rt,headers:Rt},[M]:de}],[M]:Qr}],[M]:Qr},{error:"Invalid Configuration: Missing Region",[M]:Ys}]},U0=YU});var XU,B0,G0=c(()=>{Fo();Dr();F0();XU=new ut({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),B0=(e,t={})=>XU.get(e,()=>Kt(U0,{endpointParams:e,logger:t.logger}));De.aws=_t});var H0,V0=c(()=>{we();_o();Ne();P();Eo();He();ge();jf();G0();H0=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??le,base64Encoder:e?.base64Encoder??ae,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??B0,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??h0,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new $e},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Vt}],logger:e?.logger??new We,protocol:e?.protocol??Cc,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.sts",xmlNamespace:"https://sts.amazonaws.com/doc/2011-06-15/",version:"2011-06-15",serviceTarget:"AWSSecurityTokenServiceV20110615"},serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??Ie,utf8Decoder:e?.utf8Decoder??ce,utf8Encoder:e?.utf8Encoder??ie})});var j0,W0=c(()=>{ip();we();jn();Ze();Ne();Wn();bt();pr();mo();P();zn();Kn();wo();V0();j0=e=>{er(process.version);let t=Sr(e),r=()=>t().then(Zt),o=H0(e);qt(process.version);let n={profile:e?.profile,logger:o.logger};return{...o,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??v(Jt,n),bodyLengthChecker:e?.bodyLengthChecker??yr,defaultUserAgentProvider:e?.defaultUserAgentProvider??hr({serviceId:o.serviceId,clientVersion:Us.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:s=>s.getIdentityProvider("aws.auth#sigv4")||(async i=>await e.credentialDefaultProvider(i?.__config||{})()),signer:new $e},{schemeId:"smithy.api#noAuth",identityProvider:s=>s.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Vt}],maxAttempts:e?.maxAttempts??v(dr,e),region:e?.region??v(ze,{...lt,...n}),requestHandler:Ve.create(e?.requestHandler??r),retryMode:e?.retryMode??v({...fr,default:async()=>(await r()).retryMode||mt},e),sha256:e?.sha256??ht.bind(null,"sha256"),streamCollector:e?.streamCollector??st,useDualstackEndpoint:e?.useDualstackEndpoint??v(sr,n),useFipsEndpoint:e?.useFipsEndpoint??v(ir,n),userAgentAppId:e?.userAgentAppId??v(gr,n)}}});var z0,K0,q0=c(()=>{z0=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,o=e.credentials;return{setHttpAuthScheme(n){let s=t.findIndex(i=>i.schemeId===n.schemeId);s===-1?t.push(n):t.splice(s,1,n)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(n){r=n},httpAuthSchemeProvider(){return r},setCredentials(n){o=n},credentials(){return o}}},K0=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var J0,Y0=c(()=>{Zo();ue();P();q0();J0=(e,t)=>{let r=Object.assign(Tr(e),tr(e),Dt(e),z0(e));return t.forEach(o=>o.configure(r)),Object.assign(e,wr(r),rr(r),kt(r),K0(r))}});var Xr,Zi=c(()=>{Cn();Pn();On();Ko();Ze();Ne();K();Hn();Ae();bt();P();jf();Cp();W0();Y0();Xr=class extends Me{config;constructor(...[t]){let r=j0(t||{});super(r),this.initConfig=r;let o=y0(r),n=jt(o),s=lr(n),i=ar(s),a=i,p=ur(a),u=g0(p),d=J0(u,t?.extensions||[]);this.config=d,this.middlewareStack.use(Gt(this.config)),this.middlewareStack.use(nr(this.config)),this.middlewareStack.use(mr(this.config)),this.middlewareStack.use(cr(this.config)),this.middlewareStack.use(Mt(this.config)),this.middlewareStack.use(Lt(this.config)),this.middlewareStack.use(Ut(this.config)),this.middlewareStack.use(Ft(this.config,{httpAuthSchemeParametersProvider:m0,identityProviderConfigProvider:async l=>new pt({"aws.auth#sigv4":l.credentials})})),this.middlewareStack.use(Bt(this.config))}destroy(){super.destroy()}}});var gt,Pp=c(()=>{P();gt=class e extends dt{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var ea,ta,ra,oa,na,sa,ia,Kf=c(()=>{Pp();ea=class e extends gt{name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ta=class e extends gt{name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ra=class e extends gt{name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},oa=class e extends gt{name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},na=class e extends gt{name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},sa=class e extends gt{name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ia=class e extends gt{name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}}});var QU,ZU,eF,tF,rF,oF,qf,nF,sF,iF,aF,Jf,cF,X0,pF,uF,dF,lF,fF,mF,hF,gF,Q0,Z0,yF,SF,xF,EF,_F,TF,eA,wF,bF,tA,RF,rA,vF,IF,Yf,AF,CF,PF,OF,NF,DF,kF,$F,MF,LF,Jn,Yn,UF,Xn,Qn,Zn,FF,oA,BF,Q,GF,HF,Xf,nA,sA,iA,aA,Qf,cA,pA,uA,dA,lA,fA,mA,hA,gA,yA,SA,xA,VF,jF,Zf,em,Op=c(()=>{K();Kf();Pp();QU="Arn",ZU="AccessKeyId",eF="AssumeRole",tF="AssumedRoleId",rF="AssumeRoleRequest",oF="AssumeRoleResponse",qf="AssumedRoleUser",nF="AssumeRoleWithWebIdentity",sF="AssumeRoleWithWebIdentityRequest",iF="AssumeRoleWithWebIdentityResponse",aF="Audience",Jf="Credentials",cF="ContextAssertion",X0="DurationSeconds",pF="Expiration",uF="ExternalId",dF="ExpiredTokenException",lF="IDPCommunicationErrorException",fF="IDPRejectedClaimException",mF="InvalidIdentityTokenException",hF="Key",gF="MalformedPolicyDocumentException",Q0="Policy",Z0="PolicyArns",yF="ProviderArn",SF="ProvidedContexts",xF="ProvidedContextsListType",EF="ProvidedContext",_F="PolicyDescriptorType",TF="ProviderId",eA="PackedPolicySize",wF="PackedPolicyTooLargeException",bF="Provider",tA="RoleArn",RF="RegionDisabledException",rA="RoleSessionName",vF="SecretAccessKey",IF="SubjectFromWebIdentityToken",Yf="SourceIdentity",AF="SerialNumber",CF="SessionToken",PF="Tags",OF="TokenCode",NF="TransitiveTagKeys",DF="Tag",kF="Value",$F="WebIdentityToken",MF="arn",LF="accessKeySecretType",Jn="awsQueryError",Yn="client",UF="clientTokenType",Xn="error",Qn="httpError",Zn="message",FF="policyDescriptorListType",oA="smithy.ts.sdk.synthetic.com.amazonaws.sts",BF="tagListType",Q="com.amazonaws.sts",GF=[0,Q,LF,8,0],HF=[0,Q,UF,8,0],Xf=[3,Q,qf,0,[tF,QU],[0,0]],nA=[3,Q,rF,0,[tA,rA,Z0,Q0,X0,PF,NF,uF,AF,OF,Yf,SF],[0,0,()=>xA,0,1,()=>jF,64,0,0,0,0,()=>VF]],sA=[3,Q,oF,0,[Jf,qf,eA,Yf],[[()=>Qf,0],()=>Xf,1,0]],iA=[3,Q,sF,0,[tA,rA,$F,TF,Z0,Q0,X0],[0,0,[()=>HF,0],0,()=>xA,0,1]],aA=[3,Q,iF,0,[Jf,IF,qf,eA,bF,aF,Yf],[[()=>Qf,0],0,()=>Xf,1,0,0,0]],Qf=[3,Q,Jf,0,[ZU,vF,CF,pF],[0,[()=>GF,0],0,4]],cA=[-3,Q,dF,{[Jn]:["ExpiredTokenException",400],[Xn]:Yn,[Qn]:400},[Zn],[0]];x.for(Q).registerError(cA,ea);pA=[-3,Q,lF,{[Jn]:["IDPCommunicationError",400],[Xn]:Yn,[Qn]:400},[Zn],[0]];x.for(Q).registerError(pA,ia);uA=[-3,Q,fF,{[Jn]:["IDPRejectedClaim",403],[Xn]:Yn,[Qn]:403},[Zn],[0]];x.for(Q).registerError(uA,na);dA=[-3,Q,mF,{[Jn]:["InvalidIdentityToken",400],[Xn]:Yn,[Qn]:400},[Zn],[0]];x.for(Q).registerError(dA,sa);lA=[-3,Q,gF,{[Jn]:["MalformedPolicyDocument",400],[Xn]:Yn,[Qn]:400},[Zn],[0]];x.for(Q).registerError(lA,ta);fA=[-3,Q,wF,{[Jn]:["PackedPolicyTooLarge",400],[Xn]:Yn,[Qn]:400},[Zn],[0]];x.for(Q).registerError(fA,ra);mA=[3,Q,_F,0,[MF],[0]],hA=[3,Q,EF,0,[yF,cF],[0,0]],gA=[-3,Q,RF,{[Jn]:["RegionDisabledException",403],[Xn]:Yn,[Qn]:403},[Zn],[0]];x.for(Q).registerError(gA,oa);yA=[3,Q,DF,0,[hF,kF],[0,0]],SA=[-3,oA,"STSServiceException",0,[],[]];x.for(oA).registerError(SA,gt);xA=[1,Q,FF,0,()=>mA],VF=[1,Q,xF,0,()=>hA],jF=[1,Q,BF,0,()=>yA],Zf=[9,Q,eF,0,()=>nA,()=>sA],em=[9,Q,nF,0,()=>iA,()=>aA]});var es,Np=c(()=>{Ae();P();Cp();Op();es=class extends oe.classBuilder().ep(Ap).m(function(t,r,o,n){return[me(o,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").sc(Zf).build(){}});var ts,Dp=c(()=>{Ae();P();Cp();Op();ts=class extends oe.classBuilder().ep(Ap).m(function(t,r,o,n){return[me(o,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").sc(em).build(){}});var WF,kp,EA=c(()=>{P();Np();Dp();Zi();WF={AssumeRoleCommand:es,AssumeRoleWithWebIdentityCommand:ts},kp=class extends Xr{};Ho(WF,kp)});var _A=c(()=>{Np();Dp()});var TA=c(()=>{});var wA,bA,RA,vA,IA,AA=c(()=>{ke();Zo();Np();Dp();wA=e=>{if(typeof e?.Arn=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},bA=async(e,t,r,o={})=>{let n=typeof e=="function"?await e():e,s=typeof t=="function"?await t():t,i="",a=n??s??(i=await Tv(o)());return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${n} (credential provider clientConfig)`,`${s} (contextual client)`,`${i} (STS default: AWS_REGION, profile region, or us-east-1)`),a},RA=(e,t)=>{let r,o;return async(n,s)=>{if(o=n,!r){let{logger:d=e?.parentClientConfig?.logger,profile:l=e?.parentClientConfig?.profile,region:m,requestHandler:f=e?.parentClientConfig?.requestHandler,credentialProviderLogger:h,userAgentAppId:g=e?.parentClientConfig?.userAgentAppId}=e,y=await bA(m,e?.parentClientConfig?.region,h,{logger:d,profile:l}),_=!IA(f);r=new t({...e,userAgentAppId:g,profile:l,credentialDefaultProvider:()=>async()=>o,region:y,requestHandler:_?f:void 0,logger:d})}let{Credentials:i,AssumedRoleUser:a}=await r.send(new es(s));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${s.RoleArn}`);let p=wA(a),u={accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...p&&{accountId:p}};return G(u,"CREDENTIALS_STS_ASSUME_ROLE","i"),u}},vA=(e,t)=>{let r;return async o=>{if(!r){let{logger:p=e?.parentClientConfig?.logger,profile:u=e?.parentClientConfig?.profile,region:d,requestHandler:l=e?.parentClientConfig?.requestHandler,credentialProviderLogger:m,userAgentAppId:f=e?.parentClientConfig?.userAgentAppId}=e,h=await bA(d,e?.parentClientConfig?.region,m,{logger:p,profile:u}),g=!IA(l);r=new t({...e,userAgentAppId:f,profile:u,region:h,requestHandler:g?l:void 0,logger:p})}let{Credentials:n,AssumedRoleUser:s}=await r.send(new ts(o));if(!n||!n.AccessKeyId||!n.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${o.RoleArn}`);let i=wA(s),a={accessKeyId:n.AccessKeyId,secretAccessKey:n.SecretAccessKey,sessionToken:n.SessionToken,expiration:n.Expiration,...n.CredentialScope&&{credentialScope:n.CredentialScope},...i&&{accountId:i}};return i&&G(a,"RESOLVED_ACCOUNT_ID","T"),G(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},IA=e=>e?.metadata?.handlerProtocol==="h2"});var CA,PA,OA,zF,NA=c(()=>{AA();Zi();CA=(e,t)=>t?class extends e{constructor(o){super(o);for(let n of t)this.middlewareStack.use(n)}}:e,PA=(e={},t)=>RA(e,CA(Xr,t)),OA=(e={},t)=>vA(e,CA(Xr,t)),zF=e=>t=>e({roleAssumer:PA(t),roleAssumerWithWebIdentity:OA(t),...t})});var tm={};Et(tm,{$Command:()=>oe,AssumeRole$:()=>Zf,AssumeRoleCommand:()=>es,AssumeRoleRequest$:()=>nA,AssumeRoleResponse$:()=>sA,AssumeRoleWithWebIdentity$:()=>em,AssumeRoleWithWebIdentityCommand:()=>ts,AssumeRoleWithWebIdentityRequest$:()=>iA,AssumeRoleWithWebIdentityResponse$:()=>aA,AssumedRoleUser$:()=>Xf,Credentials$:()=>Qf,ExpiredTokenException:()=>ea,ExpiredTokenException$:()=>cA,IDPCommunicationErrorException:()=>ia,IDPCommunicationErrorException$:()=>pA,IDPRejectedClaimException:()=>na,IDPRejectedClaimException$:()=>uA,InvalidIdentityTokenException:()=>sa,InvalidIdentityTokenException$:()=>dA,MalformedPolicyDocumentException:()=>ta,MalformedPolicyDocumentException$:()=>lA,PackedPolicyTooLargeException:()=>ra,PackedPolicyTooLargeException$:()=>fA,PolicyDescriptorType$:()=>mA,ProvidedContext$:()=>hA,RegionDisabledException:()=>oa,RegionDisabledException$:()=>gA,STS:()=>kp,STSClient:()=>Xr,STSServiceException:()=>gt,STSServiceException$:()=>SA,Tag$:()=>yA,__Client:()=>Me,decorateDefaultCredentialProvider:()=>zF,getDefaultRoleAssumer:()=>PA,getDefaultRoleAssumerWithWebIdentity:()=>OA});var rm=c(()=>{Zi();EA();_A();Op();Kf();TA();NA();Pp()});var kA,KF,qF,$A,DA,MA=c(()=>{ke();Z();et();f0();kA=(e,{profile:t="default",logger:r}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(KF(e,{profile:t,logger:r})||qF(e,{profile:t,logger:r})),KF=(e,{profile:t,logger:r})=>{let o=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return o&&r?.debug?.(`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),o},qF=(e,{profile:t,logger:r})=>{let o=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return o&&r?.debug?.(`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`),o},$A=async(e,t,r,o,n={},s)=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let i=t[e],{source_profile:a,region:p}=i;if(!r.roleAssumer){let{getDefaultRoleAssumer:d}=await Promise.resolve().then(()=>(rm(),tm));r.roleAssumer=d({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...o,...r?.parentClientConfig,region:p??r?.parentClientConfig?.region??o?.region}},r.clientPlugins)}if(a&&a in n)throw new b(`Detected a cycle attempting to resolve credentials for profile ${ft(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${a?`source_profile=[${a}]`:`profile=[${e}]`}`);let u=a?s(a,t,r,o,{...n,[a]:!0},DA(t[a]??{})):(await l0(i.credential_source,e,r.logger)(r))();if(DA(i))return u.then(d=>G(d,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let d={RoleArn:i.role_arn,RoleSessionName:i.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:i.external_id,DurationSeconds:parseInt(i.duration_seconds||"3600",10)},{mfa_serial:l}=i;if(l){if(!r.mfaCodeProvider)throw new b(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});d.SerialNumber=l,d.TokenCode=await r.mfaCodeProvider(l)}let m=await u;return r.roleAssumer(m,d).then(f=>G(f,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},DA=e=>!e.role_arn&&!!e.credential_source});function JF(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"signin",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function YF(e){return{schemeId:"smithy.api#noAuth"}}var LA,UA,FA,om=c(()=>{we();Ge();LA=async(e,t,r)=>({operation:fe(t).operation,region:await Y(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});UA=e=>{let t=[];switch(e.operation){case"CreateOAuth2Token":{t.push(YF(e));break}default:t.push(JF(e))}return t},FA=e=>{let t=Qt(e);return Object.assign(t,{authSchemePreference:Y(e.authSchemePreference??[])})}});var BA,GA,nm=c(()=>{BA=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"signin"}),GA={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var JA,Je,Ye,Io,HA,rs,Xs,nn,Lr,Lp,sm,VA,jA,WA,im,am,qe,cm,$p,Mp,zA,KA,qA,XF,YA,XA=c(()=>{JA="required",Je="fn",Ye="argv",Io="ref",HA="isSet",rs="booleanEquals",Xs="error",nn="endpoint",Lr="tree",Lp="PartitionResult",sm="stringEquals",VA={[JA]:!0,default:!1,type:"boolean"},jA={[JA]:!1,type:"string"},WA={[Io]:"Endpoint"},im={[Je]:rs,[Ye]:[{[Io]:"UseFIPS"},!0]},am={[Je]:rs,[Ye]:[{[Io]:"UseDualStack"},!0]},qe={},cm={[Je]:"getAttr",[Ye]:[{[Io]:Lp},"name"]},$p={[Je]:rs,[Ye]:[{[Io]:"UseFIPS"},!1]},Mp={[Je]:rs,[Ye]:[{[Io]:"UseDualStack"},!1]},zA={[Je]:"getAttr",[Ye]:[{[Io]:Lp},"supportsFIPS"]},KA={[Je]:rs,[Ye]:[!0,{[Je]:"getAttr",[Ye]:[{[Io]:Lp},"supportsDualStack"]}]},qA=[{[Io]:"Region"}],XF={version:"1.0",parameters:{UseDualStack:VA,UseFIPS:VA,Endpoint:jA,Region:jA},rules:[{conditions:[{[Je]:HA,[Ye]:[WA]}],rules:[{conditions:[im],error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Xs},{rules:[{conditions:[am],error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Xs},{endpoint:{url:WA,properties:qe,headers:qe},type:nn}],type:Lr}],type:Lr},{rules:[{conditions:[{[Je]:HA,[Ye]:qA}],rules:[{conditions:[{[Je]:"aws.partition",[Ye]:qA,assign:Lp}],rules:[{conditions:[{[Je]:sm,[Ye]:[cm,"aws"]},$p,Mp],endpoint:{url:"https://{Region}.signin.aws.amazon.com",properties:qe,headers:qe},type:nn},{conditions:[{[Je]:sm,[Ye]:[cm,"aws-cn"]},$p,Mp],endpoint:{url:"https://{Region}.signin.amazonaws.cn",properties:qe,headers:qe},type:nn},{conditions:[{[Je]:sm,[Ye]:[cm,"aws-us-gov"]},$p,Mp],endpoint:{url:"https://{Region}.signin.amazonaws-us-gov.com",properties:qe,headers:qe},type:nn},{conditions:[im,am],rules:[{conditions:[{[Je]:rs,[Ye]:[!0,zA]},KA],rules:[{endpoint:{url:"https://signin-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:qe,headers:qe},type:nn}],type:Lr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Xs}],type:Lr},{conditions:[im,Mp],rules:[{conditions:[{[Je]:rs,[Ye]:[zA,!0]}],rules:[{endpoint:{url:"https://signin-fips.{Region}.{PartitionResult#dnsSuffix}",properties:qe,headers:qe},type:nn}],type:Lr},{error:"FIPS is enabled but this partition does not support FIPS",type:Xs}],type:Lr},{conditions:[$p,am],rules:[{conditions:[KA],rules:[{endpoint:{url:"https://signin.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:qe,headers:qe},type:nn}],type:Lr},{error:"DualStack is enabled but this partition does not support DualStack",type:Xs}],type:Lr},{endpoint:{url:"https://signin.{Region}.{PartitionResult#dnsSuffix}",properties:qe,headers:qe},type:nn}],type:Lr}],type:Lr},{error:"Invalid Configuration: Missing Region",type:Xs}],type:Lr}]},YA=XF});var QF,QA,ZA=c(()=>{Fo();Dr();XA();QF=new ut({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),QA=(e,t={})=>QF.get(e,()=>Kt(YA,{endpointParams:e,logger:t.logger}));De.aws=_t});var eC,tC=c(()=>{we();_o();Ne();P();Eo();He();ge();om();ZA();eC=e=>({apiVersion:"2023-01-01",base64Decoder:e?.base64Decoder??le,base64Encoder:e?.base64Encoder??ae,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??QA,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??UA,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new $e},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Vt}],logger:e?.logger??new We,protocol:e?.protocol??Wo,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.signin",version:"2023-01-01",serviceTarget:"Signin"},serviceId:e?.serviceId??"Signin",urlParser:e?.urlParser??Ie,utf8Decoder:e?.utf8Decoder??ce,utf8Encoder:e?.utf8Encoder??ie})});var rC,oC=c(()=>{ip();we();jn();Ze();Wn();bt();pr();mo();P();zn();Kn();wo();tC();rC=e=>{er(process.version);let t=Sr(e),r=()=>t().then(Zt),o=eC(e);qt(process.version);let n={profile:e?.profile,logger:o.logger};return{...o,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??v(Jt,n),bodyLengthChecker:e?.bodyLengthChecker??yr,defaultUserAgentProvider:e?.defaultUserAgentProvider??hr({serviceId:o.serviceId,clientVersion:Us.version}),maxAttempts:e?.maxAttempts??v(dr,e),region:e?.region??v(ze,{...lt,...n}),requestHandler:Ve.create(e?.requestHandler??r),retryMode:e?.retryMode??v({...fr,default:async()=>(await r()).retryMode||mt},e),sha256:e?.sha256??ht.bind(null,"sha256"),streamCollector:e?.streamCollector??st,useDualstackEndpoint:e?.useDualstackEndpoint??v(sr,n),useFipsEndpoint:e?.useFipsEndpoint??v(ir,n),userAgentAppId:e?.userAgentAppId??v(gr,n)}}});var nC,sC,iC=c(()=>{nC=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,o=e.credentials;return{setHttpAuthScheme(n){let s=t.findIndex(i=>i.schemeId===n.schemeId);s===-1?t.push(n):t.splice(s,1,n)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(n){r=n},httpAuthSchemeProvider(){return r},setCredentials(n){o=n},credentials(){return o}}},sC=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var aC,cC=c(()=>{Zo();ue();P();iC();aC=(e,t)=>{let r=Object.assign(Tr(e),tr(e),Dt(e),nC(e));return t.forEach(o=>o.configure(r)),Object.assign(e,wr(r),rr(r),kt(r),sC(r))}});var aa,pm=c(()=>{Cn();Pn();On();Ko();Ze();Ne();K();Hn();Ae();bt();P();om();nm();oC();cC();aa=class extends Me{config;constructor(...[t]){let r=rC(t||{});super(r),this.initConfig=r;let o=BA(r),n=jt(o),s=lr(n),i=ar(s),a=i,p=ur(a),u=FA(p),d=aC(u,t?.extensions||[]);this.config=d,this.middlewareStack.use(Gt(this.config)),this.middlewareStack.use(nr(this.config)),this.middlewareStack.use(mr(this.config)),this.middlewareStack.use(cr(this.config)),this.middlewareStack.use(Mt(this.config)),this.middlewareStack.use(Lt(this.config)),this.middlewareStack.use(Ut(this.config)),this.middlewareStack.use(Ft(this.config,{httpAuthSchemeParametersProvider:LA,identityProviderConfigProvider:async l=>new pt({"aws.auth#sigv4":l.credentials})})),this.middlewareStack.use(Bt(this.config))}destroy(){super.destroy()}}});var Ur,Up=c(()=>{P();Ur=class e extends dt{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var ca,pa,ua,da,um=c(()=>{Up();ca=class e extends Ur{name="AccessDeniedException";$fault="client";error;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error}},pa=class e extends Ur{name="InternalServerException";$fault="server";error;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error}},ua=class e extends Ur{name="TooManyRequestsError";$fault="client";error;constructor(t){super({name:"TooManyRequestsError",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error}},da=class e extends Ur{name="ValidationException";$fault="client";error;constructor(t){super({name:"ValidationException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error}}});var ZF,e3,t3,r3,o3,n3,s3,i3,a3,c3,p3,pC,uC,dm,dC,lC,u3,sn,fC,mC,d3,lm,hC,vt,Bp,Fp,gC,l3,yC,SC,EC,f3,m3,xC,tt,_C,TC,wC,bC,RC,vC,IC,AC,CC,PC,OC,fm,mm=c(()=>{K();um();Up();ZF="AccessDeniedException",e3="AccessToken",t3="CreateOAuth2Token",r3="CreateOAuth2TokenRequest",o3="CreateOAuth2TokenRequestBody",n3="CreateOAuth2TokenResponseBody",s3="CreateOAuth2TokenResponse",i3="InternalServerException",a3="RefreshToken",c3="TooManyRequestsError",p3="ValidationException",pC="accessKeyId",uC="accessToken",dm="client",dC="clientId",lC="codeVerifier",u3="code",sn="error",fC="expiresIn",mC="grantType",d3="http",lm="httpError",hC="idToken",vt="jsonName",Bp="message",Fp="refreshToken",gC="redirectUri",l3="server",yC="secretAccessKey",SC="sessionToken",EC="smithy.ts.sdk.synthetic.com.amazonaws.signin",f3="tokenInput",m3="tokenOutput",xC="tokenType",tt="com.amazonaws.signin",_C=[0,tt,a3,8,0],TC=[-3,tt,ZF,{[sn]:dm},[sn,Bp],[0,0]];x.for(tt).registerError(TC,ca);wC=[3,tt,e3,8,[pC,yC,SC],[[0,{[vt]:pC}],[0,{[vt]:yC}],[0,{[vt]:SC}]]],bC=[3,tt,r3,0,[f3],[[()=>RC,16]]],RC=[3,tt,o3,0,[dC,mC,u3,gC,lC,Fp],[[0,{[vt]:dC}],[0,{[vt]:mC}],0,[0,{[vt]:gC}],[0,{[vt]:lC}],[()=>_C,{[vt]:Fp}]]],vC=[3,tt,s3,0,[m3],[[()=>IC,16]]],IC=[3,tt,n3,0,[uC,xC,fC,Fp,hC],[[()=>wC,{[vt]:uC}],[0,{[vt]:xC}],[1,{[vt]:fC}],[()=>_C,{[vt]:Fp}],[0,{[vt]:hC}]]],AC=[-3,tt,i3,{[sn]:l3,[lm]:500},[sn,Bp],[0,0]];x.for(tt).registerError(AC,pa);CC=[-3,tt,c3,{[sn]:dm,[lm]:429},[sn,Bp],[0,0]];x.for(tt).registerError(CC,ua);PC=[-3,tt,p3,{[sn]:dm,[lm]:400},[sn,Bp],[0,0]];x.for(tt).registerError(PC,da);OC=[-3,EC,"SigninServiceException",0,[],[]];x.for(EC).registerError(OC,Ur);fm=[9,tt,t3,{[d3]:["POST","/v1/token",200]},()=>bC,()=>vC]});var la,hm=c(()=>{Ae();P();nm();mm();la=class extends oe.classBuilder().ep(GA).m(function(t,r,o,n){return[me(o,t.getEndpointParameterInstructions())]}).s("Signin","CreateOAuth2Token",{}).n("SigninClient","CreateOAuth2TokenCommand").sc(fm).build(){}});var h3,Gp,NC=c(()=>{P();hm();pm();h3={CreateOAuth2TokenCommand:la},Gp=class extends aa{};Ho(h3,Gp)});var DC=c(()=>{hm()});var g3,kC=c(()=>{g3={AUTHCODE_EXPIRED:"AUTHCODE_EXPIRED",INSUFFICIENT_PERMISSIONS:"INSUFFICIENT_PERMISSIONS",INVALID_REQUEST:"INVALID_REQUEST",SERVER_ERROR:"server_error",TOKEN_EXPIRED:"TOKEN_EXPIRED",USER_CREDENTIALS_CHANGED:"USER_CREDENTIALS_CHANGED"}});var $C=c(()=>{});var MC={};Et(MC,{$Command:()=>oe,AccessDeniedException:()=>ca,AccessDeniedException$:()=>TC,AccessToken$:()=>wC,CreateOAuth2Token$:()=>fm,CreateOAuth2TokenCommand:()=>la,CreateOAuth2TokenRequest$:()=>bC,CreateOAuth2TokenRequestBody$:()=>RC,CreateOAuth2TokenResponse$:()=>vC,CreateOAuth2TokenResponseBody$:()=>IC,InternalServerException:()=>pa,InternalServerException$:()=>AC,OAuth2ErrorCode:()=>g3,Signin:()=>Gp,SigninClient:()=>aa,SigninServiceException:()=>Ur,SigninServiceException$:()=>OC,TooManyRequestsError:()=>ua,TooManyRequestsError$:()=>CC,ValidationException:()=>da,ValidationException$:()=>PC,__Client:()=>Me});var LC=c(()=>{pm();NC();DC();mm();kC();um();$C();Up()});import{createHash as y3,createPrivateKey as S3,createPublicKey as x3,sign as E3}from"node:crypto";import{promises as gm}from"node:fs";import{homedir as _3}from"node:os";import{dirname as T3,join as UC}from"node:path";var Hp,FC=c(()=>{Z();ue();et();Hp=class e{profileData;init;callerClientConfig;static REFRESH_THRESHOLD=5*60*1e3;constructor(t,r,o){this.profileData=t,this.init=r,this.callerClientConfig=o}async loadCredentials(){let t=await this.loadToken();if(!t)throw new b(`Failed to load a token for session ${this.loginSession}, please re-authenticate using aws login`,{tryNextLink:!1,logger:this.logger});let r=t.accessToken,o=Date.now();return new Date(r.expiresAt).getTime()-o<=e.REFRESH_THRESHOLD?this.refresh(t):{accessKeyId:r.accessKeyId,secretAccessKey:r.secretAccessKey,sessionToken:r.sessionToken,accountId:r.accountId,expiration:new Date(r.expiresAt)}}get logger(){return this.init?.logger}get loginSession(){return this.profileData.login_session}async refresh(t){let{SigninClient:r,CreateOAuth2TokenCommand:o}=await Promise.resolve().then(()=>(LC(),MC)),{logger:n,userAgentAppId:s}=this.callerClientConfig??{},a=(l=>l?.metadata?.handlerProtocol==="h2")(this.callerClientConfig?.requestHandler)?void 0:this.callerClientConfig?.requestHandler,p=this.profileData.region??await this.callerClientConfig?.region?.()??process.env.AWS_REGION,u=new r({credentials:{accessKeyId:"",secretAccessKey:""},region:p,requestHandler:a,logger:n,userAgentAppId:s,...this.init?.clientConfig});this.createDPoPInterceptor(u.middlewareStack);let d={tokenInput:{clientId:t.clientId,refreshToken:t.refreshToken,grantType:"refresh_token"}};try{let l=await u.send(new o(d)),{accessKeyId:m,secretAccessKey:f,sessionToken:h}=l.tokenOutput?.accessToken??{},{refreshToken:g,expiresIn:y}=l.tokenOutput??{};if(!m||!f||!h||!g)throw new b("Token refresh response missing required fields",{logger:this.logger,tryNextLink:!1});let _=(y??900)*1e3,R=new Date(Date.now()+_),z={...t,accessToken:{...t.accessToken,accessKeyId:m,secretAccessKey:f,sessionToken:h,expiresAt:R.toISOString()},refreshToken:g};await this.saveToken(z);let re=z.accessToken;return{accessKeyId:re.accessKeyId,secretAccessKey:re.secretAccessKey,sessionToken:re.sessionToken,accountId:re.accountId,expiration:R}}catch(l){if(l.name==="AccessDeniedException"){let m=l.error,f;switch(m){case"TOKEN_EXPIRED":f="Your session has expired. Please reauthenticate.";break;case"USER_CREDENTIALS_CHANGED":f="Unable to refresh credentials because of a change in your password. Please reauthenticate with your new password.";break;case"INSUFFICIENT_PERMISSIONS":f="Unable to refresh credentials due to insufficient permissions. You may be missing permission for the 'CreateOAuth2Token' action.";break;default:f=`Failed to refresh token: ${String(l)}. Please re-authenticate using \`aws login\``}throw new b(f,{logger:this.logger,tryNextLink:!1})}throw new b(`Failed to refresh token: ${String(l)}. Please re-authenticate using aws login`,{logger:this.logger})}}async loadToken(){let t=this.getTokenFilePath();try{let r;try{r=await Yo(t,{ignoreCache:this.init?.ignoreCache})}catch{r=await gm.readFile(t,"utf8")}let o=JSON.parse(r),n=["accessToken","clientId","refreshToken","dpopKey"].filter(s=>!o[s]);if(o.accessToken?.accountId||n.push("accountId"),n.length>0)throw new b(`Token validation failed, missing fields: ${n.join(", ")}`,{logger:this.logger,tryNextLink:!1});return o}catch(r){throw new b(`Failed to load token from ${t}: ${String(r)}`,{logger:this.logger,tryNextLink:!1})}}async saveToken(t){let r=this.getTokenFilePath(),o=T3(r);try{await gm.mkdir(o,{recursive:!0})}catch{}await gm.writeFile(r,JSON.stringify(t,null,2),"utf8")}getTokenFilePath(){let t=process.env.AWS_LOGIN_CACHE_DIRECTORY??UC(_3(),".aws","login","cache"),r=Buffer.from(this.loginSession,"utf8"),o=y3("sha256").update(r).digest("hex");return UC(t,`${o}.json`)}derToRawSignature(t){let r=2;if(t[r]!==2)throw new Error("Invalid DER signature");r++;let o=t[r++],n=t.subarray(r,r+o);if(r+=o,t[r]!==2)throw new Error("Invalid DER signature");r++;let s=t[r++],i=t.subarray(r,r+s);n=n[0]===0?n.subarray(1):n,i=i[0]===0?i.subarray(1):i;let a=Buffer.concat([Buffer.alloc(32-n.length),n]),p=Buffer.concat([Buffer.alloc(32-i.length),i]);return Buffer.concat([a,p])}createDPoPInterceptor(t){t.add(r=>async o=>{if(J.isInstance(o.request)){let n=o.request,s=`${n.protocol}//${n.hostname}${n.port?`:${n.port}`:""}${n.path}`,i=await this.generateDpop(n.method,s);n.headers={...n.headers,DPoP:i}}return r(o)},{step:"finalizeRequest",name:"dpopInterceptor",override:!0})}async generateDpop(t="POST",r){let o=await this.loadToken();try{let n=S3({key:o.dpopKey,format:"pem",type:"sec1"}),i=x3(n).export({format:"der",type:"spki"}),a=-1;for(let R=0;R<i.length;R++)if(i[R]===4){a=R;break}let p=i.slice(a+1,a+33),u=i.slice(a+33,a+65),d={alg:"ES256",typ:"dpop+jwt",jwk:{kty:"EC",crv:"P-256",x:p.toString("base64url"),y:u.toString("base64url")}},l={jti:crypto.randomUUID(),htm:t,htu:r,iat:Math.floor(Date.now()/1e3)},m=Buffer.from(JSON.stringify(d)).toString("base64url"),f=Buffer.from(JSON.stringify(l)).toString("base64url"),h=`${m}.${f}`,g=E3("sha256",Buffer.from(h),n),_=this.derToRawSignature(g).toString("base64url");return`${h}.${_}`}catch(n){throw new b(`Failed to generate Dpop proof: ${n instanceof Error?n.message:String(n)}`,{logger:this.logger,tryNextLink:!1})}}}});var BC,GC=c(()=>{ke();Z();et();FC();BC=e=>async({callerClientConfig:t}={})=>{e?.logger?.debug?.("@aws-sdk/credential-providers - fromLoginCredentials");let r=await qr(e||{}),o=ft({profile:e?.profile??t?.profile}),n=r[o];if(!n?.login_session)throw new b(`Profile ${o} does not contain login_session.`,{tryNextLink:!0,logger:e?.logger});let i=await new Hp(n,e,t).loadCredentials();return G(i,"CREDENTIALS_LOGIN","AD")}});var HC=c(()=>{});var VC=c(()=>{GC();HC()});var jC,WC,zC=c(()=>{ke();VC();jC=e=>!!(e&&e.login_session),WC=async(e,t,r)=>{let o=await BC({...t,profile:e})({callerClientConfig:r});return G(o,"CREDENTIALS_PROFILE_LOGIN","AC")}});var KC,qC=c(()=>{ke();KC=(e,t,r)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let s=new Date;if(new Date(t.Expiration)<s)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let o=t.AccountId;!o&&r?.[e]?.aws_account_id&&(o=r[e].aws_account_id);let n={accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...o&&{accountId:o}};return G(n,"CREDENTIALS_PROCESS","w"),n}});import{exec as w3}from"child_process";import{promisify as b3}from"util";var JC,YC=c(()=>{Z();et();qC();JC=async(e,t,r)=>{let o=t[e];if(t[e]){let n=o.credential_process;if(n!==void 0){let s=b3(Pi?.getTokenRecord?.().exec??w3);try{let{stdout:i}=await s(n),a;try{a=JSON.parse(i.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return KC(e,a,t)}catch(i){throw new b(i.message,{logger:r})}}else throw new b(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new b(`Profile ${e} could not be found in shared credentials file.`,{logger:r})}});var R3,XC=c(()=>{et();YC();R3=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await qr(e);return JC(ft({profile:e.profile??t?.profile}),r,e.logger)}});var ym={};Et(ym,{fromProcess:()=>R3});var Sm=c(()=>{XC()});var QC,ZC,eP=c(()=>{ke();QC=e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string",ZC=async(e,t)=>Promise.resolve().then(()=>(Sm(),ym)).then(({fromProcess:r})=>r({...e,profile:t})().then(o=>G(o,"CREDENTIALS_PROFILE_PROCESS","v")))});var tP,rP,oP=c(()=>{ke();tP=async(e,t,r={},o)=>{let{fromSSO:n}=await Promise.resolve().then(()=>(Hf(),Gf));return n({profile:e,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})({callerClientConfig:o}).then(s=>t.sso_session?G(s,"CREDENTIALS_PROFILE_SSO","r"):G(s,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},rP=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string")});var xm,Em,nP=c(()=>{ke();xm=e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,Em=async(e,t)=>{t?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return G(r,"CREDENTIALS_PROFILE","n")}});var _m,Tm=c(()=>{_m=e=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:o,webIdentityToken:n,providerId:s,policyArns:i,policy:a,durationSeconds:p}=e,{roleAssumerWithWebIdentity:u}=e;if(!u){let{getDefaultRoleAssumerWithWebIdentity:d}=await Promise.resolve().then(()=>(rm(),tm));u=d({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...t?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return u({RoleArn:r,RoleSessionName:o??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:n,ProviderId:s,PolicyArns:i,Policy:a,DurationSeconds:p})}});import{readFileSync as v3}from"fs";var sP,I3,A3,C3,iP=c(()=>{ke();Z();et();Tm();sP="AWS_WEB_IDENTITY_TOKEN_FILE",I3="AWS_ROLE_ARN",A3="AWS_ROLE_SESSION_NAME",C3=(e={})=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let r=e?.webIdentityTokenFile??process.env[sP],o=e?.roleArn??process.env[I3],n=e?.roleSessionName??process.env[A3];if(!r||!o)throw new b("Web identity configuration not specified",{logger:e.logger});let s=await _m({...e,webIdentityToken:Pi?.getTokenRecord?.()[r]??v3(r,{encoding:"ascii"}),roleArn:o,roleSessionName:n})(t);return r===process.env[sP]&&G(s,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),s}});var wm={};Et(wm,{fromTokenFile:()=>C3,fromWebToken:()=>_m});var bm=c(()=>{iP();Tm()});var aP,cP,pP=c(()=>{ke();aP=e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,cP=async(e,t,r)=>Promise.resolve().then(()=>(bm(),wm)).then(({fromTokenFile:o})=>o({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})({callerClientConfig:r}).then(n=>G(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q")))});var Rm,uP=c(()=>{Z();MA();zC();eP();oP();nP();pP();Rm=async(e,t,r,o,n={},s=!1)=>{let i=t[e];if(Object.keys(n).length>0&&xm(i))return Em(i,r);if(s||kA(i,{profile:e,logger:r.logger}))return $A(e,t,r,o,n,Rm);if(xm(i))return Em(i,r);if(aP(i))return cP(i,r,o);if(QC(i))return ZC(r,e);if(rP(i))return await tP(e,i,r,o);if(jC(i))return WC(e,r,o);throw new b(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})}});var P3,dP=c(()=>{et();uP();P3=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let r=await qr(e);return Rm(ft({profile:e.profile??t?.profile}),r,e,t)}});var lP={};Et(lP,{fromIni:()=>P3});var fP=c(()=>{dP()});var vO=ni((xSe,RO)=>{function Oo(e){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:e}),this.done=!1}Oo.prototype.next=function(){if(this.done)return{done:!0};var e=this._next();return e.done&&(this.done=!0),e};typeof Symbol<"u"&&(Oo.prototype[Symbol.iterator]=function(){return this});Oo.of=function(){var e=arguments,t=e.length,r=0;return new Oo(function(){return r>=t?{done:!0}:{done:!1,value:e[r++]}})};Oo.empty=function(){var e=new Oo(null);return e.done=!0,e};Oo.is=function(e){return e instanceof Oo?!0:typeof e=="object"&&e!==null&&typeof e.next=="function"};RO.exports=Oo});var Fm=ni((ESe,PO)=>{var IO=typeof ArrayBuffer<"u",AO=typeof Symbol<"u";function CO(e,t){var r,o,n,s,i;if(!e)throw new Error("obliterator/forEach: invalid iterable.");if(typeof t!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(e)||IO&&ArrayBuffer.isView(e)||typeof e=="string"||e.toString()==="[object Arguments]"){for(n=0,s=e.length;n<s;n++)t(e[n],n);return}if(typeof e.forEach=="function"){e.forEach(t);return}if(AO&&Symbol.iterator in e&&typeof e.next!="function"&&(e=e[Symbol.iterator]()),typeof e.next=="function"){for(r=e,n=0;i=r.next(),i.done!==!0;)t(i.value,n),n++;return}for(o in e)e.hasOwnProperty(o)&&t(e[o],o)}CO.forEachWithNullKeys=function(e,t){var r,o,n,s,i;if(!e)throw new Error("obliterator/forEachWithNullKeys: invalid iterable.");if(typeof t!="function")throw new Error("obliterator/forEachWithNullKeys: expecting a callback.");if(Array.isArray(e)||IO&&ArrayBuffer.isView(e)||typeof e=="string"||e.toString()==="[object Arguments]"){for(n=0,s=e.length;n<s;n++)t(e[n],null);return}if(e instanceof Set){e.forEach(function(a){t(a,null)});return}if(typeof e.forEach=="function"){e.forEach(t);return}if(AO&&Symbol.iterator in e&&typeof e.next!="function"&&(e=e[Symbol.iterator]()),typeof e.next=="function"){for(r=e,n=0;i=r.next(),i.done!==!0;)t(i.value,null),n++;return}for(o in e)e.hasOwnProperty(o)&&t(e[o],o)};PO.exports=CO});var Bm=ni(oo=>{var n2=Math.pow(2,8)-1,s2=Math.pow(2,16)-1,i2=Math.pow(2,32)-1,a2=Math.pow(2,7)-1,c2=Math.pow(2,15)-1,p2=Math.pow(2,31)-1;oo.getPointerArray=function(e){var t=e-1;return t<=n2?Uint8Array:t<=s2?Uint16Array:t<=i2?Uint32Array:Float64Array};oo.getSignedPointerArray=function(e){var t=e-1;return t<=a2?Int8Array:t<=c2?Int16Array:t<=p2?Int32Array:Float64Array};oo.getNumberType=function(e){return e===(e|0)?Math.sign(e)===-1?e<=127&&e>=-128?Int8Array:e<=32767&&e>=-32768?Int16Array:Int32Array:e<=255?Uint8Array:e<=65535?Uint16Array:Uint32Array:Float64Array};var u2={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};oo.getMinimalRepresentation=function(e,t){var r=null,o=0,n,s,i,a,p;for(a=0,p=e.length;a<p;a++)i=t?t(e[a]):e[a],s=oo.getNumberType(i),n=u2[s.name],n>o&&(o=n,r=s);return r};oo.isTypedArray=function(e){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(e)};oo.concat=function(){var e=0,t,r,o;for(t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var n=new arguments[0].constructor(e);for(t=0,r=0;t<o;t++)n.set(arguments[t],r),r+=arguments[t].length;return n};oo.indices=function(e){for(var t=oo.getPointerArray(e),r=new t(e),o=0;o<e;o++)r[o]=o;return r}});var DO=ni(wa=>{var OO=Fm(),NO=Bm();function d2(e){return Array.isArray(e)||NO.isTypedArray(e)}function Gm(e){if(typeof e.length=="number")return e.length;if(typeof e.size=="number")return e.size}function l2(e){var t=Gm(e),r=typeof t=="number"?new Array(t):[],o=0;return OO(e,function(n){r[o++]=n}),r}function f2(e){var t=Gm(e),r=typeof t=="number"?NO.getPointerArray(t):Array,o=typeof t=="number"?new Array(t):[],n=typeof t=="number"?new r(t):[],s=0;return OO(e,function(i){o[s]=i,n[s]=s++}),[o,n]}wa.isArrayLike=d2;wa.guessLength=Gm;wa.toArray=l2;wa.toArrayWithIndices=f2});var $O=ni((wSe,kO)=>{var Hm=vO(),m2=Fm(),h2=Bm(),g2=DO();function be(e,t,r){if(arguments.length<2&&(r=e,e=null,t=null),this.capacity=r,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-cache: capacity should be positive number.");var o=h2.getPointerArray(r);this.forward=new o(r),this.backward=new o(r),this.K=typeof e=="function"?new e(r):new Array(r),this.V=typeof t=="function"?new t(r):new Array(r),this.size=0,this.head=0,this.tail=0,this.items={}}be.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}};be.prototype.splayOnTop=function(e){var t=this.head;if(this.head===e)return this;var r=this.backward[e],o=this.forward[e];return this.tail===e?this.tail=r:this.backward[o]=r,this.forward[r]=o,this.backward[t]=e,this.head=e,this.forward[e]=t,this};be.prototype.set=function(e,t){var r=this.items[e];if(typeof r<"u"){this.splayOnTop(r),this.V[r]=t;return}this.size<this.capacity?r=this.size++:(r=this.tail,this.tail=this.backward[r],delete this.items[this.K[r]]),this.items[e]=r,this.K[r]=e,this.V[r]=t,this.forward[r]=this.head,this.backward[this.head]=r,this.head=r};be.prototype.setpop=function(e,t){var r=null,o=null,n=this.items[e];return typeof n<"u"?(this.splayOnTop(n),r=this.V[n],this.V[n]=t,{evicted:!1,key:e,value:r}):(this.size<this.capacity?n=this.size++:(n=this.tail,this.tail=this.backward[n],r=this.V[n],o=this.K[n],delete this.items[this.K[n]]),this.items[e]=n,this.K[n]=e,this.V[n]=t,this.forward[n]=this.head,this.backward[this.head]=n,this.head=n,o?{evicted:!0,key:o,value:r}:null)};be.prototype.has=function(e){return e in this.items};be.prototype.get=function(e){var t=this.items[e];if(!(typeof t>"u"))return this.splayOnTop(t),this.V[t]};be.prototype.peek=function(e){var t=this.items[e];if(!(typeof t>"u"))return this.V[t]};be.prototype.forEach=function(e,t){t=arguments.length>1?t:this;for(var r=0,o=this.size,n=this.head,s=this.K,i=this.V,a=this.forward;r<o;)e.call(t,i[n],s[n],this),n=a[n],r++};be.prototype.keys=function(){var e=0,t=this.size,r=this.head,o=this.K,n=this.forward;return new Hm(function(){if(e>=t)return{done:!0};var s=o[r];return e++,e<t&&(r=n[r]),{done:!1,value:s}})};be.prototype.values=function(){var e=0,t=this.size,r=this.head,o=this.V,n=this.forward;return new Hm(function(){if(e>=t)return{done:!0};var s=o[r];return e++,e<t&&(r=n[r]),{done:!1,value:s}})};be.prototype.entries=function(){var e=0,t=this.size,r=this.head,o=this.K,n=this.V,s=this.forward;return new Hm(function(){if(e>=t)return{done:!0};var i=o[r],a=n[r];return e++,e<t&&(r=s[r]),{done:!1,value:[i,a]}})};typeof Symbol<"u"&&(be.prototype[Symbol.iterator]=be.prototype.entries);be.prototype.inspect=function(){for(var e=new Map,t=this.entries(),r;r=t.next(),!r.done;)e.set(r.value[0],r.value[1]);return Object.defineProperty(e,"constructor",{value:be,enumerable:!1}),e};typeof Symbol<"u"&&(be.prototype[Symbol.for("nodejs.util.inspect.custom")]=be.prototype.inspect);be.from=function(e,t,r,o){if(arguments.length<2){if(o=g2.guessLength(e),typeof o!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(o=t,t=null,r=null);var n=new be(t,r,o);return m2(e,function(s,i){n.set(i,s)}),n};kO.exports=be});var Nt={};Et(Nt,{BRAND:()=>SD,DIRTY:()=>fn,EMPTY_PATH:()=>YN,INVALID:()=>O,NEVER:()=>rk,OK:()=>Be,ParseStatus:()=>Oe,Schema:()=>L,ZodAny:()=>$o,ZodArray:()=>uo,ZodBigInt:()=>hn,ZodBoolean:()=>gn,ZodBranded:()=>ii,ZodCatch:()=>In,ZodDate:()=>yn,ZodDefault:()=>vn,ZodDiscriminatedUnion:()=>Pa,ZodEffects:()=>Ot,ZodEnum:()=>bn,ZodError:()=>ot,ZodFirstPartyTypeKind:()=>D,ZodFunction:()=>Na,ZodIntersection:()=>_n,ZodIssueCode:()=>S,ZodLazy:()=>Tn,ZodLiteral:()=>wn,ZodMap:()=>ps,ZodNaN:()=>ds,ZodNativeEnum:()=>Rn,ZodNever:()=>Pr,ZodNull:()=>xn,ZodNullable:()=>Hr,ZodNumber:()=>mn,ZodObject:()=>nt,ZodOptional:()=>Ct,ZodParsedType:()=>w,ZodPipeline:()=>ai,ZodPromise:()=>Mo,ZodReadonly:()=>An,ZodRecord:()=>Oa,ZodSchema:()=>L,ZodSet:()=>us,ZodString:()=>ko,ZodSymbol:()=>as,ZodTransformer:()=>Ot,ZodTuple:()=>Gr,ZodType:()=>L,ZodUndefined:()=>Sn,ZodUnion:()=>En,ZodUnknown:()=>po,ZodVoid:()=>cs,addIssueToContext:()=>T,any:()=>ID,array:()=>OD,bigint:()=>TD,boolean:()=>uh,coerce:()=>tk,custom:()=>ah,date:()=>wD,datetimeRegex:()=>sh,defaultErrorMap:()=>ao,discriminatedUnion:()=>$D,effect:()=>KD,enum:()=>jD,function:()=>GD,getErrorMap:()=>ns,getParsedType:()=>Br,instanceof:()=>ED,intersection:()=>MD,isAborted:()=>Aa,isAsync:()=>ss,isDirty:()=>Ca,isValid:()=>Do,late:()=>xD,lazy:()=>HD,literal:()=>VD,makeIssue:()=>si,map:()=>FD,nan:()=>_D,nativeEnum:()=>WD,never:()=>CD,null:()=>vD,nullable:()=>JD,number:()=>ph,object:()=>ND,objectUtil:()=>nd,oboolean:()=>ek,onumber:()=>ZD,optional:()=>qD,ostring:()=>QD,pipeline:()=>XD,preprocess:()=>YD,promise:()=>zD,quotelessJson:()=>KN,record:()=>UD,set:()=>BD,setErrorMap:()=>JN,strictObject:()=>DD,string:()=>ch,symbol:()=>bD,transformer:()=>KD,tuple:()=>LD,undefined:()=>RD,union:()=>kD,unknown:()=>AD,util:()=>F,void:()=>PD});var F;(function(e){e.assertEqual=n=>{};function t(n){}e.assertIs=t;function r(n){throw new Error}e.assertNever=r,e.arrayToEnum=n=>{let s={};for(let i of n)s[i]=i;return s},e.getValidEnumValues=n=>{let s=e.objectKeys(n).filter(a=>typeof n[n[a]]!="number"),i={};for(let a of s)i[a]=n[a];return e.objectValues(i)},e.objectValues=n=>e.objectKeys(n).map(function(s){return n[s]}),e.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{let s=[];for(let i in n)Object.prototype.hasOwnProperty.call(n,i)&&s.push(i);return s},e.find=(n,s)=>{for(let i of n)if(s(i))return i},e.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&Number.isFinite(n)&&Math.floor(n)===n;function o(n,s=" | "){return n.map(i=>typeof i=="string"?`'${i}'`:i).join(s)}e.joinValues=o,e.jsonStringifyReplacer=(n,s)=>typeof s=="bigint"?s.toString():s})(F||(F={}));var nd;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(nd||(nd={}));var w=F.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Br=e=>{switch(typeof e){case"undefined":return w.undefined;case"string":return w.string;case"number":return Number.isNaN(e)?w.nan:w.number;case"boolean":return w.boolean;case"function":return w.function;case"bigint":return w.bigint;case"symbol":return w.symbol;case"object":return Array.isArray(e)?w.array:e===null?w.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?w.promise:typeof Map<"u"&&e instanceof Map?w.map:typeof Set<"u"&&e instanceof Set?w.set:typeof Date<"u"&&e instanceof Date?w.date:w.object;default:return w.unknown}};var S=F.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),KN=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ot=class e extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=o=>{this.issues=[...this.issues,o]},this.addIssues=(o=[])=>{this.issues=[...this.issues,...o]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){let r=t||function(s){return s.message},o={_errors:[]},n=s=>{for(let i of s.issues)if(i.code==="invalid_union")i.unionErrors.map(n);else if(i.code==="invalid_return_type")n(i.returnTypeError);else if(i.code==="invalid_arguments")n(i.argumentsError);else if(i.path.length===0)o._errors.push(r(i));else{let a=o,p=0;for(;p<i.path.length;){let u=i.path[p];p===i.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(r(i))):a[u]=a[u]||{_errors:[]},a=a[u],p++}}};return n(this),o}static assert(t){if(!(t instanceof e))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,F.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){let r={},o=[];for(let n of this.issues)if(n.path.length>0){let s=n.path[0];r[s]=r[s]||[],r[s].push(t(n))}else o.push(t(n));return{formErrors:o,fieldErrors:r}}get formErrors(){return this.flatten()}};ot.create=e=>new ot(e);var qN=(e,t)=>{let r;switch(e.code){case S.invalid_type:e.received===w.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case S.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,F.jsonStringifyReplacer)}`;break;case S.unrecognized_keys:r=`Unrecognized key(s) in object: ${F.joinValues(e.keys,", ")}`;break;case S.invalid_union:r="Invalid input";break;case S.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${F.joinValues(e.options)}`;break;case S.invalid_enum_value:r=`Invalid enum value. Expected ${F.joinValues(e.options)}, received '${e.received}'`;break;case S.invalid_arguments:r="Invalid function arguments";break;case S.invalid_return_type:r="Invalid function return type";break;case S.invalid_date:r="Invalid date";break;case S.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:F.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case S.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case S.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case S.custom:r="Invalid input";break;case S.invalid_intersection_types:r="Intersection results could not be merged";break;case S.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case S.not_finite:r="Number must be finite";break;default:r=t.defaultError,F.assertNever(e)}return{message:r}},ao=qN;var eh=ao;function JN(e){eh=e}function ns(){return eh}var si=e=>{let{data:t,path:r,errorMaps:o,issueData:n}=e,s=[...r,...n.path||[]],i={...n,path:s};if(n.message!==void 0)return{...n,path:s,message:n.message};let a="",p=o.filter(u=>!!u).slice().reverse();for(let u of p)a=u(i,{data:t,defaultError:a}).message;return{...n,path:s,message:a}},YN=[];function T(e,t){let r=ns(),o=si({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===ao?void 0:ao].filter(n=>!!n)});e.common.issues.push(o)}var Oe=class e{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){let o=[];for(let n of r){if(n.status==="aborted")return O;n.status==="dirty"&&t.dirty(),o.push(n.value)}return{status:t.value,value:o}}static async mergeObjectAsync(t,r){let o=[];for(let n of r){let s=await n.key,i=await n.value;o.push({key:s,value:i})}return e.mergeObjectSync(t,o)}static mergeObjectSync(t,r){let o={};for(let n of r){let{key:s,value:i}=n;if(s.status==="aborted"||i.status==="aborted")return O;s.status==="dirty"&&t.dirty(),i.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof i.value<"u"||n.alwaysSet)&&(o[s.value]=i.value)}return{status:t.value,value:o}}},O=Object.freeze({status:"aborted"}),fn=e=>({status:"dirty",value:e}),Be=e=>({status:"valid",value:e}),Aa=e=>e.status==="aborted",Ca=e=>e.status==="dirty",Do=e=>e.status==="valid",ss=e=>typeof Promise<"u"&&e instanceof Promise;var I;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(I||(I={}));var Pt=class{constructor(t,r,o,n){this._cachedPath=[],this.parent=t,this.data=r,this._path=o,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},th=(e,t)=>{if(Do(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new ot(e.common.issues);return this._error=r,this._error}}};function $(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:o,description:n}=e;if(t&&(r||o))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:n}:{errorMap:(i,a)=>{let{message:p}=e;return i.code==="invalid_enum_value"?{message:p??a.defaultError}:typeof a.data>"u"?{message:p??o??a.defaultError}:i.code!=="invalid_type"?{message:a.defaultError}:{message:p??r??a.defaultError}},description:n}}var L=class{get description(){return this._def.description}_getType(t){return Br(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Br(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Oe,ctx:{common:t.parent.common,data:t.data,parsedType:Br(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){let r=this._parse(t);if(ss(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){let r=this._parse(t);return Promise.resolve(r)}parse(t,r){let o=this.safeParse(t,r);if(o.success)return o.data;throw o.error}safeParse(t,r){let o={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Br(t)},n=this._parseSync({data:t,path:o.path,parent:o});return th(o,n)}"~validate"(t){let r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Br(t)};if(!this["~standard"].async)try{let o=this._parseSync({data:t,path:[],parent:r});return Do(o)?{value:o.value}:{issues:r.common.issues}}catch(o){o?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(o=>Do(o)?{value:o.value}:{issues:r.common.issues})}async parseAsync(t,r){let o=await this.safeParseAsync(t,r);if(o.success)return o.data;throw o.error}async safeParseAsync(t,r){let o={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Br(t)},n=this._parse({data:t,path:o.path,parent:o}),s=await(ss(n)?n:Promise.resolve(n));return th(o,s)}refine(t,r){let o=n=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(n):r;return this._refinement((n,s)=>{let i=t(n),a=()=>s.addIssue({code:S.custom,...o(n)});return typeof Promise<"u"&&i instanceof Promise?i.then(p=>p?!0:(a(),!1)):i?!0:(a(),!1)})}refinement(t,r){return this._refinement((o,n)=>t(o)?!0:(n.addIssue(typeof r=="function"?r(o,n):r),!1))}_refinement(t){return new Ot({schema:this,typeName:D.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Ct.create(this,this._def)}nullable(){return Hr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return uo.create(this)}promise(){return Mo.create(this,this._def)}or(t){return En.create([this,t],this._def)}and(t){return _n.create(this,t,this._def)}transform(t){return new Ot({...$(this._def),schema:this,typeName:D.ZodEffects,effect:{type:"transform",transform:t}})}default(t){let r=typeof t=="function"?t:()=>t;return new vn({...$(this._def),innerType:this,defaultValue:r,typeName:D.ZodDefault})}brand(){return new ii({typeName:D.ZodBranded,type:this,...$(this._def)})}catch(t){let r=typeof t=="function"?t:()=>t;return new In({...$(this._def),innerType:this,catchValue:r,typeName:D.ZodCatch})}describe(t){let r=this.constructor;return new r({...this._def,description:t})}pipe(t){return ai.create(this,t)}readonly(){return An.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},XN=/^c[^\s-]{8,}$/i,QN=/^[0-9a-z]+$/,ZN=/^[0-9A-HJKMNP-TV-Z]{26}$/i,eD=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,tD=/^[a-z0-9_-]{21}$/i,rD=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,oD=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,nD=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,sD="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",sd,iD=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,aD=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,cD=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,pD=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,uD=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,dD=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,oh="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",lD=new RegExp(`^${oh}$`);function nh(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function fD(e){return new RegExp(`^${nh(e)}$`)}function sh(e){let t=`${oh}T${nh(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function mD(e,t){return!!((t==="v4"||!t)&&iD.test(e)||(t==="v6"||!t)&&cD.test(e))}function hD(e,t){if(!rD.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let o=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),n=JSON.parse(atob(o));return!(typeof n!="object"||n===null||"typ"in n&&n?.typ!=="JWT"||!n.alg||t&&n.alg!==t)}catch{return!1}}function gD(e,t){return!!((t==="v4"||!t)&&aD.test(e)||(t==="v6"||!t)&&pD.test(e))}var ko=class e extends L{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==w.string){let s=this._getOrReturnCtx(t);return T(s,{code:S.invalid_type,expected:w.string,received:s.parsedType}),O}let o=new Oe,n;for(let s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(n=this._getOrReturnCtx(t,n),T(n,{code:S.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),o.dirty());else if(s.kind==="max")t.data.length>s.value&&(n=this._getOrReturnCtx(t,n),T(n,{code:S.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),o.dirty());else if(s.kind==="length"){let i=t.data.length>s.value,a=t.data.length<s.value;(i||a)&&(n=this._getOrReturnCtx(t,n),i?T(n,{code:S.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&T(n,{code:S.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),o.dirty())}else if(s.kind==="email")nD.test(t.data)||(n=this._getOrReturnCtx(t,n),T(n,{validation:"email",code:S.invalid_string,message:s.message}),o.dirty());else if(s.kind==="emoji")sd||(sd=new RegExp(sD,"u")),sd.test(t.data)||(n=this._getOrReturnCtx(t,n),T(n,{validation:"emoji",code:S.invalid_string,message:s.message}),o.dirty());else if(s.kind==="uuid")eD.test(t.data)||(n=this._getOrReturnCtx(t,n),T(n,{validation:"uuid",code:S.invalid_string,message:s.message}),o.dirty());else if(s.kind==="nanoid")tD.test(t.data)||(n=this._getOrReturnCtx(t,n),T(n,{validation:"nanoid",code:S.invalid_string,message:s.message}),o.dirty());else if(s.kind==="cuid")XN.test(t.data)||(n=this._getOrReturnCtx(t,n),T(n,{validation:"cuid",code:S.invalid_string,message:s.message}),o.dirty());else if(s.kind==="cuid2")QN.test(t.data)||(n=this._getOrReturnCtx(t,n),T(n,{validation:"cuid2",code:S.invalid_string,message:s.message}),o.dirty());else if(s.kind==="ulid")ZN.test(t.data)||(n=this._getOrReturnCtx(t,n),T(n,{validation:"ulid",code:S.invalid_string,message:s.message}),o.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{n=this._getOrReturnCtx(t,n),T(n,{validation:"url",code:S.invalid_string,message:s.message}),o.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(n=this._getOrReturnCtx(t,n),T(n,{validation:"regex",code:S.invalid_string,message:s.message}),o.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(n=this._getOrReturnCtx(t,n),T(n,{code:S.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),o.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(n=this._getOrReturnCtx(t,n),T(n,{code:S.invalid_string,validation:{startsWith:s.value},message:s.message}),o.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(n=this._getOrReturnCtx(t,n),T(n,{code:S.invalid_string,validation:{endsWith:s.value},message:s.message}),o.dirty()):s.kind==="datetime"?sh(s).test(t.data)||(n=this._getOrReturnCtx(t,n),T(n,{code:S.invalid_string,validation:"datetime",message:s.message}),o.dirty()):s.kind==="date"?lD.test(t.data)||(n=this._getOrReturnCtx(t,n),T(n,{code:S.invalid_string,validation:"date",message:s.message}),o.dirty()):s.kind==="time"?fD(s).test(t.data)||(n=this._getOrReturnCtx(t,n),T(n,{code:S.invalid_string,validation:"time",message:s.message}),o.dirty()):s.kind==="duration"?oD.test(t.data)||(n=this._getOrReturnCtx(t,n),T(n,{validation:"duration",code:S.invalid_string,message:s.message}),o.dirty()):s.kind==="ip"?mD(t.data,s.version)||(n=this._getOrReturnCtx(t,n),T(n,{validation:"ip",code:S.invalid_string,message:s.message}),o.dirty()):s.kind==="jwt"?hD(t.data,s.alg)||(n=this._getOrReturnCtx(t,n),T(n,{validation:"jwt",code:S.invalid_string,message:s.message}),o.dirty()):s.kind==="cidr"?gD(t.data,s.version)||(n=this._getOrReturnCtx(t,n),T(n,{validation:"cidr",code:S.invalid_string,message:s.message}),o.dirty()):s.kind==="base64"?uD.test(t.data)||(n=this._getOrReturnCtx(t,n),T(n,{validation:"base64",code:S.invalid_string,message:s.message}),o.dirty()):s.kind==="base64url"?dD.test(t.data)||(n=this._getOrReturnCtx(t,n),T(n,{validation:"base64url",code:S.invalid_string,message:s.message}),o.dirty()):F.assertNever(s);return{status:o.value,value:t.data}}_regex(t,r,o){return this.refinement(n=>t.test(n),{validation:r,code:S.invalid_string,...I.errToObj(o)})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...I.errToObj(t)})}url(t){return this._addCheck({kind:"url",...I.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...I.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...I.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...I.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...I.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...I.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...I.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...I.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...I.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...I.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...I.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...I.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...I.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...I.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...I.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...I.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r?.position,...I.errToObj(r?.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...I.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...I.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...I.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...I.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...I.errToObj(r)})}nonempty(t){return this.min(1,I.errToObj(t))}trim(){return new e({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};ko.create=e=>new ko({checks:[],typeName:D.ZodString,coerce:e?.coerce??!1,...$(e)});function yD(e,t){let r=(e.toString().split(".")[1]||"").length,o=(t.toString().split(".")[1]||"").length,n=r>o?r:o,s=Number.parseInt(e.toFixed(n).replace(".","")),i=Number.parseInt(t.toFixed(n).replace(".",""));return s%i/10**n}var mn=class e extends L{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==w.number){let s=this._getOrReturnCtx(t);return T(s,{code:S.invalid_type,expected:w.number,received:s.parsedType}),O}let o,n=new Oe;for(let s of this._def.checks)s.kind==="int"?F.isInteger(t.data)||(o=this._getOrReturnCtx(t,o),T(o,{code:S.invalid_type,expected:"integer",received:"float",message:s.message}),n.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(o=this._getOrReturnCtx(t,o),T(o,{code:S.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),n.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(o=this._getOrReturnCtx(t,o),T(o,{code:S.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),n.dirty()):s.kind==="multipleOf"?yD(t.data,s.value)!==0&&(o=this._getOrReturnCtx(t,o),T(o,{code:S.not_multiple_of,multipleOf:s.value,message:s.message}),n.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(o=this._getOrReturnCtx(t,o),T(o,{code:S.not_finite,message:s.message}),n.dirty()):F.assertNever(s);return{status:n.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,I.toString(r))}gt(t,r){return this.setLimit("min",t,!1,I.toString(r))}lte(t,r){return this.setLimit("max",t,!0,I.toString(r))}lt(t,r){return this.setLimit("max",t,!1,I.toString(r))}setLimit(t,r,o,n){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:o,message:I.toString(n)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:I.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:I.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:I.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:I.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:I.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:I.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:I.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:I.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:I.toString(t)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&F.isInteger(t.value))}get isFinite(){let t=null,r=null;for(let o of this._def.checks){if(o.kind==="finite"||o.kind==="int"||o.kind==="multipleOf")return!0;o.kind==="min"?(r===null||o.value>r)&&(r=o.value):o.kind==="max"&&(t===null||o.value<t)&&(t=o.value)}return Number.isFinite(r)&&Number.isFinite(t)}};mn.create=e=>new mn({checks:[],typeName:D.ZodNumber,coerce:e?.coerce||!1,...$(e)});var hn=class e extends L{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==w.bigint)return this._getInvalidInput(t);let o,n=new Oe;for(let s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(o=this._getOrReturnCtx(t,o),T(o,{code:S.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),n.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(o=this._getOrReturnCtx(t,o),T(o,{code:S.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),n.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(o=this._getOrReturnCtx(t,o),T(o,{code:S.not_multiple_of,multipleOf:s.value,message:s.message}),n.dirty()):F.assertNever(s);return{status:n.value,value:t.data}}_getInvalidInput(t){let r=this._getOrReturnCtx(t);return T(r,{code:S.invalid_type,expected:w.bigint,received:r.parsedType}),O}gte(t,r){return this.setLimit("min",t,!0,I.toString(r))}gt(t,r){return this.setLimit("min",t,!1,I.toString(r))}lte(t,r){return this.setLimit("max",t,!0,I.toString(r))}lt(t,r){return this.setLimit("max",t,!1,I.toString(r))}setLimit(t,r,o,n){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:o,message:I.toString(n)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:I.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:I.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:I.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:I.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:I.toString(r)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};hn.create=e=>new hn({checks:[],typeName:D.ZodBigInt,coerce:e?.coerce??!1,...$(e)});var gn=class extends L{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==w.boolean){let o=this._getOrReturnCtx(t);return T(o,{code:S.invalid_type,expected:w.boolean,received:o.parsedType}),O}return Be(t.data)}};gn.create=e=>new gn({typeName:D.ZodBoolean,coerce:e?.coerce||!1,...$(e)});var yn=class e extends L{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==w.date){let s=this._getOrReturnCtx(t);return T(s,{code:S.invalid_type,expected:w.date,received:s.parsedType}),O}if(Number.isNaN(t.data.getTime())){let s=this._getOrReturnCtx(t);return T(s,{code:S.invalid_date}),O}let o=new Oe,n;for(let s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(n=this._getOrReturnCtx(t,n),T(n,{code:S.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),o.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(n=this._getOrReturnCtx(t,n),T(n,{code:S.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),o.dirty()):F.assertNever(s);return{status:o.value,value:new Date(t.data.getTime())}}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:I.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:I.toString(r)})}get minDate(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}};yn.create=e=>new yn({checks:[],coerce:e?.coerce||!1,typeName:D.ZodDate,...$(e)});var as=class extends L{_parse(t){if(this._getType(t)!==w.symbol){let o=this._getOrReturnCtx(t);return T(o,{code:S.invalid_type,expected:w.symbol,received:o.parsedType}),O}return Be(t.data)}};as.create=e=>new as({typeName:D.ZodSymbol,...$(e)});var Sn=class extends L{_parse(t){if(this._getType(t)!==w.undefined){let o=this._getOrReturnCtx(t);return T(o,{code:S.invalid_type,expected:w.undefined,received:o.parsedType}),O}return Be(t.data)}};Sn.create=e=>new Sn({typeName:D.ZodUndefined,...$(e)});var xn=class extends L{_parse(t){if(this._getType(t)!==w.null){let o=this._getOrReturnCtx(t);return T(o,{code:S.invalid_type,expected:w.null,received:o.parsedType}),O}return Be(t.data)}};xn.create=e=>new xn({typeName:D.ZodNull,...$(e)});var $o=class extends L{constructor(){super(...arguments),this._any=!0}_parse(t){return Be(t.data)}};$o.create=e=>new $o({typeName:D.ZodAny,...$(e)});var po=class extends L{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Be(t.data)}};po.create=e=>new po({typeName:D.ZodUnknown,...$(e)});var Pr=class extends L{_parse(t){let r=this._getOrReturnCtx(t);return T(r,{code:S.invalid_type,expected:w.never,received:r.parsedType}),O}};Pr.create=e=>new Pr({typeName:D.ZodNever,...$(e)});var cs=class extends L{_parse(t){if(this._getType(t)!==w.undefined){let o=this._getOrReturnCtx(t);return T(o,{code:S.invalid_type,expected:w.void,received:o.parsedType}),O}return Be(t.data)}};cs.create=e=>new cs({typeName:D.ZodVoid,...$(e)});var uo=class e extends L{_parse(t){let{ctx:r,status:o}=this._processInputParams(t),n=this._def;if(r.parsedType!==w.array)return T(r,{code:S.invalid_type,expected:w.array,received:r.parsedType}),O;if(n.exactLength!==null){let i=r.data.length>n.exactLength.value,a=r.data.length<n.exactLength.value;(i||a)&&(T(r,{code:i?S.too_big:S.too_small,minimum:a?n.exactLength.value:void 0,maximum:i?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),o.dirty())}if(n.minLength!==null&&r.data.length<n.minLength.value&&(T(r,{code:S.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),o.dirty()),n.maxLength!==null&&r.data.length>n.maxLength.value&&(T(r,{code:S.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),o.dirty()),r.common.async)return Promise.all([...r.data].map((i,a)=>n.type._parseAsync(new Pt(r,i,r.path,a)))).then(i=>Oe.mergeArray(o,i));let s=[...r.data].map((i,a)=>n.type._parseSync(new Pt(r,i,r.path,a)));return Oe.mergeArray(o,s)}get element(){return this._def.type}min(t,r){return new e({...this._def,minLength:{value:t,message:I.toString(r)}})}max(t,r){return new e({...this._def,maxLength:{value:t,message:I.toString(r)}})}length(t,r){return new e({...this._def,exactLength:{value:t,message:I.toString(r)}})}nonempty(t){return this.min(1,t)}};uo.create=(e,t)=>new uo({type:e,minLength:null,maxLength:null,exactLength:null,typeName:D.ZodArray,...$(t)});function is(e){if(e instanceof nt){let t={};for(let r in e.shape){let o=e.shape[r];t[r]=Ct.create(is(o))}return new nt({...e._def,shape:()=>t})}else return e instanceof uo?new uo({...e._def,type:is(e.element)}):e instanceof Ct?Ct.create(is(e.unwrap())):e instanceof Hr?Hr.create(is(e.unwrap())):e instanceof Gr?Gr.create(e.items.map(t=>is(t))):e}var nt=class e extends L{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let t=this._def.shape(),r=F.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==w.object){let u=this._getOrReturnCtx(t);return T(u,{code:S.invalid_type,expected:w.object,received:u.parsedType}),O}let{status:o,ctx:n}=this._processInputParams(t),{shape:s,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof Pr&&this._def.unknownKeys==="strip"))for(let u in n.data)i.includes(u)||a.push(u);let p=[];for(let u of i){let d=s[u],l=n.data[u];p.push({key:{status:"valid",value:u},value:d._parse(new Pt(n,l,n.path,u)),alwaysSet:u in n.data})}if(this._def.catchall instanceof Pr){let u=this._def.unknownKeys;if(u==="passthrough")for(let d of a)p.push({key:{status:"valid",value:d},value:{status:"valid",value:n.data[d]}});else if(u==="strict")a.length>0&&(T(n,{code:S.unrecognized_keys,keys:a}),o.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let u=this._def.catchall;for(let d of a){let l=n.data[d];p.push({key:{status:"valid",value:d},value:u._parse(new Pt(n,l,n.path,d)),alwaysSet:d in n.data})}}return n.common.async?Promise.resolve().then(async()=>{let u=[];for(let d of p){let l=await d.key,m=await d.value;u.push({key:l,value:m,alwaysSet:d.alwaysSet})}return u}).then(u=>Oe.mergeObjectSync(o,u)):Oe.mergeObjectSync(o,p)}get shape(){return this._def.shape()}strict(t){return I.errToObj,new e({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,o)=>{let n=this._def.errorMap?.(r,o).message??o.defaultError;return r.code==="unrecognized_keys"?{message:I.errToObj(t).message??n}:{message:n}}}:{}})}strip(){return new e({...this._def,unknownKeys:"strip"})}passthrough(){return new e({...this._def,unknownKeys:"passthrough"})}extend(t){return new e({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new e({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:D.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new e({...this._def,catchall:t})}pick(t){let r={};for(let o of F.objectKeys(t))t[o]&&this.shape[o]&&(r[o]=this.shape[o]);return new e({...this._def,shape:()=>r})}omit(t){let r={};for(let o of F.objectKeys(this.shape))t[o]||(r[o]=this.shape[o]);return new e({...this._def,shape:()=>r})}deepPartial(){return is(this)}partial(t){let r={};for(let o of F.objectKeys(this.shape)){let n=this.shape[o];t&&!t[o]?r[o]=n:r[o]=n.optional()}return new e({...this._def,shape:()=>r})}required(t){let r={};for(let o of F.objectKeys(this.shape))if(t&&!t[o])r[o]=this.shape[o];else{let s=this.shape[o];for(;s instanceof Ct;)s=s._def.innerType;r[o]=s}return new e({...this._def,shape:()=>r})}keyof(){return ih(F.objectKeys(this.shape))}};nt.create=(e,t)=>new nt({shape:()=>e,unknownKeys:"strip",catchall:Pr.create(),typeName:D.ZodObject,...$(t)});nt.strictCreate=(e,t)=>new nt({shape:()=>e,unknownKeys:"strict",catchall:Pr.create(),typeName:D.ZodObject,...$(t)});nt.lazycreate=(e,t)=>new nt({shape:e,unknownKeys:"strip",catchall:Pr.create(),typeName:D.ZodObject,...$(t)});var En=class extends L{_parse(t){let{ctx:r}=this._processInputParams(t),o=this._def.options;function n(s){for(let a of s)if(a.result.status==="valid")return a.result;for(let a of s)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;let i=s.map(a=>new ot(a.ctx.common.issues));return T(r,{code:S.invalid_union,unionErrors:i}),O}if(r.common.async)return Promise.all(o.map(async s=>{let i={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:i}),ctx:i}})).then(n);{let s,i=[];for(let p of o){let u={...r,common:{...r.common,issues:[]},parent:null},d=p._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&i.push(u.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;let a=i.map(p=>new ot(p));return T(r,{code:S.invalid_union,unionErrors:a}),O}}get options(){return this._def.options}};En.create=(e,t)=>new En({options:e,typeName:D.ZodUnion,...$(t)});var co=e=>e instanceof Tn?co(e.schema):e instanceof Ot?co(e.innerType()):e instanceof wn?[e.value]:e instanceof bn?e.options:e instanceof Rn?F.objectValues(e.enum):e instanceof vn?co(e._def.innerType):e instanceof Sn?[void 0]:e instanceof xn?[null]:e instanceof Ct?[void 0,...co(e.unwrap())]:e instanceof Hr?[null,...co(e.unwrap())]:e instanceof ii||e instanceof An?co(e.unwrap()):e instanceof In?co(e._def.innerType):[],Pa=class e extends L{_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==w.object)return T(r,{code:S.invalid_type,expected:w.object,received:r.parsedType}),O;let o=this.discriminator,n=r.data[o],s=this.optionsMap.get(n);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(T(r,{code:S.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[o]}),O)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,o){let n=new Map;for(let s of r){let i=co(s.shape[t]);if(!i.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(let a of i){if(n.has(a))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(a)}`);n.set(a,s)}}return new e({typeName:D.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:n,...$(o)})}};function id(e,t){let r=Br(e),o=Br(t);if(e===t)return{valid:!0,data:e};if(r===w.object&&o===w.object){let n=F.objectKeys(t),s=F.objectKeys(e).filter(a=>n.indexOf(a)!==-1),i={...e,...t};for(let a of s){let p=id(e[a],t[a]);if(!p.valid)return{valid:!1};i[a]=p.data}return{valid:!0,data:i}}else if(r===w.array&&o===w.array){if(e.length!==t.length)return{valid:!1};let n=[];for(let s=0;s<e.length;s++){let i=e[s],a=t[s],p=id(i,a);if(!p.valid)return{valid:!1};n.push(p.data)}return{valid:!0,data:n}}else return r===w.date&&o===w.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}var _n=class extends L{_parse(t){let{status:r,ctx:o}=this._processInputParams(t),n=(s,i)=>{if(Aa(s)||Aa(i))return O;let a=id(s.value,i.value);return a.valid?((Ca(s)||Ca(i))&&r.dirty(),{status:r.value,value:a.data}):(T(o,{code:S.invalid_intersection_types}),O)};return o.common.async?Promise.all([this._def.left._parseAsync({data:o.data,path:o.path,parent:o}),this._def.right._parseAsync({data:o.data,path:o.path,parent:o})]).then(([s,i])=>n(s,i)):n(this._def.left._parseSync({data:o.data,path:o.path,parent:o}),this._def.right._parseSync({data:o.data,path:o.path,parent:o}))}};_n.create=(e,t,r)=>new _n({left:e,right:t,typeName:D.ZodIntersection,...$(r)});var Gr=class e extends L{_parse(t){let{status:r,ctx:o}=this._processInputParams(t);if(o.parsedType!==w.array)return T(o,{code:S.invalid_type,expected:w.array,received:o.parsedType}),O;if(o.data.length<this._def.items.length)return T(o,{code:S.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),O;!this._def.rest&&o.data.length>this._def.items.length&&(T(o,{code:S.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let s=[...o.data].map((i,a)=>{let p=this._def.items[a]||this._def.rest;return p?p._parse(new Pt(o,i,o.path,a)):null}).filter(i=>!!i);return o.common.async?Promise.all(s).then(i=>Oe.mergeArray(r,i)):Oe.mergeArray(r,s)}get items(){return this._def.items}rest(t){return new e({...this._def,rest:t})}};Gr.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Gr({items:e,typeName:D.ZodTuple,rest:null,...$(t)})};var Oa=class e extends L{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:o}=this._processInputParams(t);if(o.parsedType!==w.object)return T(o,{code:S.invalid_type,expected:w.object,received:o.parsedType}),O;let n=[],s=this._def.keyType,i=this._def.valueType;for(let a in o.data)n.push({key:s._parse(new Pt(o,a,o.path,a)),value:i._parse(new Pt(o,o.data[a],o.path,a)),alwaysSet:a in o.data});return o.common.async?Oe.mergeObjectAsync(r,n):Oe.mergeObjectSync(r,n)}get element(){return this._def.valueType}static create(t,r,o){return r instanceof L?new e({keyType:t,valueType:r,typeName:D.ZodRecord,...$(o)}):new e({keyType:ko.create(),valueType:t,typeName:D.ZodRecord,...$(r)})}},ps=class extends L{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:o}=this._processInputParams(t);if(o.parsedType!==w.map)return T(o,{code:S.invalid_type,expected:w.map,received:o.parsedType}),O;let n=this._def.keyType,s=this._def.valueType,i=[...o.data.entries()].map(([a,p],u)=>({key:n._parse(new Pt(o,a,o.path,[u,"key"])),value:s._parse(new Pt(o,p,o.path,[u,"value"]))}));if(o.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let p of i){let u=await p.key,d=await p.value;if(u.status==="aborted"||d.status==="aborted")return O;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),a.set(u.value,d.value)}return{status:r.value,value:a}})}else{let a=new Map;for(let p of i){let u=p.key,d=p.value;if(u.status==="aborted"||d.status==="aborted")return O;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),a.set(u.value,d.value)}return{status:r.value,value:a}}}};ps.create=(e,t,r)=>new ps({valueType:t,keyType:e,typeName:D.ZodMap,...$(r)});var us=class e extends L{_parse(t){let{status:r,ctx:o}=this._processInputParams(t);if(o.parsedType!==w.set)return T(o,{code:S.invalid_type,expected:w.set,received:o.parsedType}),O;let n=this._def;n.minSize!==null&&o.data.size<n.minSize.value&&(T(o,{code:S.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),r.dirty()),n.maxSize!==null&&o.data.size>n.maxSize.value&&(T(o,{code:S.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),r.dirty());let s=this._def.valueType;function i(p){let u=new Set;for(let d of p){if(d.status==="aborted")return O;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}let a=[...o.data.values()].map((p,u)=>s._parse(new Pt(o,p,o.path,u)));return o.common.async?Promise.all(a).then(p=>i(p)):i(a)}min(t,r){return new e({...this._def,minSize:{value:t,message:I.toString(r)}})}max(t,r){return new e({...this._def,maxSize:{value:t,message:I.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}};us.create=(e,t)=>new us({valueType:e,minSize:null,maxSize:null,typeName:D.ZodSet,...$(t)});var Na=class e extends L{constructor(){super(...arguments),this.validate=this.implement}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==w.function)return T(r,{code:S.invalid_type,expected:w.function,received:r.parsedType}),O;function o(a,p){return si({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,ns(),ao].filter(u=>!!u),issueData:{code:S.invalid_arguments,argumentsError:p}})}function n(a,p){return si({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,ns(),ao].filter(u=>!!u),issueData:{code:S.invalid_return_type,returnTypeError:p}})}let s={errorMap:r.common.contextualErrorMap},i=r.data;if(this._def.returns instanceof Mo){let a=this;return Be(async function(...p){let u=new ot([]),d=await a._def.args.parseAsync(p,s).catch(f=>{throw u.addIssue(o(p,f)),u}),l=await Reflect.apply(i,this,d);return await a._def.returns._def.type.parseAsync(l,s).catch(f=>{throw u.addIssue(n(l,f)),u})})}else{let a=this;return Be(function(...p){let u=a._def.args.safeParse(p,s);if(!u.success)throw new ot([o(p,u.error)]);let d=Reflect.apply(i,this,u.data),l=a._def.returns.safeParse(d,s);if(!l.success)throw new ot([n(d,l.error)]);return l.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new e({...this._def,args:Gr.create(t).rest(po.create())})}returns(t){return new e({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,o){return new e({args:t||Gr.create([]).rest(po.create()),returns:r||po.create(),typeName:D.ZodFunction,...$(o)})}},Tn=class extends L{get schema(){return this._def.getter()}_parse(t){let{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};Tn.create=(e,t)=>new Tn({getter:e,typeName:D.ZodLazy,...$(t)});var wn=class extends L{_parse(t){if(t.data!==this._def.value){let r=this._getOrReturnCtx(t);return T(r,{received:r.data,code:S.invalid_literal,expected:this._def.value}),O}return{status:"valid",value:t.data}}get value(){return this._def.value}};wn.create=(e,t)=>new wn({value:e,typeName:D.ZodLiteral,...$(t)});function ih(e,t){return new bn({values:e,typeName:D.ZodEnum,...$(t)})}var bn=class e extends L{_parse(t){if(typeof t.data!="string"){let r=this._getOrReturnCtx(t),o=this._def.values;return T(r,{expected:F.joinValues(o),received:r.parsedType,code:S.invalid_type}),O}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){let r=this._getOrReturnCtx(t),o=this._def.values;return T(r,{received:r.data,code:S.invalid_enum_value,options:o}),O}return Be(t.data)}get options(){return this._def.values}get enum(){let t={};for(let r of this._def.values)t[r]=r;return t}get Values(){let t={};for(let r of this._def.values)t[r]=r;return t}get Enum(){let t={};for(let r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return e.create(t,{...this._def,...r})}exclude(t,r=this._def){return e.create(this.options.filter(o=>!t.includes(o)),{...this._def,...r})}};bn.create=ih;var Rn=class extends L{_parse(t){let r=F.getValidEnumValues(this._def.values),o=this._getOrReturnCtx(t);if(o.parsedType!==w.string&&o.parsedType!==w.number){let n=F.objectValues(r);return T(o,{expected:F.joinValues(n),received:o.parsedType,code:S.invalid_type}),O}if(this._cache||(this._cache=new Set(F.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){let n=F.objectValues(r);return T(o,{received:o.data,code:S.invalid_enum_value,options:n}),O}return Be(t.data)}get enum(){return this._def.values}};Rn.create=(e,t)=>new Rn({values:e,typeName:D.ZodNativeEnum,...$(t)});var Mo=class extends L{unwrap(){return this._def.type}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==w.promise&&r.common.async===!1)return T(r,{code:S.invalid_type,expected:w.promise,received:r.parsedType}),O;let o=r.parsedType===w.promise?r.data:Promise.resolve(r.data);return Be(o.then(n=>this._def.type.parseAsync(n,{path:r.path,errorMap:r.common.contextualErrorMap})))}};Mo.create=(e,t)=>new Mo({type:e,typeName:D.ZodPromise,...$(t)});var Ot=class extends L{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===D.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){let{status:r,ctx:o}=this._processInputParams(t),n=this._def.effect||null,s={addIssue:i=>{T(o,i),i.fatal?r.abort():r.dirty()},get path(){return o.path}};if(s.addIssue=s.addIssue.bind(s),n.type==="preprocess"){let i=n.transform(o.data,s);if(o.common.async)return Promise.resolve(i).then(async a=>{if(r.value==="aborted")return O;let p=await this._def.schema._parseAsync({data:a,path:o.path,parent:o});return p.status==="aborted"?O:p.status==="dirty"?fn(p.value):r.value==="dirty"?fn(p.value):p});{if(r.value==="aborted")return O;let a=this._def.schema._parseSync({data:i,path:o.path,parent:o});return a.status==="aborted"?O:a.status==="dirty"?fn(a.value):r.value==="dirty"?fn(a.value):a}}if(n.type==="refinement"){let i=a=>{let p=n.refinement(a,s);if(o.common.async)return Promise.resolve(p);if(p instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(o.common.async===!1){let a=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});return a.status==="aborted"?O:(a.status==="dirty"&&r.dirty(),i(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(a=>a.status==="aborted"?O:(a.status==="dirty"&&r.dirty(),i(a.value).then(()=>({status:r.value,value:a.value}))))}if(n.type==="transform")if(o.common.async===!1){let i=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});if(!Do(i))return O;let a=n.transform(i.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(i=>Do(i)?Promise.resolve(n.transform(i.value,s)).then(a=>({status:r.value,value:a})):O);F.assertNever(n)}};Ot.create=(e,t,r)=>new Ot({schema:e,typeName:D.ZodEffects,effect:t,...$(r)});Ot.createWithPreprocess=(e,t,r)=>new Ot({schema:t,effect:{type:"preprocess",transform:e},typeName:D.ZodEffects,...$(r)});var Ct=class extends L{_parse(t){return this._getType(t)===w.undefined?Be(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};Ct.create=(e,t)=>new Ct({innerType:e,typeName:D.ZodOptional,...$(t)});var Hr=class extends L{_parse(t){return this._getType(t)===w.null?Be(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};Hr.create=(e,t)=>new Hr({innerType:e,typeName:D.ZodNullable,...$(t)});var vn=class extends L{_parse(t){let{ctx:r}=this._processInputParams(t),o=r.data;return r.parsedType===w.undefined&&(o=this._def.defaultValue()),this._def.innerType._parse({data:o,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};vn.create=(e,t)=>new vn({innerType:e,typeName:D.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...$(t)});var In=class extends L{_parse(t){let{ctx:r}=this._processInputParams(t),o={...r,common:{...r.common,issues:[]}},n=this._def.innerType._parse({data:o.data,path:o.path,parent:{...o}});return ss(n)?n.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ot(o.common.issues)},input:o.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new ot(o.common.issues)},input:o.data})}}removeCatch(){return this._def.innerType}};In.create=(e,t)=>new In({innerType:e,typeName:D.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...$(t)});var ds=class extends L{_parse(t){if(this._getType(t)!==w.nan){let o=this._getOrReturnCtx(t);return T(o,{code:S.invalid_type,expected:w.nan,received:o.parsedType}),O}return{status:"valid",value:t.data}}};ds.create=e=>new ds({typeName:D.ZodNaN,...$(e)});var SD=Symbol("zod_brand"),ii=class extends L{_parse(t){let{ctx:r}=this._processInputParams(t),o=r.data;return this._def.type._parse({data:o,path:r.path,parent:r})}unwrap(){return this._def.type}},ai=class e extends L{_parse(t){let{status:r,ctx:o}=this._processInputParams(t);if(o.common.async)return(async()=>{let s=await this._def.in._parseAsync({data:o.data,path:o.path,parent:o});return s.status==="aborted"?O:s.status==="dirty"?(r.dirty(),fn(s.value)):this._def.out._parseAsync({data:s.value,path:o.path,parent:o})})();{let n=this._def.in._parseSync({data:o.data,path:o.path,parent:o});return n.status==="aborted"?O:n.status==="dirty"?(r.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:o.path,parent:o})}}static create(t,r){return new e({in:t,out:r,typeName:D.ZodPipeline})}},An=class extends L{_parse(t){let r=this._def.innerType._parse(t),o=n=>(Do(n)&&(n.value=Object.freeze(n.value)),n);return ss(r)?r.then(n=>o(n)):o(r)}unwrap(){return this._def.innerType}};An.create=(e,t)=>new An({innerType:e,typeName:D.ZodReadonly,...$(t)});function rh(e,t){let r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function ah(e,t={},r){return e?$o.create().superRefine((o,n)=>{let s=e(o);if(s instanceof Promise)return s.then(i=>{if(!i){let a=rh(t,o),p=a.fatal??r??!0;n.addIssue({code:"custom",...a,fatal:p})}});if(!s){let i=rh(t,o),a=i.fatal??r??!0;n.addIssue({code:"custom",...i,fatal:a})}}):$o.create()}var xD={object:nt.lazycreate},D;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(D||(D={}));var ED=(e,t={message:`Input not instance of ${e.name}`})=>ah(r=>r instanceof e,t),ch=ko.create,ph=mn.create,_D=ds.create,TD=hn.create,uh=gn.create,wD=yn.create,bD=as.create,RD=Sn.create,vD=xn.create,ID=$o.create,AD=po.create,CD=Pr.create,PD=cs.create,OD=uo.create,ND=nt.create,DD=nt.strictCreate,kD=En.create,$D=Pa.create,MD=_n.create,LD=Gr.create,UD=Oa.create,FD=ps.create,BD=us.create,GD=Na.create,HD=Tn.create,VD=wn.create,jD=bn.create,WD=Rn.create,zD=Mo.create,KD=Ot.create,qD=Ct.create,JD=Hr.create,YD=Ot.createWithPreprocess,XD=ai.create,QD=()=>ch().optional(),ZD=()=>ph().optional(),ek=()=>uh().optional(),tk={string:e=>ko.create({...e,coerce:!0}),number:e=>mn.create({...e,coerce:!0}),boolean:e=>gn.create({...e,coerce:!0}),bigint:e=>hn.create({...e,coerce:!0}),date:e=>yn.create({...e,coerce:!0})};var rk=O;var ok=Nt.object({STAGE:Nt.string().min(1),REGION:Nt.string().min(1),STAFF_TABLE:Nt.string().min(1),JWT_SECRET_NAME:Nt.string().min(1),JWT_ISSUER:Nt.string().min(1),JWT_AUDIENCE:Nt.string().min(1),JWT_EXPIRES_IN:Nt.string().default("30m"),JWT_KEY_CACHE_MS:Nt.string().default("300000")});function Or(){let e=ok.safeParse(process.env);if(!e.success)throw new Error(`Invalid environment: ${e.error.message}`);return e.data}Cn();Pn();On();Ko();Ze();Ne();K();Hn();Ae();bt();P();we();Ge();var zb=async(e,t,r)=>({operation:fe(t).operation,region:await Y(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function XM(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"secretsmanager",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var Kb=e=>{let t=[];switch(e.operation){default:t.push(XM(e))}return t},qb=e=>{let t=Qt(e);return Object.assign(t,{authSchemePreference:Y(e.authSchemePreference??[])})};var Jb=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"secretsmanager"}),Yb={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var Xb={name:"@aws-sdk/client-secrets-manager",description:"AWS SDK for JavaScript Secrets Manager Client for Node.js, Browser and React Native",version:"3.958.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-secrets-manager","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo secrets-manager","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.957.0","@aws-sdk/credential-provider-node":"3.958.0","@aws-sdk/middleware-host-header":"3.957.0","@aws-sdk/middleware-logger":"3.957.0","@aws-sdk/middleware-recursion-detection":"3.957.0","@aws-sdk/middleware-user-agent":"3.957.0","@aws-sdk/region-config-resolver":"3.957.0","@aws-sdk/types":"3.957.0","@aws-sdk/util-endpoints":"3.957.0","@aws-sdk/util-user-agent-browser":"3.957.0","@aws-sdk/util-user-agent-node":"3.957.0","@smithy/config-resolver":"^4.4.5","@smithy/core":"^3.20.0","@smithy/fetch-http-handler":"^5.3.8","@smithy/hash-node":"^4.2.7","@smithy/invalid-dependency":"^4.2.7","@smithy/middleware-content-length":"^4.2.7","@smithy/middleware-endpoint":"^4.4.1","@smithy/middleware-retry":"^4.4.17","@smithy/middleware-serde":"^4.2.8","@smithy/middleware-stack":"^4.2.7","@smithy/node-config-provider":"^4.3.7","@smithy/node-http-handler":"^4.4.7","@smithy/protocol-http":"^5.3.7","@smithy/smithy-client":"^4.10.2","@smithy/types":"^4.11.0","@smithy/url-parser":"^4.2.7","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.16","@smithy/util-defaults-mode-node":"^4.2.19","@smithy/util-endpoints":"^3.2.7","@smithy/util-middleware":"^4.2.7","@smithy/util-retry":"^4.2.7","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-secrets-manager",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-secrets-manager"}};we();rf();Z();et();Z();var IR="AWS_EC2_METADATA_DISABLED",AR=async e=>{let{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:o,fromInstanceMetadata:n}=await Promise.resolve().then(()=>(ki(),Di));if(process.env[r]||process.env[t]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:s}=await Promise.resolve().then(()=>(ff(),lf));return Rs(s(e),o(e))}return process.env[IR]&&process.env[IR]!=="false"?async()=>{throw new b("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),n(e))};function CR(e,t){let r=PL(e),o,n,s,i=async a=>{if(a?.forceRefresh)return await r(a);if(s?.expiration&&s?.expiration?.getTime()<Date.now()&&(s=void 0),o)await o;else if(!s||t?.(s))if(s)n||(n=r(a).then(p=>{s=p,n=void 0}));else return o=r(a).then(p=>{s=p,o=void 0}),i(a);return s};return i}var PL=e=>async t=>{let r;for(let o of e)try{return await o(t)}catch(n){if(r=n,n?.tryNextLink)continue;throw n}throw r};var mP=!1,Vp=(e={})=>CR([async()=>{if(e.profile??process.env[Hl])throw process.env[Jc]&&process.env[Yc]&&(mP||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn.bind(e.logger):console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),mP=!0)),new b("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),tf(e)()},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:r,ssoAccountId:o,ssoRegion:n,ssoRoleName:s,ssoSession:i}=e;if(!r&&!o&&!n&&!s&&!i)throw new b("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:a}=await Promise.resolve().then(()=>(Hf(),Gf));return a(e)(t)},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:r}=await Promise.resolve().then(()=>(fP(),lP));return r(e)(t)},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:r}=await Promise.resolve().then(()=>(Sm(),ym));return r(e)(t)},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:r}=await Promise.resolve().then(()=>(bm(),wm));return r(e)(t)},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await AR(e))()),async()=>{throw new b("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}],O3);var O3=e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5;jn();Ze();Wn();bt();pr();mo();P();zn();Kn();wo();we();_o();P();Eo();He();ge();Fo();Dr();var AP="required",yt="fn",St="argv",os="ref",an="properties",cn="headers";var hP="isSet",fa="booleanEquals",Qs="error",Zr="endpoint",Ao="tree",jp="PartitionResult",vm="stringEquals",gP={[AP]:!1,type:"string"},yP={[AP]:!0,default:!1,type:"boolean"},SP={[os]:"Endpoint"},CP={[yt]:fa,[St]:[{[os]:"UseFIPS"},!0]},PP={[yt]:fa,[St]:[{[os]:"UseDualStack"},!0]},Ir={},xP={[yt]:"getAttr",[St]:[{[os]:jp},"supportsFIPS"]},EP={[yt]:fa,[St]:[!0,{[yt]:"getAttr",[St]:[{[os]:jp},"supportsDualStack"]}]},Im={[yt]:"getAttr",[St]:[{[os]:jp},"name"]},_P={url:"https://secretsmanager-fips.{Region}.amazonaws.com",[an]:{},[cn]:{}},TP={url:"https://secretsmanager.{Region}.amazonaws.com",[an]:{},[cn]:{}},wP=[CP],bP=[PP],RP=[{[os]:"Region"}],vP=[{[yt]:vm,[St]:["aws",Im]}],IP=[{[yt]:vm,[St]:["aws-us-gov",Im]}],N3={version:"1.0",parameters:{Region:gP,UseDualStack:yP,UseFIPS:yP,Endpoint:gP},rules:[{conditions:[{[yt]:hP,[St]:[SP]}],rules:[{conditions:wP,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Qs},{conditions:bP,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Qs},{endpoint:{url:SP,[an]:Ir,[cn]:Ir},type:Zr}],type:Ao},{conditions:[{[yt]:hP,[St]:RP}],rules:[{conditions:[{[yt]:"aws.partition",[St]:RP,assign:jp}],rules:[{conditions:[CP,PP],rules:[{conditions:[{[yt]:fa,[St]:[!0,xP]},EP],rules:[{conditions:vP,endpoint:_P,type:Zr},{conditions:IP,endpoint:_P,type:Zr},{endpoint:{url:"https://secretsmanager-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[an]:Ir,[cn]:Ir},type:Zr}],type:Ao},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Qs}],type:Ao},{conditions:wP,rules:[{conditions:[{[yt]:fa,[St]:[xP,!0]}],rules:[{endpoint:{url:"https://secretsmanager-fips.{Region}.{PartitionResult#dnsSuffix}",[an]:Ir,[cn]:Ir},type:Zr}],type:Ao},{error:"FIPS is enabled but this partition does not support FIPS",type:Qs}],type:Ao},{conditions:bP,rules:[{conditions:[EP],rules:[{conditions:vP,endpoint:TP,type:Zr},{conditions:[{[yt]:vm,[St]:["aws-cn",Im]}],endpoint:{url:"https://secretsmanager.{Region}.amazonaws.com.cn",[an]:Ir,[cn]:Ir},type:Zr},{conditions:IP,endpoint:TP,type:Zr},{endpoint:{url:"https://secretsmanager.{Region}.{PartitionResult#dualStackDnsSuffix}",[an]:Ir,[cn]:Ir},type:Zr}],type:Ao},{error:"DualStack is enabled but this partition does not support DualStack",type:Qs}],type:Ao},{endpoint:{url:"https://secretsmanager.{Region}.{PartitionResult#dnsSuffix}",[an]:Ir,[cn]:Ir},type:Zr}],type:Ao}],type:Ao},{error:"Invalid Configuration: Missing Region",type:Qs}]},OP=N3;var D3=new ut({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),NP=(e,t={})=>D3.get(e,()=>Kt(OP,{endpointParams:e,logger:t.logger}));De.aws=_t;var DP=e=>({apiVersion:"2017-10-17",base64Decoder:e?.base64Decoder??le,base64Encoder:e?.base64Encoder??ae,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??NP,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Kb,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new $e}],logger:e?.logger??new We,protocol:e?.protocol??_c,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.secretsmanager",version:"2017-10-17",serviceTarget:"secretsmanager"},serviceId:e?.serviceId??"Secrets Manager",urlParser:e?.urlParser??Ie,utf8Decoder:e?.utf8Decoder??ce,utf8Encoder:e?.utf8Encoder??ie});var kP=e=>{er(process.version);let t=Sr(e),r=()=>t().then(Zt),o=DP(e);qt(process.version);let n={profile:e?.profile,logger:o.logger};return{...o,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??v(Jt,n),bodyLengthChecker:e?.bodyLengthChecker??yr,credentialDefaultProvider:e?.credentialDefaultProvider??Vp,defaultUserAgentProvider:e?.defaultUserAgentProvider??hr({serviceId:o.serviceId,clientVersion:Xb.version}),maxAttempts:e?.maxAttempts??v(dr,e),region:e?.region??v(ze,{...lt,...n}),requestHandler:Ve.create(e?.requestHandler??r),retryMode:e?.retryMode??v({...fr,default:async()=>(await r()).retryMode||mt},e),sha256:e?.sha256??ht.bind(null,"sha256"),streamCollector:e?.streamCollector??st,useDualstackEndpoint:e?.useDualstackEndpoint??v(sr,n),useFipsEndpoint:e?.useFipsEndpoint??v(ir,n),userAgentAppId:e?.userAgentAppId??v(gr,n)}};Zo();ue();P();var $P=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,o=e.credentials;return{setHttpAuthScheme(n){let s=t.findIndex(i=>i.schemeId===n.schemeId);s===-1?t.push(n):t.splice(s,1,n)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(n){r=n},httpAuthSchemeProvider(){return r},setCredentials(n){o=n},credentials(){return o}}},MP=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()});var LP=(e,t)=>{let r=Object.assign(Tr(e),tr(e),Dt(e),$P(e));return t.forEach(o=>o.configure(r)),Object.assign(e,wr(r),rr(r),kt(r),MP(r))};var Wp=class extends Me{config;constructor(...[t]){let r=kP(t||{});super(r),this.initConfig=r;let o=Jb(r),n=jt(o),s=lr(n),i=ar(s),a=i,p=ur(a),u=qb(p),d=LP(u,t?.extensions||[]);this.config=d,this.middlewareStack.use(Gt(this.config)),this.middlewareStack.use(nr(this.config)),this.middlewareStack.use(mr(this.config)),this.middlewareStack.use(cr(this.config)),this.middlewareStack.use(Mt(this.config)),this.middlewareStack.use(Lt(this.config)),this.middlewareStack.use(Ut(this.config)),this.middlewareStack.use(Ft(this.config,{httpAuthSchemeParametersProvider:zb,identityProviderConfigProvider:async l=>new pt({"aws.auth#sigv4":l.credentials})})),this.middlewareStack.use(Bt(this.config))}destroy(){super.destroy()}};K();P();var Fe=class e extends dt{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}};var zp=class e extends Fe{name="DecryptionFailure";$fault="client";Message;constructor(t){super({name:"DecryptionFailure",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Message=t.Message}},Kp=class e extends Fe{name="InternalServiceError";$fault="server";Message;constructor(t){super({name:"InternalServiceError",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.Message=t.Message}},qp=class e extends Fe{name="InvalidNextTokenException";$fault="client";Message;constructor(t){super({name:"InvalidNextTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Message=t.Message}},Jp=class e extends Fe{name="InvalidParameterException";$fault="client";Message;constructor(t){super({name:"InvalidParameterException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Message=t.Message}},Yp=class e extends Fe{name="InvalidRequestException";$fault="client";Message;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Message=t.Message}},Xp=class e extends Fe{name="ResourceNotFoundException";$fault="client";Message;constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Message=t.Message}},Qp=class e extends Fe{name="EncryptionFailure";$fault="client";Message;constructor(t){super({name:"EncryptionFailure",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Message=t.Message}},Zp=class e extends Fe{name="LimitExceededException";$fault="client";Message;constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Message=t.Message}},eu=class e extends Fe{name="MalformedPolicyDocumentException";$fault="client";Message;constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Message=t.Message}},tu=class e extends Fe{name="PreconditionNotMetException";$fault="client";Message;constructor(t){super({name:"PreconditionNotMetException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Message=t.Message}},ru=class e extends Fe{name="ResourceExistsException";$fault="client";Message;constructor(t){super({name:"ResourceExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Message=t.Message}},ou=class e extends Fe{name="PublicPolicyException";$fault="client";Message;constructor(t){super({name:"PublicPolicyException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Message=t.Message}};var k3="ARN";var $3="CreatedDate";var M3="DecryptionFailure";var L3="EncryptionFailure";var U3="GetSecretValue",F3="GetSecretValueRequest",B3="GetSecretValueResponse";var G3="InvalidNextTokenException";var H3="InvalidParameterException",V3="InvalidRequestException";var j3="InternalServiceError";var W3="LimitExceededException";var Ar="Message",z3="MalformedPolicyDocumentException";var K3="Name";var q3="PreconditionNotMetException",J3="PublicPolicyException";var Y3="ResourceExistsException";var X3="ResourceNotFoundException";var Q3="SecretBinary",Z3="SecretBinaryType";var eB="SecretId";var tB="SecretString",rB="SecretStringType";var UP="VersionId";var oB="VersionStage",nB="VersionStages";var Fr="client",Cr="error",sB="server",FP="smithy.ts.sdk.synthetic.com.amazonaws.secretsmanager",ee="com.amazonaws.secretsmanager";var iB=[0,ee,Z3,8,21],aB=[0,ee,rB,8,0];var cB=[-3,ee,M3,{[Cr]:Fr},[Ar],[0]];x.for(ee).registerError(cB,zp);var pB=[-3,ee,L3,{[Cr]:Fr},[Ar],[0]];x.for(ee).registerError(pB,Qp);var uB=[3,ee,F3,0,[eB,UP,oB],[0,0,0]],dB=[3,ee,B3,0,[k3,K3,UP,Q3,tB,nB,$3],[0,0,0,[()=>iB,0],[()=>aB,0],64,4]],lB=[-3,ee,j3,{[Cr]:sB},[Ar],[0]];x.for(ee).registerError(lB,Kp);var fB=[-3,ee,G3,{[Cr]:Fr},[Ar],[0]];x.for(ee).registerError(fB,qp);var mB=[-3,ee,H3,{[Cr]:Fr},[Ar],[0]];x.for(ee).registerError(mB,Jp);var hB=[-3,ee,V3,{[Cr]:Fr},[Ar],[0]];x.for(ee).registerError(hB,Yp);var gB=[-3,ee,W3,{[Cr]:Fr},[Ar],[0]];x.for(ee).registerError(gB,Zp);var yB=[-3,ee,z3,{[Cr]:Fr},[Ar],[0]];x.for(ee).registerError(yB,eu);var SB=[-3,ee,q3,{[Cr]:Fr},[Ar],[0]];x.for(ee).registerError(SB,tu);var xB=[-3,ee,J3,{[Cr]:Fr},[Ar],[0]];x.for(ee).registerError(xB,ou);var EB=[-3,ee,Y3,{[Cr]:Fr},[Ar],[0]];x.for(ee).registerError(EB,ru);var _B=[-3,ee,X3,{[Cr]:Fr},[Ar],[0]];x.for(ee).registerError(_B,Xp);var TB=[-3,FP,"SecretsManagerServiceException",0,[],[]];x.for(FP).registerError(TB,Fe);var BP=[9,ee,U3,0,()=>uB,()=>dB];Ae();P();var nu=class extends oe.classBuilder().ep(Yb).m(function(t,r,o,n){return[me(o,t.getEndpointParameterInstructions())]}).s("secretsmanager","GetSecretValue",{}).n("SecretsManagerClient","GetSecretValueCommand").sc(BP).build(){};import{Buffer as wB}from"node:buffer";var ma=new TextEncoder,pn=new TextDecoder,gge=2**32;function GP(...e){let t=e.reduce((n,{length:s})=>n+s,0),r=new Uint8Array(t),o=0;for(let n of e)r.set(n,o),o+=n.length;return r}function bB(e){let t=e;return t instanceof Uint8Array&&(t=pn.decode(t)),t}var Zs=e=>new Uint8Array(wB.from(bB(e),"base64url"));var Co=class extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(t,r){super(t,r),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}},It=class extends Co{static code="ERR_JWT_CLAIM_VALIDATION_FAILED";code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor(t,r,o="unspecified",n="unspecified"){super(t,{cause:{claim:o,reason:n,payload:r}}),this.claim=o,this.reason=n,this.payload=r}},ha=class extends Co{static code="ERR_JWT_EXPIRED";code="ERR_JWT_EXPIRED";claim;reason;payload;constructor(t,r,o="unspecified",n="unspecified"){super(t,{cause:{claim:o,reason:n,payload:r}}),this.claim=o,this.reason=n,this.payload=r}},su=class extends Co{static code="ERR_JOSE_ALG_NOT_ALLOWED";code="ERR_JOSE_ALG_NOT_ALLOWED"},rt=class extends Co{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"};var xe=class extends Co{static code="ERR_JWS_INVALID";code="ERR_JWS_INVALID"},ei=class extends Co{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"};var iu=class extends Co{static code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";constructor(t="signature verification failed",r){super(t,r)}};import*as HP from"node:util";var au=e=>HP.types.isKeyObject(e);import*as VP from"node:crypto";import*as jP from"node:util";var vB=VP.webcrypto,WP=vB,ti=e=>jP.types.isCryptoKey(e);function eo(e,t="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function ga(e,t){return e.name===t}function Am(e){return parseInt(e.name.slice(4),10)}function IB(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function AB(e,t){if(t.length&&!t.some(r=>e.usages.includes(r))){let r="CryptoKey does not support this operation, its usages must include ";if(t.length>2){let o=t.pop();r+=`one of ${t.join(", ")}, or ${o}.`}else t.length===2?r+=`one of ${t[0]} or ${t[1]}.`:r+=`${t[0]}.`;throw new TypeError(r)}}function zP(e,t,...r){switch(t){case"HS256":case"HS384":case"HS512":{if(!ga(e.algorithm,"HMAC"))throw eo("HMAC");let o=parseInt(t.slice(2),10);if(Am(e.algorithm.hash)!==o)throw eo(`SHA-${o}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!ga(e.algorithm,"RSASSA-PKCS1-v1_5"))throw eo("RSASSA-PKCS1-v1_5");let o=parseInt(t.slice(2),10);if(Am(e.algorithm.hash)!==o)throw eo(`SHA-${o}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!ga(e.algorithm,"RSA-PSS"))throw eo("RSA-PSS");let o=parseInt(t.slice(2),10);if(Am(e.algorithm.hash)!==o)throw eo(`SHA-${o}`,"algorithm.hash");break}case"EdDSA":{if(e.algorithm.name!=="Ed25519"&&e.algorithm.name!=="Ed448")throw eo("Ed25519 or Ed448");break}case"Ed25519":{if(!ga(e.algorithm,"Ed25519"))throw eo("Ed25519");break}case"ES256":case"ES384":case"ES512":{if(!ga(e.algorithm,"ECDSA"))throw eo("ECDSA");let o=IB(t);if(e.algorithm.namedCurve!==o)throw eo(o,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}AB(e,r)}function KP(e,t,...r){if(r=r.filter(Boolean),r.length>2){let o=r.pop();e+=`one of type ${r.join(", ")}, or ${o}.`}else r.length===2?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return t==null?e+=` Received ${t}`:typeof t=="function"&&t.name?e+=` Received function ${t.name}`:typeof t=="object"&&t!=null&&t.constructor?.name&&(e+=` Received an instance of ${t.constructor.name}`),e}var ya=(e,...t)=>KP("Key must be ",e,...t);function Cm(e,t,...r){return KP(`Key for the ${e} algorithm must be `,t,...r)}var Pm=e=>au(e)||ti(e),Po=["KeyObject"];(globalThis.CryptoKey||WP?.CryptoKey)&&Po.push("CryptoKey");var CB=(...e)=>{let t=e.filter(Boolean);if(t.length===0||t.length===1)return!0;let r;for(let o of t){let n=Object.keys(o);if(!r||r.size===0){r=new Set(n);continue}for(let s of n){if(r.has(s))return!1;r.add(s)}}return!0},qP=CB;function PB(e){return typeof e=="object"&&e!==null}function to(e){if(!PB(e)||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}import{KeyObject as OB}from"node:crypto";function ro(e){return to(e)&&typeof e.kty=="string"}function JP(e){return e.kty!=="oct"&&typeof e.d=="string"}function YP(e){return e.kty!=="oct"&&typeof e.d>"u"}function XP(e){return ro(e)&&e.kty==="oct"&&typeof e.k=="string"}var NB=e=>{switch(e){case"prime256v1":return"P-256";case"secp384r1":return"P-384";case"secp521r1":return"P-521";case"secp256k1":return"secp256k1";default:throw new rt("Unsupported key curve for this operation")}},DB=(e,t)=>{let r;if(ti(e))r=OB.from(e);else if(au(e))r=e;else{if(ro(e))return e.crv;throw new TypeError(ya(e,...Po))}if(r.type==="secret")throw new TypeError('only "private" or "public" type keys can be used for this operation');switch(r.asymmetricKeyType){case"ed25519":case"ed448":return`Ed${r.asymmetricKeyType.slice(2)}`;case"x25519":case"x448":return`X${r.asymmetricKeyType.slice(1)}`;case"ec":{let o=r.asymmetricKeyDetails.namedCurve;return t?o:NB(o)}default:throw new TypeError("Invalid asymmetric key type for this operation")}},ZP=DB;import{KeyObject as kB}from"node:crypto";var Om=(e,t)=>{let r;try{e instanceof kB?r=e.asymmetricKeyDetails?.modulusLength:r=Buffer.from(e.n,"base64url").byteLength<<3}catch{}if(typeof r!="number"||r<2048)throw new TypeError(`${t} requires key modulusLength to be 2048 bits or larger`)};import{createPrivateKey as $B,createPublicKey as MB}from"node:crypto";var LB=e=>e.d?$B({format:"jwk",key:e}):MB({format:"jwk",key:e}),eO=LB;async function tO(e,t){if(!to(e))throw new TypeError("JWK must be an object");switch(t||=e.alg,e.kty){case"oct":if(typeof e.k!="string"||!e.k)throw new TypeError('missing "k" (Key Value) Parameter value');return Zs(e.k);case"RSA":if("oth"in e&&e.oth!==void 0)throw new rt('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return eO({...e,alg:t});default:throw new rt('Unsupported "kty" (Key Type) Parameter value')}}var ri=e=>e?.[Symbol.toStringTag],Nm=(e,t,r)=>{if(t.use!==void 0&&t.use!=="sig")throw new TypeError("Invalid key for this operation, when present its use must be sig");if(t.key_ops!==void 0&&t.key_ops.includes?.(r)!==!0)throw new TypeError(`Invalid key for this operation, when present its key_ops must include ${r}`);if(t.alg!==void 0&&t.alg!==e)throw new TypeError(`Invalid key for this operation, when present its alg must be ${e}`);return!0},UB=(e,t,r,o)=>{if(!(t instanceof Uint8Array)){if(o&&ro(t)){if(XP(t)&&Nm(e,t,r))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!Pm(t))throw new TypeError(Cm(e,t,...Po,"Uint8Array",o?"JSON Web Key":null));if(t.type!=="secret")throw new TypeError(`${ri(t)} instances for symmetric algorithms must be of type "secret"`)}},FB=(e,t,r,o)=>{if(o&&ro(t))switch(r){case"sign":if(JP(t)&&Nm(e,t,r))return;throw new TypeError("JSON Web Key for this operation be a private JWK");case"verify":if(YP(t)&&Nm(e,t,r))return;throw new TypeError("JSON Web Key for this operation be a public JWK")}if(!Pm(t))throw new TypeError(Cm(e,t,...Po,o?"JSON Web Key":null));if(t.type==="secret")throw new TypeError(`${ri(t)} instances for asymmetric algorithms must not be of type "secret"`);if(r==="sign"&&t.type==="public")throw new TypeError(`${ri(t)} instances for asymmetric algorithm signing must be of type "private"`);if(r==="decrypt"&&t.type==="public")throw new TypeError(`${ri(t)} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&r==="verify"&&t.type==="private")throw new TypeError(`${ri(t)} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&r==="encrypt"&&t.type==="private")throw new TypeError(`${ri(t)} instances for asymmetric algorithm encryption must be of type "public"`)};function rO(e,t,r,o){t.startsWith("HS")||t==="dir"||t.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(t)?UB(t,r,o,e):FB(t,r,o,e)}var Yge=rO.bind(void 0,!1),Dm=rO.bind(void 0,!0);function BB(e,t,r,o,n){if(n.crit!==void 0&&o?.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!o||o.crit===void 0)return new Set;if(!Array.isArray(o.crit)||o.crit.length===0||o.crit.some(i=>typeof i!="string"||i.length===0))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let s;r!==void 0?s=new Map([...Object.entries(r),...t.entries()]):s=t;for(let i of o.crit){if(!s.has(i))throw new rt(`Extension Header Parameter "${i}" is not recognized`);if(n[i]===void 0)throw new e(`Extension Header Parameter "${i}" is missing`);if(s.get(i)&&o[i]===void 0)throw new e(`Extension Header Parameter "${i}" MUST be integrity protected`)}return new Set(o.crit)}var oO=BB;var GB=(e,t)=>{if(t!==void 0&&(!Array.isArray(t)||t.some(r=>typeof r!="string")))throw new TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)},nO=GB;import*as pu from"node:crypto";import{promisify as KB}from"node:util";function Sa(e){switch(e){case"PS256":case"RS256":case"ES256":case"ES256K":return"sha256";case"PS384":case"RS384":case"ES384":return"sha384";case"PS512":case"RS512":case"ES512":return"sha512";case"Ed25519":case"EdDSA":return;default:throw new rt(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}import{constants as sO,KeyObject as HB}from"node:crypto";var VB=new Map([["ES256","P-256"],["ES256K","secp256k1"],["ES384","P-384"],["ES512","P-521"]]);function xa(e,t){let r,o,n;if(t instanceof HB)r=t.asymmetricKeyType,o=t.asymmetricKeyDetails;else switch(n=!0,t.kty){case"RSA":r="rsa";break;case"EC":r="ec";break;case"OKP":{if(t.crv==="Ed25519"){r="ed25519";break}if(t.crv==="Ed448"){r="ed448";break}throw new TypeError("Invalid key for this operation, its crv must be Ed25519 or Ed448")}default:throw new TypeError("Invalid key for this operation, its kty must be RSA, OKP, or EC")}let s;switch(e){case"Ed25519":if(r!=="ed25519")throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be ed25519");break;case"EdDSA":if(!["ed25519","ed448"].includes(r))throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be ed25519 or ed448");break;case"RS256":case"RS384":case"RS512":if(r!=="rsa")throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");Om(t,e);break;case"PS256":case"PS384":case"PS512":if(r==="rsa-pss"){let{hashAlgorithm:i,mgf1HashAlgorithm:a,saltLength:p}=o,u=parseInt(e.slice(-3),10);if(i!==void 0&&(i!==`sha${u}`||a!==i))throw new TypeError(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${e}`);if(p!==void 0&&p>u>>3)throw new TypeError(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${e}`)}else if(r!=="rsa")throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa or rsa-pss");Om(t,e),s={padding:sO.RSA_PKCS1_PSS_PADDING,saltLength:sO.RSA_PSS_SALTLEN_DIGEST};break;case"ES256":case"ES256K":case"ES384":case"ES512":{if(r!=="ec")throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be ec");let i=ZP(t),a=VB.get(e);if(i!==a)throw new TypeError(`Invalid key curve for the algorithm, its curve must be ${a}, got ${i}`);s={dsaEncoding:"ieee-p1363"};break}default:throw new rt(`alg ${e} is not supported either by JOSE or your javascript runtime`)}return n?{format:"jwk",key:t,...s}:s?{...s,key:t}:t}import*as cu from"node:crypto";import{promisify as jB}from"node:util";function km(e){switch(e){case"HS256":return"sha256";case"HS384":return"sha384";case"HS512":return"sha512";default:throw new rt(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}import{KeyObject as iO,createSecretKey as aO}from"node:crypto";function Ea(e,t,r){if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError(ya(t,...Po));return aO(t)}if(t instanceof iO)return t;if(ti(t))return zP(t,e,r),iO.from(t);if(ro(t))return e.startsWith("HS")?aO(Buffer.from(t.k,"base64url")):t;throw new TypeError(ya(t,...Po,"Uint8Array","JSON Web Key"))}var WB=jB(cu.sign),zB=async(e,t,r)=>{let o=Ea(e,t,"sign");if(e.startsWith("HS")){let n=cu.createHmac(km(e),o);return n.update(r),n.digest()}return WB(Sa(e),r,xa(e,o))},cO=zB;var qB=KB(pu.verify),JB=async(e,t,r,o)=>{let n=Ea(e,t,"verify");if(e.startsWith("HS")){let a=await cO(e,n,o),p=r;try{return pu.timingSafeEqual(p,a)}catch{return!1}}let s=Sa(e),i=xa(e,n);try{return await qB(s,o,i,r)}catch{return!1}},pO=JB;async function uO(e,t,r){if(!to(e))throw new xe("Flattened JWS must be an object");if(e.protected===void 0&&e.header===void 0)throw new xe('Flattened JWS must have either of the "protected" or "header" members');if(e.protected!==void 0&&typeof e.protected!="string")throw new xe("JWS Protected Header incorrect type");if(e.payload===void 0)throw new xe("JWS Payload missing");if(typeof e.signature!="string")throw new xe("JWS Signature missing or incorrect type");if(e.header!==void 0&&!to(e.header))throw new xe("JWS Unprotected Header incorrect type");let o={};if(e.protected)try{let g=Zs(e.protected);o=JSON.parse(pn.decode(g))}catch{throw new xe("JWS Protected Header is invalid")}if(!qP(o,e.header))throw new xe("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let n={...o,...e.header},s=oO(xe,new Map([["b64",!0]]),r?.crit,o,n),i=!0;if(s.has("b64")&&(i=o.b64,typeof i!="boolean"))throw new xe('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:a}=n;if(typeof a!="string"||!a)throw new xe('JWS "alg" (Algorithm) Header Parameter missing or invalid');let p=r&&nO("algorithms",r.algorithms);if(p&&!p.has(a))throw new su('"alg" (Algorithm) Header Parameter value not allowed');if(i){if(typeof e.payload!="string")throw new xe("JWS Payload must be a string")}else if(typeof e.payload!="string"&&!(e.payload instanceof Uint8Array))throw new xe("JWS Payload must be a string or an Uint8Array instance");let u=!1;typeof t=="function"?(t=await t(o,e),u=!0,Dm(a,t,"verify"),ro(t)&&(t=await tO(t,a))):Dm(a,t,"verify");let d=GP(ma.encode(e.protected??""),ma.encode("."),typeof e.payload=="string"?ma.encode(e.payload):e.payload),l;try{l=Zs(e.signature)}catch{throw new xe("Failed to base64url decode the signature")}if(!await pO(a,t,l,d))throw new iu;let f;if(i)try{f=Zs(e.payload)}catch{throw new xe("Failed to base64url decode the payload")}else typeof e.payload=="string"?f=ma.encode(e.payload):f=e.payload;let h={payload:f};return e.protected!==void 0&&(h.protectedHeader=o),e.header!==void 0&&(h.unprotectedHeader=e.header),u?{...h,key:t}:h}async function dO(e,t,r){if(e instanceof Uint8Array&&(e=pn.decode(e)),typeof e!="string")throw new xe("Compact JWS must be a string or Uint8Array");let{0:o,1:n,2:s,length:i}=e.split(".");if(i!==3)throw new xe("Invalid Compact JWS");let a=await uO({payload:n,protected:o,signature:s},t,r),p={payload:a.payload,protectedHeader:a.protectedHeader};return typeof t=="function"?{...p,key:a.key}:p}var lO=e=>Math.floor(e.getTime()/1e3);var YB=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,$m=e=>{let t=YB.exec(e);if(!t||t[4]&&t[1])throw new TypeError("Invalid time period format");let r=parseFloat(t[2]),o=t[3].toLowerCase(),n;switch(o){case"sec":case"secs":case"second":case"seconds":case"s":n=Math.round(r);break;case"minute":case"minutes":case"min":case"mins":case"m":n=Math.round(r*60);break;case"hour":case"hours":case"hr":case"hrs":case"h":n=Math.round(r*3600);break;case"day":case"days":case"d":n=Math.round(r*86400);break;case"week":case"weeks":case"w":n=Math.round(r*604800);break;default:n=Math.round(r*31557600);break}return t[1]==="-"||t[4]==="ago"?-n:n};var fO=e=>e.toLowerCase().replace(/^application\//,""),XB=(e,t)=>typeof e=="string"?t.includes(e):Array.isArray(e)?t.some(Set.prototype.has.bind(new Set(e))):!1,mO=(e,t,r={})=>{let o;try{o=JSON.parse(pn.decode(t))}catch{}if(!to(o))throw new ei("JWT Claims Set must be a top-level JSON object");let{typ:n}=r;if(n&&(typeof e.typ!="string"||fO(e.typ)!==fO(n)))throw new It('unexpected "typ" JWT header value',o,"typ","check_failed");let{requiredClaims:s=[],issuer:i,subject:a,audience:p,maxTokenAge:u}=r,d=[...s];u!==void 0&&d.push("iat"),p!==void 0&&d.push("aud"),a!==void 0&&d.push("sub"),i!==void 0&&d.push("iss");for(let h of new Set(d.reverse()))if(!(h in o))throw new It(`missing required "${h}" claim`,o,h,"missing");if(i&&!(Array.isArray(i)?i:[i]).includes(o.iss))throw new It('unexpected "iss" claim value',o,"iss","check_failed");if(a&&o.sub!==a)throw new It('unexpected "sub" claim value',o,"sub","check_failed");if(p&&!XB(o.aud,typeof p=="string"?[p]:p))throw new It('unexpected "aud" claim value',o,"aud","check_failed");let l;switch(typeof r.clockTolerance){case"string":l=$m(r.clockTolerance);break;case"number":l=r.clockTolerance;break;case"undefined":l=0;break;default:throw new TypeError("Invalid clockTolerance option type")}let{currentDate:m}=r,f=lO(m||new Date);if((o.iat!==void 0||u)&&typeof o.iat!="number")throw new It('"iat" claim must be a number',o,"iat","invalid");if(o.nbf!==void 0){if(typeof o.nbf!="number")throw new It('"nbf" claim must be a number',o,"nbf","invalid");if(o.nbf>f+l)throw new It('"nbf" claim timestamp check failed',o,"nbf","check_failed")}if(o.exp!==void 0){if(typeof o.exp!="number")throw new It('"exp" claim must be a number',o,"exp","invalid");if(o.exp<=f-l)throw new ha('"exp" claim timestamp check failed',o,"exp","check_failed")}if(u){let h=f-o.iat,g=typeof u=="number"?u:$m(u);if(h-l>g)throw new ha('"iat" claim timestamp check failed (too far in the past)',o,"iat","check_failed");if(h<0-l)throw new It('"iat" claim timestamp check failed (it should be in the past)',o,"iat","check_failed")}return o};async function Mm(e,t,r){let o=await dO(e,t,r);if(o.protectedHeader.crit?.includes("b64")&&o.protectedHeader.b64===!1)throw new ei("JWTs MUST NOT use unencoded payload");let s={payload:mO(o.protectedHeader,o.payload,r),protectedHeader:o.protectedHeader};return typeof t=="function"?{...s,key:o.key}:s}var un=class extends Error{code;statusCode;details;constructor(t,r,o,n){super(o),this.code=t,this.statusCode=r,this.details=n}},_a={validation:(e,t)=>new un("ValidationError",400,e,t),unauthorized:(e="Unauthorized")=>new un("Unauthorized",401,e),forbidden:(e="Forbidden")=>new un("Forbidden",403,e),notFound:(e="Not found")=>new un("NotFound",404,e),conflict:(e="Conflict")=>new un("Conflict",409,e),internal:(e="Internal error",t)=>new un("InternalError",500,e,t)};var Lm,uu,hO=0;function QB(){return Lm||(Lm=new Wp({region:Or().REGION})),Lm}function ZB(){let e=Number(Or().JWT_KEY_CACHE_MS);return Number.isFinite(e)&&e>0?e:3e5}async function e2(){let e=Date.now();if(uu&&e-hO<ZB())return uu;let r=(await QB().send(new nu({SecretId:Or().JWT_SECRET_NAME}))).SecretString;if(!r)throw _a.internal("JWT secret missing SecretString");return uu=new TextEncoder().encode(r),hO=e,uu}async function gO(e){let{payload:t}=await Mm(e,await e2(),{issuer:Or().JWT_ISSUER,audience:Or().JWT_AUDIENCE,algorithms:["HS256"]}),r=t.sub,o=t.email,n=t.roles;if(typeof r!="string")throw _a.unauthorized("Invalid token");if(typeof o!="string")throw _a.unauthorized("Invalid token");if(!Array.isArray(n)||!n.every(s=>typeof s=="string"))throw _a.unauthorized("Invalid token");return{sub:r,email:o,roles:n}}function yO(e){if(!e)return null;let t=e.authorization??e.Authorization??e.AUTHORIZATION;return t?t.match(/^Bearer\s+(.+)$/i)?.[1]??null:null}Ge();var du="preferred",t2=["disabled","preferred","required"];function Ta(e){return t2.includes(e)}var SO=e=>{let{accountIdEndpointMode:t}=e,r=Y(t??du);return Object.assign(e,{accountIdEndpointMode:async()=>{let o=await r();if(!Ta(o))throw new Error(`Invalid value for accountIdEndpointMode: ${o}. Valid values are: "required", "preferred", "disabled".`);return o}})};var xO="Invalid AccountIdEndpointMode value",EO=e=>{throw new Error(e)},r2="AWS_ACCOUNT_ID_ENDPOINT_MODE",o2="account_id_endpoint_mode",_O={environmentVariableSelector:e=>{let t=e[r2];return t&&!Ta(t)&&EO(xO),t},configFileSelector:e=>{let t=e[o2];return t&&!Ta(t)&&EO(xO),t},default:du};var TO=["AWS_ENABLE_ENDPOINT_DISCOVERY","AWS_ENDPOINT_DISCOVERY_ENABLED"],Um="endpoint_discovery_enabled",wO=e=>["false","0"].indexOf(e)>=0,bO={environmentVariableSelector:e=>{for(let t=0;t<TO.length;t++){let r=TO[t];if(r in e){let o=e[r];if(o==="")throw Error(`Environment variable ${r} can't be empty of undefined, got "${o}"`);return!wO(o)}}},configFileSelector:e=>{if(Um in e){let t=e[Um];if(t===void 0)throw Error(`Shared config entry ${Um} can't be undefined, got "${t}"`);return!wO(t)}},default:void 0};var MO=zN($O()),lu=class{cache;constructor(t){this.cache=new MO.default(t)}getEndpoint(t){let r=this.get(t);if(!r||r.length===0)return;let o=r.map(n=>n.Address);return o[Math.floor(Math.random()*o.length)]}get(t){if(!this.has(t))return;let r=this.cache.get(t);if(!r)return;let o=Date.now(),n=r.filter(s=>o<s.Expires);if(n.length===0){this.delete(t);return}return n}set(t,r){let o=Date.now();this.cache.set(t,r.map(({Address:n,CachePeriodInMinutes:s})=>({Address:n,Expires:o+s*60*1e3})))}delete(t){this.cache.set(t,[])}has(t){if(!this.cache.has(t))return!1;let r=this.cache.peek(t);return r?r.length>0:!1}clear(){this.cache.clear()}};var LO=(e,{endpointDiscoveryCommandCtor:t})=>{let{endpointCacheSize:r,endpointDiscoveryEnabled:o,endpointDiscoveryEnabledProvider:n}=e;return Object.assign(e,{endpointDiscoveryCommandCtor:t,endpointCache:new lu(r??1e3),endpointDiscoveryEnabled:o!==void 0?()=>Promise.resolve(o):n,isClientEndpointDiscoveryEnabled:o!==void 0})};Cn();Pn();On();Ko();Ze();Ne();K();Hn();Ae();bt();P();we();Ge();var UO=async(e,t,r)=>({operation:fe(t).operation,region:await Y(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function y2(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"dynamodb",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var FO=e=>{let t=[];switch(e.operation){default:t.push(y2(e))}return t},BO=e=>{let t=Qt(e);return Object.assign(t,{authSchemePreference:Y(e.authSchemePreference??[])})};Ae();P();var GO=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"dynamodb"}),fu={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},AccountId:{type:"builtInParams",name:"accountId"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"},AccountIdEndpointMode:{type:"builtInParams",name:"accountIdEndpointMode"}};K();P();var U=class e extends dt{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}};var mu=class e extends U{name="BackupInUseException";$fault="client";constructor(t){super({name:"BackupInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},hu=class e extends U{name="BackupNotFoundException";$fault="client";constructor(t){super({name:"BackupNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},gu=class e extends U{name="InternalServerError";$fault="server";constructor(t){super({name:"InternalServerError",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype)}},yu=class e extends U{name="RequestLimitExceeded";$fault="client";ThrottlingReasons;constructor(t){super({name:"RequestLimitExceeded",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.ThrottlingReasons=t.ThrottlingReasons}},Su=class e extends U{name="ThrottlingException";$fault="client";throttlingReasons;constructor(t){super({name:"ThrottlingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.throttlingReasons=t.throttlingReasons}},xu=class e extends U{name="InvalidEndpointException";$fault="client";Message;constructor(t){super({name:"InvalidEndpointException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Message=t.Message}},Eu=class e extends U{name="ProvisionedThroughputExceededException";$fault="client";ThrottlingReasons;constructor(t){super({name:"ProvisionedThroughputExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.ThrottlingReasons=t.ThrottlingReasons}},_u=class e extends U{name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Tu=class e extends U{name="ItemCollectionSizeLimitExceededException";$fault="client";constructor(t){super({name:"ItemCollectionSizeLimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},wu=class e extends U{name="ReplicatedWriteConflictException";$fault="client";$retryable={};constructor(t){super({name:"ReplicatedWriteConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},bu=class e extends U{name="ContinuousBackupsUnavailableException";$fault="client";constructor(t){super({name:"ContinuousBackupsUnavailableException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ru=class e extends U{name="LimitExceededException";$fault="client";constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},vu=class e extends U{name="TableInUseException";$fault="client";constructor(t){super({name:"TableInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Iu=class e extends U{name="TableNotFoundException";$fault="client";constructor(t){super({name:"TableNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Au=class e extends U{name="GlobalTableAlreadyExistsException";$fault="client";constructor(t){super({name:"GlobalTableAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Cu=class e extends U{name="ResourceInUseException";$fault="client";constructor(t){super({name:"ResourceInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Pu=class e extends U{name="TransactionConflictException";$fault="client";constructor(t){super({name:"TransactionConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ou=class e extends U{name="PolicyNotFoundException";$fault="client";constructor(t){super({name:"PolicyNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Nu=class e extends U{name="ExportNotFoundException";$fault="client";constructor(t){super({name:"ExportNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Du=class e extends U{name="GlobalTableNotFoundException";$fault="client";constructor(t){super({name:"GlobalTableNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ku=class e extends U{name="ImportNotFoundException";$fault="client";constructor(t){super({name:"ImportNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},$u=class e extends U{name="DuplicateItemException";$fault="client";constructor(t){super({name:"DuplicateItemException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Mu=class e extends U{name="IdempotentParameterMismatchException";$fault="client";Message;constructor(t){super({name:"IdempotentParameterMismatchException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Message=t.Message}},Lu=class e extends U{name="TransactionInProgressException";$fault="client";Message;constructor(t){super({name:"TransactionInProgressException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Message=t.Message}},Uu=class e extends U{name="ExportConflictException";$fault="client";constructor(t){super({name:"ExportConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Fu=class e extends U{name="InvalidExportTimeException";$fault="client";constructor(t){super({name:"InvalidExportTimeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Bu=class e extends U{name="PointInTimeRecoveryUnavailableException";$fault="client";constructor(t){super({name:"PointInTimeRecoveryUnavailableException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Gu=class e extends U{name="ImportConflictException";$fault="client";constructor(t){super({name:"ImportConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Hu=class e extends U{name="TableAlreadyExistsException";$fault="client";constructor(t){super({name:"TableAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Vu=class e extends U{name="InvalidRestoreTimeException";$fault="client";constructor(t){super({name:"InvalidRestoreTimeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ju=class e extends U{name="ReplicaAlreadyExistsException";$fault="client";constructor(t){super({name:"ReplicaAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Wu=class e extends U{name="ReplicaNotFoundException";$fault="client";constructor(t){super({name:"ReplicaNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},zu=class e extends U{name="IndexNotFoundException";$fault="client";constructor(t){super({name:"IndexNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ku=class e extends U{name="ConditionalCheckFailedException";$fault="client";Item;constructor(t){super({name:"ConditionalCheckFailedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Item=t.Item}},qu=class e extends U{name="TransactionCanceledException";$fault="client";Message;CancellationReasons;constructor(t){super({name:"TransactionCanceledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Message=t.Message,this.CancellationReasons=t.CancellationReasons}};var S2="AttributeMap";var x2="AttributesToGet";var E2="AttributeValue";var _2="Address";var T2="BackupInUseException";var w2="BackupNotFoundException",b2="BOOL";var R2="BS";var v2="B",I2="Code";var A2="ContinuousBackupsUnavailableException",VO="ConsumedCapacity",C2="ConditionalCheckFailedException";var P2="CachePeriodInMinutes",O2="ConsistentRead";var N2="CancellationReasonList",D2="ConfirmRemoveSelfResourceAccess";var k2="CancellationReason",$2="CancellationReasons";var jO="CapacityUnits";var M2="Capacity";var L2="DescribeEndpoints";var U2="DescribeEndpointsRequest",F2="DescribeEndpointsResponse";var B2="DuplicateItemException";var G2="ExpressionAttributeNames";var H2="ExportConflictException";var V2="ExportNotFoundException";var j2="ExpectedRevisionId";var WO="Endpoints";var W2="Endpoint";var z2="GetItem",K2="GetItemInput",q2="GetItemOutput";var J2="GlobalSecondaryIndexes";var Y2="GlobalTableAlreadyExistsException";var X2="GlobalTableNotFoundException";var Vm="Item";var Q2="ImportConflictException";var Z2="ItemCollectionSizeLimitExceededException";var e4="InvalidEndpointException";var t4="InvalidExportTimeException";var r4="ImportNotFoundException",o4="IndexNotFoundException",n4="IdempotentParameterMismatchException";var s4="InvalidRestoreTimeException";var i4="InternalServerError";var zO="Key";var a4="ListAttributeValue";var c4="LimitExceededException";var p4="LocalSecondaryIndexes";var u4="L",ba="Message",d4="MapAttributeValue";var l4="M",f4="N";var m4="NS";var h4="NULL";var g4="ProjectionExpression";var y4="PointInTimeRecoveryUnavailableException";var S4="PolicyNotFoundException";var x4="PutResourcePolicyInput";var E4="ProvisionedThroughputExceededException";var _4="Policy";var T4="ResourceArn",w4="ReplicaAlreadyExistsException";var b4="ReturnConsumedCapacity",KO="ReadCapacityUnits";var R4="ResourceInUseException";var v4="RequestLimitExceeded";var I4="ReplicaNotFoundException",A4="ResourceNotFoundException";var C4="ReplicatedWriteConflictException";var P4="SecondaryIndexesCapacityMap";var O4="SS";var N4="S";var D4="Table";var k4="TableAlreadyExistsException";var $4="TransactionCanceledException",M4="TransactionConflictException";var L4="ThrottlingException";var U4="TransactionInProgressException",F4="TableInUseException";var qO="TableName",B4="TableNotFoundException";var JO="ThrottlingReasons";var G4="ThrottlingReasonList";var H4="ThrottlingReason";var YO="WriteCapacityUnits";var V4="awsQueryError",V="client",H="error",XO="httpError",j4="httpHeader",q="message",W4="reason",z4="resource",K4="server",QO="smithy.ts.sdk.synthetic.com.amazonaws.dynamodb",q4="throttlingReasons",J4="x-amz-confirm-remove-self-resource-access",E="com.amazonaws.dynamodb";var Y4=[-3,E,T2,{[H]:V},[q],[0]];x.for(E).registerError(Y4,mu);var X4=[-3,E,w2,{[H]:V},[q],[0]];x.for(E).registerError(X4,hu);var Q4=[3,E,k2,0,[Vm,I2,ba],[()=>Wm,0,0]],ZO=[3,E,M2,0,[KO,YO,jO],[1,1,1]];var Z4=[-3,E,C2,{[H]:V},[q,Vm],[0,()=>Wm]];x.for(E).registerError(Z4,Ku);var eG=[3,E,VO,0,[qO,jO,KO,YO,D4,p4,J2],[0,1,1,1,()=>ZO,()=>HO,()=>HO]];var tG=[-3,E,A2,{[H]:V},[q],[0]];x.for(E).registerError(tG,bu);var rG=[3,E,U2,0,[],[]],oG=[3,E,F2,0,[WO],[()=>GG]];var nG=[-3,E,B2,{[H]:V},[q],[0]];x.for(E).registerError(nG,$u);var sG=[3,E,W2,0,[_2,P2],[0,1]];var iG=[-3,E,H2,{[H]:V},[q],[0]];x.for(E).registerError(iG,Uu);var aG=[-3,E,V2,{[H]:V},[q],[0]];x.for(E).registerError(aG,Nu);var cG=[3,E,K2,0,[qO,zO,x2,O2,b4,g4,G2],[0,()=>VG,64,2,0,0,128]],pG=[3,E,q2,0,[Vm,VO],[()=>Wm,()=>eG]];var uG=[-3,E,Y2,{[H]:V},[q],[0]];x.for(E).registerError(uG,Au);var dG=[-3,E,X2,{[H]:V},[q],[0]];x.for(E).registerError(dG,Du);var lG=[-3,E,n4,{[H]:V},[ba],[0]];x.for(E).registerError(lG,Mu);var fG=[-3,E,Q2,{[H]:V},[q],[0]];x.for(E).registerError(fG,Gu);var mG=[-3,E,r4,{[H]:V},[q],[0]];x.for(E).registerError(mG,ku);var hG=[-3,E,o4,{[H]:V},[q],[0]];x.for(E).registerError(hG,zu);var gG=[-3,E,i4,{[H]:K4},[q],[0]];x.for(E).registerError(gG,gu);var yG=[-3,E,e4,{[H]:V,[XO]:421},[ba],[0]];x.for(E).registerError(yG,xu);var SG=[-3,E,t4,{[H]:V},[q],[0]];x.for(E).registerError(SG,Fu);var xG=[-3,E,s4,{[H]:V},[q],[0]];x.for(E).registerError(xG,Vu);var EG=[-3,E,Z2,{[H]:V},[q],[0]];x.for(E).registerError(EG,Tu);var _G=[-3,E,c4,{[H]:V},[q],[0]];x.for(E).registerError(_G,Ru);var TG=[-3,E,y4,{[H]:V},[q],[0]];x.for(E).registerError(TG,Bu);var wG=[-3,E,S4,{[H]:V},[q],[0]];x.for(E).registerError(wG,Ou);var bG=[-3,E,E4,{[H]:V},[q,JO],[0,()=>jm]];x.for(E).registerError(bG,Eu);var USe=[3,E,x4,0,[T4,_4,j2,D2],[0,0,0,[2,{[j4]:J4}]]];var RG=[-3,E,w4,{[H]:V},[q],[0]];x.for(E).registerError(RG,ju);var vG=[-3,E,I4,{[H]:V},[q],[0]];x.for(E).registerError(vG,Wu);var IG=[-3,E,C4,{[H]:V},[q],[0]];x.for(E).registerError(IG,wu);var AG=[-3,E,v4,{[H]:V},[q,JO],[0,()=>jm]];x.for(E).registerError(AG,yu);var CG=[-3,E,R4,{[H]:V},[q],[0]];x.for(E).registerError(CG,Cu);var PG=[-3,E,A4,{[H]:V},[q],[0]];x.for(E).registerError(PG,_u);var OG=[-3,E,k4,{[H]:V},[q],[0]];x.for(E).registerError(OG,Hu);var NG=[-3,E,F4,{[H]:V},[q],[0]];x.for(E).registerError(NG,vu);var DG=[-3,E,B4,{[H]:V},[q],[0]];x.for(E).registerError(DG,Iu);var kG=[-3,E,L4,{[V4]:["Throttling",400],[H]:V,[XO]:400},[q,q4],[0,()=>jm]];x.for(E).registerError(kG,Su);var $G=[3,E,H4,0,[W4,z4],[0,0]];var MG=[-3,E,$4,{[H]:V},[ba,$2],[0,()=>BG]];x.for(E).registerError(MG,qu);var LG=[-3,E,M4,{[H]:V},[q],[0]];x.for(E).registerError(LG,Pu);var UG=[-3,E,U4,{[H]:V},[ba],[0]];x.for(E).registerError(UG,Lu);var FG=[-3,QO,"DynamoDBServiceException",0,[],[]];x.for(QO).registerError(FG,U);var BG=[1,E,N2,0,()=>Q4];var GG=[1,E,WO,0,()=>sG];var HG=[1,E,a4,0,()=>Ju];var jm=[1,E,G4,0,()=>$G];var Wm=[2,E,S2,0,0,()=>Ju];var VG=[2,E,zO,0,0,()=>Ju];var jG=[2,E,d4,0,0,()=>Ju];var HO=[2,E,P4,0,0,()=>ZO],Ju=[4,E,E2,0,[N4,f4,v2,O4,m4,R2,l4,u4,h4,b2],[0,0,21,64,64,85,()=>jG,()=>HG,2,2]];var eN=[9,E,L2,0,()=>rG,()=>oG];var tN=[9,E,z2,0,()=>cG,()=>pG];var Yu=class extends oe.classBuilder().ep(fu).m(function(t,r,o,n){return[me(o,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeEndpoints",{}).n("DynamoDBClient","DescribeEndpointsCommand").sc(eN).build(){};var rN={name:"@aws-sdk/client-dynamodb",description:"AWS SDK for JavaScript Dynamodb Client for Node.js, Browser and React Native",version:"3.958.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-dynamodb","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo dynamodb","test:e2e":"yarn g:vitest run -c vitest.config.e2e.mts","test:e2e:watch":"yarn g:vitest watch -c vitest.config.e2e.mts","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.957.0","@aws-sdk/credential-provider-node":"3.958.0","@aws-sdk/dynamodb-codec":"3.957.0","@aws-sdk/middleware-endpoint-discovery":"3.957.0","@aws-sdk/middleware-host-header":"3.957.0","@aws-sdk/middleware-logger":"3.957.0","@aws-sdk/middleware-recursion-detection":"3.957.0","@aws-sdk/middleware-user-agent":"3.957.0","@aws-sdk/region-config-resolver":"3.957.0","@aws-sdk/types":"3.957.0","@aws-sdk/util-endpoints":"3.957.0","@aws-sdk/util-user-agent-browser":"3.957.0","@aws-sdk/util-user-agent-node":"3.957.0","@smithy/config-resolver":"^4.4.5","@smithy/core":"^3.20.0","@smithy/fetch-http-handler":"^5.3.8","@smithy/hash-node":"^4.2.7","@smithy/invalid-dependency":"^4.2.7","@smithy/middleware-content-length":"^4.2.7","@smithy/middleware-endpoint":"^4.4.1","@smithy/middleware-retry":"^4.4.17","@smithy/middleware-serde":"^4.2.8","@smithy/middleware-stack":"^4.2.7","@smithy/node-config-provider":"^4.3.7","@smithy/node-http-handler":"^4.4.7","@smithy/protocol-http":"^5.3.7","@smithy/smithy-client":"^4.10.2","@smithy/types":"^4.11.0","@smithy/url-parser":"^4.2.7","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.16","@smithy/util-defaults-mode-node":"^4.2.19","@smithy/util-endpoints":"^3.2.7","@smithy/util-middleware":"^4.2.7","@smithy/util-retry":"^4.2.7","@smithy/util-utf8":"^4.2.0","@smithy/util-waiter":"^4.2.7",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-dynamodb",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-dynamodb"}};we();jn();Ze();Wn();bt();pr();mo();P();zn();Kn();wo();we();_o();_o();K();P();He();var Xu=class extends jo{constructor(){super({timestampFormat:{useTrait:!0,default:7},jsonName:!1})}createSerializer(){let t=new zm(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Km(this.settings);return t.setSerdeContext(this.serdeContext),t}},oN="com.amazonaws.dynamodb#AttributeValue",zm=class extends Ps{_write(t,r,o){let n=N.of(t);if(n.isStructSchema()&&n.getName(!0)===oN&&r&&typeof r=="object"){let s=r,i=Ei(s),a=this.serdeContext?.base64Encoder??ae;if(s.B instanceof Uint8Array&&(i.B=a(s.B)),Array.isArray(s.BS)&&(i.BS=s.BS.map(a)),Array.isArray(s.L)&&(i.L=s.L.filter(p=>p!=null).map(p=>this._write(n,p,o))),s.M&&typeof s.M=="object"){i.M={};for(let[p,u]of Object.entries(s.M))u!=null&&(i.M[p]=this._write(n,u,o))}return i}return super._write(n,r,o)}},Km=class extends Cs{_read(t,r){let o=N.of(t);if(o.isStructSchema()&&o.getName(!0)===oN&&r&&typeof r=="object"){let n=r,s=Ei(n),i=this.serdeContext?.base64Decoder??le;if(typeof n.B=="string"&&(s.B=i(n.B)),Array.isArray(n.BS)&&(s.BS=n.BS.map(i)),Array.isArray(n.L)&&(s.L=n.L.map(a=>this._read(o,a))),n.M&&typeof n.M=="object"){s.M={};for(let[a,p]of Object.entries(n.M))s.M[a]=this._read(o,p)}return s}return super._read(o,r)}};P();Eo();He();ge();Fo();Dr();var Ym="required",k="type",Ee="rules",te="conditions",A="fn",C="argv",B="ref",Qu="assign",no="url",so="properties",io="headers",RN="metricValues";var _e="error",Xe="stringEquals",nN="https://dynamodb.{Region}.{PartitionResult#dualStackDnsSuffix}",xt="endpoint",Re="tree",Xm="dynamodb",Ra={[Ym]:!1,[k]:"string"},sN={[Ym]:!0,default:!1,[k]:"boolean"},iN={[A]:"isSet",[C]:[{[B]:"Endpoint"}]},zG={[B]:"Endpoint"},aN={[A]:"isSet",[C]:[{[B]:"Region"}]},vN={[B]:"Region"},cN={[A]:"aws.partition",[C]:[vN],[Qu]:"PartitionResult"},pN={[te]:[{[A]:"booleanEquals",[C]:[{[B]:"UseFIPS"},!0]}],[_e]:"Invalid Configuration: FIPS and custom endpoint are not supported",[k]:_e},oi={[A]:"booleanEquals",[C]:[{[B]:"UseFIPS"},!0]},uN={[te]:[{[A]:"booleanEquals",[C]:[{[B]:"UseDualStack"},!0]}],[_e]:"Invalid Configuration: Dualstack and custom endpoint are not supported",[k]:_e},IN={[A]:"booleanEquals",[C]:[{[B]:"UseDualStack"},!0]},dN={[xt]:{[no]:"{Endpoint}",[so]:{},[io]:{}},[k]:xt},No={},lN={[A]:"booleanEquals",[C]:[{[A]:"getAttr",[C]:[{[B]:"PartitionResult"},"supportsFIPS"]},!0]},fN={[A]:"booleanEquals",[C]:[{[A]:"getAttr",[C]:[{[B]:"PartitionResult"},"supportsDualStack"]},!0]},qm={[te]:[{[A]:"isSet",[C]:[{[B]:"AccountIdEndpointMode"}]},{[A]:Xe,[C]:[{[B]:"AccountIdEndpointMode"},"required"]}],[Ee]:[{[_e]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[k]:_e}],[k]:Re},va={[A]:"getAttr",[C]:[{[B]:"PartitionResult"},"name"]},mN={[xt]:{[no]:"https://dynamodb.{Region}.{PartitionResult#dnsSuffix}",[so]:{},[io]:{}},[k]:xt},hN={[no]:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dualStackDnsSuffix}",[so]:{[RN]:["O"]},[io]:{}},Jm={[RN]:["O"]},gN={[_e]:"Credentials-sourced account ID parameter is invalid",[k]:_e},yN={[te]:[{[A]:"isSet",[C]:[{[B]:"AccountIdEndpointMode"}]},{[A]:Xe,[C]:[{[B]:"AccountIdEndpointMode"},"required"]}],[Ee]:[{[te]:[{[A]:"not",[C]:[oi]}],[Ee]:[{[te]:[{[A]:Xe,[C]:[va,"aws"]}],[Ee]:[{[_e]:"AccountIdEndpointMode is required but no AccountID was provided or able to be loaded",[k]:_e}],[k]:Re},{[_e]:"Invalid Configuration: AccountIdEndpointMode is required but account endpoints are not supported in this partition",[k]:_e}],[k]:Re},{[_e]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[k]:_e}],[k]:Re},SN={[no]:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[so]:Jm,[io]:{}},xN=[oi],EN=[IN],_N=[{[A]:"isSet",[C]:[{[B]:"AccountIdEndpointMode"}]},{[A]:"not",[C]:[{[A]:Xe,[C]:[{[B]:"AccountIdEndpointMode"},"disabled"]}]},{[A]:Xe,[C]:[va,"aws"]},{[A]:"not",[C]:[oi]},{[A]:"isSet",[C]:[{[B]:"ResourceArn"}]},{[A]:"aws.parseArn",[C]:[{[B]:"ResourceArn"}],[Qu]:"ParsedArn"},{[A]:Xe,[C]:[{[A]:"getAttr",[C]:[{[B]:"ParsedArn"},"service"]},Xm]},{[A]:"isValidHostLabel",[C]:[{[A]:"getAttr",[C]:[{[B]:"ParsedArn"},"region"]},!1]},{[A]:Xe,[C]:[{[A]:"getAttr",[C]:[{[B]:"ParsedArn"},"region"]},"{Region}"]},{[A]:"isValidHostLabel",[C]:[{[A]:"getAttr",[C]:[{[B]:"ParsedArn"},"accountId"]},!1]}],TN=[{[A]:"isSet",[C]:[{[B]:"AccountIdEndpointMode"}]},{[A]:"not",[C]:[{[A]:Xe,[C]:[{[B]:"AccountIdEndpointMode"},"disabled"]}]},{[A]:Xe,[C]:[va,"aws"]},{[A]:"not",[C]:[oi]},{[A]:"isSet",[C]:[{[B]:"ResourceArnList"}]},{[A]:"getAttr",[C]:[{[B]:"ResourceArnList"},"[0]"],[Qu]:"FirstArn"},{[A]:"aws.parseArn",[C]:[{[B]:"FirstArn"}],[Qu]:"ParsedArn"},{[A]:Xe,[C]:[{[A]:"getAttr",[C]:[{[B]:"ParsedArn"},"service"]},Xm]},{[A]:"isValidHostLabel",[C]:[{[A]:"getAttr",[C]:[{[B]:"ParsedArn"},"region"]},!1]},{[A]:Xe,[C]:[{[A]:"getAttr",[C]:[{[B]:"ParsedArn"},"region"]},"{Region}"]},{[A]:"isValidHostLabel",[C]:[{[A]:"getAttr",[C]:[{[B]:"ParsedArn"},"accountId"]},!1]}],wN=[{[A]:"isSet",[C]:[{[B]:"AccountIdEndpointMode"}]},{[A]:"not",[C]:[{[A]:Xe,[C]:[{[B]:"AccountIdEndpointMode"},"disabled"]}]},{[A]:Xe,[C]:[va,"aws"]},{[A]:"not",[C]:[oi]},{[A]:"isSet",[C]:[{[B]:"AccountId"}]}],bN=[{[A]:"isValidHostLabel",[C]:[{[B]:"AccountId"},!1]}],KG={version:"1.0",parameters:{Region:Ra,UseDualStack:sN,UseFIPS:sN,Endpoint:Ra,AccountId:Ra,AccountIdEndpointMode:Ra,ResourceArn:Ra,ResourceArnList:{[Ym]:!1,[k]:"stringArray"}},[Ee]:[{[te]:[iN,aN,cN],[Ee]:[pN,uN,{[te]:[{[A]:Xe,[C]:[zG,nN]}],error:"Endpoint override is not supported for dual-stack endpoints. Please enable dual-stack functionality by enabling the configuration. For more details, see: https://docs.aws.amazon.com/sdkref/latest/guide/feature-endpoints.html",[k]:_e},dN],[k]:Re},{[te]:[iN],[Ee]:[pN,uN,dN],[k]:Re},{[te]:[aN],[Ee]:[{[te]:[cN],[Ee]:[{[te]:[{[A]:Xe,[C]:[vN,"local"]}],[Ee]:[{[te]:xN,error:"Invalid Configuration: FIPS and local endpoint are not supported",[k]:_e},{[te]:EN,error:"Invalid Configuration: Dualstack and local endpoint are not supported",[k]:_e},{endpoint:{[no]:"http://localhost:8000",[so]:{authSchemes:[{name:"sigv4",signingName:Xm,signingRegion:"us-east-1"}]},[io]:No},[k]:xt}],[k]:Re},{[te]:[oi,IN],[Ee]:[{[te]:[lN,fN],[Ee]:[qm,{endpoint:{[no]:"https://dynamodb-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[so]:No,[io]:No},[k]:xt}],[k]:Re},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[k]:_e}],[k]:Re},{[te]:xN,[Ee]:[{[te]:[lN],[Ee]:[{[te]:[{[A]:Xe,[C]:[va,"aws-us-gov"]}],[Ee]:[qm,mN],[k]:Re},qm,{endpoint:{[no]:"https://dynamodb-fips.{Region}.{PartitionResult#dnsSuffix}",[so]:No,[io]:No},[k]:xt}],[k]:Re},{error:"FIPS is enabled but this partition does not support FIPS",[k]:_e}],[k]:Re},{[te]:EN,[Ee]:[{[te]:[fN],[Ee]:[{[te]:_N,endpoint:hN,[k]:xt},{[te]:TN,endpoint:hN,[k]:xt},{[te]:wN,[Ee]:[{[te]:bN,[Ee]:[{endpoint:{[no]:"https://{AccountId}.ddb.{Region}.{PartitionResult#dualStackDnsSuffix}",[so]:Jm,[io]:No},[k]:xt}],[k]:Re},gN],[k]:Re},yN,{endpoint:{[no]:nN,[so]:No,[io]:No},[k]:xt}],[k]:Re},{error:"DualStack is enabled but this partition does not support DualStack",[k]:_e}],[k]:Re},{[te]:_N,endpoint:SN,[k]:xt},{[te]:TN,endpoint:SN,[k]:xt},{[te]:wN,[Ee]:[{[te]:bN,[Ee]:[{endpoint:{[no]:"https://{AccountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[so]:Jm,[io]:No},[k]:xt}],[k]:Re},gN],[k]:Re},yN,mN],[k]:Re}],[k]:Re},{error:"Invalid Configuration: Missing Region",[k]:_e}]},AN=KG;var qG=new ut({size:50,params:["AccountId","AccountIdEndpointMode","Endpoint","Region","ResourceArn","ResourceArnList","UseDualStack","UseFIPS"]}),CN=(e,t={})=>qG.get(e,()=>Kt(AN,{endpointParams:e,logger:t.logger}));De.aws=_t;var PN=e=>({apiVersion:"2012-08-10",base64Decoder:e?.base64Decoder??le,base64Encoder:e?.base64Encoder??ae,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??CN,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??FO,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new $e}],logger:e?.logger??new We,protocol:e?.protocol??Ec,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.dynamodb",xmlNamespace:"http://dynamodb.amazonaws.com/doc/2012-08-10/",version:"2012-08-10",serviceTarget:"DynamoDB_20120810",jsonCodec:new Xu},serviceId:e?.serviceId??"DynamoDB",urlParser:e?.urlParser??Ie,utf8Decoder:e?.utf8Decoder??ce,utf8Encoder:e?.utf8Encoder??ie});var ON=e=>{er(process.version);let t=Sr(e),r=()=>t().then(Zt),o=PN(e);qt(process.version);let n={profile:e?.profile,logger:o.logger};return{...o,...e,runtime:"node",defaultsMode:t,accountIdEndpointMode:e?.accountIdEndpointMode??v(_O,n),authSchemePreference:e?.authSchemePreference??v(Jt,n),bodyLengthChecker:e?.bodyLengthChecker??yr,credentialDefaultProvider:e?.credentialDefaultProvider??Vp,defaultUserAgentProvider:e?.defaultUserAgentProvider??hr({serviceId:o.serviceId,clientVersion:rN.version}),endpointDiscoveryEnabledProvider:e?.endpointDiscoveryEnabledProvider??v(bO,n),maxAttempts:e?.maxAttempts??v(dr,e),region:e?.region??v(ze,{...lt,...n}),requestHandler:Ve.create(e?.requestHandler??r),retryMode:e?.retryMode??v({...fr,default:async()=>(await r()).retryMode||mt},e),sha256:e?.sha256??ht.bind(null,"sha256"),streamCollector:e?.streamCollector??st,useDualstackEndpoint:e?.useDualstackEndpoint??v(sr,n),useFipsEndpoint:e?.useFipsEndpoint??v(ir,n),userAgentAppId:e?.userAgentAppId??v(gr,n)}};Zo();ue();P();var NN=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,o=e.credentials;return{setHttpAuthScheme(n){let s=t.findIndex(i=>i.schemeId===n.schemeId);s===-1?t.push(n):t.splice(s,1,n)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(n){r=n},httpAuthSchemeProvider(){return r},setCredentials(n){o=n},credentials(){return o}}},DN=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()});var kN=(e,t)=>{let r=Object.assign(Tr(e),tr(e),Dt(e),NN(e));return t.forEach(o=>o.configure(r)),Object.assign(e,wr(r),rr(r),kt(r),DN(r))};var Zu=class extends Me{config;constructor(...[t]){let r=ON(t||{});super(r),this.initConfig=r;let o=GO(r),n=SO(o),s=jt(n),i=lr(s),a=ar(i),p=a,u=ur(p),d=BO(u),l=LO(d,{endpointDiscoveryCommandCtor:Yu}),m=kN(l,t?.extensions||[]);this.config=m,this.middlewareStack.use(Gt(this.config)),this.middlewareStack.use(nr(this.config)),this.middlewareStack.use(mr(this.config)),this.middlewareStack.use(cr(this.config)),this.middlewareStack.use(Mt(this.config)),this.middlewareStack.use(Lt(this.config)),this.middlewareStack.use(Ut(this.config)),this.middlewareStack.use(Ft(this.config,{httpAuthSchemeParametersProvider:UO,identityProviderConfigProvider:async f=>new pt({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use(Bt(this.config))}destroy(){super.destroy()}};Ae();P();var ed=class extends oe.classBuilder().ep({...fu,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,o,n){return[me(o,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetItem",{}).n("DynamoDBClient","GetItemCommand").sc(tN).build(){};var td=class e{value;constructor(t){typeof t=="object"&&"N"in t?this.value=String(t.N):this.value=String(t);let r=typeof t.valueOf()=="number"?t.valueOf():0;if(r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER||Math.abs(r)===1/0||Number.isNaN(r))throw new Error(`NumberValue should not be initialized with an imprecise number=${r}. Use a string instead.`)}static from(t){return new e(t)}toAttributeValue(){return{N:this.toString()}}toBigInt(){let t=this.toString();return BigInt(t)}toString(){return String(this.value)}valueOf(){return this.toString()}};var Ia=(e,t)=>{for(let[r,o]of Object.entries(e))if(o!==void 0)switch(r){case"NULL":return null;case"BOOL":return!!o;case"N":return $N(o,t);case"B":return LN(o);case"S":return MN(o);case"L":return JG(o,t);case"M":return YG(o,t);case"NS":return new Set(o.map(n=>$N(n,t)));case"BS":return new Set(o.map(LN));case"SS":return new Set(o.map(MN));default:throw new Error(`Unsupported type passed: ${r}`)}throw new Error(`No value defined: ${JSON.stringify(e)}`)},$N=(e,t)=>{if(typeof t?.wrapNumbers=="function")return t?.wrapNumbers(e);if(t?.wrapNumbers)return td.from(e);let r=Number(e),o=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];if((r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER)&&!o.includes(r))if(typeof BigInt=="function")try{return BigInt(e)}catch{throw new Error(`${e} can't be converted to BigInt. Set options.wrapNumbers to get string value.`)}else throw new Error(`${e} is outside SAFE_INTEGER bounds. Set options.wrapNumbers to get string value.`);return r},MN=e=>e,LN=e=>e,JG=(e,t)=>e.map(r=>Ia(r,t)),YG=(e,t)=>Object.entries(e).reduce((r,[o,n])=>(r[o]=Ia(n,t),r),{});var UN=(e,t)=>t?.convertWithoutMapWrapper?Ia(e,t):Ia({M:e},t);var Qm;function XG(){return Qm||(Qm=new Zu({region:Or().REGION})),Qm}async function FN(e){let{STAFF_TABLE:t}=Or(),r=await XG().send(new ed({TableName:t,Key:{staff_id:{S:e}},ConsistentRead:!1}));if(!r.Item)return null;let o=UN(r.Item);return{staff_id:o.staff_id,email:o.email,roles:o.roles,enabled:o.enabled}}var EEe=async e=>{try{let t=yO(e.headers);if(!t)return{isAuthorized:!1};let r=await gO(t),o=await FN(r.sub);return o?o.enabled?{isAuthorized:!0,context:{staff_id:o.staff_id,email:o.email,roles:JSON.stringify(o.roles),stage:Or().STAGE}}:{isAuthorized:!1}:{isAuthorized:!1}}catch{return{isAuthorized:!1}}};export{EEe as handler};
//# sourceMappingURL=authorizer.mjs.map
